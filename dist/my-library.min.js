/*! For license information please see my-library.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("ReactDOM")):"function"==typeof define&&define.amd?define("shin",["React","ReactDOM"],t):"object"==typeof exports?exports.shin=t(require("React"),require("ReactDOM")):e.shin=t(e.React,e.ReactDOM)}(self,((e,t)=>(()=>{var n,o,r={4006:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>o,toUtf8:()=>r});const o=e=>"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):(e=>{const t=[];for(let n=0,o=e.length;n<o;n++){const o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){const r=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)})(e),r=e=>"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):(e=>{let t="";for(let n=0,o=e.length;n<o;n++){const o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){const r=e[++n];t+=String.fromCharCode((31&o)<<6|63&r)}else if(240<=o&&o<365){const r="%"+[o,e[++n],e[++n],e[++n]].map((e=>e.toString(16))).join("%");t+=decodeURIComponent(r)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t})(e)},8610:function(e,t,n){(function(){"use strict";var e;function t(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var o="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var r=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g];for(var t=0;t<e.length;++t){var o=e[t];if(o&&o.Math==Math)return o}throw Error("Cannot find global object")}(this);function a(e,t){if(t)e:{var n=r;e=e.split(".");for(var a=0;a<e.length-1;a++){var i=e[a];if(!(i in n))break e;n=n[i]}(t=t(a=n[e=e[e.length-1]]))!=a&&null!=t&&o(n,e,{configurable:!0,writable:!0,value:t})}}function i(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function s(e){var n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return n?n.call(e):{next:t(e)}}function l(e){if(!(e instanceof Array)){e=s(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}a("Symbol",(function(e){function t(e,t){this.g=e,o(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function e(o){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(o||"")+"_"+r++,o)}})),a("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var n="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),a=0;a<n.length;a++){var s=r[n[a]];"function"==typeof s&&"function"!=typeof s.prototype[e]&&o(s.prototype,e,{configurable:!0,writable:!0,value:function(){return i(t(this))}})}return e}));var c,u="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)c=Object.setPrototypeOf;else{var p;e:{var d={};try{d.__proto__={a:!0},p=d.a;break e}catch(e){}p=!1}c=p?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var m=c;function f(e,t){if(e.prototype=u(t.prototype),e.prototype.constructor=e,m)m(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var o=Object.getOwnPropertyDescriptor(t,n);o&&Object.defineProperty(e,n,o)}else e[n]=t[n];e.na=t.prototype}function h(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function y(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function g(e,t){e.j={da:t,ea:!0},e.g=e.o||e.u}function b(e,t,n){return e.g=n,{value:t}}function v(e){this.g=new h,this.h=e}function w(e,t,n,o){try{var r=t.call(e.g.i,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.g.l=!1,r;var a=r.value}catch(t){return e.g.i=null,g(e.g,t),k(e)}return e.g.i=null,o.call(e.g,a),k(e)}function k(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(t){e.g.h=void 0,g(e.g,t)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.ea)throw t.da;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function x(e){this.next=function(t){return y(e.g),e.g.i?t=w(e,e.g.i.next,t,e.g.s):(e.g.s(t),t=k(e)),t},this.throw=function(t){return y(e.g),e.g.i?t=w(e,e.g.i.throw,t,e.g.s):(g(e.g,t),t=k(e)),t},this.return=function(t){return function(e,t){y(e.g);var n=e.g.i;return n?w(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),k(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function S(e){return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise((function(o,r){!function e(a){a.done?o(a.value):Promise.resolve(a.value).then(t,n).then(e,r)}(e.next())}))}(new x(new v(e)))}h.prototype.s=function(e){this.h=e},h.prototype.return=function(e){this.j={return:e},this.g=this.u},a("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.s=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.g=null}function o(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var a=r.setTimeout;n.prototype.i=function(e){a(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.j(e)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(o){n||(n=!0,e.call(t,o))}}var t=this,n=!1;return{resolve:e(this.D),reject:e(this.l)}},t.prototype.D=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.H(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.A(e):this.o(e)}},t.prototype.A=function(e){var t=void 0;try{t=e.then}catch(e){return void this.l(e)}"function"==typeof t?this.I(t,e):this.o(e)},t.prototype.l=function(e){this.u(2,e)},t.prototype.o=function(e){this.u(1,e)},t.prototype.u=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.G(),this.B()},t.prototype.G=function(){var e=this;a((function(){if(e.C()){var t=r.console;void 0!==t&&t.error(e.i)}}),1)},t.prototype.C=function(){if(this.s)return!1;var e=r.CustomEvent,t=r.Event,n=r.dispatchEvent;return void 0===n||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=r.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.B=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)i.h(this.g[e]);this.g=null}};var i=new n;return t.prototype.H=function(e){var t=this.j();e.M(t.resolve,t.reject)},t.prototype.I=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function o(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(e){a(e)}}:t}var r,a,i=new t((function(e,t){r=e,a=t}));return this.M(o(e,r),o(n,a)),i},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.M=function(e,t){function n(){switch(o.h){case 1:e(o.i);break;case 2:t(o.i);break;default:throw Error("Unexpected state: "+o.h)}}var o=this;null==this.g?i.h(n):this.g.push(n),this.s=!0},t.resolve=o,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=s(e),a=r.next();!a.done;a=r.next())o(a.value).M(t,n)}))},t.all=function(e){var n=s(e),r=n.next();return r.done?o([]):new t((function(e,t){function a(t){return function(n){i[t]=n,0==--s&&e(i)}}var i=[],s=0;do{i.push(void 0),s++,o(r.value).M(a(i.length-1),t),r=n.next()}while(!r.done)}))},t}));var _="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var o=arguments[n];if(o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e};a("Object.assign",(function(e){return e||_})),a("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}})),a("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var o=n.length;for(0>(t=t||0)&&(t=Math.max(t+o,0));t<o;t++){var r=n[t];if(r===e||Object.is(r,e))return!0}return!1}})),a("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}})),a("Array.prototype.keys",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,o=!1,r={next:function(){if(!o&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return o=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e){return e}))}}));var I=this||self;function T(e,t){e=e.split(".");var n,o=I;e[0]in o||void 0===o.execScript||o.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?o=o[n]&&o[n]!==Object.prototype[n]?o[n]:o[n]={}:o[n]=t}function E(){throw Error("Invalid UTF8")}function N(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var C,A,M="undefined"!=typeof TextDecoder,O="undefined"!=typeof TextEncoder,D={},R=null;function F(e){var t;void 0===t&&(t=0),P(),t=D[t];for(var n=Array(Math.floor(e.length/3)),o=t[64]||"",r=0,a=0;r<e.length-2;r+=3){var i=e[r],s=e[r+1],l=e[r+2],c=t[i>>2];i=t[(3&i)<<4|s>>4],s=t[(15&s)<<2|l>>6],l=t[63&l],n[a++]=c+i+s+l}switch(c=0,l=o,e.length-r){case 2:l=t[(15&(c=e[r+1]))<<2]||o;case 1:e=e[r],n[a]=t[e>>2]+t[(3&e)<<4|c>>4]+l+o}return n.join("")}function z(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var o=new Uint8Array(n),r=0;return function(e,t){function n(t){for(;o<e.length;){var n=e.charAt(o++),r=R[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}P();for(var o=0;;){var r=n(-1),a=n(0),i=n(64),s=n(64);if(64===s&&-1===r)break;t(r<<2|a>>4),64!=i&&(t(a<<4&240|i>>2),64!=s&&t(i<<6&192|s))}}(e,(function(e){o[r++]=e})),r!==n?o.subarray(0,r):o}function P(){if(!R){R={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var o=e.concat(t[n].split(""));D[n]=o;for(var r=0;r<o.length;r++){var a=o[r];void 0===R[a]&&(R[a]=r)}}}}var $,L="function"==typeof Uint8Array;function B(e){return L&&null!=e&&e instanceof Uint8Array}function j(e){if(this.L=e,null!==e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}var W="function"==typeof Uint8Array.prototype.slice,U=0;function H(e,t){return Error("Invalid wire type: "+e+" (at position "+t+")")}function V(){return Error("Failed to read varint, encoding is invalid.")}function q(e,t){t=void 0!==(t=void 0===t?{}:t).v&&t.v,this.h=null,this.g=this.i=this.j=0,this.v=t,e&&G(this,e)}function G(e,t){e.h=function(e,t){if(e.constructor===Uint8Array)return e;if(e.constructor===ArrayBuffer)return new Uint8Array(e);if(e.constructor===Array)return new Uint8Array(e);if(e.constructor===String)return z(e);if(e.constructor===j)return!t&&(t=e.L)&&t.constructor===Uint8Array?t:(t=null==(t=e.L)||B(t)?t:"string"==typeof t?z(t):null,(e=e.L=t)?new Uint8Array(e):$||($=new Uint8Array(0)));if(e instanceof Uint8Array)return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}(t,e.v),e.j=0,e.i=e.h.length,e.g=e.j}function K(e){if(e.g>e.i)throw Error("Tried to read past the end of the data "+e.g+" > "+e.i)}function Y(e){var t=e.h,n=t[e.g],o=127&n;if(128>n)return e.g+=1,K(e),o;if(o|=(127&(n=t[e.g+1]))<<7,128>n)return e.g+=2,K(e),o;if(o|=(127&(n=t[e.g+2]))<<14,128>n)return e.g+=3,K(e),o;if(o|=(127&(n=t[e.g+3]))<<21,128>n)return e.g+=4,K(e),o;if(n=t[e.g+4],e.g+=5,o|=(15&n)<<28,128>n)return K(e),o;if(128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++])throw V();return K(e),o}q.prototype.reset=function(){this.g=this.j};var X=[];function J(){this.g=[]}function Z(e,t){for(;127<t;)e.g.push(127&t|128),t>>>=7;e.g.push(t)}function Q(e){var t={},n=void 0!==t.W&&t.W;this.l={v:void 0!==t.v&&t.v},this.W=n,t=this.l,X.length?(n=X.pop(),t&&(n.v=t.v),e&&G(n,e),e=n):e=new q(e,t),this.g=e,this.j=this.g.g,this.h=this.i=-1}function ee(e){var t=e.g;if(t.g==t.i)return!1;e.j=e.g.g;var n=Y(e.g)>>>0;if(t=n>>>3,!(0<=(n&=7)&&5>=n))throw H(n,e.j);if(1>t)throw Error("Invalid field number: "+t+" (at position "+e.j+")");return e.i=t,e.h=n,!0}function te(e){switch(e.h){case 0:if(0!=e.h)te(e);else e:{for(var t=(e=e.g).g,n=t+10;t<n;)if(!(128&e.h[t++])){e.g=t,K(e);break e}throw V()}break;case 1:(e=e.g).g+=8,K(e);break;case 2:2!=e.h?te(e):(t=Y(e.g)>>>0,(e=e.g).g+=t,K(e));break;case 5:(e=e.g).g+=4,K(e);break;case 3:for(t=e.i;;){if(!ee(e))throw Error("Unmatched start-group tag: stream EOF");if(4==e.h){if(e.i!=t)throw Error("Unmatched end-group tag");break}te(e)}break;default:throw H(e.h,e.j)}}J.prototype.length=function(){return this.g.length},J.prototype.end=function(){var e=this.g;return this.g=[],e},Q.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};var ne=[];function oe(){this.i=[],this.h=0,this.g=new J}function re(e,t){0!==t.length&&(e.i.push(t),e.h+=t.length)}var ae="function"==typeof Symbol&&"symbol"==typeof Symbol()?Symbol(void 0):void 0;function ie(e,t){Object.isFrozen(e)||(ae?e[ae]|=t:void 0!==e.N?e.N|=t:Object.defineProperties(e,{N:{value:t,configurable:!0,writable:!0,enumerable:!1}}))}function se(e){var t;return null==(t=ae?e[ae]:e.N)?0:t}function le(e){return ie(e,1),e}function ce(e){return!!Array.isArray(e)&&!!(2&se(e))}function ue(e){if(!Array.isArray(e))throw Error("cannot mark non-array as immutable");ie(e,2)}function pe(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)&&e.constructor===Object}var de=Object.freeze(le([]));function me(e){if(ce(e.m))throw Error("Cannot mutate an immutable Message")}var fe,he="undefined"!=typeof Symbol&&void 0!==Symbol.hasInstance;function ye(e){return{value:e,configurable:!1,writable:!1,enumerable:!1}}function ge(e,t,n){return-1===t?null:t>=e.i?e.g?e.g[t]:void 0:void 0!==n&&n&&e.g&&null!=(n=e.g[t])?n:e.m[t+e.h]}function be(e,t,n,o){o=void 0!==o&&o,me(e),t<e.i&&!o?e.m[t+e.h]=n:(e.g||(e.g=e.m[e.i+e.h]={}))[t]=n}function ve(e,t,n,o){n=void 0===n||n;var r=ge(e,t,o=void 0!==o&&o);return null==r&&(r=de),ce(e.m)?n&&(ue(r),Object.freeze(r)):(r===de||ce(r))&&be(e,t,r=le(r.slice()),o),r}function we(e,t,n){return null==(e=null==(e=ge(e,t))?e:+e)?void 0===n?0:n:e}function ke(e,t,n,o){e.j||(e.j={});var r=ce(e.m),a=e.j[n];if(!a){o=ve(e,n,!0,void 0!==o&&o),a=[],r=r||ce(o);for(var i=0;i<o.length;i++)a[i]=new t(o[i]),r&&ue(a[i].m);r&&(ue(a),Object.freeze(a)),e.j[n]=a}return a}function xe(e,t,n,o,r){var a=void 0!==a&&a;return me(e),a=ke(e,n,t,a),n=o||new n,e=ve(e,t),null!=r?(a.splice(r,0,n),e.splice(r,0,n.m)):(a.push(n),e.push(n.m)),n}function Se(e,t){return null==(e=ge(e,t))?0:e}function _e(e,t){return null==(e=ge(e,t))?"":e}function Ie(e){var t=Ne;return Ee(e,t=void 0===t?Ce:t)}function Te(e,t){if(null!=e){if(Array.isArray(e))e=Ee(e,t);else if(pe(e)){var n,o={};for(n in e)o[n]=Te(e[n],t);e=o}else e=t(e);return e}}function Ee(e,t){for(var n=e.slice(),o=0;o<n.length;o++)n[o]=Te(n[o],t);return Array.isArray(e)&&1&se(e)&&le(n),n}function Ne(e){return e&&"object"==typeof e&&e.toJSON?e.toJSON():(e=function(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"object":if(e&&!Array.isArray(e)){if(B(e))return F(e);if(e instanceof j){var t=e.L;return t=null==t||"string"==typeof t?t:L&&t instanceof Uint8Array?F(t):null,(e.L=t)||""}}}return e}(e),Array.isArray(e)?Ie(e):e)}function Ce(e){return B(e)?new Uint8Array(e):e}function Ae(e,t,n){e||(e=fe),fe=null;var o=this.constructor.h;if(e||(e=o?[o]:[]),this.h=(o?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=e,e=(o=this.m.length)-1,o&&pe(o=this.m[e])?(this.i=e-this.h,this.g=o):void 0!==t&&-1<t?(this.i=Math.max(t,e+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE,n)for(t=0;t<n.length;t++)if((e=n[t])<this.i)e+=this.h,(o=this.m[e])?Array.isArray(o)&&le(o):this.m[e]=de;else{var r=(o=this.g||(this.g=this.m[this.i+this.h]={}))[e];r?Array.isArray(r)&&le(r):o[e]=de}}function Me(){Ae.apply(this,arguments)}if(Ae.prototype.toJSON=function(){return Ie(this.m)},Ae.prototype.toString=function(){return this.m.toString()},f(Me,Ae),he){var Oe={};Object.defineProperties(Me,(Oe[Symbol.hasInstance]=ye((function(){throw Error("Cannot perform instanceof checks for MutableMessage")})),Oe))}function De(e,t,n){if(n){var o,r={};for(o in n){var a=n[o],i=a.ha;i||(r.F=a.la||a.fa.P,a.aa?(r.U=Be(a.aa),i=function(e){return function(t,n,o){return e.F(t,n,o,e.U)}}(r)):a.ca?(r.T=je(a.X.g,a.ca),i=function(e){return function(t,n,o){return e.F(t,n,o,e.T)}}(r)):i=r.F,a.ha=i),i(t,e,a.X),r={F:r.F,U:r.U,T:r.T}}}!function(e,t){if(t=t.ba){re(e,e.g.end());for(var n=0;n<t.length;n++)re(e,t[n])}}(t,e)}var Re=Symbol();function Fe(e,t,n){return e[Re]||(e[Re]=function(e,o){return t(e,o,n)})}function ze(e){var t=e[Re];if(!t){var n=Qe(e);t=function(e,t){return et(e,t,n)},e[Re]=t}return t}function Pe(e){var t=function(e){var t=e.aa;return t?ze(t):(t=e.ka)?Fe(e.X.g,t,e.ca):void 0}(e),n=e.X,o=e.fa.O;return t?function(e,r){return o(e,r,n,t)}:function(e,t){return o(e,t,n)}}function $e(e,t,n,o,r,a){var i=0;for((e=e()).length&&"number"!=typeof e[0]&&(n(t,e[0]),i++);i<e.length;){n=e[i++];for(var s=i+1;s<e.length&&"number"!=typeof e[s];)s++;var l=e[i++];switch(s-=i){case 0:o(t,n,l);break;case 1:o(t,n,l,e[i++]);break;case 2:r(t,n,l,e[i++],e[i++]);break;case 3:s=e[i++];var c=e[i++],u=e[i++];Array.isArray(u)?r(t,n,l,s,c,u):a(t,n,l,s,c,u);break;case 4:a(t,n,l,e[i++],e[i++],e[i++],e[i++]);break;default:throw Error("unexpected number of binary field arguments: "+s)}}return t}var Le=Symbol();function Be(e){var t=e[Le];if(!t){var n=Ge(e);t=function(e,t){return nt(e,t,n)},e[Le]=t}return t}function je(e,t){var n=e[Le];return n||(n=function(e,n){return De(e,n,t)},e[Le]=n),n}var We=Symbol();function Ue(e,t){e.push(t)}function He(e,t,n){e.push(t,n.P)}function Ve(e,t,n,o,r){var a=Be(r),i=n.P;e.push(t,(function(e,t,n){return i(e,t,n,o,a)}))}function qe(e,t,n,o,r,a){var i=je(o,a),s=n.P;e.push(t,(function(e,t,n){return s(e,t,n,o,i)}))}function Ge(e){var t=e[We];return t||$e(e,e[We]=[],Ue,He,Ve,qe)}var Ke=Symbol();function Ye(e,t){e[0]=t}function Xe(e,t,n,o){var r=n.O;e[t]=o?function(e,t,n){return r(e,t,n,o)}:r}function Je(e,t,n,o,r,a){var i=n.O,s=ze(r);e[t]=function(e,t,n){return i(e,t,n,o,s,a)}}function Ze(e,t,n,o,r,a,i){var s=n.O,l=Fe(o,r,a);e[t]=function(e,t,n){return s(e,t,n,o,l,i)}}function Qe(e){var t=e[Ke];return t||$e(e,e[Ke]={},Ye,Xe,Je,Ze)}function et(e,t,n){for(;ee(t)&&4!=t.h;){var o=t.i,r=n[o];if(!r){var a=n[0];a&&(a=a[o])&&(r=n[o]=Pe(a))}if(!(r&&r(t,e,o)||(r=t,o=e,a=r.j,te(r),r.W))){var i=r.g.h;r=a===(r=r.g.g)?$||($=new Uint8Array(0)):W?i.slice(a,r):new Uint8Array(i.subarray(a,r)),(a=o.ba)?a.push(r):o.ba=[r]}}return e}function tt(e,t,n){if(ne.length){var o=ne.pop();e&&(G(o.g,e),o.i=-1,o.h=-1),e=o}else e=new Q(e);try{return et(new t,e,Qe(n))}finally{(t=e.g).h=null,t.j=0,t.i=0,t.g=0,t.v=!1,e.i=-1,e.h=-1,100>ne.length&&ne.push(e)}}function nt(e,t,n){for(var o=n.length,r=1==o%2,a=r?1:0;a<o;a+=2)(0,n[a+1])(t,e,n[a]);De(e,t,r?n[0]:void 0)}function ot(e,t){var n=new oe;nt(e,n,Ge(t)),re(n,n.g.end()),e=new Uint8Array(n.h);for(var o=(t=n.i).length,r=0,a=0;a<o;a++){var i=t[a];e.set(i,r),r+=i.length}return n.i=[e],e}function rt(e,t){return{O:e,P:t}}var at=rt((function(e,t,n){if(5!==e.h)return!1;var o=(e=e.g).h[e.g],r=e.h[e.g+1],a=e.h[e.g+2],i=e.h[e.g+3];return e.g+=4,K(e),e=2*((r=(o|r<<8|a<<16|i<<24)>>>0)>>31)+1,o=r>>>23&255,r&=8388607,be(t,n,255==o?r?NaN:1/0*e:0==o?e*Math.pow(2,-149)*r:e*Math.pow(2,o-150)*(r+Math.pow(2,23))),!0}),(function(e,t,n){if(null!=(t=ge(t,n))){Z(e.g,8*n+5),e=e.g;var o=t;0===(o=(n=0>o?1:0)?-o:o)?0<1/o?U=0:U=2147483648:isNaN(o)?U=2147483647:34028234663852886e22<o?U=(n<<31|2139095040)>>>0:11754943508222875e-54>o?(o=Math.round(o/Math.pow(2,-149)),U=(n<<31|o)>>>0):(t=Math.floor(Math.log(o)/Math.LN2),o*=Math.pow(2,-t),16777216<=(o=Math.round(8388608*o))&&++t,U=(n<<31|t+127<<23|8388607&o)>>>0),n=U,e.g.push(n>>>0&255),e.g.push(n>>>8&255),e.g.push(n>>>16&255),e.g.push(n>>>24&255)}})),it=rt((function(e,t,n){if(0!==e.h)return!1;for(var o=e.g,r=128,a=0,i=e=0;4>i&&128<=r;i++)r=o.h[o.g++],K(o),a|=(127&r)<<7*i;if(128<=r&&(r=o.h[o.g++],K(o),a|=(127&r)<<28,e|=(127&r)>>4),128<=r)for(i=0;5>i&&128<=r;i++)r=o.h[o.g++],K(o),e|=(127&r)<<7*i+3;if(!(128>r))throw V();return o=a>>>0,(e=2147483648&(r=e>>>0))&&(r=~r>>>0,0==(o=1+~o>>>0)&&(r=r+1>>>0)),o=4294967296*r+(o>>>0),be(t,n,e?-o:o),!0}),(function(e,t,n){if(null!=(t=ge(t,n))&&null!=t){Z(e.g,8*n),e=e.g;var o=t;for(n=0>o,t=(o=Math.abs(o))>>>0,o=Math.floor((o-t)/4294967296),o>>>=0,n&&(o=~o>>>0,4294967295<(t=1+(~t>>>0))&&(t=0,4294967295<++o&&(o=0))),n=U=t,t=o;0<t||127<n;)e.g.push(127&n|128),n=(n>>>7|t<<25)>>>0,t>>>=7;e.g.push(n)}})),st=rt((function(e,t,n){return 0===e.h&&(be(t,n,Y(e.g)),!0)}),(function(e,t,n){if(null!=(t=ge(t,n))&&null!=t)if(Z(e.g,8*n),e=e.g,0<=(n=t))Z(e,n);else{for(t=0;9>t;t++)e.g.push(127&n|128),n>>=7;e.g.push(1)}})),lt=rt((function(e,t,n){if(2!==e.h)return!1;var o,r=Y(e.g)>>>0,a=(e=e.g).g;if(e.g+=r,K(e),e=e.h,M)(o=C)||(o=C=new TextDecoder("utf-8",{fatal:!0})),o=o.decode(e.subarray(a,a+r));else{r=a+r;for(var i,s,l,c=[],u=null;a<r;)128>(i=e[a++])?c.push(i):224>i?a>=r?E():(s=e[a++],194>i||128!=(192&s)?(a--,E()):c.push((31&i)<<6|63&s)):240>i?a>=r-1?E():128!=(192&(s=e[a++]))||224===i&&160>s||237===i&&160<=s||128!=(192&(o=e[a++]))?(a--,E()):c.push((15&i)<<12|(63&s)<<6|63&o):244>=i?a>=r-2?E():128!=(192&(s=e[a++]))||s-144+(i<<28)>>30||128!=(192&(o=e[a++]))||128!=(192&(l=e[a++]))?(a--,E()):(i=(7&i)<<18|(63&s)<<12|(63&o)<<6|63&l,i-=65536,c.push(55296+(i>>10&1023),56320+(1023&i))):E(),8192<=c.length&&(u=N(u,c),c.length=0);o=N(u,c)}return be(t,n,o),!0}),(function(e,t,n){if(null!=(t=ge(t,n))){var o=!1;if(o=void 0!==o&&o,O){if(o&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(t))throw Error("Found an unpaired surrogate");t=(A||(A=new TextEncoder)).encode(t)}else{for(var r=0,a=new Uint8Array(3*t.length),i=0;i<t.length;i++){var s=t.charCodeAt(i);if(128>s)a[r++]=s;else{if(2048>s)a[r++]=s>>6|192;else{if(55296<=s&&57343>=s){if(56319>=s&&i<t.length){var l=t.charCodeAt(++i);if(56320<=l&&57343>=l){s=1024*(s-55296)+l-56320+65536,a[r++]=s>>18|240,a[r++]=s>>12&63|128,a[r++]=s>>6&63|128,a[r++]=63&s|128;continue}i--}if(o)throw Error("Found an unpaired surrogate");s=65533}a[r++]=s>>12|224,a[r++]=s>>6&63|128}a[r++]=63&s|128}}t=a.subarray(0,r)}Z(e.g,8*n+2),Z(e.g,t.length),re(e,e.g.end()),re(e,t)}})),ct=rt((function(e,t,n,o,r){if(2!==e.h)return!1;t=xe(t,n,o),n=e.g.i,o=Y(e.g)>>>0;var a=e.g.g+o,i=a-n;if(0>=i&&(e.g.i=a,r(t,e),i=a-e.g.g),i)throw Error("Message parsing ended unexpectedly. Expected to read "+o+" bytes, instead read "+(o-i)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.g.g=a,e.g.i=n,!0}),(function(e,t,n,o,r){if(null!=(t=ke(t,o,n)))for(o=0;o<t.length;o++){var a=e;Z(a.g,8*n+2);var i=a.g.end();re(a,i),i.push(a.h),a=i,r(t[o],e),i=e;var s=a.pop();for(s=i.h+i.g.length()-s;127<s;)a.push(127&s|128),s>>>=7,i.h++;a.push(s),i.h++}}));function ut(){Me.apply(this,arguments)}if(f(ut,Me),he){var pt={};Object.defineProperties(ut,(pt[Symbol.hasInstance]=ye(Object[Symbol.hasInstance]),pt))}function dt(e){ut.call(this,e)}function mt(){return[1,st,2,at,3,lt,4,lt]}function ft(e){ut.call(this,e,-1,yt)}function ht(){return[1,ct,dt,mt]}f(dt,ut),f(ft,ut),ft.prototype.addClassification=function(e,t){return xe(this,1,dt,e,t),this};var yt=[1];function gt(e){ut.call(this,e)}function bt(){return[1,at,2,at,3,at,4,at,5,at]}function vt(e){ut.call(this,e,-1,kt)}function wt(){return[1,ct,gt,bt]}f(gt,ut),f(vt,ut);var kt=[1];function xt(e){ut.call(this,e)}function St(){return[1,at,2,at,3,at,4,at,5,at,6,it]}f(xt,ut);var _t=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],It=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],Tt=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],Et=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],Nt=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],Ct=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],At=[].concat(l(_t),l(It),l(Tt),l(Et),l(Nt),l(Ct));function Mt(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function Ot(e){return ke(e,dt,1).map((function(e){return{index:Se(e,1),ga:we(e,2),label:null!=ge(e,3)?_e(e,3):void 0,displayName:null!=ge(e,4)?_e(e,4):void 0}}))}function Dt(e){return{x:we(e,1),y:we(e,2),z:we(e,3),visibility:null!=ge(e,4)?we(e,4):void 0}}function Rt(e,t){this.h=e,this.g=t,this.l=0}function Ft(e,t,n){return function(e,t){var n=e.g;if(void 0===e.o){var o=Mt(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),r=Mt(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),a=n.createProgram();if(n.attachShader(a,o),n.attachShader(a,r),n.linkProgram(a),!n.getProgramParameter(a,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(a));o=e.o=a,n.useProgram(o),r=n.getUniformLocation(o,"sampler0"),e.j={K:n.getAttribLocation(o,"aVertex"),J:n.getAttribLocation(o,"aTex"),ma:r},e.u=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.enableVertexAttribArray(e.j.K),n.vertexAttribPointer(e.j.K,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.J),n.vertexAttribPointer(e.j.J,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(r,0)}o=e.j,n.useProgram(e.o),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(o.K),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.vertexAttribPointer(o.K,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(o.J),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(o.J,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(o.K),n.disableVertexAttribArray(o.J),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(e,t),"function"==typeof e.g.canvas.transferToImageBitmap?Promise.resolve(e.g.canvas.transferToImageBitmap()):n?Promise.resolve(e.g.canvas):"function"==typeof createImageBitmap?createImageBitmap(e.g.canvas):(void 0===e.i&&(e.i=document.createElement("canvas")),new Promise((function(t){e.i.height=e.g.canvas.height,e.i.width=e.g.canvas.width,e.i.getContext("2d",{}).drawImage(e.g.canvas,0,0,e.g.canvas.width,e.g.canvas.height),t(e.i)})))}function zt(e){this.g=e}var Pt=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function $t(e,t){return t+e}function Lt(e,t){window[e]=t}function Bt(e){if(this.g=e,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.Z=!0,this.D=Promise.resolve(),this.Y="",this.C={},this.locateFile=e&&e.locateFile||$t,"object"==typeof window)var t=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if("undefined"==typeof location)throw Error("solutions can only be loaded on a web page or in a web worker");t=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.$=t,e.options)for(var n=(t=s(Object.keys(e.options))).next();!n.done;n=t.next()){n=n.value;var o=e.options[n].default;void 0!==o&&(this.j[n]="function"==typeof o?o():o)}}function jt(e){var t,n,o,r,a,i,s,c,u,p,d;return S((function(m){switch(m.g){case 1:return e.Z?(t=void 0===e.g.files?[]:"function"==typeof e.g.files?e.g.files(e.j):e.g.files,b(m,S((function(e){switch(e.g){case 1:return e.o=2,b(e,WebAssembly.instantiate(Pt),4);case 4:e.g=3,e.o=0;break;case 2:return e.o=0,e.j=null,e.return(!1);case 3:return e.return(!0)}})),2)):m.return();case 2:if(n=m.h,"object"==typeof window)return Lt("createMediapipeSolutionsWasm",{locateFile:e.locateFile}),Lt("createMediapipeSolutionsPackedAssets",{locateFile:e.locateFile}),i=t.filter((function(e){return void 0!==e.data})),s=t.filter((function(e){return void 0===e.data})),c=Promise.all(i.map((function(t){var n=Wt(e,t.url);if(void 0!==t.path){var o=t.path;n=n.then((function(t){return e.overrideFile(o,t),Promise.resolve(t)}))}return n}))),u=Promise.all(s.map((function(t){return void 0===t.simd||t.simd&&n||!t.simd&&!n?function(e){var t=document.createElement("script");return t.setAttribute("src",e),t.setAttribute("crossorigin","anonymous"),new Promise((function(e){t.addEventListener("load",(function(){e()}),!1),t.addEventListener("error",(function(){e()}),!1),document.body.appendChild(t)}))}(e.locateFile(t.url,e.$)):Promise.resolve()}))).then((function(){var t,n,o;return S((function(r){if(1==r.g)return t=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,o=e,b(r,t(n),2);o.h=r.h,r.g=0}))})),p=S((function(t){return e.g.graph&&e.g.graph.url?t=b(t,Wt(e,e.g.graph.url),0):(t.g=0,t=void 0),t})),b(m,Promise.all([u,c,p]),7);if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return o=t.filter((function(e){return void 0===e.simd||e.simd&&n||!e.simd&&!n})).map((function(t){return e.locateFile(t.url,e.$)})),importScripts.apply(null,l(o)),r=e,b(m,createMediapipeSolutionsWasm(Module),6);case 6:r.h=m.h,e.l=new OffscreenCanvas(1,1),e.h.canvas=e.l,a=e.h.GL.createContext(e.l,{antialias:!1,alpha:!1,ja:"undefined"!=typeof WebGL2RenderingContext?2:1}),e.h.GL.makeContextCurrent(a),m.g=4;break;case 7:if(e.l=document.createElement("canvas"),!(d=e.l.getContext("webgl2",{}))&&!(d=e.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),m.return();e.G=d,e.h.canvas=e.l,e.h.createContext(e.l,!0,!0,{});case 4:e.i=new e.h.SolutionWasm,e.Z=!1,m.g=0}}))}function Wt(e,t){var n,o;return S((function(r){return t in e.H?r.return(e.H[t]):(n=e.locateFile(t,""),o=fetch(n).then((function(e){return e.arrayBuffer()})),e.H[t]=o,r.return(o))}))}function Ut(e,t,n){var o,r,a,i,l,c,u,p,d,m,f,h,y,g;return S((function(v){switch(v.g){case 1:if(!n)return v.return(t);for(o={},r=0,a=s(Object.keys(n)),i=a.next();!i.done;i=a.next())l=i.value,"string"!=typeof(c=n[l])&&"texture"===c.type&&void 0!==t[c.stream]&&++r;1<r&&(e.I=!1),u=s(Object.keys(n)),i=u.next();case 2:if(i.done){v.g=4;break}if(p=i.value,"string"==typeof(d=n[p]))return y=o,g=p,b(v,function(e,t,n){var o;return S((function(r){return"number"==typeof n||n instanceof Uint8Array||n instanceof e.h.Uint8BlobList?r.return(n):n instanceof e.h.Texture2dDataOut?((o=e.u[t])||(o=new Rt(e.h,e.G),e.u[t]=o),r.return(Ft(o,n,e.I))):r.return(void 0)}))}(e,p,t[d]),14);if(m=t[d.stream],"detection_list"===d.type){if(m){for(var w=m.getRectList(),k=m.getLandmarksList(),x=m.getClassificationsList(),_=[],I=0;I<w.size();++I){var T=tt(w.get(I),xt,St);T={boundingBox:{xCenter:we(T,1),yCenter:we(T,2),height:we(T,3),width:we(T,4),rotation:we(T,5,0),rectId:Se(T,6)},landmarks:ke(tt(k.get(I),vt,wt),gt,1).map(Dt),V:Ot(tt(x.get(I),ft,ht))},_.push(T)}w=_}else w=[];o[p]=w,v.g=7;break}if("proto_list"===d.type){if(m){for(w=Array(m.size()),k=0;k<m.size();k++)w[k]=m.get(k);m.delete()}else w=[];o[p]=w,v.g=7;break}if(void 0===m){v.g=3;break}if("float_list"===d.type){o[p]=m,v.g=7;break}if("proto"===d.type){o[p]=m,v.g=7;break}if("texture"!==d.type)throw Error("Unknown output config type: '"+d.type+"'");return(f=e.u[p])||(f=new Rt(e.h,e.G),e.u[p]=f),b(v,Ft(f,m,e.I),13);case 13:h=v.h,o[p]=h;case 7:d.transform&&o[p]&&(o[p]=d.transform(o[p])),v.g=3;break;case 14:y[g]=v.h;case 3:i=u.next(),v.g=2;break;case 4:return v.return(o)}}))}function Ht(e,t){for(var n=t.name||"$",o=[].concat(l(t.wants)),r=new e.h.StringList,a=s(t.wants),i=a.next();!i.done;i=a.next())r.push_back(i.value);a=e.h.PacketListener.implement({onResults:function(r){for(var a={},i=0;i<t.wants.length;++i)a[o[i]]=r.get(i);var s=e.listeners[n];s&&(e.D=Ut(e,a,t.outs).then((function(n){n=s(n);for(var r=0;r<t.wants.length;++r){var i=a[o[r]];"object"==typeof i&&i.hasOwnProperty&&i.hasOwnProperty("delete")&&i.delete()}n&&(e.D=n)})))}}),e.i.attachMultiListener(r,a),r.delete()}function Vt(e){var t=this;e=e||{};var n={url:"face_detection_short.binarypb"},o={type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}};this.g=new Bt({locateFile:e.locateFile,files:[{data:!0,url:"face_detection_short.binarypb"},{data:!0,url:"face_detection_short_range.tflite"},{simd:!0,url:"face_detection_solution_simd_wasm_bin.js"},{simd:!1,url:"face_detection_solution_wasm_bin.js"}],graph:n,listeners:[{wants:["detections","image_transformed"],outs:{image:"image_transformed",detections:{type:"detection_list",stream:"detections"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"object"==typeof window&&void 0!==window.navigator&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},model:{type:0,onChange:function(e){var r,a,i,l,c;return S((function(u){switch(u.g){case 1:r=s("short"===e?["face_detection_short_range.tflite"]:["face_detection_full_range_sparse.tflite"]),a=r.next();case 2:if(a.done){u.g=4;break}return i=a.value,l="third_party/mediapipe/modules/face_detection/"+i,b(u,Wt(t.g,i),5);case 5:c=u.h,t.g.overrideFile(l,c),a=r.next(),u.g=2;break;case 4:return n.url="short"===e?"face_detection_short.binarypb":"face_detection_full.binarypb",o.graphOptionXref.calculatorName="short"===e?"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator":"facedetectionfullrangegpu__facedetectionfullrangecommon__TensorsToDetectionsCalculator",u.return(!0)}}))}},minDetectionConfidence:o}})}(e=Bt.prototype).close=function(){return this.i&&this.i.delete(),Promise.resolve()},e.reset=function(){var e=this;return S((function(t){e.i&&(e.i.reset(),e.o={},e.u={}),t.g=0}))},e.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var o=[],r=[],a={},i=s(Object.keys(e)),l=i.next();!l.done;a={R:a.R,S:a.S},l=i.next()){var c=l.value;c in this.j&&this.j[c]===e[c]||(this.j[c]=e[c],void 0!==(l=t[c])&&(l.onChange&&(a.R=l.onChange,a.S=e[c],o.push(function(e){return function(){return S((function(t){if(1==t.g)return b(t,e.R(e.S),2);!0===t.h&&(n.s=!0),t.g=0}))}}(a))),l.graphOptionXref&&(c={valueNumber:1===l.type?e[c]:0,valueBoolean:0===l.type&&e[c],valueString:2===l.type?e[c]:""},l=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),l.graphOptionXref),c),r.push(l))))}0===o.length&&0===r.length||(this.s=!0,this.B=(void 0===this.B?[]:this.B).concat(r),this.A=(void 0===this.A?[]:this.A).concat(o))}},e.initialize=function(){var e=this;return S((function(t){return 1==t.g?b(t,jt(e),2):3!=t.g?b(t,function(e){var t,n,o,r,a,i,l,c;return S((function(u){if(1==u.g)return e.g.graph&&e.g.graph.url&&e.Y===e.g.graph.url?u.return():(e.s=!0,e.g.graph&&e.g.graph.url?(e.Y=e.g.graph.url,b(u,Wt(e,e.g.graph.url),3)):void(u.g=2));for(2!=u.g&&(t=u.h,e.i.loadGraph(t)),n=s(Object.keys(e.C)),o=n.next();!o.done;o=n.next())r=o.value,e.i.overrideFile(r,e.C[r]);if(e.C={},e.g.listeners)for(a=s(e.g.listeners),i=a.next();!i.done;i=a.next())l=i.value,Ht(e,l);c=e.j,e.j={},e.setOptions(c),u.g=0}))}(e),3):b(t,function(e){var t,n,o,r,a,i;return S((function(l){switch(l.g){case 1:if(!e.s)return l.return();if(!e.A){l.g=2;break}t=s(e.A),n=t.next();case 3:if(n.done){l.g=5;break}return b(l,(0,n.value)(),4);case 4:n=t.next(),l.g=3;break;case 5:e.A=void 0;case 2:if(e.B){for(o=new e.h.GraphOptionChangeRequestList,r=s(e.B),a=r.next();!a.done;a=r.next())i=a.value,o.push_back(i);e.i.changeOptions(o),o.delete(),e.B=void 0}e.s=!1,l.g=0}}))}(e),0)}))},e.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.C[e]=t},e.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},e.send=function(e,t){var n,o,r,a,i,l,c,u,p,d=this;return S((function(m){switch(m.g){case 1:return d.g.inputs?(n=1e3*(null==t?performance.now():t),b(m,d.D,2)):m.return();case 2:return b(m,d.initialize(),3);case 3:for(o=new d.h.PacketDataList,r=s(Object.keys(e)),a=r.next();!a.done;a=r.next())if(i=a.value,l=d.g.inputs[i]){e:{var f=e[i];switch(l.type){case"video":var h=d.o[l.stream];if(h||(h=new Rt(d.h,d.G),d.o[l.stream]=h),0===h.l&&(h.l=h.h.createTexture()),"undefined"!=typeof HTMLVideoElement&&f instanceof HTMLVideoElement)var y=f.videoWidth,g=f.videoHeight;else"undefined"!=typeof HTMLImageElement&&f instanceof HTMLImageElement?(y=f.naturalWidth,g=f.naturalHeight):(y=f.width,g=f.height);g={glName:h.l,width:y,height:g},(y=h.g).canvas.width=g.width,y.canvas.height=g.height,y.activeTexture(y.TEXTURE0),h.h.bindTexture2d(h.l),y.texImage2D(y.TEXTURE_2D,0,y.RGBA,y.RGBA,y.UNSIGNED_BYTE,f),h.h.bindTexture2d(0),h=g;break e;case"detections":for((h=d.o[l.stream])||(h=new zt(d.h),d.o[l.stream]=h),h.data||(h.data=new h.g.DetectionListData),h.data.reset(f.length),g=0;g<f.length;++g){y=f[g];var v=h.data,w=v.setBoundingBox,k=g,x=y.boundingBox,S=new xt;if(be(S,1,x.xCenter),be(S,2,x.yCenter),be(S,3,x.height),be(S,4,x.width),be(S,5,x.rotation),be(S,6,x.rectId),x=ot(S,St),w.call(v,k,x),y.landmarks)for(v=0;v<y.landmarks.length;++v){var _=!!(S=y.landmarks[v]).visibility;k=(w=h.data).addNormalizedLandmark,x=g,S=Object.assign(Object.assign({},S),{visibility:_?S.visibility:0}),be(_=new gt,1,S.x),be(_,2,S.y),be(_,3,S.z),S.visibility&&be(_,4,S.visibility),S=ot(_,bt),k.call(w,x,S)}if(y.V)for(v=0;v<y.V.length;++v)k=(w=h.data).addClassification,x=g,S=y.V[v],be(_=new dt,2,S.ga),S.index&&be(_,1,S.index),S.label&&be(_,3,S.label),S.displayName&&be(_,4,S.displayName),S=ot(_,mt),k.call(w,x,S)}h=h.data;break e;default:h={}}}switch(c=h,u=l.stream,l.type){case"video":o.pushTexture2d(Object.assign(Object.assign({},c),{stream:u,timestamp:n}));break;case"detections":(p=c).stream=u,p.timestamp=n,o.pushDetectionList(p);break;default:throw Error("Unknown input config type: '"+l.type+"'")}}return d.i.send(o),b(m,d.D,4);case 4:o.delete(),m.g=0}}))},e.onResults=function(e,t){this.listeners[t||"$"]=e},T("Solution",Bt),T("OptionType",{BOOL:0,NUMBER:1,ia:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(e=Vt.prototype).close=function(){return this.g.close(),Promise.resolve()},e.onResults=function(e){this.g.onResults(e)},e.initialize=function(){var e=this;return S((function(t){return b(t,e.g.initialize(),0)}))},e.reset=function(){this.g.reset()},e.send=function(e){var t=this;return S((function(n){return b(n,t.g.send(e),0)}))},e.setOptions=function(e){this.g.setOptions(e)},T("FaceDetection",Vt),T("FACEDETECTION_LIPS",_t),T("FACEDETECTION_LEFT_EYE",It),T("FACEDETECTION_LEFT_EYEBROW",Tt),T("FACEDETECTION_RIGHT_EYE",Et),T("FACEDETECTION_RIGHT_EYEBROW",Nt),T("FACEDETECTION_FACE_OVAL",Ct),T("FACEDETECTION_CONTOURS",At),T("FACEDETECTION_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),T("VERSION","0.4.1646425229")}).call(this)},1021:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=void 0;var o=n(9229),r=n(2819),a=n(536),i=function(){function e(){this.crc32=new a.Crc32}return e.prototype.update=function(e){(0,r.isEmptyData)(e)||this.crc32.update((0,r.convertToBuffer)(e))},e.prototype.digest=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return[2,(0,r.numToUint8)(this.crc32.digest())]}))}))},e.prototype.reset=function(){this.crc32=new a.Crc32},e}();t.AwsCrc32=i},536:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=t.Crc32=t.crc32=void 0;var o=n(9229),r=n(2819);t.crc32=function(e){return(new a).update(e).digest()};var a=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,n;try{for(var r=o.__values(e),a=r.next();!a.done;a=r.next()){var s=a.value;this.checksum=this.checksum>>>8^i[255&(this.checksum^s)]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}();t.Crc32=a;var i=(0,r.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),s=n(1021);Object.defineProperty(t,"AwsCrc32",{enumerable:!0,get:function(){return s.AwsCrc32}})},9229:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>a,__asyncDelegator:()=>w,__asyncGenerator:()=>v,__asyncValues:()=>k,__await:()=>b,__awaiter:()=>u,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>m,__extends:()=>r,__generator:()=>p,__importDefault:()=>_,__importStar:()=>S,__makeTemplateObject:()=>x,__metadata:()=>c,__param:()=>l,__read:()=>h,__rest:()=>i,__spread:()=>y,__spreadArrays:()=>g,__values:()=>f});var o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)};function r(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)};function i(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}function s(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i}function l(e,t){return function(n,o){t(n,o,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))}function p(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function d(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}function m(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(o=a.next()).done;)i.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,r++)o[r]=a[i];return o}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),a=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(e){r[e]&&(o[e]=function(t){return new Promise((function(n,o){a.push([e,t,n,o])>1||s(e,t)}))})}function s(e,t){try{(n=r[e](t)).value instanceof b?Promise.resolve(n.value.v).then(l,c):u(a[0][2],n)}catch(e){u(a[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function w(e){var t,n;return t={},o("next"),o("throw",(function(e){throw e})),o("return"),t[Symbol.iterator]=function(){return this},t;function o(o,r){t[o]=e[o]?function(t){return(n=!n)?{value:b(e[o](t)),done:"return"===o}:r?r(t):t}:r}}function k(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(n){t[n]=e[n]&&function(t){return new Promise((function(o,r){(function(e,t,n,o){Promise.resolve(o).then((function(t){e({value:t,done:n})}),t)})(o,r,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},8587:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var o=n(4006),r="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:o.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?r(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},2819:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var o=n(8587);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return o.convertToBuffer}});var r=n(7842);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var a=n(5836);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return a.numToUint8}});var i=n(5649);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return i.uint32ArrayFrom}})},7842:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},5836:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},5649:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}},4904:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=void 0;var o=n(7246),r=n(7716),a=n(5569),i=function(){function e(){this.crc32=new a.Crc32}return e.prototype.update=function(e){(0,r.isEmptyData)(e)||this.crc32.update((0,r.convertToBuffer)(e))},e.prototype.digest=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return[2,(0,r.numToUint8)(this.crc32.digest())]}))}))},e.prototype.reset=function(){this.crc32=new a.Crc32},e}();t.AwsCrc32=i},5569:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=t.Crc32=t.crc32=void 0;var o=n(7246),r=n(7716);t.crc32=function(e){return(new a).update(e).digest()};var a=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,n;try{for(var r=o.__values(e),a=r.next();!a.done;a=r.next()){var s=a.value;this.checksum=this.checksum>>>8^i[255&(this.checksum^s)]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}();t.Crc32=a;var i=(0,r.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),s=n(4904);Object.defineProperty(t,"AwsCrc32",{enumerable:!0,get:function(){return s.AwsCrc32}})},7246:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>a,__asyncDelegator:()=>w,__asyncGenerator:()=>v,__asyncValues:()=>k,__await:()=>b,__awaiter:()=>u,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>m,__extends:()=>r,__generator:()=>p,__importDefault:()=>_,__importStar:()=>S,__makeTemplateObject:()=>x,__metadata:()=>c,__param:()=>l,__read:()=>h,__rest:()=>i,__spread:()=>y,__spreadArrays:()=>g,__values:()=>f});var o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)};function r(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)};function i(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}function s(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i}function l(e,t){return function(n,o){t(n,o,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))}function p(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function d(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}function m(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(o=a.next()).done;)i.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,r++)o[r]=a[i];return o}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),a=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(e){r[e]&&(o[e]=function(t){return new Promise((function(n,o){a.push([e,t,n,o])>1||s(e,t)}))})}function s(e,t){try{(n=r[e](t)).value instanceof b?Promise.resolve(n.value.v).then(l,c):u(a[0][2],n)}catch(e){u(a[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function w(e){var t,n;return t={},o("next"),o("throw",(function(e){throw e})),o("return"),t[Symbol.iterator]=function(){return this},t;function o(o,r){t[o]=e[o]?function(t){return(n=!n)?{value:b(e[o](t)),done:"return"===o}:r?r(t):t}:r}}function k(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(n){t[n]=e[n]&&function(t){return new Promise((function(o,r){(function(e,t,n,o){Promise.resolve(o).then((function(t){e({value:t,done:n})}),t)})(o,r,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},3672:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var o=n(4006),r="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:o.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?r(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},7716:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var o=n(3672);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return o.convertToBuffer}});var r=n(3277);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var a=n(141);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return a.numToUint8}});var i=n(1222);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return i.uint32ArrayFrom}})},3277:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},141:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},1222:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}},8417:(e,t,n)=>{var o,r=(o=(o="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){function t(){return M.buffer!=F&&V(M.buffer),z}function r(){return M.buffer!=F&&V(M.buffer),P}function a(){return M.buffer!=F&&V(M.buffer),$}function i(){return M.buffer!=F&&V(M.buffer),L}function s(){return M.buffer!=F&&V(M.buffer),B}var l,c,u,p=void 0!==(e=e||{})?e:{};p.ready=new Promise((function(e,t){l=e,c=t})),"undefined"!=typeof process&&process.listeners&&(u={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var d,m,f,h=Object.assign({},p),y=[],g=(e,t)=>{throw t},b="object"==typeof window,v="function"==typeof importScripts,w="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,k=p.ENVIRONMENT_IS_PTHREAD||!1,x="";function S(e){return p.locateFile?p.locateFile(e,x):x+e}if(w){var _=n(9893),I=n(5281);let e;x=v?I.dirname(x)+"/":"//",d=(e,t)=>(e=ie(e)?new URL(e):I.normalize(e),_.readFileSync(e,t?void 0:"utf8")),f=e=>{var t=d(e,!0);return t.buffer||(t=new Uint8Array(t)),t},m=(e,t,n)=>{e=ie(e)?new URL(e):I.normalize(e),_.readFile(e,(function(e,o){e?n(e):t(o.buffer)}))},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),y=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof ce))throw e})),process.on("unhandledRejection",(function(e){throw e})),g=(e,t)=>{if(J())throw process.exitCode=e,t;var n;(n=t)instanceof ce||A("exiting due to exception: "+n),process.exit(e)},p.inspect=function(){return"[Emscripten Module object]"};try{e=n(3556)}catch(e){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),e}n.g.Worker=e.Worker}else(b||v)&&(v?x=self.location.href:"undefined"!=typeof document&&document.currentScript&&(x=document.currentScript.src),void 0!==o&&o&&(x=o),x=0!==x.indexOf("blob:")?x.substr(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1):"",w||(d=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},v&&(f=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),m=(e,t,n)=>{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=()=>{200==o.status||0==o.status&&o.response?t(o.response):n()},o.onerror=n,o.send(null)}));w&&"undefined"==typeof performance&&(n.g.performance=n(7244).performance);var T=console.log.bind(console),E=console.warn.bind(console);w&&(T=e=>_.writeSync(1,e+"\n"),E=e=>_.writeSync(2,e+"\n"));var N,C=p.print||T,A=p.printErr||E;Object.assign(p,h),h=null,p.arguments&&(y=p.arguments),p.thisProgram&&p.thisProgram,p.quit&&(g=p.quit),Atomics.load,Atomics.store,Atomics.compareExchange,p.wasmBinary&&(N=p.wasmBinary);var M,O,D=p.noExitRuntime||!0;"object"!=typeof WebAssembly&&ne("no native wasm support detected");var R,F,z,P,$,L,B,j=!1,W="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function U(e,t,n){for(var o=(t>>>=0)+n,r=t;e[r]&&!(r>=o);)++r;if(r-t>16&&e.buffer&&W)return W.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,r):e.subarray(t,r));for(var a="";t<r;){var i=e[t++];if(128&i){var s=63&e[t++];if(192!=(224&i)){var l=63&e[t++];if((i=224==(240&i)?(15&i)<<12|s<<6|l:(7&i)<<18|s<<12|l<<6|63&e[t++])<65536)a+=String.fromCharCode(i);else{var c=i-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&i)<<6|s)}else a+=String.fromCharCode(i)}return a}function H(e,t){return(e>>>=0)?U(r(),e,t):""}function V(e){F=e,p.HEAP8=z=new Int8Array(e),p.HEAP16=new Int16Array(e),p.HEAP32=$=new Int32Array(e),p.HEAPU8=P=new Uint8Array(e),p.HEAPU16=new Uint16Array(e),p.HEAPU32=L=new Uint32Array(e),p.HEAPF32=new Float32Array(e),p.HEAPF64=B=new Float64Array(e)}k&&(F=p.buffer);var q,G=p.INITIAL_MEMORY||16777216;if(k)M=p.wasmMemory,F=p.buffer;else if(p.wasmMemory)M=p.wasmMemory;else if(!((M=new WebAssembly.Memory({initial:G/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw A("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),w&&A("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");M&&(F=M.buffer),G=F.byteLength,V(F);var K=[],Y=[],X=[];function J(){return D}function Z(){k||he(Y)}var Q=0,ee=null,te=null;function ne(e){p.onAbort&&p.onAbort(e),A(e="Aborted("+e+")"),j=!0,R=1,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw c(t),t}var oe,re="data:application/octet-stream;base64,";function ae(e){return e.startsWith(re)}function ie(e){return e.startsWith("file://")}function se(e){try{if(e==oe&&N)return new Uint8Array(N);if(f)return f(e);throw"both async and sync fetching of the wasm failed"}catch(e){ne(e)}}ae(oe="tfjs-backend-wasm-threaded-simd.wasm")||(oe=S(oe));var le={};function ce(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function ue(e){var t,n=fe.pthreads[e];n||ne(t),fe.returnWorkerToPool(n)}function pe(e){var t=fe.getNewWorker();if(!t)return 6;fe.runningWorkers.push(t),fe.pthreads[e.pthread_ptr]=t,t.pthread_ptr=e.pthread_ptr;var n={cmd:"run",start_routine:e.startRoutine,arg:e.arg,pthread_ptr:e.pthread_ptr};return t.runPthread=()=>{w&&t.ref(),t.postMessage(n,e.transferList),delete t.runPthread},t.loaded&&t.runPthread(),0}function de(e){if(k)return Se(1,1,e);R=e,J()||(fe.terminateAllThreads(),p.onExit&&p.onExit(e),j=!0),g(e,new ce(e))}var me=function(e,t){if(R=e,!t&&k)throw ye(e),"unwind";de(e)},fe={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init:function(){k?fe.initWorker():fe.initMainThread()},initMainThread:function(){for(var e=8;e--;)fe.allocateUnusedWorker()},initWorker:function(){D=!1},setExitStatus:function(e){R=e},terminateAllThreads:function(){for(var e of Object.values(fe.pthreads))fe.returnWorkerToPool(e);for(var e of fe.unusedWorkers)e.terminate();fe.unusedWorkers=[]},returnWorkerToPool:function(e){var t=e.pthread_ptr;delete fe.pthreads[t],fe.unusedWorkers.push(e),fe.runningWorkers.splice(fe.runningWorkers.indexOf(e),1),e.pthread_ptr=0,w&&e.unref(),We(t)},receiveObjectTransfer:function(e){},threadInitTLS:function(){fe.tlsInitFunctions.forEach((e=>e()))},loadWasmModuleToWorker:function(e,t){e.onmessage=n=>{var o,r=n.data,a=r.cmd;if(e.pthread_ptr&&(fe.currentProxiedOperationCallerThread=e.pthread_ptr),r.targetThread&&r.targetThread!=$e()){var i=fe.pthreads[r.targetThread];return i?i.postMessage(r,r.transferList):A('Internal error! Worker sent a message "'+a+'" to target pthread '+r.targetThread+", but that thread no longer exists!"),void(fe.currentProxiedOperationCallerThread=void 0)}"processProxyingQueue"===a?ke(r.queue):"spawnThread"===a?pe(r):"cleanupThread"===a?ue(r.thread):"killThread"===a?function(e){var t=fe.pthreads[e];delete fe.pthreads[e],t.terminate(),We(e),fe.runningWorkers.splice(fe.runningWorkers.indexOf(t),1),t.pthread_ptr=0}(r.thread):"cancelThread"===a?(o=r.thread,fe.pthreads[o].postMessage({cmd:"cancel"})):"loaded"===a?(e.loaded=!0,w&&e.unref(),t&&t(e),e.runPthread&&e.runPthread()):"print"===a?C("Thread "+r.threadId+": "+r.text):"printErr"===a?A("Thread "+r.threadId+": "+r.text):"alert"===a?alert("Thread "+r.threadId+": "+r.text):"setimmediate"===r.target?e.postMessage(r):"callHandler"===a?p[r.handler](...r.args):a&&A("worker sent an unknown command "+a),fe.currentProxiedOperationCallerThread=void 0},e.onerror=e=>{throw A("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},w&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("detachedExit",(function(){})));var n=[];for(var r of["onExit","onAbort","print","printErr"])p.hasOwnProperty(r)&&n.push(r);e.postMessage({cmd:"load",handlers:n,urlOrBlob:p.mainScriptUrlOrBlob||o,wasmMemory:M,wasmModule:O})},allocateUnusedWorker:function(){var e,t=S("tfjs-backend-wasm-threaded-simd.worker.js");e=new Worker(t),fe.unusedWorkers.push(e)},getNewWorker:function(){return 0==fe.unusedWorkers.length&&(fe.allocateUnusedWorker(),fe.loadWasmModuleToWorker(fe.unusedWorkers[0])),fe.unusedWorkers.pop()}};function he(e){for(;e.length>0;)e.shift()(p)}function ye(e){if(k)return Se(2,0,e);try{me(e)}catch(e){!function(e){if(e instanceof ce||"unwind"==e)return R;g(1,e)}(e)}}p.PThread=fe,p.establishStackSpace=function(){var e=$e(),t=a()[e+52>>>2],n=a()[e+56>>>2];He(t,t-n),qe(t)};var ge,be=[];function ve(e,t,n,o){return k?Se(3,1,e,t,n,o):we(e,t,n,o)}function we(e,t,n,o){if("undefined"==typeof SharedArrayBuffer)return A("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var r=[];if(k&&0===r.length)return ve(e,t,n,o);var a={startRoutine:n,pthread_ptr:e,arg:o,transferList:r};return k?(a.cmd="spawnThread",postMessage(a,r),0):pe(a)}function ke(e){Atomics.store(a(),e>>2,1),$e()&&je(e),Atomics.compareExchange(a(),e>>2,1,0)}function xe(e){xe.shown||(xe.shown={}),xe.shown[e]||(xe.shown[e]=1,w&&(e="warning: "+e),A(e))}function Se(e,t){var n,o,r,a=arguments.length-2,i=arguments;return n=()=>{for(var n=a,o=Ge(8*n),r=o>>3,l=0;l<a;l++){var c=i[2+l];s()[r+l>>>0]=c}return Be(e,n,o,t)},o=Ve(),r=n(),qe(o),r}p.invokeEntryPoint=function(e,t){var n,o,r=((o=be[n=e])||(n>=be.length&&(be.length=n+1),be[n]=o=q.get(n)),o)(t);J()?fe.setExitStatus(r):Ue(r)},p.executeNotifiedProxyingQueue=ke,ge=w?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.timeOrigin+performance.now();var _e=[];function Ie(e){try{return M.grow(e-F.byteLength+65535>>>16),V(M.buffer),1}catch(e){}}function Te(e){return k?Se(4,1,e):52}function Ee(e,t,n,o,r){return k?Se(5,1,e,t,n,o,r):70}var Ne=[null,[],[]];function Ce(e,t){var n=Ne[e];0===t||10===t?((1===e?C:A)(U(n,0)),n.length=0):n.push(t)}function Ae(e,t,n,o){if(k)return Se(6,1,e,t,n,o);for(var a=0,s=0;s<n;s++){var l=i()[t>>>2],c=i()[t+4>>>2];t+=8;for(var u=0;u<c;u++)Ce(e,r()[l+u>>>0]);a+=c}return i()[o>>>2]=a,0}function Me(e){return p["_"+e]}function Oe(e,n,o,a,i){var s={string:e=>{var t=0;if(null!=e&&0!==e){var n=1+(e.length<<2);!function(e,t,n){!function(e,t,n,o){if(!(o>0))return 0;n>>>=0;for(var r=n+o-1,a=0;a<e.length;++a){var i=e.charCodeAt(a);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++a)),i<=127){if(n>=r)break;t[n++>>>0]=i}else if(i<=2047){if(n+1>=r)break;t[n++>>>0]=192|i>>6,t[n++>>>0]=128|63&i}else if(i<=65535){if(n+2>=r)break;t[n++>>>0]=224|i>>12,t[n++>>>0]=128|i>>6&63,t[n++>>>0]=128|63&i}else{if(n+3>=r)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63,t[n++>>>0]=128|i>>6&63,t[n++>>>0]=128|63&i}}t[n>>>0]=0}(e,r(),t,n)}(e,t=Ge(n),n)}return t},array:e=>{var n=Ge(e.length);return function(e,n){t().set(e,n>>>0)}(e,n),n}},l=Me(e),c=[],u=0;if(a)for(var p=0;p<a.length;p++){var d=s[o[p]];d?(0===u&&(u=Ve()),c[p]=d(a[p])):c[p]=a[p]}var m=l.apply(null,c);return m=function(e){return 0!==u&&qe(u),function(e){return"string"===n?H(e):"boolean"===n?Boolean(e):e}(e)}(m)}fe.init();var De,Re,Fe,ze=[null,de,ye,ve,Te,Ee,Ae],Pe={__emscripten_init_main_thread_js:function(e){Le(e,!v,1,!b),fe.threadInitTLS()},__emscripten_thread_cleanup:function(e){k?postMessage({cmd:"cleanupThread",thread:e}):ue(e)},__pthread_create_js:we,_emscripten_default_pthread_stack_size:function(){return 65536},_emscripten_get_now_is_monotonic:function(){return!0},_emscripten_notify_task_queue:function(e,t,n,o){if(e==t)setTimeout((()=>ke(o)));else if(k)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:o});else{var r=fe.pthreads[e];if(!r)return;r.postMessage({cmd:"processProxyingQueue",queue:o})}return 1},_emscripten_set_offscreencanvas_size:function(e,t,n){return-1},abort:function(){ne("")},emscripten_check_blocking_allowed:function(){w||v||xe("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")},emscripten_date_now:function(){return Date.now()},emscripten_get_heap_max:function(){return 4294901760},emscripten_get_now:ge,emscripten_memcpy_big:function(e,t,n){r().copyWithin(e>>>0,t>>>0,t+n>>>0)},emscripten_num_logical_cores:function(){return w?n(8074).cpus().length:navigator.hardwareConcurrency},emscripten_receive_on_main_thread_js:function(e,t,n){_e.length=t;for(var o=n>>3,r=0;r<t;r++)_e[r]=s()[o+r>>>0];return(e<0?le[-e-1]:ze[e]).apply(null,_e)},emscripten_resize_heap:function(e){var t=r().length;if((e>>>=0)<=t)return!1;var n,o,a=4294901760;if(e>a)return!1;for(var i=1;i<=4;i*=2){var s=t*(1+.2/i);if(s=Math.min(s,e+100663296),Ie(Math.min(a,(n=Math.max(e,s))+((o=65536)-n%o)%o)))return!0}return!1},emscripten_unwind_to_js_event_loop:function(){throw"unwind"},exit:me,fd_close:Te,fd_seek:Ee,fd_write:Ae,memory:M||p.wasmMemory},$e=(function(){var e={env:Pe,wasi_snapshot_preview1:Pe};function t(e,t){var n,o,r=e.exports;if(p.asm=r,n=p.asm._emscripten_tls_init,fe.tlsInitFunctions.push(n),q=p.asm.__indirect_function_table,o=p.asm.__wasm_call_ctors,Y.unshift(o),O=t,!k){var a=fe.unusedWorkers.length;fe.unusedWorkers.forEach((function(e){fe.loadWasmModuleToWorker(e,(function(){--a||function(){if(Q--,p.monitorRunDependencies&&p.monitorRunDependencies(Q),0==Q&&(null!==ee&&(clearInterval(ee),ee=null),te)){var e=te;te=null,e()}}()}))}))}}function n(e){t(e.instance,e.module)}function o(t){return function(){if(!N&&(b||v)){if("function"==typeof fetch&&!ie(oe))return fetch(oe,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+oe+"'";return e.arrayBuffer()})).catch((function(){return se(oe)}));if(m)return new Promise((function(e,t){m(oe,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return se(oe)}))}().then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){A("failed to asynchronously prepare wasm: "+e),ne(e)}))}if(k||(Q++,p.monitorRunDependencies&&p.monitorRunDependencies(Q)),p.instantiateWasm)try{return p.instantiateWasm(e,t)}catch(e){A("Module.instantiateWasm callback failed with error: "+e),c(e)}(N||"function"!=typeof WebAssembly.instantiateStreaming||ae(oe)||ie(oe)||w||"function"!=typeof fetch?o(n):fetch(oe,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return A("wasm streaming compile failed: "+e),A("falling back to ArrayBuffer instantiation"),o(n)}))}))).catch(c)}(),p.___wasm_call_ctors=function(){return(p.___wasm_call_ctors=p.asm.__wasm_call_ctors).apply(null,arguments)},p._init=function(){return(p._init=p.asm.init).apply(null,arguments)},p._init_with_threads_count=function(){return(p._init_with_threads_count=p.asm.init_with_threads_count).apply(null,arguments)},p._get_threads_count=function(){return(p._get_threads_count=p.asm.get_threads_count).apply(null,arguments)},p._register_tensor=function(){return(p._register_tensor=p.asm.register_tensor).apply(null,arguments)},p._dispose_data=function(){return(p._dispose_data=p.asm.dispose_data).apply(null,arguments)},p._dispose=function(){return(p._dispose=p.asm.dispose).apply(null,arguments)},p._Abs=function(){return(p._Abs=p.asm.Abs).apply(null,arguments)},p._Acos=function(){return(p._Acos=p.asm.Acos).apply(null,arguments)},p._Acosh=function(){return(p._Acosh=p.asm.Acosh).apply(null,arguments)},p._Add=function(){return(p._Add=p.asm.Add).apply(null,arguments)},p._AddN=function(){return(p._AddN=p.asm.AddN).apply(null,arguments)},p._All=function(){return(p._All=p.asm.All).apply(null,arguments)},p._Any=function(){return(p._Any=p.asm.Any).apply(null,arguments)},p._ArgMax=function(){return(p._ArgMax=p.asm.ArgMax).apply(null,arguments)},p._ArgMin=function(){return(p._ArgMin=p.asm.ArgMin).apply(null,arguments)},p._Asin=function(){return(p._Asin=p.asm.Asin).apply(null,arguments)},p._Asinh=function(){return(p._Asinh=p.asm.Asinh).apply(null,arguments)},p._Atan=function(){return(p._Atan=p.asm.Atan).apply(null,arguments)},p._Atan2=function(){return(p._Atan2=p.asm.Atan2).apply(null,arguments)},p._Atanh=function(){return(p._Atanh=p.asm.Atanh).apply(null,arguments)},p._AvgPool=function(){return(p._AvgPool=p.asm.AvgPool).apply(null,arguments)},p._AvgPool3D=function(){return(p._AvgPool3D=p.asm.AvgPool3D).apply(null,arguments)},p._AvgPool3DGrad=function(){return(p._AvgPool3DGrad=p.asm.AvgPool3DGrad).apply(null,arguments)},p._AvgPoolGrad=function(){return(p._AvgPoolGrad=p.asm.AvgPoolGrad).apply(null,arguments)},p._BatchMatMul=function(){return(p._BatchMatMul=p.asm.BatchMatMul).apply(null,arguments)},p._Bincount=function(){return(p._Bincount=p.asm.Bincount).apply(null,arguments)},p._BitwiseAnd=function(){return(p._BitwiseAnd=p.asm.BitwiseAnd).apply(null,arguments)},p._Ceil=function(){return(p._Ceil=p.asm.Ceil).apply(null,arguments)},p._ClipByValue=function(){return(p._ClipByValue=p.asm.ClipByValue).apply(null,arguments)},p._Conv2D=function(){return(p._Conv2D=p.asm.Conv2D).apply(null,arguments)},p._Conv2DBackpropInput=function(){return(p._Conv2DBackpropInput=p.asm.Conv2DBackpropInput).apply(null,arguments)},p._Conv3D=function(){return(p._Conv3D=p.asm.Conv3D).apply(null,arguments)},p._Conv3DBackpropFilterV2=function(){return(p._Conv3DBackpropFilterV2=p.asm.Conv3DBackpropFilterV2).apply(null,arguments)},p._Conv3DBackpropInputV2=function(){return(p._Conv3DBackpropInputV2=p.asm.Conv3DBackpropInputV2).apply(null,arguments)},p._Cos=function(){return(p._Cos=p.asm.Cos).apply(null,arguments)},p._Cosh=function(){return(p._Cosh=p.asm.Cosh).apply(null,arguments)},p._CropAndResize=function(){return(p._CropAndResize=p.asm.CropAndResize).apply(null,arguments)},p._Cumprod=function(){return(p._Cumprod=p.asm.Cumprod).apply(null,arguments)},p._Cumsum=function(){return(p._Cumsum=p.asm.Cumsum).apply(null,arguments)},p._DenseBincount=function(){return(p._DenseBincount=p.asm.DenseBincount).apply(null,arguments)},p._DepthToSpace=function(){return(p._DepthToSpace=p.asm.DepthToSpace).apply(null,arguments)},p._DepthwiseConv2dNative=function(){return(p._DepthwiseConv2dNative=p.asm.DepthwiseConv2dNative).apply(null,arguments)},p._Diag=function(){return(p._Diag=p.asm.Diag).apply(null,arguments)},p._Dilation2D=function(){return(p._Dilation2D=p.asm.Dilation2D).apply(null,arguments)},p._Dilation2DBackpropFilter=function(){return(p._Dilation2DBackpropFilter=p.asm.Dilation2DBackpropFilter).apply(null,arguments)},p._Dilation2DBackpropInput=function(){return(p._Dilation2DBackpropInput=p.asm.Dilation2DBackpropInput).apply(null,arguments)},p._Elu=function(){return(p._Elu=p.asm.Elu).apply(null,arguments)},p._EluGrad=function(){return(p._EluGrad=p.asm.EluGrad).apply(null,arguments)},p._Equal=function(){return(p._Equal=p.asm.Equal).apply(null,arguments)},p._Erf=function(){return(p._Erf=p.asm.Erf).apply(null,arguments)},p._Exp=function(){return(p._Exp=p.asm.Exp).apply(null,arguments)},p._Expm1=function(){return(p._Expm1=p.asm.Expm1).apply(null,arguments)},p._FlipLeftRight=function(){return(p._FlipLeftRight=p.asm.FlipLeftRight).apply(null,arguments)},p._Floor=function(){return(p._Floor=p.asm.Floor).apply(null,arguments)},p._FloorDiv=function(){return(p._FloorDiv=p.asm.FloorDiv).apply(null,arguments)},p._FusedBatchNorm=function(){return(p._FusedBatchNorm=p.asm.FusedBatchNorm).apply(null,arguments)},p._FusedConv2D=function(){return(p._FusedConv2D=p.asm.FusedConv2D).apply(null,arguments)},p._FusedDepthwiseConv2D=function(){return(p._FusedDepthwiseConv2D=p.asm.FusedDepthwiseConv2D).apply(null,arguments)},p._Gather=function(){return(p._Gather=p.asm.Gather).apply(null,arguments)},p._GatherNd=function(){return(p._GatherNd=p.asm.GatherNd).apply(null,arguments)},p._Greater=function(){return(p._Greater=p.asm.Greater).apply(null,arguments)},p._GreaterEqual=function(){return(p._GreaterEqual=p.asm.GreaterEqual).apply(null,arguments)},p._IsFinite=function(){return(p._IsFinite=p.asm.IsFinite).apply(null,arguments)},p._IsInf=function(){return(p._IsInf=p.asm.IsInf).apply(null,arguments)},p._IsNan=function(){return(p._IsNan=p.asm.IsNan).apply(null,arguments)},p._LRN=function(){return(p._LRN=p.asm.LRN).apply(null,arguments)},p._LRNGrad=function(){return(p._LRNGrad=p.asm.LRNGrad).apply(null,arguments)},p._LeakyRelu=function(){return(p._LeakyRelu=p.asm.LeakyRelu).apply(null,arguments)},p._Less=function(){return(p._Less=p.asm.Less).apply(null,arguments)},p._LessEqual=function(){return(p._LessEqual=p.asm.LessEqual).apply(null,arguments)},p._LinSpace=function(){return(p._LinSpace=p.asm.LinSpace).apply(null,arguments)},p._Log=function(){return(p._Log=p.asm.Log).apply(null,arguments)},p._Log1p=function(){return(p._Log1p=p.asm.Log1p).apply(null,arguments)},p._LogicalAnd=function(){return(p._LogicalAnd=p.asm.LogicalAnd).apply(null,arguments)},p._LogicalNot=function(){return(p._LogicalNot=p.asm.LogicalNot).apply(null,arguments)},p._LogicalOr=function(){return(p._LogicalOr=p.asm.LogicalOr).apply(null,arguments)},p._LogicalXor=function(){return(p._LogicalXor=p.asm.LogicalXor).apply(null,arguments)},p._Max=function(){return(p._Max=p.asm.Max).apply(null,arguments)},p._MaxPool=function(){return(p._MaxPool=p.asm.MaxPool).apply(null,arguments)},p._MaxPool3D=function(){return(p._MaxPool3D=p.asm.MaxPool3D).apply(null,arguments)},p._MaxPool3DGrad=function(){return(p._MaxPool3DGrad=p.asm.MaxPool3DGrad).apply(null,arguments)},p._MaxPoolGrad=function(){return(p._MaxPoolGrad=p.asm.MaxPoolGrad).apply(null,arguments)},p._MaxPoolWithArgmax=function(){return(p._MaxPoolWithArgmax=p.asm.MaxPoolWithArgmax).apply(null,arguments)},p._Maximum=function(){return(p._Maximum=p.asm.Maximum).apply(null,arguments)},p._Mean=function(){return(p._Mean=p.asm.Mean).apply(null,arguments)},p._Min=function(){return(p._Min=p.asm.Min).apply(null,arguments)},p._Minimum=function(){return(p._Minimum=p.asm.Minimum).apply(null,arguments)},p._MirrorPad=function(){return(p._MirrorPad=p.asm.MirrorPad).apply(null,arguments)},p._Mod=function(){return(p._Mod=p.asm.Mod).apply(null,arguments)},p._Multinomial=function(){return(p._Multinomial=p.asm.Multinomial).apply(null,arguments)},p._Multiply=function(){return(p._Multiply=p.asm.Multiply).apply(null,arguments)},p._Neg=function(){return(p._Neg=p.asm.Neg).apply(null,arguments)},p._NonMaxSuppressionV3=function(){return(p._NonMaxSuppressionV3=p.asm.NonMaxSuppressionV3).apply(null,arguments)},p._NonMaxSuppressionV4=function(){return(p._NonMaxSuppressionV4=p.asm.NonMaxSuppressionV4).apply(null,arguments)},p._NonMaxSuppressionV5=function(){return(p._NonMaxSuppressionV5=p.asm.NonMaxSuppressionV5).apply(null,arguments)},p._NotEqual=function(){return(p._NotEqual=p.asm.NotEqual).apply(null,arguments)},p._OneHot=function(){return(p._OneHot=p.asm.OneHot).apply(null,arguments)},p._PadV2=function(){return(p._PadV2=p.asm.PadV2).apply(null,arguments)},p._Pow=function(){return(p._Pow=p.asm.Pow).apply(null,arguments)},p._Prelu=function(){return(p._Prelu=p.asm.Prelu).apply(null,arguments)},p._Prod=function(){return(p._Prod=p.asm.Prod).apply(null,arguments)},p._RealDiv=function(){return(p._RealDiv=p.asm.RealDiv).apply(null,arguments)},p._Reciprocal=function(){return(p._Reciprocal=p.asm.Reciprocal).apply(null,arguments)},p._Relu=function(){return(p._Relu=p.asm.Relu).apply(null,arguments)},p._Relu6=function(){return(p._Relu6=p.asm.Relu6).apply(null,arguments)},p._ResizeBilinear=function(){return(p._ResizeBilinear=p.asm.ResizeBilinear).apply(null,arguments)},p._ResizeBilinearGrad=function(){return(p._ResizeBilinearGrad=p.asm.ResizeBilinearGrad).apply(null,arguments)},p._ResizeNearestNeighbor=function(){return(p._ResizeNearestNeighbor=p.asm.ResizeNearestNeighbor).apply(null,arguments)},p._ResizeNearestNeighborGrad=function(){return(p._ResizeNearestNeighborGrad=p.asm.ResizeNearestNeighborGrad).apply(null,arguments)},p._Reverse=function(){return(p._Reverse=p.asm.Reverse).apply(null,arguments)},p._RotateWithOffset=function(){return(p._RotateWithOffset=p.asm.RotateWithOffset).apply(null,arguments)},p._Round=function(){return(p._Round=p.asm.Round).apply(null,arguments)},p._Rsqrt=function(){return(p._Rsqrt=p.asm.Rsqrt).apply(null,arguments)},p._ScatterNd=function(){return(p._ScatterNd=p.asm.ScatterNd).apply(null,arguments)},p._SearchSorted=function(){return(p._SearchSorted=p.asm.SearchSorted).apply(null,arguments)},p._SelectV2=function(){return(p._SelectV2=p.asm.SelectV2).apply(null,arguments)},p._Selu=function(){return(p._Selu=p.asm.Selu).apply(null,arguments)},p._Sigmoid=function(){return(p._Sigmoid=p.asm.Sigmoid).apply(null,arguments)},p._Sign=function(){return(p._Sign=p.asm.Sign).apply(null,arguments)},p._Sin=function(){return(p._Sin=p.asm.Sin).apply(null,arguments)},p._Sinh=function(){return(p._Sinh=p.asm.Sinh).apply(null,arguments)},p._Softmax=function(){return(p._Softmax=p.asm.Softmax).apply(null,arguments)},p._Softplus=function(){return(p._Softplus=p.asm.Softplus).apply(null,arguments)},p._SparseFillEmptyRows=function(){return(p._SparseFillEmptyRows=p.asm.SparseFillEmptyRows).apply(null,arguments)},p._SparseReshape=function(){return(p._SparseReshape=p.asm.SparseReshape).apply(null,arguments)},p._SparseSegmentReduction=function(){return(p._SparseSegmentReduction=p.asm.SparseSegmentReduction).apply(null,arguments)},p._SparseToDense=function(){return(p._SparseToDense=p.asm.SparseToDense).apply(null,arguments)},p._Sqrt=function(){return(p._Sqrt=p.asm.Sqrt).apply(null,arguments)},p._Square=function(){return(p._Square=p.asm.Square).apply(null,arguments)},p._SquaredDifference=function(){return(p._SquaredDifference=p.asm.SquaredDifference).apply(null,arguments)},p._Step=function(){return(p._Step=p.asm.Step).apply(null,arguments)},p._StridedSlice=function(){return(p._StridedSlice=p.asm.StridedSlice).apply(null,arguments)},p._Sub=function(){return(p._Sub=p.asm.Sub).apply(null,arguments)},p._Sum=function(){return(p._Sum=p.asm.Sum).apply(null,arguments)},p._Tan=function(){return(p._Tan=p.asm.Tan).apply(null,arguments)},p._Tanh=function(){return(p._Tanh=p.asm.Tanh).apply(null,arguments)},p._TensorScatterUpdate=function(){return(p._TensorScatterUpdate=p.asm.TensorScatterUpdate).apply(null,arguments)},p._Tile=function(){return(p._Tile=p.asm.Tile).apply(null,arguments)},p._TopK=function(){return(p._TopK=p.asm.TopK).apply(null,arguments)},p._Transform=function(){return(p._Transform=p.asm.Transform).apply(null,arguments)},p._Transpose=function(){return(p._Transpose=p.asm.Transpose).apply(null,arguments)},p.__FusedMatMul=function(){return(p.__FusedMatMul=p.asm._FusedMatMul).apply(null,arguments)},p._malloc=function(){return(p._malloc=p.asm.malloc).apply(null,arguments)},p._free=function(){return(p._free=p.asm.free).apply(null,arguments)},p.__emscripten_tls_init=function(){return(p.__emscripten_tls_init=p.asm._emscripten_tls_init).apply(null,arguments)},p._pthread_self=function(){return($e=p._pthread_self=p.asm.pthread_self).apply(null,arguments)}),Le=(p.___errno_location=function(){return(p.___errno_location=p.asm.__errno_location).apply(null,arguments)},p.__emscripten_thread_init=function(){return(Le=p.__emscripten_thread_init=p.asm._emscripten_thread_init).apply(null,arguments)}),Be=(p.__emscripten_thread_crashed=function(){return(p.__emscripten_thread_crashed=p.asm._emscripten_thread_crashed).apply(null,arguments)},p._emscripten_main_thread_process_queued_calls=function(){return(p._emscripten_main_thread_process_queued_calls=p.asm.emscripten_main_thread_process_queued_calls).apply(null,arguments)},p._emscripten_main_browser_thread_id=function(){return(p._emscripten_main_browser_thread_id=p.asm.emscripten_main_browser_thread_id).apply(null,arguments)},p._emscripten_run_in_main_runtime_thread_js=function(){return(Be=p._emscripten_run_in_main_runtime_thread_js=p.asm.emscripten_run_in_main_runtime_thread_js).apply(null,arguments)}),je=(p._emscripten_dispatch_to_thread_=function(){return(p._emscripten_dispatch_to_thread_=p.asm.emscripten_dispatch_to_thread_).apply(null,arguments)},p.__emscripten_proxy_execute_task_queue=function(){return(je=p.__emscripten_proxy_execute_task_queue=p.asm._emscripten_proxy_execute_task_queue).apply(null,arguments)}),We=p.__emscripten_thread_free_data=function(){return(We=p.__emscripten_thread_free_data=p.asm._emscripten_thread_free_data).apply(null,arguments)},Ue=p.__emscripten_thread_exit=function(){return(Ue=p.__emscripten_thread_exit=p.asm._emscripten_thread_exit).apply(null,arguments)},He=p._emscripten_stack_set_limits=function(){return(He=p._emscripten_stack_set_limits=p.asm.emscripten_stack_set_limits).apply(null,arguments)},Ve=p.stackSave=function(){return(Ve=p.stackSave=p.asm.stackSave).apply(null,arguments)},qe=p.stackRestore=function(){return(qe=p.stackRestore=p.asm.stackRestore).apply(null,arguments)},Ge=p.stackAlloc=function(){return(Ge=p.stackAlloc=p.asm.stackAlloc).apply(null,arguments)};function Ke(e){if(e=e||y,!(Q>0)){if(k)return l(p),Z(),void startWorker(p);!function(){if(p.preRun)for("function"==typeof p.preRun&&(p.preRun=[p.preRun]);p.preRun.length;)e=p.preRun.shift(),K.unshift(e);var e;he(K)}(),Q>0||(p.setStatus?(p.setStatus("Running..."),setTimeout((function(){setTimeout((function(){p.setStatus("")}),1),t()}),1)):t())}function t(){De||(De=!0,p.calledRun=!0,j||(Z(),l(p),p.onRuntimeInitialized&&p.onRuntimeInitialized(),function(){if(!k){if(p.postRun)for("function"==typeof p.postRun&&(p.postRun=[p.postRun]);p.postRun.length;)e=p.postRun.shift(),X.unshift(e);var e;he(X)}}()))}}if(p.dynCall_iijjiiii=function(){return(p.dynCall_iijjiiii=p.asm.dynCall_iijjiiii).apply(null,arguments)},p.dynCall_jiji=function(){return(p.dynCall_jiji=p.asm.dynCall_jiji).apply(null,arguments)},p.keepRuntimeAlive=J,p.wasmMemory=M,p.cwrap=function(e,t,n,o){var r=(n=n||[]).every((e=>"number"===e||"boolean"===e));return"string"!==t&&r&&!o?Me(e):function(){return Oe(e,t,n,arguments)}},p.ExitStatus=ce,p.PThread=fe,te=function e(){De||Ke(),De||(te=e)},p.preInit)for("function"==typeof p.preInit&&(p.preInit=[p.preInit]);p.preInit.length>0;)p.preInit.pop()();if(Ke(),u&&(Re={uncaughtException:process.listeners("uncaughtException").filter((function(e){return!u.uncaughtException.indexOf(e)>-1})),unhandledRejection:process.listeners("unhandledRejection").filter((function(e){return!u.unhandledRejection.indexOf(e)>-1}))}),"undefined"!=typeof WasmBackendModule)Fe=WasmBackendModule;else{if(void 0===e)throw new Error("Could not find wasm module in post.js");Fe=e}if(Re){var Ye=Fe._dispose;Fe._dispose=function(){Ye(),Re.uncaughtException.forEach((function(e){process.removeListener("uncaughtException",e)})),Re.unhandledRejection.forEach((function(e){process.removeListener("unhandledRejection",e)}))}}return e.ready});e.exports=r},9593:e=>{e.exports.$='"use strict";var Module={};var ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads");var parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",data=>onmessage({data:data}));var fs=require("fs");Object.assign(global,{self:global,require:require,Module:Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:function(f){(0,eval)(fs.readFileSync(f,"utf8")+"//# sourceURL="+f)},postMessage:function(msg){parentPort.postMessage(msg)},performance:global.performance||{now:function(){return Date.now()}}})}var initializedJS=false;var pendingNotifiedProxyingQueues=[];function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,text+"\n");return}console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:text,threadId:Module["_pthread_self"]()})}var err=threadPrintErr;self.alert=threadAlert;Module["instantiateWasm"]=(info,receiveInstance)=>{var instance=new WebAssembly.Instance(Module["wasmModule"],info);receiveInstance(instance);Module["wasmModule"]=null;return instance.exports};self.onunhandledrejection=e=>{throw e.reason??e};self.startWorker=instance=>{Module=instance;postMessage({"cmd":"loaded"})};self.onmessage=e=>{try{if(e.data.cmd==="load"){Module["wasmModule"]=e.data.wasmModule;for(const handler of e.data.handlers){Module[handler]=function(){postMessage({cmd:"callHandler",handler:handler,args:[...arguments]})}}Module["wasmMemory"]=e.data.wasmMemory;Module["buffer"]=Module["wasmMemory"].buffer;Module["ENVIRONMENT_IS_PTHREAD"]=true;if(typeof e.data.urlOrBlob=="string"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}WasmBackendModuleThreadedSimd(Module)}else if(e.data.cmd==="run"){Module["__emscripten_thread_init"](e.data.pthread_ptr,0,0,1);Module["establishStackSpace"]();Module["PThread"].receiveObjectTransfer(e.data);Module["PThread"].threadInitTLS();if(!initializedJS){pendingNotifiedProxyingQueues.forEach(queue=>{Module["executeNotifiedProxyingQueue"](queue)});pendingNotifiedProxyingQueues=[];initializedJS=true}try{Module["invokeEntryPoint"](e.data.start_routine,e.data.arg)}catch(ex){if(ex!="unwind"){if(ex instanceof Module["ExitStatus"]){if(Module["keepRuntimeAlive"]()){}else{Module["__emscripten_thread_exit"](ex.status)}}else{throw ex}}}}else if(e.data.cmd==="cancel"){if(Module["_pthread_self"]()){Module["__emscripten_thread_exit"](-1)}}else if(e.data.target==="setimmediate"){}else if(e.data.cmd==="processProxyingQueue"){if(initializedJS){Module["executeNotifiedProxyingQueue"](e.data.queue)}else{pendingNotifiedProxyingQueues.push(e.data.queue)}}else if(e.data.cmd){err("worker.js received unknown command "+e.data.cmd);err(e.data)}}catch(ex){if(Module["__emscripten_thread_crashed"]){Module["__emscripten_thread_crashed"]()}throw ex}};'},3805:(e,t,n)=>{var o,r=(o=(o="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,r,a,i=void 0!==(e=e||{})?e:{};i.ready=new Promise((function(e,n){t=e,r=n})),"undefined"!=typeof process&&process.listeners&&(a={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var s,l,c,u=Object.assign({},i),p=[],d="object"==typeof window,m="function"==typeof importScripts,f="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,h="";if(f){var y=n(9893),g=n(5281);h=m?g.dirname(h)+"/":"//",s=(e,t)=>(e=W(e)?new URL(e):g.normalize(e),y.readFileSync(e,t?void 0:"utf8")),c=e=>{var t=s(e,!0);return t.buffer||(t=new Uint8Array(t)),t},l=(e,t,n)=>{e=W(e)?new URL(e):g.normalize(e),y.readFile(e,(function(e,o){e?n(e):t(o.buffer)}))},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),p=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof H))throw e})),process.on("unhandledRejection",(function(e){throw e})),i.inspect=function(){return"[Emscripten Module object]"}}else(d||m)&&(m?h=self.location.href:"undefined"!=typeof document&&document.currentScript&&(h=document.currentScript.src),o&&(h=o),h=0!==h.indexOf("blob:")?h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1):"",s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},m&&(c=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),l=(e,t,n)=>{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=()=>{200==o.status||0==o.status&&o.response?t(o.response):n()},o.onerror=n,o.send(null)});var b,v=i.print||console.log.bind(console),w=i.printErr||console.warn.bind(console);Object.assign(i,u),u=null,i.arguments&&(p=i.arguments),i.thisProgram&&i.thisProgram,i.quit&&i.quit,i.wasmBinary&&(b=i.wasmBinary);var k;i.noExitRuntime;"object"!=typeof WebAssembly&&P("no native wasm support detected");var x,S,_,I,T=!1,E="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function N(e,t,n){for(var o=(t>>>=0)+n,r=t;e[r]&&!(r>=o);)++r;if(r-t>16&&e.buffer&&E)return E.decode(e.subarray(t,r));for(var a="";t<r;){var i=e[t++];if(128&i){var s=63&e[t++];if(192!=(224&i)){var l=63&e[t++];if((i=224==(240&i)?(15&i)<<12|s<<6|l:(7&i)<<18|s<<12|l<<6|63&e[t++])<65536)a+=String.fromCharCode(i);else{var c=i-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&i)<<6|s)}else a+=String.fromCharCode(i)}return a}function C(e,t){return(e>>>=0)?N(_,e,t):""}function A(e){x=e,i.HEAP8=S=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAP32=new Int32Array(e),i.HEAPU8=_=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAPU32=I=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=new Float64Array(e)}i.INITIAL_MEMORY;var M=[],O=[],D=[],R=0,F=null,z=null;function P(e){i.onAbort&&i.onAbort(e),w(e="Aborted("+e+")"),T=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw r(t),t}var $,L,B="data:application/octet-stream;base64,";function j(e){return e.startsWith(B)}function W(e){return e.startsWith("file://")}function U(e){try{if(e==$&&b)return new Uint8Array(b);if(c)return c(e);throw"both async and sync fetching of the wasm failed"}catch(e){P(e)}}function H(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function V(e){for(;e.length>0;)e.shift()(i)}function q(e){try{return k.grow(e-x.byteLength+65535>>>16),A(k.buffer),1}catch(e){}}j($="tfjs-backend-wasm.wasm")||(L=$,$=i.locateFile?i.locateFile(L,h):h+L);var G=[null,[],[]];function K(e,t){var n=G[e];0===t||10===t?((1===e?v:w)(N(n,0)),n.length=0):n.push(t)}function Y(e){return i["_"+e]}function X(e,t,n,o,r){var a={string:e=>{var t=0;if(null!=e&&0!==e){var n=1+(e.length<<2);!function(e,t,n){!function(e,t,n,o){if(!(o>0))return 0;n>>>=0;for(var r=n+o-1,a=0;a<e.length;++a){var i=e.charCodeAt(a);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++a)),i<=127){if(n>=r)break;t[n++>>>0]=i}else if(i<=2047){if(n+1>=r)break;t[n++>>>0]=192|i>>6,t[n++>>>0]=128|63&i}else if(i<=65535){if(n+2>=r)break;t[n++>>>0]=224|i>>12,t[n++>>>0]=128|i>>6&63,t[n++>>>0]=128|63&i}else{if(n+3>=r)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63,t[n++>>>0]=128|i>>6&63,t[n++>>>0]=128|63&i}}t[n>>>0]=0}(e,_,t,n)}(e,t=oe(n),n)}return t},array:e=>{var t=oe(e.length);return function(e,t){S.set(e,t>>>0)}(e,t),t}},i=Y(e),s=[],l=0;if(o)for(var c=0;c<o.length;c++){var u=a[n[c]];u?(0===l&&(l=te()),s[c]=u(o[c])):s[c]=o[c]}var p=i.apply(null,s);return p=function(e){return 0!==l&&ne(l),function(e){return"string"===t?C(e):"boolean"===t?Boolean(e):e}(e)}(p)}var J,Z,Q,ee={abort:function(){P("")},emscripten_get_heap_max:function(){return 4294901760},emscripten_memcpy_big:function(e,t,n){_.copyWithin(e>>>0,t>>>0,t+n>>>0)},emscripten_resize_heap:function(e){var t,n,o=_.length,r=4294901760;if((e>>>=0)>r)return!1;for(var a=1;a<=4;a*=2){var i=o*(1+.2/a);if(i=Math.min(i,e+100663296),q(Math.min(r,(t=Math.max(e,i))+((n=65536)-t%n)%n)))return!0}return!1},fd_close:function(e){return 52},fd_seek:function(e,t,n,o,r){return 70},fd_write:function(e,t,n,o){for(var r=0,a=0;a<n;a++){var i=I[t>>>2],s=I[t+4>>>2];t+=8;for(var l=0;l<s;l++)K(e,_[i+l>>>0]);r+=s}return I[o>>>2]=r,0}},te=(function(){var e={env:ee,wasi_snapshot_preview1:ee};function t(e,t){var n,o=e.exports;i.asm=o,A((k=i.asm.memory).buffer),i.asm.__indirect_function_table,n=i.asm.__wasm_call_ctors,O.unshift(n),function(){if(R--,i.monitorRunDependencies&&i.monitorRunDependencies(R),0==R&&(null!==F&&(clearInterval(F),F=null),z)){var e=z;z=null,e()}}()}function n(e){t(e.instance)}function o(t){return function(){if(!b&&(d||m)){if("function"==typeof fetch&&!W($))return fetch($,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+$+"'";return e.arrayBuffer()})).catch((function(){return U($)}));if(l)return new Promise((function(e,t){l($,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return U($)}))}().then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){w("failed to asynchronously prepare wasm: "+e),P(e)}))}if(R++,i.monitorRunDependencies&&i.monitorRunDependencies(R),i.instantiateWasm)try{return i.instantiateWasm(e,t)}catch(e){w("Module.instantiateWasm callback failed with error: "+e),r(e)}(b||"function"!=typeof WebAssembly.instantiateStreaming||j($)||W($)||f||"function"!=typeof fetch?o(n):fetch($,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return w("wasm streaming compile failed: "+e),w("falling back to ArrayBuffer instantiation"),o(n)}))}))).catch(r)}(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.__wasm_call_ctors).apply(null,arguments)},i._init=function(){return(i._init=i.asm.init).apply(null,arguments)},i._init_with_threads_count=function(){return(i._init_with_threads_count=i.asm.init_with_threads_count).apply(null,arguments)},i._get_threads_count=function(){return(i._get_threads_count=i.asm.get_threads_count).apply(null,arguments)},i._register_tensor=function(){return(i._register_tensor=i.asm.register_tensor).apply(null,arguments)},i._dispose_data=function(){return(i._dispose_data=i.asm.dispose_data).apply(null,arguments)},i._dispose=function(){return(i._dispose=i.asm.dispose).apply(null,arguments)},i._Abs=function(){return(i._Abs=i.asm.Abs).apply(null,arguments)},i._Acos=function(){return(i._Acos=i.asm.Acos).apply(null,arguments)},i._Acosh=function(){return(i._Acosh=i.asm.Acosh).apply(null,arguments)},i._Add=function(){return(i._Add=i.asm.Add).apply(null,arguments)},i._AddN=function(){return(i._AddN=i.asm.AddN).apply(null,arguments)},i._All=function(){return(i._All=i.asm.All).apply(null,arguments)},i._Any=function(){return(i._Any=i.asm.Any).apply(null,arguments)},i._ArgMax=function(){return(i._ArgMax=i.asm.ArgMax).apply(null,arguments)},i._ArgMin=function(){return(i._ArgMin=i.asm.ArgMin).apply(null,arguments)},i._Asin=function(){return(i._Asin=i.asm.Asin).apply(null,arguments)},i._Asinh=function(){return(i._Asinh=i.asm.Asinh).apply(null,arguments)},i._Atan=function(){return(i._Atan=i.asm.Atan).apply(null,arguments)},i._Atan2=function(){return(i._Atan2=i.asm.Atan2).apply(null,arguments)},i._Atanh=function(){return(i._Atanh=i.asm.Atanh).apply(null,arguments)},i._AvgPool=function(){return(i._AvgPool=i.asm.AvgPool).apply(null,arguments)},i._AvgPool3D=function(){return(i._AvgPool3D=i.asm.AvgPool3D).apply(null,arguments)},i._AvgPool3DGrad=function(){return(i._AvgPool3DGrad=i.asm.AvgPool3DGrad).apply(null,arguments)},i._AvgPoolGrad=function(){return(i._AvgPoolGrad=i.asm.AvgPoolGrad).apply(null,arguments)},i._BatchMatMul=function(){return(i._BatchMatMul=i.asm.BatchMatMul).apply(null,arguments)},i._Bincount=function(){return(i._Bincount=i.asm.Bincount).apply(null,arguments)},i._BitwiseAnd=function(){return(i._BitwiseAnd=i.asm.BitwiseAnd).apply(null,arguments)},i._Ceil=function(){return(i._Ceil=i.asm.Ceil).apply(null,arguments)},i._ClipByValue=function(){return(i._ClipByValue=i.asm.ClipByValue).apply(null,arguments)},i._Conv2D=function(){return(i._Conv2D=i.asm.Conv2D).apply(null,arguments)},i._Conv2DBackpropInput=function(){return(i._Conv2DBackpropInput=i.asm.Conv2DBackpropInput).apply(null,arguments)},i._Conv3D=function(){return(i._Conv3D=i.asm.Conv3D).apply(null,arguments)},i._Conv3DBackpropFilterV2=function(){return(i._Conv3DBackpropFilterV2=i.asm.Conv3DBackpropFilterV2).apply(null,arguments)},i._Conv3DBackpropInputV2=function(){return(i._Conv3DBackpropInputV2=i.asm.Conv3DBackpropInputV2).apply(null,arguments)},i._Cos=function(){return(i._Cos=i.asm.Cos).apply(null,arguments)},i._Cosh=function(){return(i._Cosh=i.asm.Cosh).apply(null,arguments)},i._CropAndResize=function(){return(i._CropAndResize=i.asm.CropAndResize).apply(null,arguments)},i._Cumprod=function(){return(i._Cumprod=i.asm.Cumprod).apply(null,arguments)},i._Cumsum=function(){return(i._Cumsum=i.asm.Cumsum).apply(null,arguments)},i._DenseBincount=function(){return(i._DenseBincount=i.asm.DenseBincount).apply(null,arguments)},i._DepthToSpace=function(){return(i._DepthToSpace=i.asm.DepthToSpace).apply(null,arguments)},i._DepthwiseConv2dNative=function(){return(i._DepthwiseConv2dNative=i.asm.DepthwiseConv2dNative).apply(null,arguments)},i._Diag=function(){return(i._Diag=i.asm.Diag).apply(null,arguments)},i._Dilation2D=function(){return(i._Dilation2D=i.asm.Dilation2D).apply(null,arguments)},i._Dilation2DBackpropFilter=function(){return(i._Dilation2DBackpropFilter=i.asm.Dilation2DBackpropFilter).apply(null,arguments)},i._Dilation2DBackpropInput=function(){return(i._Dilation2DBackpropInput=i.asm.Dilation2DBackpropInput).apply(null,arguments)},i._Elu=function(){return(i._Elu=i.asm.Elu).apply(null,arguments)},i._EluGrad=function(){return(i._EluGrad=i.asm.EluGrad).apply(null,arguments)},i._Equal=function(){return(i._Equal=i.asm.Equal).apply(null,arguments)},i._Erf=function(){return(i._Erf=i.asm.Erf).apply(null,arguments)},i._Exp=function(){return(i._Exp=i.asm.Exp).apply(null,arguments)},i._Expm1=function(){return(i._Expm1=i.asm.Expm1).apply(null,arguments)},i._FlipLeftRight=function(){return(i._FlipLeftRight=i.asm.FlipLeftRight).apply(null,arguments)},i._Floor=function(){return(i._Floor=i.asm.Floor).apply(null,arguments)},i._FloorDiv=function(){return(i._FloorDiv=i.asm.FloorDiv).apply(null,arguments)},i._FusedBatchNorm=function(){return(i._FusedBatchNorm=i.asm.FusedBatchNorm).apply(null,arguments)},i._FusedConv2D=function(){return(i._FusedConv2D=i.asm.FusedConv2D).apply(null,arguments)},i._FusedDepthwiseConv2D=function(){return(i._FusedDepthwiseConv2D=i.asm.FusedDepthwiseConv2D).apply(null,arguments)},i._Gather=function(){return(i._Gather=i.asm.Gather).apply(null,arguments)},i._GatherNd=function(){return(i._GatherNd=i.asm.GatherNd).apply(null,arguments)},i._Greater=function(){return(i._Greater=i.asm.Greater).apply(null,arguments)},i._GreaterEqual=function(){return(i._GreaterEqual=i.asm.GreaterEqual).apply(null,arguments)},i._IsFinite=function(){return(i._IsFinite=i.asm.IsFinite).apply(null,arguments)},i._IsInf=function(){return(i._IsInf=i.asm.IsInf).apply(null,arguments)},i._IsNan=function(){return(i._IsNan=i.asm.IsNan).apply(null,arguments)},i._LRN=function(){return(i._LRN=i.asm.LRN).apply(null,arguments)},i._LRNGrad=function(){return(i._LRNGrad=i.asm.LRNGrad).apply(null,arguments)},i._LeakyRelu=function(){return(i._LeakyRelu=i.asm.LeakyRelu).apply(null,arguments)},i._Less=function(){return(i._Less=i.asm.Less).apply(null,arguments)},i._LessEqual=function(){return(i._LessEqual=i.asm.LessEqual).apply(null,arguments)},i._LinSpace=function(){return(i._LinSpace=i.asm.LinSpace).apply(null,arguments)},i._Log=function(){return(i._Log=i.asm.Log).apply(null,arguments)},i._Log1p=function(){return(i._Log1p=i.asm.Log1p).apply(null,arguments)},i._LogicalAnd=function(){return(i._LogicalAnd=i.asm.LogicalAnd).apply(null,arguments)},i._LogicalNot=function(){return(i._LogicalNot=i.asm.LogicalNot).apply(null,arguments)},i._LogicalOr=function(){return(i._LogicalOr=i.asm.LogicalOr).apply(null,arguments)},i._LogicalXor=function(){return(i._LogicalXor=i.asm.LogicalXor).apply(null,arguments)},i._Max=function(){return(i._Max=i.asm.Max).apply(null,arguments)},i._MaxPool=function(){return(i._MaxPool=i.asm.MaxPool).apply(null,arguments)},i._MaxPool3D=function(){return(i._MaxPool3D=i.asm.MaxPool3D).apply(null,arguments)},i._MaxPool3DGrad=function(){return(i._MaxPool3DGrad=i.asm.MaxPool3DGrad).apply(null,arguments)},i._MaxPoolGrad=function(){return(i._MaxPoolGrad=i.asm.MaxPoolGrad).apply(null,arguments)},i._MaxPoolWithArgmax=function(){return(i._MaxPoolWithArgmax=i.asm.MaxPoolWithArgmax).apply(null,arguments)},i._Maximum=function(){return(i._Maximum=i.asm.Maximum).apply(null,arguments)},i._Mean=function(){return(i._Mean=i.asm.Mean).apply(null,arguments)},i._Min=function(){return(i._Min=i.asm.Min).apply(null,arguments)},i._Minimum=function(){return(i._Minimum=i.asm.Minimum).apply(null,arguments)},i._MirrorPad=function(){return(i._MirrorPad=i.asm.MirrorPad).apply(null,arguments)},i._Mod=function(){return(i._Mod=i.asm.Mod).apply(null,arguments)},i._Multinomial=function(){return(i._Multinomial=i.asm.Multinomial).apply(null,arguments)},i._Multiply=function(){return(i._Multiply=i.asm.Multiply).apply(null,arguments)},i._Neg=function(){return(i._Neg=i.asm.Neg).apply(null,arguments)},i._NonMaxSuppressionV3=function(){return(i._NonMaxSuppressionV3=i.asm.NonMaxSuppressionV3).apply(null,arguments)},i._NonMaxSuppressionV4=function(){return(i._NonMaxSuppressionV4=i.asm.NonMaxSuppressionV4).apply(null,arguments)},i._NonMaxSuppressionV5=function(){return(i._NonMaxSuppressionV5=i.asm.NonMaxSuppressionV5).apply(null,arguments)},i._NotEqual=function(){return(i._NotEqual=i.asm.NotEqual).apply(null,arguments)},i._OneHot=function(){return(i._OneHot=i.asm.OneHot).apply(null,arguments)},i._PadV2=function(){return(i._PadV2=i.asm.PadV2).apply(null,arguments)},i._Pow=function(){return(i._Pow=i.asm.Pow).apply(null,arguments)},i._Prelu=function(){return(i._Prelu=i.asm.Prelu).apply(null,arguments)},i._Prod=function(){return(i._Prod=i.asm.Prod).apply(null,arguments)},i._RealDiv=function(){return(i._RealDiv=i.asm.RealDiv).apply(null,arguments)},i._Reciprocal=function(){return(i._Reciprocal=i.asm.Reciprocal).apply(null,arguments)},i._Relu=function(){return(i._Relu=i.asm.Relu).apply(null,arguments)},i._Relu6=function(){return(i._Relu6=i.asm.Relu6).apply(null,arguments)},i._ResizeBilinear=function(){return(i._ResizeBilinear=i.asm.ResizeBilinear).apply(null,arguments)},i._ResizeBilinearGrad=function(){return(i._ResizeBilinearGrad=i.asm.ResizeBilinearGrad).apply(null,arguments)},i._ResizeNearestNeighbor=function(){return(i._ResizeNearestNeighbor=i.asm.ResizeNearestNeighbor).apply(null,arguments)},i._ResizeNearestNeighborGrad=function(){return(i._ResizeNearestNeighborGrad=i.asm.ResizeNearestNeighborGrad).apply(null,arguments)},i._Reverse=function(){return(i._Reverse=i.asm.Reverse).apply(null,arguments)},i._RotateWithOffset=function(){return(i._RotateWithOffset=i.asm.RotateWithOffset).apply(null,arguments)},i._Round=function(){return(i._Round=i.asm.Round).apply(null,arguments)},i._Rsqrt=function(){return(i._Rsqrt=i.asm.Rsqrt).apply(null,arguments)},i._ScatterNd=function(){return(i._ScatterNd=i.asm.ScatterNd).apply(null,arguments)},i._SearchSorted=function(){return(i._SearchSorted=i.asm.SearchSorted).apply(null,arguments)},i._SelectV2=function(){return(i._SelectV2=i.asm.SelectV2).apply(null,arguments)},i._Selu=function(){return(i._Selu=i.asm.Selu).apply(null,arguments)},i._Sigmoid=function(){return(i._Sigmoid=i.asm.Sigmoid).apply(null,arguments)},i._Sign=function(){return(i._Sign=i.asm.Sign).apply(null,arguments)},i._Sin=function(){return(i._Sin=i.asm.Sin).apply(null,arguments)},i._Sinh=function(){return(i._Sinh=i.asm.Sinh).apply(null,arguments)},i._Softmax=function(){return(i._Softmax=i.asm.Softmax).apply(null,arguments)},i._Softplus=function(){return(i._Softplus=i.asm.Softplus).apply(null,arguments)},i._SparseFillEmptyRows=function(){return(i._SparseFillEmptyRows=i.asm.SparseFillEmptyRows).apply(null,arguments)},i._SparseReshape=function(){return(i._SparseReshape=i.asm.SparseReshape).apply(null,arguments)},i._SparseSegmentReduction=function(){return(i._SparseSegmentReduction=i.asm.SparseSegmentReduction).apply(null,arguments)},i._SparseToDense=function(){return(i._SparseToDense=i.asm.SparseToDense).apply(null,arguments)},i._Sqrt=function(){return(i._Sqrt=i.asm.Sqrt).apply(null,arguments)},i._Square=function(){return(i._Square=i.asm.Square).apply(null,arguments)},i._SquaredDifference=function(){return(i._SquaredDifference=i.asm.SquaredDifference).apply(null,arguments)},i._Step=function(){return(i._Step=i.asm.Step).apply(null,arguments)},i._StridedSlice=function(){return(i._StridedSlice=i.asm.StridedSlice).apply(null,arguments)},i._Sub=function(){return(i._Sub=i.asm.Sub).apply(null,arguments)},i._Sum=function(){return(i._Sum=i.asm.Sum).apply(null,arguments)},i._Tan=function(){return(i._Tan=i.asm.Tan).apply(null,arguments)},i._Tanh=function(){return(i._Tanh=i.asm.Tanh).apply(null,arguments)},i._TensorScatterUpdate=function(){return(i._TensorScatterUpdate=i.asm.TensorScatterUpdate).apply(null,arguments)},i._Tile=function(){return(i._Tile=i.asm.Tile).apply(null,arguments)},i._TopK=function(){return(i._TopK=i.asm.TopK).apply(null,arguments)},i._Transform=function(){return(i._Transform=i.asm.Transform).apply(null,arguments)},i._Transpose=function(){return(i._Transpose=i.asm.Transpose).apply(null,arguments)},i.__FusedMatMul=function(){return(i.__FusedMatMul=i.asm._FusedMatMul).apply(null,arguments)},i._malloc=function(){return(i._malloc=i.asm.malloc).apply(null,arguments)},i._free=function(){return(i._free=i.asm.free).apply(null,arguments)},i.___errno_location=function(){return(i.___errno_location=i.asm.__errno_location).apply(null,arguments)},i.stackSave=function(){return(te=i.stackSave=i.asm.stackSave).apply(null,arguments)}),ne=i.stackRestore=function(){return(ne=i.stackRestore=i.asm.stackRestore).apply(null,arguments)},oe=i.stackAlloc=function(){return(oe=i.stackAlloc=i.asm.stackAlloc).apply(null,arguments)};function re(e){function n(){J||(J=!0,i.calledRun=!0,T||(V(O),t(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),function(){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)e=i.postRun.shift(),D.unshift(e);var e;V(D)}()))}e=e||p,R>0||(function(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)e=i.preRun.shift(),M.unshift(e);var e;V(M)}(),R>0||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),n()}),1)):n()))}if(i.dynCall_iijjiiii=function(){return(i.dynCall_iijjiiii=i.asm.dynCall_iijjiiii).apply(null,arguments)},i.dynCall_jiji=function(){return(i.dynCall_jiji=i.asm.dynCall_jiji).apply(null,arguments)},i.cwrap=function(e,t,n,o){var r=(n=n||[]).every((e=>"number"===e||"boolean"===e));return"string"!==t&&r&&!o?Y(e):function(){return X(e,t,n,arguments)}},z=function e(){J||re(),J||(z=e)},i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();if(re(),a&&(Z={uncaughtException:process.listeners("uncaughtException").filter((function(e){return!a.uncaughtException.indexOf(e)>-1})),unhandledRejection:process.listeners("unhandledRejection").filter((function(e){return!a.unhandledRejection.indexOf(e)>-1}))}),void 0!==e)Q=e;else{if("undefined"==typeof WasmBackendModuleThreadedSimd)throw new Error("Could not find wasm module in post.js");Q=WasmBackendModuleThreadedSimd}if(Z){var ae=Q._dispose;Q._dispose=function(){ae(),Z.uncaughtException.forEach((function(e){process.removeListener("uncaughtException",e)})),Z.unhandledRejection.forEach((function(e){process.removeListener("unhandledRejection",e)}))}}return e.ready});e.exports=r},9760:(e,t,n)=>{"use strict";n.r(t),n.d(t,{camelCase:()=>f,camelCaseTransform:()=>d,camelCaseTransformMerge:()=>m,capitalCase:()=>g,capitalCaseTransform:()=>y,constantCase:()=>v,dotCase:()=>w,headerCase:()=>k,noCase:()=>s,paramCase:()=>x,pascalCase:()=>p,pascalCaseTransform:()=>c,pascalCaseTransformMerge:()=>u,pathCase:()=>S,sentenceCase:()=>I,sentenceCaseTransform:()=>_,snakeCase:()=>T});var o=n(1635);function r(e){return e.toLowerCase()}var a=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],i=/[^A-Z0-9]+/gi;function s(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,o=void 0===n?a:n,s=t.stripRegexp,c=void 0===s?i:s,u=t.transform,p=void 0===u?r:u,d=t.delimiter,m=void 0===d?" ":d,f=l(l(e,o,"$1\0$2"),c,"\0"),h=0,y=f.length;"\0"===f.charAt(h);)h++;for(;"\0"===f.charAt(y-1);)y--;return f.slice(h,y).split("\0").map(p).join(m)}function l(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}function c(e,t){var n=e.charAt(0),o=e.substr(1).toLowerCase();return t>0&&n>="0"&&n<="9"?"_"+n+o:""+n.toUpperCase()+o}function u(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function p(e,t){return void 0===t&&(t={}),s(e,(0,o.Cl)({delimiter:"",transform:c},t))}function d(e,t){return 0===t?e.toLowerCase():c(e,t)}function m(e,t){return 0===t?e.toLowerCase():u(e)}function f(e,t){return void 0===t&&(t={}),p(e,(0,o.Cl)({transform:d},t))}function h(e){return e.charAt(0).toUpperCase()+e.substr(1)}function y(e){return h(e.toLowerCase())}function g(e,t){return void 0===t&&(t={}),s(e,(0,o.Cl)({delimiter:" ",transform:y},t))}function b(e){return e.toUpperCase()}function v(e,t){return void 0===t&&(t={}),s(e,(0,o.Cl)({delimiter:"_",transform:b},t))}function w(e,t){return void 0===t&&(t={}),s(e,(0,o.Cl)({delimiter:"."},t))}function k(e,t){return void 0===t&&(t={}),g(e,(0,o.Cl)({delimiter:"-"},t))}function x(e,t){return void 0===t&&(t={}),w(e,(0,o.Cl)({delimiter:"-"},t))}function S(e,t){return void 0===t&&(t={}),w(e,(0,o.Cl)({delimiter:"/"},t))}function _(e,t){var n=e.toLowerCase();return 0===t?h(n):n}function I(e,t){return void 0===t&&(t={}),s(e,(0,o.Cl)({delimiter:" ",transform:_},t))}function T(e,t){return void 0===t&&(t={}),w(e,(0,o.Cl)({delimiter:"_"},t))}},158:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n(6314),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,'/*\n * Amplify UI Basic Theme\n */\n:root, [data-amplify-theme] {\n  --amplify-components-accordion-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-accordion-item-border-color: var(--amplify-colors-border-secondary);\n  --amplify-components-accordion-item-border-width: var(--amplify-border-widths-small);\n  --amplify-components-accordion-item-border-style: solid;\n  --amplify-components-accordion-item-border-radius: var(--amplify-radii-small);\n  --amplify-components-accordion-item-trigger-align-items: center;\n  --amplify-components-accordion-item-trigger-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-accordion-item-trigger-color: inherit;\n  --amplify-components-accordion-item-trigger-gap: var(--amplify-space-small);\n  --amplify-components-accordion-item-trigger-justify-content: space-between;\n  --amplify-components-accordion-item-trigger-padding-block: var(--amplify-space-xs);\n  --amplify-components-accordion-item-trigger-padding-inline: var(--amplify-space-small);\n  --amplify-components-accordion-item-trigger-hover-color: inherit;\n  --amplify-components-accordion-item-trigger-hover-background-color: var(--amplify-colors-overlay-5);\n  --amplify-components-accordion-item-trigger-focus-border-color: var(--amplify-colors-border-focus);\n  --amplify-components-accordion-item-trigger-focus-box-shadow: 0 0 0 2px var(--amplify-colors-border-focus);\n  --amplify-components-accordion-item-content-color: inherit;\n  --amplify-components-accordion-item-content-padding-inline: var(--amplify-space-small);\n  --amplify-components-accordion-item-content-padding-block-end: var(--amplify-space-small);\n  --amplify-components-accordion-item-content-padding-block-start: var(--amplify-space-xxxs);\n  --amplify-components-accordion-item-icon-color: var(--amplify-colors-font-tertiary);\n  --amplify-components-accordion-item-icon-transition-duration: var(--amplify-time-medium);\n  --amplify-components-accordion-item-icon-transition-timing-function: cubic-bezier(0.87, 0, 0.13, 1);\n  --amplify-components-alert-align-items: center;\n  --amplify-components-alert-justify-content: space-between;\n  --amplify-components-alert-color: var(--amplify-colors-font-primary);\n  --amplify-components-alert-background-color: var(--amplify-colors-background-tertiary);\n  --amplify-components-alert-padding-block: var(--amplify-space-small);\n  --amplify-components-alert-padding-inline: var(--amplify-space-medium);\n  --amplify-components-alert-icon-size: var(--amplify-font-sizes-xl);\n  --amplify-components-alert-heading-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-alert-heading-font-weight: var(--amplify-font-weights-bold);\n  --amplify-components-alert-info-color: var(--amplify-colors-font-info);\n  --amplify-components-alert-info-background-color: var(--amplify-colors-background-info);\n  --amplify-components-alert-error-color: var(--amplify-colors-font-error);\n  --amplify-components-alert-error-background-color: var(--amplify-colors-background-error);\n  --amplify-components-alert-warning-color: var(--amplify-colors-font-warning);\n  --amplify-components-alert-warning-background-color: var(--amplify-colors-background-warning);\n  --amplify-components-alert-success-color: var(--amplify-colors-font-success);\n  --amplify-components-alert-success-background-color: var(--amplify-colors-background-success);\n  --amplify-components-authenticator-max-width: 60rem;\n  --amplify-components-authenticator-modal-width: var(--amplify-space-relative-full);\n  --amplify-components-authenticator-modal-height: var(--amplify-space-relative-full);\n  --amplify-components-authenticator-modal-background-color: var(--amplify-colors-overlay-50);\n  --amplify-components-authenticator-modal-top: var(--amplify-space-zero);\n  --amplify-components-authenticator-modal-left: var(--amplify-space-zero);\n  --amplify-components-authenticator-container-width-max: 30rem;\n  --amplify-components-authenticator-router-border-width: var(--amplify-border-widths-small);\n  --amplify-components-authenticator-router-border-style: solid;\n  --amplify-components-authenticator-router-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-authenticator-router-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-authenticator-router-box-shadow: var(--amplify-shadows-medium);\n  --amplify-components-authenticator-footer-padding-bottom: var(--amplify-space-medium);\n  --amplify-components-authenticator-form-padding: var(--amplify-space-xl);\n  --amplify-components-authenticator-state-inactive-background-color: var(--amplify-colors-background-secondary);\n  --amplify-components-authenticator-or-container-color: var(--amplify-colors-neutral-80);\n  --amplify-components-authenticator-or-container-or-line-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-autocomplete-menu-width: 100%;\n  --amplify-components-autocomplete-menu-margin-block-start: var(--amplify-space-xxxs);\n  --amplify-components-autocomplete-menu-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-autocomplete-menu-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-autocomplete-menu-border-width: var(--amplify-border-widths-small);\n  --amplify-components-autocomplete-menu-border-style: solid;\n  --amplify-components-autocomplete-menu-border-radius: var(--amplify-radii-small);\n  --amplify-components-autocomplete-menu-options-display: flex;\n  --amplify-components-autocomplete-menu-options-flex-direction: column;\n  --amplify-components-autocomplete-menu-options-max-height: 300px;\n  --amplify-components-autocomplete-menu-option-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-autocomplete-menu-option-color: currentcolor;\n  --amplify-components-autocomplete-menu-option-cursor: pointer;\n  --amplify-components-autocomplete-menu-option-transition-duration: var(--amplify-time-short);\n  --amplify-components-autocomplete-menu-option-transition-property: background-color, color;\n  --amplify-components-autocomplete-menu-option-transition-timing-function: ease;\n  --amplify-components-autocomplete-menu-option-active-background-color: var(--amplify-colors-primary-80);\n  --amplify-components-autocomplete-menu-option-active-color: var(--amplify-colors-white);\n  --amplify-components-autocomplete-menu-empty-display: flex;\n  --amplify-components-autocomplete-menu-loading-align-items: center;\n  --amplify-components-autocomplete-menu-loading-display: flex;\n  --amplify-components-autocomplete-menu-loading-gap: var(--amplify-space-xxxs);\n  --amplify-components-autocomplete-menu-space-shared-padding-block: var(--amplify-space-xs);\n  --amplify-components-autocomplete-menu-space-shared-padding-inline: var(--amplify-space-small);\n  --amplify-components-badge-color: var(--amplify-colors-font-primary);\n  --amplify-components-badge-line-height: 1;\n  --amplify-components-badge-font-weight: var(--amplify-font-weights-semibold);\n  --amplify-components-badge-font-size: var(--amplify-font-sizes-small);\n  --amplify-components-badge-text-align: center;\n  --amplify-components-badge-padding-vertical: var(--amplify-space-xs);\n  --amplify-components-badge-padding-horizontal: var(--amplify-space-small);\n  --amplify-components-badge-background-color: var(--amplify-colors-background-tertiary);\n  --amplify-components-badge-border-radius: var(--amplify-radii-xl);\n  --amplify-components-badge-info-color: var(--amplify-colors-font-info);\n  --amplify-components-badge-info-background-color: var(--amplify-colors-background-info);\n  --amplify-components-badge-warning-color: var(--amplify-colors-font-warning);\n  --amplify-components-badge-warning-background-color: var(--amplify-colors-background-warning);\n  --amplify-components-badge-success-color: var(--amplify-colors-font-success);\n  --amplify-components-badge-success-background-color: var(--amplify-colors-background-success);\n  --amplify-components-badge-error-color: var(--amplify-colors-font-error);\n  --amplify-components-badge-error-background-color: var(--amplify-colors-background-error);\n  --amplify-components-badge-small-font-size: var(--amplify-font-sizes-xs);\n  --amplify-components-badge-small-padding-vertical: var(--amplify-space-xxs);\n  --amplify-components-badge-small-padding-horizontal: var(--amplify-space-xs);\n  --amplify-components-badge-large-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-badge-large-padding-vertical: var(--amplify-space-small);\n  --amplify-components-badge-large-padding-horizontal: var(--amplify-space-medium);\n  --amplify-components-breadcrumbs-flex-direction: row;\n  --amplify-components-breadcrumbs-flex-wrap: wrap;\n  --amplify-components-breadcrumbs-gap: 0;\n  --amplify-components-breadcrumbs-color: var(--amplify-colors-font-tertiary);\n  --amplify-components-breadcrumbs-item-flex-direction: row;\n  --amplify-components-breadcrumbs-item-color: inherit;\n  --amplify-components-breadcrumbs-item-font-size: inherit;\n  --amplify-components-breadcrumbs-item-align-items: center;\n  --amplify-components-breadcrumbs-item-line-height: 1;\n  --amplify-components-breadcrumbs-separator-color: inherit;\n  --amplify-components-breadcrumbs-separator-font-size: inherit;\n  --amplify-components-breadcrumbs-separator-padding-inline: var(--amplify-space-xxs);\n  --amplify-components-breadcrumbs-link-color: var(--amplify-components-link-color);\n  --amplify-components-breadcrumbs-link-font-size: inherit;\n  --amplify-components-breadcrumbs-link-font-weight: normal;\n  --amplify-components-breadcrumbs-link-text-decoration: none;\n  --amplify-components-breadcrumbs-link-padding-inline: var(--amplify-space-xs);\n  --amplify-components-breadcrumbs-link-padding-block: var(--amplify-space-xxs);\n  --amplify-components-breadcrumbs-link-current-color: inherit;\n  --amplify-components-breadcrumbs-link-current-font-size: inherit;\n  --amplify-components-breadcrumbs-link-current-font-weight: normal;\n  --amplify-components-breadcrumbs-link-current-text-decoration: none;\n  --amplify-components-button-font-weight: var(--amplify-font-weights-bold);\n  --amplify-components-button-transition-duration: var(--amplify-components-fieldcontrol-transition-duration);\n  --amplify-components-button-font-size: var(--amplify-components-fieldcontrol-font-size);\n  --amplify-components-button-line-height: var(--amplify-components-fieldcontrol-line-height);\n  --amplify-components-button-padding-block-start: var(--amplify-components-fieldcontrol-padding-block-start);\n  --amplify-components-button-padding-block-end: var(--amplify-components-fieldcontrol-padding-block-end);\n  --amplify-components-button-padding-inline-start: var(--amplify-components-fieldcontrol-padding-inline-start);\n  --amplify-components-button-padding-inline-end: var(--amplify-components-fieldcontrol-padding-inline-end);\n  --amplify-components-button-background-color: transparent;\n  --amplify-components-button-border-color: var(--amplify-components-fieldcontrol-border-color);\n  --amplify-components-button-border-width: var(--amplify-components-fieldcontrol-border-width);\n  --amplify-components-button-border-style: var(--amplify-components-fieldcontrol-border-style);\n  --amplify-components-button-border-radius: var(--amplify-components-fieldcontrol-border-radius);\n  --amplify-components-button-color: var(--amplify-colors-font-primary);\n  --amplify-components-button-hover-color: var(--amplify-colors-font-focus);\n  --amplify-components-button-hover-background-color: var(--amplify-colors-primary-10);\n  --amplify-components-button-hover-border-color: var(--amplify-colors-primary-60);\n  --amplify-components-button-focus-color: var(--amplify-colors-font-focus);\n  --amplify-components-button-focus-background-color: var(--amplify-colors-primary-10);\n  --amplify-components-button-focus-border-color: var(--amplify-colors-border-focus);\n  --amplify-components-button-focus-box-shadow: var(--amplify-components-fieldcontrol-focus-box-shadow);\n  --amplify-components-button-active-color: var(--amplify-colors-font-active);\n  --amplify-components-button-active-background-color: var(--amplify-colors-primary-20);\n  --amplify-components-button-active-border-color: var(--amplify-colors-primary-100);\n  --amplify-components-button-loading-color: var(--amplify-colors-font-disabled);\n  --amplify-components-button-loading-background-color: transparent;\n  --amplify-components-button-loading-border-color: var(--amplify-colors-border-tertiary);\n  --amplify-components-button-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-button-disabled-background-color: transparent;\n  --amplify-components-button-disabled-border-color: var(--amplify-colors-border-tertiary);\n  --amplify-components-button-outlined-info-border-color: var(--amplify-colors-blue-60);\n  --amplify-components-button-outlined-info-background-color: transparent;\n  --amplify-components-button-outlined-info-color: var(--amplify-colors-blue-100);\n  --amplify-components-button-outlined-info-hover-border-color: var(--amplify-colors-blue-60);\n  --amplify-components-button-outlined-info-hover-background-color: var(--amplify-colors-blue-10);\n  --amplify-components-button-outlined-info-hover-color: var(--amplify-colors-blue-100);\n  --amplify-components-button-outlined-info-focus-border-color: var(--amplify-colors-blue-100);\n  --amplify-components-button-outlined-info-focus-background-color: var(--amplify-colors-blue-10);\n  --amplify-components-button-outlined-info-focus-color: var(--amplify-colors-blue-100);\n  --amplify-components-button-outlined-info-focus-box-shadow: var(--amplify-components-fieldcontrol-info-focus-box-shadow);\n  --amplify-components-button-outlined-info-active-border-color: var(--amplify-colors-blue-100);\n  --amplify-components-button-outlined-info-active-background-color: var(--amplify-colors-blue-20);\n  --amplify-components-button-outlined-info-active-color: var(--amplify-colors-blue-100);\n  --amplify-components-button-outlined-warning-border-color: var(--amplify-colors-orange-60);\n  --amplify-components-button-outlined-warning-background-color: transparent;\n  --amplify-components-button-outlined-warning-color: var(--amplify-colors-orange-100);\n  --amplify-components-button-outlined-warning-hover-border-color: var(--amplify-colors-orange-60);\n  --amplify-components-button-outlined-warning-hover-background-color: var(--amplify-colors-orange-10);\n  --amplify-components-button-outlined-warning-hover-color: var(--amplify-colors-orange-100);\n  --amplify-components-button-outlined-warning-focus-border-color: var(--amplify-colors-orange-100);\n  --amplify-components-button-outlined-warning-focus-background-color: var(--amplify-colors-orange-10);\n  --amplify-components-button-outlined-warning-focus-color: var(--amplify-colors-orange-100);\n  --amplify-components-button-outlined-warning-focus-box-shadow: var(--amplify-components-fieldcontrol-warning-focus-box-shadow);\n  --amplify-components-button-outlined-warning-active-border-color: var(--amplify-colors-orange-100);\n  --amplify-components-button-outlined-warning-active-background-color: var(--amplify-colors-orange-20);\n  --amplify-components-button-outlined-warning-active-color: var(--amplify-colors-orange-100);\n  --amplify-components-button-outlined-success-border-color: var(--amplify-colors-green-60);\n  --amplify-components-button-outlined-success-background-color: transparent;\n  --amplify-components-button-outlined-success-color: var(--amplify-colors-green-100);\n  --amplify-components-button-outlined-success-hover-border-color: var(--amplify-colors-green-60);\n  --amplify-components-button-outlined-success-hover-background-color: var(--amplify-colors-green-10);\n  --amplify-components-button-outlined-success-hover-color: var(--amplify-colors-green-100);\n  --amplify-components-button-outlined-success-focus-border-color: var(--amplify-colors-green-100);\n  --amplify-components-button-outlined-success-focus-background-color: var(--amplify-colors-green-10);\n  --amplify-components-button-outlined-success-focus-color: var(--amplify-colors-green-100);\n  --amplify-components-button-outlined-success-focus-box-shadow: var(--amplify-components-fieldcontrol-success-focus-box-shadow);\n  --amplify-components-button-outlined-success-active-border-color: var(--amplify-colors-green-100);\n  --amplify-components-button-outlined-success-active-background-color: var(--amplify-colors-green-20);\n  --amplify-components-button-outlined-success-active-color: var(--amplify-colors-green-100);\n  --amplify-components-button-outlined-error-border-color: var(--amplify-colors-red-80);\n  --amplify-components-button-outlined-error-background-color: transparent;\n  --amplify-components-button-outlined-error-color: var(--amplify-colors-red-100);\n  --amplify-components-button-outlined-error-hover-border-color: var(--amplify-colors-red-80);\n  --amplify-components-button-outlined-error-hover-background-color: var(--amplify-colors-red-10);\n  --amplify-components-button-outlined-error-hover-color: var(--amplify-colors-red-100);\n  --amplify-components-button-outlined-error-focus-border-color: var(--amplify-colors-red-100);\n  --amplify-components-button-outlined-error-focus-background-color: var(--amplify-colors-red-10);\n  --amplify-components-button-outlined-error-focus-color: var(--amplify-colors-red-100);\n  --amplify-components-button-outlined-error-focus-box-shadow: var(--amplify-components-fieldcontrol-error-focus-box-shadow);\n  --amplify-components-button-outlined-error-active-border-color: var(--amplify-colors-red-100);\n  --amplify-components-button-outlined-error-active-background-color: var(--amplify-colors-red-20);\n  --amplify-components-button-outlined-error-active-color: var(--amplify-colors-red-100);\n  --amplify-components-button-outlined-overlay-border-color: var(--amplify-colors-overlay-60);\n  --amplify-components-button-outlined-overlay-background-color: transparent;\n  --amplify-components-button-outlined-overlay-color: var(--amplify-colors-font-primary);\n  --amplify-components-button-outlined-overlay-hover-border-color: var(--amplify-colors-overlay-60);\n  --amplify-components-button-outlined-overlay-hover-background-color: var(--amplify-colors-overlay-5);\n  --amplify-components-button-outlined-overlay-hover-color: var(--amplify-colors-neutral-90);\n  --amplify-components-button-outlined-overlay-focus-border-color: var(--amplify-colors-overlay-90);\n  --amplify-components-button-outlined-overlay-focus-background-color: var(--amplify-colors-overlay-5);\n  --amplify-components-button-outlined-overlay-focus-color: var(--amplify-colors-neutral-90);\n  --amplify-components-button-outlined-overlay-focus-box-shadow: var(--amplify-components-fieldcontrol-overlay-focus-box-shadow);\n  --amplify-components-button-outlined-overlay-active-border-color: var(--amplify-colors-overlay-90);\n  --amplify-components-button-outlined-overlay-active-background-color: var(--amplify-colors-overlay-10);\n  --amplify-components-button-outlined-overlay-active-color: var(--amplify-colors-neutral-100);\n  --amplify-components-button-primary-border-color: transparent;\n  --amplify-components-button-primary-border-width: var(--amplify-border-widths-small);\n  --amplify-components-button-primary-border-style: solid;\n  --amplify-components-button-primary-background-color: var(--amplify-colors-primary-80);\n  --amplify-components-button-primary-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-disabled-border-color: transparent;\n  --amplify-components-button-primary-disabled-background-color: var(--amplify-colors-background-disabled);\n  --amplify-components-button-primary-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-button-primary-loading-border-color: transparent;\n  --amplify-components-button-primary-loading-background-color: var(--amplify-colors-background-disabled);\n  --amplify-components-button-primary-loading-color: var(--amplify-colors-font-disabled);\n  --amplify-components-button-primary-hover-border-color: transparent;\n  --amplify-components-button-primary-hover-background-color: var(--amplify-colors-primary-90);\n  --amplify-components-button-primary-hover-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-focus-border-color: transparent;\n  --amplify-components-button-primary-focus-background-color: var(--amplify-colors-primary-90);\n  --amplify-components-button-primary-focus-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-focus-box-shadow: var(--amplify-components-fieldcontrol-focus-box-shadow);\n  --amplify-components-button-primary-active-border-color: transparent;\n  --amplify-components-button-primary-active-background-color: var(--amplify-colors-primary-100);\n  --amplify-components-button-primary-active-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-info-border-color: transparent;\n  --amplify-components-button-primary-info-background-color: var(--amplify-colors-blue-80);\n  --amplify-components-button-primary-info-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-info-hover-border-color: transparent;\n  --amplify-components-button-primary-info-hover-background-color: var(--amplify-colors-blue-90);\n  --amplify-components-button-primary-info-hover-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-info-focus-border-color: transparent;\n  --amplify-components-button-primary-info-focus-background-color: var(--amplify-colors-blue-90);\n  --amplify-components-button-primary-info-focus-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-info-focus-box-shadow: var(--amplify-components-fieldcontrol-info-focus-box-shadow);\n  --amplify-components-button-primary-info-active-border-color: transparent;\n  --amplify-components-button-primary-info-active-background-color: var(--amplify-colors-blue-100);\n  --amplify-components-button-primary-info-active-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-warning-border-color: transparent;\n  --amplify-components-button-primary-warning-background-color: var(--amplify-colors-orange-80);\n  --amplify-components-button-primary-warning-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-warning-hover-border-color: transparent;\n  --amplify-components-button-primary-warning-hover-background-color: var(--amplify-colors-orange-90);\n  --amplify-components-button-primary-warning-hover-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-warning-focus-border-color: transparent;\n  --amplify-components-button-primary-warning-focus-background-color: var(--amplify-colors-orange-90);\n  --amplify-components-button-primary-warning-focus-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-warning-focus-box-shadow: var(--amplify-components-fieldcontrol-overlay-focus-box-shadow);\n  --amplify-components-button-primary-warning-active-border-color: transparent;\n  --amplify-components-button-primary-warning-active-background-color: var(--amplify-colors-orange-100);\n  --amplify-components-button-primary-warning-active-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-error-border-color: transparent;\n  --amplify-components-button-primary-error-background-color: var(--amplify-colors-red-80);\n  --amplify-components-button-primary-error-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-error-hover-border-color: transparent;\n  --amplify-components-button-primary-error-hover-background-color: var(--amplify-colors-red-90);\n  --amplify-components-button-primary-error-hover-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-error-focus-border-color: transparent;\n  --amplify-components-button-primary-error-focus-background-color: var(--amplify-colors-red-90);\n  --amplify-components-button-primary-error-focus-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-error-focus-box-shadow: var(--amplify-components-fieldcontrol-error-focus-box-shadow);\n  --amplify-components-button-primary-error-active-border-color: transparent;\n  --amplify-components-button-primary-error-active-background-color: var(--amplify-colors-red-100);\n  --amplify-components-button-primary-error-active-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-success-border-color: transparent;\n  --amplify-components-button-primary-success-background-color: var(--amplify-colors-green-80);\n  --amplify-components-button-primary-success-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-success-hover-border-color: transparent;\n  --amplify-components-button-primary-success-hover-background-color: var(--amplify-colors-green-90);\n  --amplify-components-button-primary-success-hover-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-success-focus-border-color: transparent;\n  --amplify-components-button-primary-success-focus-background-color: var(--amplify-colors-green-90);\n  --amplify-components-button-primary-success-focus-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-success-focus-box-shadow: var(--amplify-components-fieldcontrol-success-focus-box-shadow);\n  --amplify-components-button-primary-success-active-border-color: transparent;\n  --amplify-components-button-primary-success-active-background-color: var(--amplify-colors-green-100);\n  --amplify-components-button-primary-success-active-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-overlay-border-color: transparent;\n  --amplify-components-button-primary-overlay-background-color: var(--amplify-colors-overlay-70);\n  --amplify-components-button-primary-overlay-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-overlay-hover-border-color: transparent;\n  --amplify-components-button-primary-overlay-hover-background-color: var(--amplify-colors-overlay-90);\n  --amplify-components-button-primary-overlay-hover-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-overlay-focus-border-color: transparent;\n  --amplify-components-button-primary-overlay-focus-background-color: var(--amplify-colors-overlay-90);\n  --amplify-components-button-primary-overlay-focus-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-overlay-focus-box-shadow: var(--amplify-components-fieldcontrol-overlay-focus-box-shadow);\n  --amplify-components-button-primary-overlay-active-border-color: transparent;\n  --amplify-components-button-primary-overlay-active-background-color: var(--amplify-colors-overlay-90);\n  --amplify-components-button-primary-overlay-active-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-menu-border-width: var(--amplify-space-zero);\n  --amplify-components-button-menu-background-color: transparent;\n  --amplify-components-button-menu-justify-content: start;\n  --amplify-components-button-menu-hover-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-menu-hover-background-color: var(--amplify-colors-primary-80);\n  --amplify-components-button-menu-focus-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-menu-focus-background-color: var(--amplify-colors-primary-80);\n  --amplify-components-button-menu-active-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-menu-active-background-color: var(--amplify-colors-primary-90);\n  --amplify-components-button-menu-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-button-link-background-color: transparent;\n  --amplify-components-button-link-border-color: transparent;\n  --amplify-components-button-link-border-width: var(--amplify-border-widths-small);\n  --amplify-components-button-link-color: var(--amplify-colors-font-interactive);\n  --amplify-components-button-link-hover-border-color: transparent;\n  --amplify-components-button-link-hover-background-color: var(--amplify-colors-primary-10);\n  --amplify-components-button-link-hover-color: var(--amplify-colors-font-hover);\n  --amplify-components-button-link-focus-border-color: transparent;\n  --amplify-components-button-link-focus-background-color: var(--amplify-colors-primary-10);\n  --amplify-components-button-link-focus-color: var(--amplify-colors-font-focus);\n  --amplify-components-button-link-focus-box-shadow: var(--amplify-components-fieldcontrol-focus-box-shadow);\n  --amplify-components-button-link-active-border-color: transparent;\n  --amplify-components-button-link-active-background-color: var(--amplify-colors-primary-20);\n  --amplify-components-button-link-active-color: var(--amplify-colors-font-active);\n  --amplify-components-button-link-disabled-border-color: transparent;\n  --amplify-components-button-link-disabled-background-color: transparent;\n  --amplify-components-button-link-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-button-link-loading-border-color: transparent;\n  --amplify-components-button-link-loading-background-color: transparent;\n  --amplify-components-button-link-loading-color: var(--amplify-colors-font-disabled);\n  --amplify-components-button-link-info-border-color: transparent;\n  --amplify-components-button-link-info-background-color: transparent;\n  --amplify-components-button-link-info-color: var(--amplify-colors-blue-100);\n  --amplify-components-button-link-info-hover-border-color: transparent;\n  --amplify-components-button-link-info-hover-background-color: var(--amplify-colors-blue-10);\n  --amplify-components-button-link-info-hover-color: var(--amplify-colors-blue-90);\n  --amplify-components-button-link-info-focus-border-color: transparent;\n  --amplify-components-button-link-info-focus-background-color: var(--amplify-colors-blue-10);\n  --amplify-components-button-link-info-focus-color: var(--amplify-colors-blue-100);\n  --amplify-components-button-link-info-focus-box-shadow: var(--amplify-components-fieldcontrol-info-focus-box-shadow);\n  --amplify-components-button-link-info-active-border-color: transparent;\n  --amplify-components-button-link-info-active-background-color: var(--amplify-colors-blue-20);\n  --amplify-components-button-link-info-active-color: var(--amplify-colors-blue-100);\n  --amplify-components-button-link-warning-border-color: transparent;\n  --amplify-components-button-link-warning-background-color: transparent;\n  --amplify-components-button-link-warning-color: var(--amplify-colors-orange-100);\n  --amplify-components-button-link-warning-hover-border-color: transparent;\n  --amplify-components-button-link-warning-hover-background-color: var(--amplify-colors-orange-10);\n  --amplify-components-button-link-warning-hover-color: var(--amplify-colors-orange-90);\n  --amplify-components-button-link-warning-focus-border-color: transparent;\n  --amplify-components-button-link-warning-focus-background-color: var(--amplify-colors-orange-10);\n  --amplify-components-button-link-warning-focus-color: var(--amplify-colors-orange-100);\n  --amplify-components-button-link-warning-focus-box-shadow: var(--amplify-components-fieldcontrol-warning-focus-box-shadow);\n  --amplify-components-button-link-warning-active-border-color: transparent;\n  --amplify-components-button-link-warning-active-background-color: var(--amplify-colors-orange-20);\n  --amplify-components-button-link-warning-active-color: var(--amplify-colors-orange-100);\n  --amplify-components-button-link-success-border-color: transparent;\n  --amplify-components-button-link-success-background-color: transparent;\n  --amplify-components-button-link-success-color: var(--amplify-colors-green-100);\n  --amplify-components-button-link-success-hover-border-color: transparent;\n  --amplify-components-button-link-success-hover-background-color: var(--amplify-colors-green-10);\n  --amplify-components-button-link-success-hover-color: var(--amplify-colors-green-90);\n  --amplify-components-button-link-success-focus-border-color: transparent;\n  --amplify-components-button-link-success-focus-background-color: var(--amplify-colors-green-10);\n  --amplify-components-button-link-success-focus-color: var(--amplify-colors-green-100);\n  --amplify-components-button-link-success-focus-box-shadow: var(--amplify-components-fieldcontrol-success-focus-box-shadow);\n  --amplify-components-button-link-success-active-border-color: transparent;\n  --amplify-components-button-link-success-active-background-color: var(--amplify-colors-green-20);\n  --amplify-components-button-link-success-active-color: var(--amplify-colors-green-100);\n  --amplify-components-button-link-error-border-color: transparent;\n  --amplify-components-button-link-error-background-color: transparent;\n  --amplify-components-button-link-error-color: var(--amplify-colors-red-100);\n  --amplify-components-button-link-error-hover-border-color: transparent;\n  --amplify-components-button-link-error-hover-background-color: var(--amplify-colors-red-10);\n  --amplify-components-button-link-error-hover-color: var(--amplify-colors-red-90);\n  --amplify-components-button-link-error-focus-border-color: transparent;\n  --amplify-components-button-link-error-focus-background-color: var(--amplify-colors-red-10);\n  --amplify-components-button-link-error-focus-color: var(--amplify-colors-red-100);\n  --amplify-components-button-link-error-focus-box-shadow: var(--amplify-components-fieldcontrol-error-focus-box-shadow);\n  --amplify-components-button-link-error-active-border-color: transparent;\n  --amplify-components-button-link-error-active-background-color: var(--amplify-colors-red-20);\n  --amplify-components-button-link-error-active-color: var(--amplify-colors-red-100);\n  --amplify-components-button-link-overlay-border-color: transparent;\n  --amplify-components-button-link-overlay-background-color: transparent;\n  --amplify-components-button-link-overlay-color: var(--amplify-colors-neutral-100);\n  --amplify-components-button-link-overlay-hover-border-color: transparent;\n  --amplify-components-button-link-overlay-hover-background-color: var(--amplify-colors-overlay-5);\n  --amplify-components-button-link-overlay-hover-color: var(--amplify-colors-overlay-80);\n  --amplify-components-button-link-overlay-focus-border-color: transparent;\n  --amplify-components-button-link-overlay-focus-background-color: var(--amplify-colors-overlay-5);\n  --amplify-components-button-link-overlay-focus-color: var(--amplify-colors-overlay-90);\n  --amplify-components-button-link-overlay-focus-box-shadow: var(--amplify-components-fieldcontrol-overlay-focus-box-shadow);\n  --amplify-components-button-link-overlay-active-border-color: transparent;\n  --amplify-components-button-link-overlay-active-background-color: var(--amplify-colors-overlay-10);\n  --amplify-components-button-link-overlay-active-color: var(--amplify-colors-overlay-90);\n  --amplify-components-button-warning-background-color: transparent;\n  --amplify-components-button-warning-border-color: var(--amplify-colors-red-60);\n  --amplify-components-button-warning-border-width: var(--amplify-border-widths-small);\n  --amplify-components-button-warning-color: var(--amplify-colors-red-60);\n  --amplify-components-button-warning-hover-border-color: var(--amplify-colors-red-80);\n  --amplify-components-button-warning-hover-background-color: var(--amplify-colors-red-10);\n  --amplify-components-button-warning-hover-color: var(--amplify-colors-font-error);\n  --amplify-components-button-warning-focus-border-color: var(--amplify-colors-red-80);\n  --amplify-components-button-warning-focus-background-color: var(--amplify-colors-red-10);\n  --amplify-components-button-warning-focus-color: var(--amplify-colors-red-80);\n  --amplify-components-button-warning-focus-box-shadow: var(--amplify-components-fieldcontrol-error-focus-box-shadow);\n  --amplify-components-button-warning-active-border-color: var(--amplify-colors-red-100);\n  --amplify-components-button-warning-active-background-color: var(--amplify-colors-red-20);\n  --amplify-components-button-warning-active-color: var(--amplify-colors-red-100);\n  --amplify-components-button-warning-disabled-border-color: var(--amplify-colors-border-tertiary);\n  --amplify-components-button-warning-disabled-background-color: transparent;\n  --amplify-components-button-warning-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-button-warning-loading-border-color: var(--amplify-colors-border-tertiary);\n  --amplify-components-button-warning-loading-background-color: transparent;\n  --amplify-components-button-warning-loading-color: var(--amplify-colors-font-disabled);\n  --amplify-components-button-destructive-border-color: transparent;\n  --amplify-components-button-destructive-border-width: var(--amplify-border-widths-small);\n  --amplify-components-button-destructive-border-style: solid;\n  --amplify-components-button-destructive-background-color: var(--amplify-colors-red-60);\n  --amplify-components-button-destructive-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-destructive-disabled-border-color: transparent;\n  --amplify-components-button-destructive-disabled-background-color: var(--amplify-colors-background-disabled);\n  --amplify-components-button-destructive-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-button-destructive-loading-border-color: transparent;\n  --amplify-components-button-destructive-loading-background-color: var(--amplify-colors-background-disabled);\n  --amplify-components-button-destructive-loading-color: var(--amplify-colors-font-disabled);\n  --amplify-components-button-destructive-hover-border-color: transparent;\n  --amplify-components-button-destructive-hover-background-color: var(--amplify-colors-red-80);\n  --amplify-components-button-destructive-hover-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-destructive-focus-border-color: transparent;\n  --amplify-components-button-destructive-focus-background-color: var(--amplify-colors-red-80);\n  --amplify-components-button-destructive-focus-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-destructive-focus-box-shadow: var(--amplify-components-fieldcontrol-error-focus-box-shadow);\n  --amplify-components-button-destructive-active-border-color: transparent;\n  --amplify-components-button-destructive-active-background-color: var(--amplify-colors-red-100);\n  --amplify-components-button-destructive-active-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-small-font-size: var(--amplify-components-fieldcontrol-small-font-size);\n  --amplify-components-button-small-padding-block-start: var(--amplify-components-fieldcontrol-small-padding-block-start);\n  --amplify-components-button-small-padding-block-end: var(--amplify-components-fieldcontrol-small-padding-block-end);\n  --amplify-components-button-small-padding-inline-start: var(--amplify-components-fieldcontrol-small-padding-inline-start);\n  --amplify-components-button-small-padding-inline-end: var(--amplify-components-fieldcontrol-small-padding-inline-end);\n  --amplify-components-button-large-font-size: var(--amplify-components-fieldcontrol-large-font-size);\n  --amplify-components-button-large-padding-block-start: var(--amplify-components-fieldcontrol-large-padding-block-start);\n  --amplify-components-button-large-padding-block-end: var(--amplify-components-fieldcontrol-large-padding-block-end);\n  --amplify-components-button-large-padding-inline-start: var(--amplify-components-fieldcontrol-large-padding-inline-start);\n  --amplify-components-button-large-padding-inline-end: var(--amplify-components-fieldcontrol-large-padding-inline-end);\n  --amplify-components-button-loader-wrapper-align-items: center;\n  --amplify-components-button-loader-wrapper-gap: var(--amplify-space-xs);\n  --amplify-components-card-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-card-border-radius: var(--amplify-radii-xs);\n  --amplify-components-card-border-width: 0;\n  --amplify-components-card-border-style: solid;\n  --amplify-components-card-border-color: transparent;\n  --amplify-components-card-box-shadow: none;\n  --amplify-components-card-padding: var(--amplify-space-medium);\n  --amplify-components-card-outlined-background-color: var(--amplify-components-card-background-color);\n  --amplify-components-card-outlined-border-radius: var(--amplify-radii-xs);\n  --amplify-components-card-outlined-border-width: var(--amplify-border-widths-small);\n  --amplify-components-card-outlined-border-style: solid;\n  --amplify-components-card-outlined-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-card-outlined-box-shadow: var(--amplify-components-card-box-shadow);\n  --amplify-components-card-elevated-background-color: var(--amplify-components-card-background-color);\n  --amplify-components-card-elevated-border-radius: var(--amplify-radii-xs);\n  --amplify-components-card-elevated-border-width: 0;\n  --amplify-components-card-elevated-border-style: solid;\n  --amplify-components-card-elevated-border-color: transparent;\n  --amplify-components-card-elevated-box-shadow: var(--amplify-shadows-medium);\n  --amplify-components-checkbox-cursor: pointer;\n  --amplify-components-checkbox-align-items: center;\n  --amplify-components-checkbox-disabled-cursor: not-allowed;\n  --amplify-components-checkbox-button-position: relative;\n  --amplify-components-checkbox-button-align-items: center;\n  --amplify-components-checkbox-button-justify-content: center;\n  --amplify-components-checkbox-button-color: var(--amplify-colors-font-inverse);\n  --amplify-components-checkbox-button-before-width: 100%;\n  --amplify-components-checkbox-button-before-height: 100%;\n  --amplify-components-checkbox-button-before-border-width: var(--amplify-border-widths-medium);\n  --amplify-components-checkbox-button-before-border-radius: 20%;\n  --amplify-components-checkbox-button-before-border-style: solid;\n  --amplify-components-checkbox-button-before-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-checkbox-button-focus-outline-color: var(--amplify-colors-transparent);\n  --amplify-components-checkbox-button-focus-outline-style: solid;\n  --amplify-components-checkbox-button-focus-outline-width: var(--amplify-outline-widths-medium);\n  --amplify-components-checkbox-button-focus-outline-offset: var(--amplify-outline-offsets-medium);\n  --amplify-components-checkbox-button-focus-border-color: var(--amplify-colors-border-focus);\n  --amplify-components-checkbox-button-focus-box-shadow: var(--amplify-components-fieldcontrol-focus-box-shadow);\n  --amplify-components-checkbox-button-disabled-border-color: var(--amplify-colors-border-disabled);\n  --amplify-components-checkbox-button-error-border-color: var(--amplify-colors-border-error);\n  --amplify-components-checkbox-button-error-focus-border-color: var(--amplify-colors-border-error);\n  --amplify-components-checkbox-button-error-focus-box-shadow: var(--amplify-components-fieldcontrol-error-focus-box-shadow);\n  --amplify-components-checkbox-icon-background-color: var(--amplify-colors-primary-80);\n  --amplify-components-checkbox-icon-border-radius: 20%;\n  --amplify-components-checkbox-icon-opacity: var(--amplify-opacities-0);\n  --amplify-components-checkbox-icon-transform: scale(0);\n  --amplify-components-checkbox-icon-transition-property: all;\n  --amplify-components-checkbox-icon-transition-duration: var(--amplify-time-short);\n  --amplify-components-checkbox-icon-transition-timing-function: ease-in-out;\n  --amplify-components-checkbox-icon-checked-opacity: var(--amplify-opacities-100);\n  --amplify-components-checkbox-icon-checked-transform: scale(1);\n  --amplify-components-checkbox-icon-checked-disabled-background-color: var(--amplify-colors-background-disabled);\n  --amplify-components-checkbox-icon-indeterminate-opacity: var(--amplify-opacities-100);\n  --amplify-components-checkbox-icon-indeterminate-transform: scale(1);\n  --amplify-components-checkbox-icon-indeterminate-disabled-background-color: var(--amplify-colors-background-disabled);\n  --amplify-components-checkbox-label-color: var(--amplify-components-text-color);\n  --amplify-components-checkbox-label-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-checkboxfield-align-items: flex-start;\n  --amplify-components-checkboxfield-align-content: center;\n  --amplify-components-checkboxfield-flex-direction: column;\n  --amplify-components-checkboxfield-justify-content: center;\n  --amplify-components-collection-pagination-current-color: var(--amplify-components-pagination-current-color);\n  --amplify-components-collection-pagination-current-background-color: var(--amplify-components-pagination-current-background-color);\n  --amplify-components-collection-pagination-button-color: var(--amplify-components-pagination-button-color);\n  --amplify-components-collection-pagination-button-hover-background-color: var(--amplify-components-pagination-button-hover-background-color);\n  --amplify-components-collection-pagination-button-hover-color: var(--amplify-components-pagination-button-hover-color);\n  --amplify-components-collection-pagination-button-disabled-color: var(--amplify-components-pagination-button-disabled-color);\n  --amplify-components-collection-search-input-color: var(--amplify-components-searchfield-color);\n  --amplify-components-collection-search-button-color: var(--amplify-components-searchfield-button-color);\n  --amplify-components-collection-search-button-active-background-color: var(--amplify-components-searchfield-button-active-background-color);\n  --amplify-components-collection-search-button-active-border-color: var(--amplify-components-searchfield-button-active-border-color);\n  --amplify-components-collection-search-button-active-color: var(--amplify-components-searchfield-button-active-color);\n  --amplify-components-collection-search-button-disabled-background-color: var(--amplify-components-searchfield-button-disabled-background-color);\n  --amplify-components-collection-search-button-disabled-border-color: var(--amplify-components-searchfield-button-disabled-border-color);\n  --amplify-components-collection-search-button-disabled-color: var(--amplify-components-searchfield-button-disabled-color);\n  --amplify-components-collection-search-button-focus-background-color: var(--amplify-components-searchfield-button-focus-background-color);\n  --amplify-components-collection-search-button-focus-border-color: var(--amplify-components-searchfield-button-focus-border-color);\n  --amplify-components-collection-search-button-focus-color: var(--amplify-components-searchfield-button-focus-color);\n  --amplify-components-collection-search-button-hover-background-color: var(--amplify-components-searchfield-button-hover-background-color);\n  --amplify-components-collection-search-button-hover-border-color: var(--amplify-components-searchfield-button-hover-border-color);\n  --amplify-components-collection-search-button-hover-color: var(--amplify-components-searchfield-button-hover-color);\n  --amplify-components-copy-font-size: var(--amplify-font-sizes-xs);\n  --amplify-components-copy-gap: var(--amplify-space-relative-medium);\n  --amplify-components-copy-svg-path-fill: var(--amplify-colors-font-primary);\n  --amplify-components-copy-tool-tip-bottom: var(--amplify-space-large);\n  --amplify-components-copy-tool-tip-color: var(--amplify-colors-teal-100);\n  --amplify-components-copy-tool-tip-font-size: var(--amplify-font-sizes-xxs);\n  --amplify-components-countrycodeselect-height: var(--amplify-space-relative-full);\n  --amplify-components-divider-border-style: solid;\n  --amplify-components-divider-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-divider-border-width: var(--amplify-border-widths-medium);\n  --amplify-components-divider-label-color: var(--amplify-colors-font-tertiary);\n  --amplify-components-divider-label-padding-inline: var(--amplify-space-medium);\n  --amplify-components-divider-label-font-size: var(--amplify-font-sizes-small);\n  --amplify-components-divider-label-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-divider-small-border-width: var(--amplify-border-widths-small);\n  --amplify-components-divider-large-border-width: var(--amplify-border-widths-large);\n  --amplify-components-divider-opacity: var(--amplify-opacities-60);\n  --amplify-components-dropzone-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-dropzone-border-radius: var(--amplify-radii-small);\n  --amplify-components-dropzone-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-dropzone-border-style: dashed;\n  --amplify-components-dropzone-border-width: var(--amplify-border-widths-small);\n  --amplify-components-dropzone-color: var(--amplify-colors-font-primary);\n  --amplify-components-dropzone-gap: var(--amplify-space-small);\n  --amplify-components-dropzone-padding-block: var(--amplify-space-xl);\n  --amplify-components-dropzone-padding-inline: var(--amplify-space-large);\n  --amplify-components-dropzone-text-align: center;\n  --amplify-components-dropzone-active-background-color: var(--amplify-colors-primary-10);\n  --amplify-components-dropzone-active-border-radius: var(--amplify-components-dropzone-border-radius);\n  --amplify-components-dropzone-active-border-color: var(--amplify-colors-border-pressed);\n  --amplify-components-dropzone-active-border-style: var(--amplify-components-dropzone-border-style);\n  --amplify-components-dropzone-active-border-width: var(--amplify-components-dropzone-border-width);\n  --amplify-components-dropzone-active-color: var(--amplify-colors-font-primary);\n  --amplify-components-dropzone-disabled-background-color: var(--amplify-colors-background-disabled);\n  --amplify-components-dropzone-disabled-border-radius: var(--amplify-components-dropzone-border-radius);\n  --amplify-components-dropzone-disabled-border-color: var(--amplify-colors-border-disabled);\n  --amplify-components-dropzone-disabled-border-style: var(--amplify-components-dropzone-border-style);\n  --amplify-components-dropzone-disabled-border-width: var(--amplify-components-dropzone-border-width);\n  --amplify-components-dropzone-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-dropzone-accepted-background-color: var(--amplify-colors-background-success);\n  --amplify-components-dropzone-accepted-border-radius: var(--amplify-components-dropzone-border-radius);\n  --amplify-components-dropzone-accepted-border-color: var(--amplify-colors-border-success);\n  --amplify-components-dropzone-accepted-border-style: var(--amplify-components-dropzone-border-style);\n  --amplify-components-dropzone-accepted-border-width: var(--amplify-components-dropzone-border-width);\n  --amplify-components-dropzone-accepted-color: var(--amplify-colors-font-success);\n  --amplify-components-dropzone-rejected-background-color: var(--amplify-colors-background-error);\n  --amplify-components-dropzone-rejected-border-radius: var(--amplify-components-dropzone-border-radius);\n  --amplify-components-dropzone-rejected-border-color: var(--amplify-colors-border-pressed);\n  --amplify-components-dropzone-rejected-border-style: var(--amplify-components-dropzone-border-style);\n  --amplify-components-dropzone-rejected-border-width: var(--amplify-components-dropzone-border-width);\n  --amplify-components-dropzone-rejected-color: var(--amplify-colors-font-error);\n  --amplify-components-field-gap: var(--amplify-space-xs);\n  --amplify-components-field-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-field-flex-direction: column;\n  --amplify-components-field-small-gap: var(--amplify-space-xxxs);\n  --amplify-components-field-small-font-size: var(--amplify-font-sizes-small);\n  --amplify-components-field-large-gap: var(--amplify-space-small);\n  --amplify-components-field-large-font-size: var(--amplify-font-sizes-large);\n  --amplify-components-field-label-color: var(--amplify-colors-font-secondary);\n  --amplify-components-fieldcontrol-border-style: solid;\n  --amplify-components-fieldcontrol-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-fieldcontrol-border-width: var(--amplify-border-widths-small);\n  --amplify-components-fieldcontrol-border-radius: var(--amplify-radii-small);\n  --amplify-components-fieldcontrol-color: var(--amplify-colors-font-primary);\n  --amplify-components-fieldcontrol-padding-block-start: var(--amplify-space-xs);\n  --amplify-components-fieldcontrol-padding-block-end: var(--amplify-space-xs);\n  --amplify-components-fieldcontrol-padding-inline-start: var(--amplify-space-medium);\n  --amplify-components-fieldcontrol-padding-inline-end: var(--amplify-space-medium);\n  --amplify-components-fieldcontrol-font-size: var(--amplify-components-field-font-size);\n  --amplify-components-fieldcontrol-line-height: var(--amplify-line-heights-medium);\n  --amplify-components-fieldcontrol-transition-duration: var(--amplify-time-medium);\n  --amplify-components-fieldcontrol-outline-color: var(--amplify-colors-transparent);\n  --amplify-components-fieldcontrol-outline-style: solid;\n  --amplify-components-fieldcontrol-outline-width: var(--amplify-outline-widths-medium);\n  --amplify-components-fieldcontrol-outline-offset: var(--amplify-outline-offsets-medium);\n  --amplify-components-fieldcontrol-small-font-size: var(--amplify-components-field-small-font-size);\n  --amplify-components-fieldcontrol-small-padding-block-start: var(--amplify-space-xxs);\n  --amplify-components-fieldcontrol-small-padding-block-end: var(--amplify-space-xxs);\n  --amplify-components-fieldcontrol-small-padding-inline-start: var(--amplify-space-small);\n  --amplify-components-fieldcontrol-small-padding-inline-end: var(--amplify-space-small);\n  --amplify-components-fieldcontrol-large-font-size: var(--amplify-components-field-large-font-size);\n  --amplify-components-fieldcontrol-large-padding-block-start: var(--amplify-space-xs);\n  --amplify-components-fieldcontrol-large-padding-block-end: var(--amplify-space-xs);\n  --amplify-components-fieldcontrol-large-padding-inline-start: var(--amplify-space-medium);\n  --amplify-components-fieldcontrol-large-padding-inline-end: var(--amplify-space-medium);\n  --amplify-components-fieldcontrol-quiet-border-style: none;\n  --amplify-components-fieldcontrol-quiet-border-inline-start: none;\n  --amplify-components-fieldcontrol-quiet-border-inline-end: none;\n  --amplify-components-fieldcontrol-quiet-border-block-start: none;\n  --amplify-components-fieldcontrol-quiet-border-radius: 0;\n  --amplify-components-fieldcontrol-quiet-focus-border-block-end-color: transparent;\n  --amplify-components-fieldcontrol-quiet-focus-box-shadow: var(--amplify-components-fieldcontrol-focus-box-shadow);\n  --amplify-components-fieldcontrol-quiet-error-border-block-end-color: var(--amplify-colors-border-error);\n  --amplify-components-fieldcontrol-quiet-error-focus-border-block-end-color: transparent;\n  --amplify-components-fieldcontrol-quiet-error-focus-box-shadow: var(--amplify-components-fieldcontrol-error-focus-box-shadow);\n  --amplify-components-fieldcontrol-focus-border-color: var(--amplify-colors-border-focus);\n  --amplify-components-fieldcontrol-focus-box-shadow: 0px 0px 0px 2px var(--amplify-colors-border-focus);\n  --amplify-components-fieldcontrol-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-fieldcontrol-disabled-cursor: not-allowed;\n  --amplify-components-fieldcontrol-disabled-border-color: var(--amplify-colors-transparent);\n  --amplify-components-fieldcontrol-disabled-background-color: var(--amplify-colors-background-disabled);\n  --amplify-components-fieldcontrol-error-border-color: var(--amplify-colors-border-error);\n  --amplify-components-fieldcontrol-error-color: var(--amplify-colors-font-error);\n  --amplify-components-fieldcontrol-error-focus-box-shadow: 0px 0px 0px 2px var(--amplify-colors-border-error);\n  --amplify-components-fieldcontrol-info-focus-box-shadow: 0px 0px 0px 2px var(--amplify-colors-blue-100);\n  --amplify-components-fieldcontrol-warning-focus-box-shadow: 0px 0px 0px 2px var(--amplify-colors-orange-100);\n  --amplify-components-fieldcontrol-success-focus-box-shadow: 0px 0px 0px 2px var(--amplify-colors-green-100);\n  --amplify-components-fieldcontrol-overlay-focus-box-shadow: 0px 0px 0px 2px var(--amplify-colors-overlay-90);\n  --amplify-components-fieldgroup-gap: var(--amplify-space-zero);\n  --amplify-components-fieldgroup-vertical-align-items: center;\n  --amplify-components-fieldgroup-outer-align-items: center;\n  --amplify-components-fieldmessages-error-color: var(--amplify-colors-font-error);\n  --amplify-components-fieldmessages-error-font-size: var(--amplify-font-sizes-small);\n  --amplify-components-fieldmessages-description-color: var(--amplify-colors-font-secondary);\n  --amplify-components-fieldmessages-description-font-style: italic;\n  --amplify-components-fieldmessages-description-font-size: var(--amplify-font-sizes-small);\n  --amplify-components-fieldset-background-color: transparent;\n  --amplify-components-fieldset-border-radius: var(--amplify-radii-xs);\n  --amplify-components-fieldset-flex-direction: column;\n  --amplify-components-fieldset-gap: var(--amplify-components-field-gap);\n  --amplify-components-fieldset-legend-color: var(--amplify-colors-font-primary);\n  --amplify-components-fieldset-legend-font-size: var(--amplify-components-field-font-size);\n  --amplify-components-fieldset-legend-font-weight: var(--amplify-font-weights-bold);\n  --amplify-components-fieldset-legend-line-height: var(--amplify-line-heights-medium);\n  --amplify-components-fieldset-legend-small-font-size: var(--amplify-components-field-small-font-size);\n  --amplify-components-fieldset-legend-large-font-size: var(--amplify-components-field-large-font-size);\n  --amplify-components-fieldset-outlined-padding: var(--amplify-space-medium);\n  --amplify-components-fieldset-outlined-border-color: var(--amplify-colors-neutral-40);\n  --amplify-components-fieldset-outlined-border-width: var(--amplify-border-widths-small);\n  --amplify-components-fieldset-outlined-border-style: solid;\n  --amplify-components-fieldset-outlined-small-padding: var(--amplify-space-small);\n  --amplify-components-fieldset-outlined-large-padding: var(--amplify-space-large);\n  --amplify-components-fieldset-small-gap: var(--amplify-components-field-small-gap);\n  --amplify-components-fieldset-large-gap: var(--amplify-components-field-large-gap);\n  --amplify-components-flex-gap: var(--amplify-space-medium);\n  --amplify-components-flex-justify-content: normal;\n  --amplify-components-flex-align-items: stretch;\n  --amplify-components-flex-align-content: normal;\n  --amplify-components-flex-flex-wrap: nowrap;\n  --amplify-components-heading-1-font-size: var(--amplify-font-sizes-xxxxl);\n  --amplify-components-heading-1-font-weight: var(--amplify-font-weights-light);\n  --amplify-components-heading-2-font-size: var(--amplify-font-sizes-xxxl);\n  --amplify-components-heading-2-font-weight: var(--amplify-font-weights-normal);\n  --amplify-components-heading-3-font-size: var(--amplify-font-sizes-xxl);\n  --amplify-components-heading-3-font-weight: var(--amplify-font-weights-medium);\n  --amplify-components-heading-4-font-size: var(--amplify-font-sizes-xl);\n  --amplify-components-heading-4-font-weight: var(--amplify-font-weights-semibold);\n  --amplify-components-heading-5-font-size: var(--amplify-font-sizes-large);\n  --amplify-components-heading-5-font-weight: var(--amplify-font-weights-bold);\n  --amplify-components-heading-6-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-heading-6-font-weight: var(--amplify-font-weights-extrabold);\n  --amplify-components-heading-color: var(--amplify-colors-font-primary);\n  --amplify-components-heading-line-height: var(--amplify-line-heights-small);\n  --amplify-components-icon-line-height: 1;\n  --amplify-components-icon-height: 1em;\n  --amplify-components-highlightmatch-highlighted-font-weight: var(--amplify-font-weights-bold);\n  --amplify-components-image-max-width: 100%;\n  --amplify-components-image-height: auto;\n  --amplify-components-image-object-fit: initial;\n  --amplify-components-image-object-position: initial;\n  --amplify-components-inappmessaging-banner-height: 150px ;\n  --amplify-components-inappmessaging-banner-width: 400px ;\n  --amplify-components-inappmessaging-button-background-color: #e8e8e8;\n  --amplify-components-inappmessaging-button-border-radius: 5px;\n  --amplify-components-inappmessaging-button-color: black;\n  --amplify-components-inappmessaging-dialog-height: 50vh;\n  --amplify-components-inappmessaging-dialog-min-height: 400px;\n  --amplify-components-inappmessaging-dialog-min-width: 400px;\n  --amplify-components-inappmessaging-dialog-width: 30vw;\n  --amplify-components-inappmessaging-header-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-inappmessaging-header-font-weight: var(--amplify-font-weights-extrabold);\n  --amplify-components-input-color: var(--amplify-components-fieldcontrol-color);\n  --amplify-components-input-border-color: var(--amplify-components-fieldcontrol-border-color);\n  --amplify-components-input-font-size: var(--amplify-components-fieldcontrol-font-size);\n  --amplify-components-input-focus-border-color: var(--amplify-components-fieldcontrol-focus-border-color);\n  --amplify-components-link-active-color: var(--amplify-colors-font-active);\n  --amplify-components-link-color: var(--amplify-colors-font-interactive);\n  --amplify-components-link-focus-color: var(--amplify-colors-font-focus);\n  --amplify-components-link-hover-color: var(--amplify-colors-font-hover);\n  --amplify-components-link-visited-color: var(--amplify-colors-font-interactive);\n  --amplify-components-liveness-camera-module-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-loader-width: var(--amplify-font-sizes-medium);\n  --amplify-components-loader-height: var(--amplify-font-sizes-medium);\n  --amplify-components-loader-font-size: var(--amplify-font-sizes-xs);\n  --amplify-components-loader-stroke-empty: var(--amplify-colors-neutral-20);\n  --amplify-components-loader-stroke-filled: var(--amplify-colors-primary-80);\n  --amplify-components-loader-stroke-linecap: round;\n  --amplify-components-loader-animation-duration: 1s;\n  --amplify-components-loader-small-width: var(--amplify-font-sizes-small);\n  --amplify-components-loader-small-height: var(--amplify-font-sizes-small);\n  --amplify-components-loader-small-font-size: var(--amplify-font-sizes-xxs);\n  --amplify-components-loader-large-width: var(--amplify-font-sizes-large);\n  --amplify-components-loader-large-height: var(--amplify-font-sizes-large);\n  --amplify-components-loader-large-font-size: var(--amplify-font-sizes-small);\n  --amplify-components-loader-linear-width: 100%;\n  --amplify-components-loader-linear-min-width: 5rem;\n  --amplify-components-loader-linear-font-size: var(--amplify-font-sizes-xxs);\n  --amplify-components-loader-linear-stroke-width: var(--amplify-font-sizes-xxs);\n  --amplify-components-loader-linear-stroke-filled: var(--amplify-colors-primary-80);\n  --amplify-components-loader-linear-stroke-empty: var(--amplify-colors-neutral-20);\n  --amplify-components-loader-linear-stroke-linecap: round;\n  --amplify-components-loader-linear-animation-duration: 1s;\n  --amplify-components-loader-linear-small-stroke-width: var(--amplify-font-sizes-xxxs);\n  --amplify-components-loader-linear-small-font-size: var(--amplify-font-sizes-xxxs);\n  --amplify-components-loader-linear-large-stroke-width: var(--amplify-font-sizes-xs);\n  --amplify-components-loader-linear-large-font-size: var(--amplify-font-sizes-xs);\n  --amplify-components-loader-text-fill: var(--amplify-colors-font-primary);\n  --amplify-components-menu-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-menu-border-radius: var(--amplify-radii-medium);\n  --amplify-components-menu-border-width: var(--amplify-border-widths-small);\n  --amplify-components-menu-border-style: solid;\n  --amplify-components-menu-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-menu-box-shadow: var(--amplify-shadows-large);\n  --amplify-components-menu-flex-direction: column;\n  --amplify-components-menu-gap: var(--amplify-space-zero);\n  --amplify-components-menu-max-width: 30rem;\n  --amplify-components-menu-min-width: 14rem;\n  --amplify-components-menu-small-width: var(--amplify-font-sizes-medium);\n  --amplify-components-menu-small-height: var(--amplify-font-sizes-medium);\n  --amplify-components-menu-large-width: var(--amplify-font-sizes-xxxl);\n  --amplify-components-menu-large-height: var(--amplify-font-sizes-xxxl);\n  --amplify-components-menu-item-min-height: 2.5rem;\n  --amplify-components-menu-item-padding-inline-start: var(--amplify-space-medium);\n  --amplify-components-menu-item-padding-inline-end: var(--amplify-space-medium);\n  --amplify-components-message-align-items: center;\n  --amplify-components-message-background-color: var(--amplify-colors-background-tertiary);\n  --amplify-components-message-border-color: transparent;\n  --amplify-components-message-border-style: solid;\n  --amplify-components-message-border-width: var(--amplify-border-widths-small);\n  --amplify-components-message-border-radius: var(--amplify-radii-xs);\n  --amplify-components-message-color: var(--amplify-colors-font-primary);\n  --amplify-components-message-justify-content: flex-start;\n  --amplify-components-message-padding-block: var(--amplify-space-small);\n  --amplify-components-message-padding-inline: var(--amplify-space-medium);\n  --amplify-components-message-line-height: var(--amplify-line-heights-small);\n  --amplify-components-message-icon-size: var(--amplify-font-sizes-xl);\n  --amplify-components-message-heading-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-message-heading-font-weight: var(--amplify-font-weights-bold);\n  --amplify-components-message-dismiss-gap: var(--amplify-space-xxs);\n  --amplify-components-message-plain-color: var(--amplify-colors-font-primary);\n  --amplify-components-message-plain-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-message-plain-border-color: transparent;\n  --amplify-components-message-plain-info-color: var(--amplify-colors-font-info);\n  --amplify-components-message-plain-info-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-message-plain-info-border-color: transparent;\n  --amplify-components-message-plain-error-color: var(--amplify-colors-font-error);\n  --amplify-components-message-plain-error-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-message-plain-error-border-color: transparent;\n  --amplify-components-message-plain-success-color: var(--amplify-colors-font-success);\n  --amplify-components-message-plain-success-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-message-plain-success-border-color: transparent;\n  --amplify-components-message-plain-warning-color: var(--amplify-colors-font-warning);\n  --amplify-components-message-plain-warning-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-message-plain-warning-border-color: transparent;\n  --amplify-components-message-outlined-color: var(--amplify-colors-font-primary);\n  --amplify-components-message-outlined-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-message-outlined-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-message-outlined-info-color: var(--amplify-colors-font-info);\n  --amplify-components-message-outlined-info-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-message-outlined-info-border-color: var(--amplify-colors-border-info);\n  --amplify-components-message-outlined-error-color: var(--amplify-colors-font-error);\n  --amplify-components-message-outlined-error-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-message-outlined-error-border-color: var(--amplify-colors-border-error);\n  --amplify-components-message-outlined-success-color: var(--amplify-colors-font-success);\n  --amplify-components-message-outlined-success-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-message-outlined-success-border-color: var(--amplify-colors-border-success);\n  --amplify-components-message-outlined-warning-color: var(--amplify-colors-font-warning);\n  --amplify-components-message-outlined-warning-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-message-outlined-warning-border-color: var(--amplify-colors-border-warning);\n  --amplify-components-message-filled-color: var(--amplify-colors-font-primary);\n  --amplify-components-message-filled-background-color: var(--amplify-colors-background-secondary);\n  --amplify-components-message-filled-border-color: transparent;\n  --amplify-components-message-filled-info-color: var(--amplify-colors-font-info);\n  --amplify-components-message-filled-info-background-color: var(--amplify-colors-background-info);\n  --amplify-components-message-filled-info-border-color: transparent;\n  --amplify-components-message-filled-error-color: var(--amplify-colors-font-error);\n  --amplify-components-message-filled-error-background-color: var(--amplify-colors-background-error);\n  --amplify-components-message-filled-error-border-color: transparent;\n  --amplify-components-message-filled-success-color: var(--amplify-colors-font-success);\n  --amplify-components-message-filled-success-background-color: var(--amplify-colors-background-success);\n  --amplify-components-message-filled-success-border-color: transparent;\n  --amplify-components-message-filled-warning-color: var(--amplify-colors-font-warning);\n  --amplify-components-message-filled-warning-background-color: var(--amplify-colors-background-warning);\n  --amplify-components-message-filled-warning-border-color: transparent;\n  --amplify-components-pagination-current-align-items: center;\n  --amplify-components-pagination-current-justify-content: center;\n  --amplify-components-pagination-current-color: var(--amplify-colors-font-inverse);\n  --amplify-components-pagination-current-font-size: var(--amplify-font-sizes-small);\n  --amplify-components-pagination-current-background-color: var(--amplify-colors-overlay-40);\n  --amplify-components-pagination-button-color: var(--amplify-colors-font-primary);\n  --amplify-components-pagination-button-padding-inline-start: var(--amplify-space-xxs);\n  --amplify-components-pagination-button-padding-inline-end: var(--amplify-space-xxs);\n  --amplify-components-pagination-button-transition-property: background-color;\n  --amplify-components-pagination-button-transition-duration: var(--amplify-time-medium);\n  --amplify-components-pagination-button-hover-background-color: var(--amplify-colors-overlay-10);\n  --amplify-components-pagination-button-hover-color: var(--amplify-colors-font-primary);\n  --amplify-components-pagination-button-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-pagination-ellipsis-align-items: baseline;\n  --amplify-components-pagination-ellipsis-justify-content: center;\n  --amplify-components-pagination-ellipsis-padding-inline-start: var(--amplify-space-xs);\n  --amplify-components-pagination-ellipsis-padding-inline-end: var(--amplify-space-xs);\n  --amplify-components-pagination-item-container-margin-left: var(--amplify-space-xxxs);\n  --amplify-components-pagination-item-container-margin-right: var(--amplify-space-xxxs);\n  --amplify-components-pagination-item-shared-height: var(--amplify-font-sizes-xxl);\n  --amplify-components-pagination-item-shared-min-width: var(--amplify-font-sizes-xxl);\n  --amplify-components-pagination-item-shared-border-radius: var(--amplify-font-sizes-medium);\n  --amplify-components-passwordfield-color: var(--amplify-components-fieldcontrol-color);\n  --amplify-components-passwordfield-button-color: var(--amplify-components-button-color);\n  --amplify-components-passwordfield-button-active-background-color: var(--amplify-components-button-active-background-color);\n  --amplify-components-passwordfield-button-active-border-color: var(--amplify-components-button-active-border-color);\n  --amplify-components-passwordfield-button-active-color: var(--amplify-components-button-active-color);\n  --amplify-components-passwordfield-button-disabled-background-color: var(--amplify-components-button-disabled-background-color);\n  --amplify-components-passwordfield-button-disabled-border-color: var(--amplify-components-button-disabled-border-color);\n  --amplify-components-passwordfield-button-disabled-color: var(--amplify-components-button-disabled-color);\n  --amplify-components-passwordfield-button-error-color: var(--amplify-components-button-outlined-error-color);\n  --amplify-components-passwordfield-button-error-background-color: var(--amplify-components-button-outlined-error-background-color);\n  --amplify-components-passwordfield-button-error-border-color: var(--amplify-components-button-outlined-error-border-color);\n  --amplify-components-passwordfield-button-error-active-border-color: var(--amplify-components-button-outlined-error-active-border-color);\n  --amplify-components-passwordfield-button-error-active-background-color: var(--amplify-components-button-outlined-error-active-background-color);\n  --amplify-components-passwordfield-button-error-active-color: var(--amplify-components-button-outlined-error-active-color);\n  --amplify-components-passwordfield-button-error-focus-border-color: var(--amplify-components-button-outlined-error-focus-border-color);\n  --amplify-components-passwordfield-button-error-focus-background-color: var(--amplify-components-button-outlined-error-focus-background-color);\n  --amplify-components-passwordfield-button-error-focus-color: var(--amplify-components-button-outlined-error-focus-color);\n  --amplify-components-passwordfield-button-error-focus-box-shadow: var(--amplify-components-button-outlined-error-focus-box-shadow);\n  --amplify-components-passwordfield-button-error-hover-border-color: var(--amplify-components-button-outlined-error-hover-border-color);\n  --amplify-components-passwordfield-button-error-hover-background-color: var(--amplify-components-button-outlined-error-hover-background-color);\n  --amplify-components-passwordfield-button-error-hover-color: var(--amplify-components-button-outlined-error-hover-color);\n  --amplify-components-passwordfield-button-focus-background-color: var(--amplify-components-button-focus-background-color);\n  --amplify-components-passwordfield-button-focus-border-color: var(--amplify-components-button-focus-border-color);\n  --amplify-components-passwordfield-button-focus-color: var(--amplify-components-button-focus-color);\n  --amplify-components-passwordfield-button-hover-background-color: var(--amplify-components-button-hover-background-color);\n  --amplify-components-passwordfield-button-hover-border-color: var(--amplify-components-button-hover-border-color);\n  --amplify-components-passwordfield-button-hover-color: var(--amplify-components-button-hover-color);\n  --amplify-components-phonenumberfield-color: var(--amplify-components-fieldcontrol-color);\n  --amplify-components-phonenumberfield-border-color: var(--amplify-components-fieldcontrol-border-color);\n  --amplify-components-phonenumberfield-font-size: var(--amplify-components-fieldcontrol-font-size);\n  --amplify-components-phonenumberfield-focus-border-color: var(--amplify-components-fieldcontrol-focus-border-color);\n  --amplify-components-placeholder-border-radius: var(--amplify-radii-small);\n  --amplify-components-placeholder-transition-duration: var(--amplify-time-long);\n  --amplify-components-placeholder-start-color: var(--amplify-colors-background-secondary);\n  --amplify-components-placeholder-end-color: var(--amplify-colors-background-tertiary);\n  --amplify-components-placeholder-small-height: var(--amplify-space-small);\n  --amplify-components-placeholder-default-height: var(--amplify-space-medium);\n  --amplify-components-placeholder-large-height: var(--amplify-space-large);\n  --amplify-components-radio-align-items: center;\n  --amplify-components-radio-justify-content: flex-start;\n  --amplify-components-radio-gap: inherit;\n  --amplify-components-radio-disabled-cursor: not-allowed;\n  --amplify-components-radio-button-align-items: center;\n  --amplify-components-radio-button-justify-content: center;\n  --amplify-components-radio-button-width: var(--amplify-font-sizes-medium);\n  --amplify-components-radio-button-height: var(--amplify-font-sizes-medium);\n  --amplify-components-radio-button-box-sizing: border-box;\n  --amplify-components-radio-button-border-width: var(--amplify-border-widths-medium);\n  --amplify-components-radio-button-border-style: solid;\n  --amplify-components-radio-button-border-radius: 50%;\n  --amplify-components-radio-button-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-radio-button-color: var(--amplify-colors-background-primary);\n  --amplify-components-radio-button-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-radio-button-transition-property: all;\n  --amplify-components-radio-button-transition-duration: var(--amplify-time-medium);\n  --amplify-components-radio-button-outline-color: var(--amplify-colors-transparent);\n  --amplify-components-radio-button-outline-style: solid;\n  --amplify-components-radio-button-outline-width: var(--amplify-outline-widths-medium);\n  --amplify-components-radio-button-outline-offset: var(--amplify-outline-offsets-medium);\n  --amplify-components-radio-button-padding: var(--amplify-border-widths-medium);\n  --amplify-components-radio-button-small-width: var(--amplify-font-sizes-small);\n  --amplify-components-radio-button-small-height: var(--amplify-font-sizes-small);\n  --amplify-components-radio-button-large-width: var(--amplify-font-sizes-large);\n  --amplify-components-radio-button-large-height: var(--amplify-font-sizes-large);\n  --amplify-components-radio-button-checked-color: var(--amplify-colors-primary-80);\n  --amplify-components-radio-button-checked-disabled-color: var(--amplify-colors-background-disabled);\n  --amplify-components-radio-button-focus-border-color: var(--amplify-colors-border-focus);\n  --amplify-components-radio-button-focus-box-shadow: var(--amplify-components-fieldcontrol-focus-box-shadow);\n  --amplify-components-radio-button-error-border-color: var(--amplify-colors-border-error);\n  --amplify-components-radio-button-error-focus-box-shadow: var(--amplify-components-fieldcontrol-error-focus-box-shadow);\n  --amplify-components-radio-button-disabled-border-color: var(--amplify-colors-border-disabled);\n  --amplify-components-radio-button-disabled-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-radio-label-color: var(--amplify-components-text-color);\n  --amplify-components-radio-label-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-radiogroup-radio-border-width: var(--amplify-components-radio-button-border-width);\n  --amplify-components-radiogroup-radio-border-color: var(--amplify-components-radio-button-border-color);\n  --amplify-components-radiogroup-radio-background-color: var(--amplify-components-radio-button-background-color);\n  --amplify-components-radiogroup-radio-checked-color: var(--amplify-components-radio-button-checked-color);\n  --amplify-components-radiogroup-radio-label-color: var(--amplify-components-radio-label-color);\n  --amplify-components-radiogroup-legend-color: var(--amplify-components-fieldset-legend-color);\n  --amplify-components-radiogroup-legend-font-weight: var(--amplify-font-weights-normal);\n  --amplify-components-rating-large-size: var(--amplify-font-sizes-xxxl);\n  --amplify-components-rating-default-size: var(--amplify-font-sizes-xl);\n  --amplify-components-rating-small-size: var(--amplify-font-sizes-small);\n  --amplify-components-rating-filled-color: var(--amplify-colors-secondary-80);\n  --amplify-components-rating-empty-color: var(--amplify-colors-background-tertiary);\n  --amplify-components-searchfield-color: var(--amplify-components-fieldcontrol-color);\n  --amplify-components-searchfield-button-color: var(--amplify-components-button-color);\n  --amplify-components-searchfield-button-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-searchfield-button-active-background-color: var(--amplify-components-button-active-background-color);\n  --amplify-components-searchfield-button-active-border-color: var(--amplify-components-button-active-border-color);\n  --amplify-components-searchfield-button-active-color: var(--amplify-components-button-active-color);\n  --amplify-components-searchfield-button-disabled-background-color: var(--amplify-components-button-disabled-background-color);\n  --amplify-components-searchfield-button-disabled-border-color: var(--amplify-components-button-disabled-border-color);\n  --amplify-components-searchfield-button-disabled-color: var(--amplify-components-button-disabled-color);\n  --amplify-components-searchfield-button-focus-background-color: var(--amplify-components-button-focus-background-color);\n  --amplify-components-searchfield-button-focus-border-color: var(--amplify-components-button-focus-border-color);\n  --amplify-components-searchfield-button-focus-color: var(--amplify-components-button-focus-color);\n  --amplify-components-searchfield-button-hover-background-color: var(--amplify-components-button-hover-background-color);\n  --amplify-components-searchfield-button-hover-border-color: var(--amplify-components-button-hover-border-color);\n  --amplify-components-searchfield-button-hover-color: var(--amplify-components-button-hover-color);\n  --amplify-components-select-color: var(--amplify-components-fieldcontrol-color);\n  --amplify-components-select-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-select-padding-inline-end: var(--amplify-space-xxl);\n  --amplify-components-select-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-select-disabled-background-color: var(--amplify-colors-background-disabled);\n  --amplify-components-select-wrapper-flex: 1;\n  --amplify-components-select-wrapper-display: block;\n  --amplify-components-select-wrapper-position: relative;\n  --amplify-components-select-wrapper-cursor: pointer;\n  --amplify-components-select-icon-wrapper-align-items: center;\n  --amplify-components-select-icon-wrapper-position: absolute;\n  --amplify-components-select-icon-wrapper-top: 50%;\n  --amplify-components-select-icon-wrapper-right: var(--amplify-space-medium);\n  --amplify-components-select-icon-wrapper-transform: translateY(-50%);\n  --amplify-components-select-icon-wrapper-pointer-events: none;\n  --amplify-components-select-icon-wrapper-small-right: var(--amplify-space-xs);\n  --amplify-components-select-icon-wrapper-large-right: var(--amplify-space-medium);\n  --amplify-components-select-option-background-color: transparent;\n  --amplify-components-select-option-color: var(--amplify-colors-font-primary);\n  --amplify-components-select-option-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-select-option-disabled-background-color: transparent;\n  --amplify-components-select-white-space: nowrap;\n  --amplify-components-select-min-width: 6.5rem;\n  --amplify-components-select-small-min-width: 5.5rem;\n  --amplify-components-select-small-padding-inline-end: var(--amplify-space-xl);\n  --amplify-components-select-large-min-width: 7.5rem;\n  --amplify-components-select-large-padding-inline-end: var(--amplify-space-xxl);\n  --amplify-components-select-expanded-padding-block: var(--amplify-space-xs);\n  --amplify-components-select-expanded-padding-inline: var(--amplify-space-small);\n  --amplify-components-select-expanded-option-padding-block: var(--amplify-space-xs);\n  --amplify-components-select-expanded-option-padding-inline: var(--amplify-space-small);\n  --amplify-components-selectfield-border-color: var(--amplify-components-fieldcontrol-border-color);\n  --amplify-components-selectfield-color: var(--amplify-components-fieldcontrol-color);\n  --amplify-components-selectfield-flex-direction: column;\n  --amplify-components-selectfield-font-size: var(--amplify-components-fieldcontrol-font-size);\n  --amplify-components-selectfield-focus-border-color: var(--amplify-components-fieldcontrol-focus-border-color);\n  --amplify-components-selectfield-label-color: var(--amplify-components-field-label-color);\n  --amplify-components-sliderfield-padding-block: var(--amplify-space-xs);\n  --amplify-components-sliderfield-track-background-color: var(--amplify-colors-background-quaternary);\n  --amplify-components-sliderfield-track-border-radius: 9999px;\n  --amplify-components-sliderfield-track-height: 0.375rem;\n  --amplify-components-sliderfield-track-min-width: 10rem;\n  --amplify-components-sliderfield-range-background-color: var(--amplify-colors-primary-80);\n  --amplify-components-sliderfield-range-border-radius: 9999px;\n  --amplify-components-sliderfield-range-disabled-background-color: var(--amplify-colors-background-disabled);\n  --amplify-components-sliderfield-thumb-width: 1.25rem;\n  --amplify-components-sliderfield-thumb-height: 1.25rem;\n  --amplify-components-sliderfield-thumb-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-sliderfield-thumb-box-shadow: var(--amplify-shadows-small);\n  --amplify-components-sliderfield-thumb-border-radius: 50%;\n  --amplify-components-sliderfield-thumb-border-width: var(--amplify-border-widths-medium);\n  --amplify-components-sliderfield-thumb-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-sliderfield-thumb-border-style: solid;\n  --amplify-components-sliderfield-thumb-disabled-background-color: var(--amplify-colors-background-disabled);\n  --amplify-components-sliderfield-thumb-disabled-border-color: transparent;\n  --amplify-components-sliderfield-thumb-disabled-box-shadow: none;\n  --amplify-components-sliderfield-thumb-hover-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-sliderfield-thumb-hover-border-color: var(--amplify-colors-border-focus);\n  --amplify-components-sliderfield-thumb-focus-border-color: var(--amplify-colors-border-focus);\n  --amplify-components-sliderfield-thumb-focus-box-shadow: var(--amplify-components-fieldcontrol-focus-box-shadow);\n  --amplify-components-sliderfield-small-track-height: 0.25rem;\n  --amplify-components-sliderfield-small-thumb-width: 1rem;\n  --amplify-components-sliderfield-small-thumb-height: 1rem;\n  --amplify-components-sliderfield-large-track-height: 0.625rem;\n  --amplify-components-sliderfield-large-thumb-width: 1.5rem;\n  --amplify-components-sliderfield-large-thumb-height: 1.5rem;\n  --amplify-components-stepperfield-border-color: var(--amplify-components-fieldcontrol-border-color);\n  --amplify-components-stepperfield-flex-direction: column;\n  --amplify-components-stepperfield-input-color: var(--amplify-components-fieldcontrol-color);\n  --amplify-components-stepperfield-input-font-size: var(--amplify-components-fieldcontrol-font-size);\n  --amplify-components-stepperfield-input-text-align: center;\n  --amplify-components-stepperfield-button-color: var(--amplify-components-button-color);\n  --amplify-components-stepperfield-button-background-color: var(--amplify-colors-transparent);\n  --amplify-components-stepperfield-button-active-color: var(--amplify-components-button-active-color);\n  --amplify-components-stepperfield-button-active-background-color: var(--amplify-components-button-active-background-color);\n  --amplify-components-stepperfield-button-focus-color: var(--amplify-components-button-focus-color);\n  --amplify-components-stepperfield-button-focus-background-color: var(--amplify-components-button-focus-background-color);\n  --amplify-components-stepperfield-button-disabled-color: var(--amplify-components-button-disabled-color);\n  --amplify-components-stepperfield-button-disabled-background-color: var(--amplify-components-fieldcontrol-disabled-background-color);\n  --amplify-components-stepperfield-button-hover-color: var(--amplify-components-button-hover-color);\n  --amplify-components-stepperfield-button-hover-background-color: var(--amplify-components-button-hover-background-color);\n  --amplify-components-storagemanager-dropzone-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-storagemanager-dropzone-border-radius: var(--amplify-radii-small);\n  --amplify-components-storagemanager-dropzone-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-storagemanager-dropzone-border-style: dashed;\n  --amplify-components-storagemanager-dropzone-border-width: var(--amplify-border-widths-small);\n  --amplify-components-storagemanager-dropzone-gap: var(--amplify-space-small);\n  --amplify-components-storagemanager-dropzone-padding-block: var(--amplify-space-xl);\n  --amplify-components-storagemanager-dropzone-padding-inline: var(--amplify-space-large);\n  --amplify-components-storagemanager-dropzone-text-align: center;\n  --amplify-components-storagemanager-dropzone-active-background-color: var(--amplify-colors-primary-10);\n  --amplify-components-storagemanager-dropzone-active-border-radius: var(--amplify-components-storagemanager-dropzone-border-radius);\n  --amplify-components-storagemanager-dropzone-active-border-color: var(--amplify-colors-border-pressed);\n  --amplify-components-storagemanager-dropzone-active-border-style: var(--amplify-components-storagemanager-dropzone-border-style);\n  --amplify-components-storagemanager-dropzone-active-border-width: var(--amplify-border-widths-medium);\n  --amplify-components-storagemanager-dropzone-icon-color: var(--amplify-colors-border-primary);\n  --amplify-components-storagemanager-dropzone-icon-font-size: var(--amplify-font-sizes-xxl);\n  --amplify-components-storagemanager-dropzone-text-color: var(--amplify-colors-font-tertiary);\n  --amplify-components-storagemanager-dropzone-text-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-storagemanager-dropzone-text-font-weight: var(--amplify-font-weights-bold);\n  --amplify-components-storagemanager-file-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-storagemanager-file-border-radius: var(--amplify-radii-small);\n  --amplify-components-storagemanager-file-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-storagemanager-file-border-style: solid;\n  --amplify-components-storagemanager-file-border-width: var(--amplify-border-widths-small);\n  --amplify-components-storagemanager-file-padding-block: var(--amplify-space-xs);\n  --amplify-components-storagemanager-file-padding-inline: var(--amplify-space-small);\n  --amplify-components-storagemanager-file-gap: var(--amplify-space-small);\n  --amplify-components-storagemanager-file-align-items: baseline;\n  --amplify-components-storagemanager-file-name-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-storagemanager-file-name-font-weight: var(--amplify-font-weights-bold);\n  --amplify-components-storagemanager-file-name-color: var(--amplify-colors-font-primary);\n  --amplify-components-storagemanager-file-size-font-size: var(--amplify-font-sizes-small);\n  --amplify-components-storagemanager-file-size-font-weight: var(--amplify-font-weights-normal);\n  --amplify-components-storagemanager-file-size-color: var(--amplify-colors-font-tertiary);\n  --amplify-components-storagemanager-file-image-width: var(--amplify-space-xxl);\n  --amplify-components-storagemanager-file-image-height: var(--amplify-space-xxl);\n  --amplify-components-storagemanager-file-image-background-color: var(--amplify-colors-background-secondary);\n  --amplify-components-storagemanager-file-image-color: var(--amplify-colors-font-tertiary);\n  --amplify-components-storagemanager-file-image-border-radius: var(--amplify-radii-small);\n  --amplify-components-storagemanager-filelist-flex-direction: column;\n  --amplify-components-storagemanager-filelist-gap: var(--amplify-space-small);\n  --amplify-components-storagemanager-loader-stroke-linecap: round;\n  --amplify-components-storagemanager-loader-stroke-empty: var(--amplify-colors-border-secondary);\n  --amplify-components-storagemanager-loader-stroke-filled: var(--amplify-components-loader-stroke-filled);\n  --amplify-components-storagemanager-loader-stroke-width: var(--amplify-border-widths-large);\n  --amplify-components-storagemanager-previewer-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-storagemanager-previewer-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-storagemanager-previewer-border-style: solid;\n  --amplify-components-storagemanager-previewer-border-width: var(--amplify-border-widths-small);\n  --amplify-components-storagemanager-previewer-border-radius: var(--amplify-radii-small);\n  --amplify-components-storagemanager-previewer-padding-block: var(--amplify-space-zero);\n  --amplify-components-storagemanager-previewer-padding-inline: var(--amplify-space-zero);\n  --amplify-components-storagemanager-previewer-max-height: 40rem;\n  --amplify-components-storagemanager-previewer-max-width: auto;\n  --amplify-components-storagemanager-previewer-text-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-storagemanager-previewer-text-font-weight: var(--amplify-font-weights-bold);\n  --amplify-components-storagemanager-previewer-text-color: var(--amplify-colors-font-primary);\n  --amplify-components-storagemanager-previewer-body-padding-block: var(--amplify-space-medium);\n  --amplify-components-storagemanager-previewer-body-padding-inline: var(--amplify-space-medium);\n  --amplify-components-storagemanager-previewer-body-gap: var(--amplify-space-small);\n  --amplify-components-storagemanager-previewer-footer-justify-content: flex-end;\n  --amplify-components-switchfield-disabled-opacity: var(--amplify-opacities-60);\n  --amplify-components-switchfield-focused-shadow: var(--amplify-components-fieldcontrol-focus-box-shadow);\n  --amplify-components-switchfield-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-switchfield-large-font-size: var(--amplify-font-sizes-large);\n  --amplify-components-switchfield-small-font-size: var(--amplify-font-sizes-small);\n  --amplify-components-switchfield-label-padding: var(--amplify-space-xs);\n  --amplify-components-switchfield-thumb-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-switchfield-thumb-border-color: transparent;\n  --amplify-components-switchfield-thumb-border-width: var(--amplify-border-widths-small);\n  --amplify-components-switchfield-thumb-border-style: solid;\n  --amplify-components-switchfield-thumb-border-radius: var(--amplify-radii-xxxl);\n  --amplify-components-switchfield-thumb-checked-transform: var(--amplify-transforms-slide-x-medium);\n  --amplify-components-switchfield-thumb-transition-duration: var(--amplify-time-medium);\n  --amplify-components-switchfield-thumb-width: var(--amplify-space-relative-medium);\n  --amplify-components-switchfield-track-background-color: var(--amplify-colors-background-quaternary);\n  --amplify-components-switchfield-track-border-radius: var(--amplify-radii-xxxl);\n  --amplify-components-switchfield-track-checked-background-color: var(--amplify-colors-primary-80);\n  --amplify-components-switchfield-track-height: var(--amplify-space-relative-medium);\n  --amplify-components-switchfield-track-padding: var(--amplify-outline-widths-medium);\n  --amplify-components-switchfield-track-transition-duration: var(--amplify-time-short);\n  --amplify-components-switchfield-track-width: var(--amplify-space-relative-xl);\n  --amplify-components-switchfield-track-error-background-color: var(--amplify-colors-background-error);\n  --amplify-components-table-border-collapse: collapse;\n  --amplify-components-table-display: table;\n  --amplify-components-table-width: 100%;\n  --amplify-components-table-head-display: table-header-group;\n  --amplify-components-table-head-vertical-align: middle;\n  --amplify-components-table-body-display: table-row-group;\n  --amplify-components-table-body-vertical-align: middle;\n  --amplify-components-table-foot-display: table-footer-group;\n  --amplify-components-table-foot-vertical-align: middle;\n  --amplify-components-table-row-display: table-row;\n  --amplify-components-table-row-vertical-align: middle;\n  --amplify-components-table-row-hover-background-color: var(--amplify-colors-background-tertiary);\n  --amplify-components-table-row-striped-background-color: var(--amplify-colors-background-secondary);\n  --amplify-components-table-header-border-color: var(--amplify-colors-border-tertiary);\n  --amplify-components-table-header-border-style: solid;\n  --amplify-components-table-header-border-width: var(--amplify-border-widths-small);\n  --amplify-components-table-header-color: var(--amplify-colors-font-primary);\n  --amplify-components-table-header-display: table-cell;\n  --amplify-components-table-header-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-table-header-font-weight: var(--amplify-font-weights-bold);\n  --amplify-components-table-header-padding: var(--amplify-space-medium);\n  --amplify-components-table-header-vertical-align: middle;\n  --amplify-components-table-header-large-font-size: var(--amplify-font-sizes-large);\n  --amplify-components-table-header-large-padding: var(--amplify-space-large);\n  --amplify-components-table-header-small-font-size: var(--amplify-font-sizes-small);\n  --amplify-components-table-header-small-padding: var(--amplify-space-xs);\n  --amplify-components-table-data-border-color: var(--amplify-colors-border-tertiary);\n  --amplify-components-table-data-border-style: solid;\n  --amplify-components-table-data-border-width: var(--amplify-border-widths-small);\n  --amplify-components-table-data-color: var(--amplify-colors-font-primary);\n  --amplify-components-table-data-display: table-cell;\n  --amplify-components-table-data-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-table-data-font-weight: var(--amplify-font-weights-normal);\n  --amplify-components-table-data-padding: var(--amplify-space-medium);\n  --amplify-components-table-data-vertical-align: middle;\n  --amplify-components-table-data-large-font-size: var(--amplify-font-sizes-large);\n  --amplify-components-table-data-large-padding: var(--amplify-space-large);\n  --amplify-components-table-data-small-font-size: var(--amplify-font-sizes-small);\n  --amplify-components-table-data-small-padding: var(--amplify-space-xs);\n  --amplify-components-table-caption-caption-side: bottom;\n  --amplify-components-table-caption-color: var(--amplify-colors-font-primary);\n  --amplify-components-table-caption-display: table-caption;\n  --amplify-components-table-caption-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-table-caption-text-align: center;\n  --amplify-components-table-caption-word-break: break-all;\n  --amplify-components-table-caption-large-font-size: var(--amplify-font-sizes-large);\n  --amplify-components-table-caption-small-font-size: var(--amplify-font-sizes-small);\n  --amplify-components-tabs-background-color: transparent;\n  --amplify-components-tabs-border-color: var(--amplify-colors-border-secondary);\n  --amplify-components-tabs-border-style: solid;\n  --amplify-components-tabs-border-width: var(--amplify-border-widths-medium);\n  --amplify-components-tabs-gap: 0;\n  --amplify-components-tabs-item-background-color: transparent;\n  --amplify-components-tabs-item-border-color: var(--amplify-colors-border-secondary);\n  --amplify-components-tabs-item-border-style: solid;\n  --amplify-components-tabs-item-border-width: var(--amplify-border-widths-medium);\n  --amplify-components-tabs-item-color: var(--amplify-colors-font-secondary);\n  --amplify-components-tabs-item-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-tabs-item-font-weight: var(--amplify-font-weights-bold);\n  --amplify-components-tabs-item-padding-vertical: var(--amplify-space-small);\n  --amplify-components-tabs-item-padding-horizontal: var(--amplify-space-medium);\n  --amplify-components-tabs-item-text-align: center;\n  --amplify-components-tabs-item-transition-duration: var(--amplify-time-medium);\n  --amplify-components-tabs-item-hover-background-color: transparent;\n  --amplify-components-tabs-item-hover-border-color: var(--amplify-colors-border-focus);\n  --amplify-components-tabs-item-hover-box-shadow: none;\n  --amplify-components-tabs-item-hover-color: var(--amplify-colors-font-hover);\n  --amplify-components-tabs-item-focus-background-color: transparent;\n  --amplify-components-tabs-item-focus-border-color: var(--amplify-colors-border-focus);\n  --amplify-components-tabs-item-focus-box-shadow: 0px 0px 0px var(--amplify-border-widths-medium) var(--amplify-colors-border-focus);\n  --amplify-components-tabs-item-focus-color: var(--amplify-colors-font-focus);\n  --amplify-components-tabs-item-active-background-color: transparent;\n  --amplify-components-tabs-item-active-border-color: var(--amplify-colors-font-interactive);\n  --amplify-components-tabs-item-active-box-shadow: none;\n  --amplify-components-tabs-item-active-color: var(--amplify-colors-font-interactive);\n  --amplify-components-tabs-item-disabled-background-color: transparent;\n  --amplify-components-tabs-item-disabled-border-color: var(--amplify-colors-border-tertiary);\n  --amplify-components-tabs-item-disabled-box-shadow: none;\n  --amplify-components-tabs-item-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-tabs-panel-background-color: transparent;\n  --amplify-components-tabs-panel-padding-inline: 0;\n  --amplify-components-tabs-panel-padding-block: var(--amplify-space-small);\n  --amplify-components-text-color: var(--amplify-colors-font-primary);\n  --amplify-components-text-primary-color: var(--amplify-colors-font-primary);\n  --amplify-components-text-secondary-color: var(--amplify-colors-font-secondary);\n  --amplify-components-text-tertiary-color: var(--amplify-colors-font-tertiary);\n  --amplify-components-text-error-color: var(--amplify-colors-font-error);\n  --amplify-components-text-warning-color: var(--amplify-colors-font-warning);\n  --amplify-components-text-success-color: var(--amplify-colors-font-success);\n  --amplify-components-text-info-color: var(--amplify-colors-font-info);\n  --amplify-components-textareafield-color: var(--amplify-components-fieldcontrol-color);\n  --amplify-components-textareafield-border-color: var(--amplify-components-fieldcontrol-border-color);\n  --amplify-components-textareafield-focus-border-color: var(--amplify-components-fieldcontrol-focus-border-color);\n  --amplify-components-textfield-color: var(--amplify-components-fieldcontrol-color);\n  --amplify-components-textfield-border-color: var(--amplify-components-fieldcontrol-border-color);\n  --amplify-components-textfield-font-size: var(--amplify-components-fieldcontrol-font-size);\n  --amplify-components-textfield-focus-border-color: var(--amplify-components-fieldcontrol-focus-border-color);\n  --amplify-components-togglebutton-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-togglebutton-color: var(--amplify-colors-font-primary);\n  --amplify-components-togglebutton-hover-background-color: var(--amplify-colors-overlay-10);\n  --amplify-components-togglebutton-focus-border-color: var(--amplify-colors-border-focus);\n  --amplify-components-togglebutton-focus-color: var(--amplify-colors-font-primary);\n  --amplify-components-togglebutton-active-background-color: var(--amplify-colors-transparent);\n  --amplify-components-togglebutton-disabled-background-color: var(--amplify-colors-transparent);\n  --amplify-components-togglebutton-disabled-border-color: var(--amplify-colors-border-disabled);\n  --amplify-components-togglebutton-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-togglebutton-pressed-border-color: var(--amplify-colors-border-pressed);\n  --amplify-components-togglebutton-pressed-color: var(--amplify-colors-font-primary);\n  --amplify-components-togglebutton-pressed-background-color: var(--amplify-colors-overlay-20);\n  --amplify-components-togglebutton-pressed-hover-background-color: var(--amplify-colors-overlay-30);\n  --amplify-components-togglebutton-primary-background-color: var(--amplify-colors-transparent);\n  --amplify-components-togglebutton-primary-border-width: var(--amplify-border-widths-small);\n  --amplify-components-togglebutton-primary-focus-border-color: var(--amplify-colors-border-focus);\n  --amplify-components-togglebutton-primary-focus-background-color: var(--amplify-colors-transparent);\n  --amplify-components-togglebutton-primary-focus-box-shadow: var(--amplify-components-fieldcontrol-focus-box-shadow);\n  --amplify-components-togglebutton-primary-focus-color: var(--amplify-colors-font-primary);\n  --amplify-components-togglebutton-primary-hover-background-color: var(--amplify-colors-overlay-10);\n  --amplify-components-togglebutton-primary-hover-color: var(--amplify-colors-font-primary);\n  --amplify-components-togglebutton-primary-disabled-border-color: var(--amplify-colors-border-disabled);\n  --amplify-components-togglebutton-primary-disabled-background-color: var(--amplify-colors-background-disabled);\n  --amplify-components-togglebutton-primary-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-togglebutton-primary-pressed-background-color: var(--amplify-colors-primary-80);\n  --amplify-components-togglebutton-primary-pressed-border-color: var(--amplify-colors-primary-80);\n  --amplify-components-togglebutton-primary-pressed-color: var(--amplify-colors-background-primary);\n  --amplify-components-togglebutton-primary-pressed-focus-background-color: var(--amplify-colors-border-focus);\n  --amplify-components-togglebutton-primary-pressed-focus-border-color: var(--amplify-colors-border-focus);\n  --amplify-components-togglebutton-primary-pressed-focus-color: var(--amplify-colors-background-primary);\n  --amplify-components-togglebutton-primary-pressed-hover-border-color: var(--amplify-colors-primary-60);\n  --amplify-components-togglebutton-primary-pressed-hover-background-color: var(--amplify-colors-primary-60);\n  --amplify-components-togglebutton-primary-pressed-hover-box-shadow: var(--amplify-colors-primary-60);\n  --amplify-components-togglebutton-primary-pressed-hover-color: var(--amplify-colors-background-primary);\n  --amplify-components-togglebutton-link-background-color: var(--amplify-colors-transparent);\n  --amplify-components-togglebutton-link-color: var(--amplify-colors-overlay-50);\n  --amplify-components-togglebutton-link-hover-background-color: var(--amplify-colors-transparent);\n  --amplify-components-togglebutton-link-hover-color: var(--amplify-colors-overlay-50);\n  --amplify-components-togglebutton-link-focus-background-color: var(--amplify-colors-transparent);\n  --amplify-components-togglebutton-link-focus-color: var(--amplify-colors-overlay-50);\n  --amplify-components-togglebutton-link-disabled-background-color: var(--amplify-colors-transparent);\n  --amplify-components-togglebutton-link-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-togglebutton-link-pressed-background-color: var(--amplify-colors-transparent);\n  --amplify-components-togglebutton-link-pressed-color: var(--amplify-colors-overlay-90);\n  --amplify-components-togglebutton-link-pressed-focus-background-color: var(--amplify-colors-transparent);\n  --amplify-components-togglebutton-link-pressed-focus-color: var(--amplify-colors-overlay-90);\n  --amplify-components-togglebutton-link-pressed-hover-color: var(--amplify-colors-overlay-90);\n  --amplify-components-togglebutton-link-pressed-hover-background-color: var(--amplify-colors-transparent);\n  --amplify-components-togglebuttongroup-align-items: center;\n  --amplify-components-togglebuttongroup-align-content: center;\n  --amplify-components-togglebuttongroup-justify-content: flex-start;\n  --amplify-border-widths-small: 1px;\n  --amplify-border-widths-medium: 2px;\n  --amplify-border-widths-large: 3px;\n  --amplify-colors-red-10: hsl(0, 75%, 95%);\n  --amplify-colors-red-20: hsl(0, 75%, 85%);\n  --amplify-colors-red-40: hsl(0, 75%, 75%);\n  --amplify-colors-red-60: hsl(0, 50%, 50%);\n  --amplify-colors-red-80: hsl(0, 95%, 30%);\n  --amplify-colors-red-90: hsl(0, 100%, 20%);\n  --amplify-colors-red-100: hsl(0, 100%, 15%);\n  --amplify-colors-orange-10: hsl(30, 75%, 95%);\n  --amplify-colors-orange-20: hsl(30, 75%, 85%);\n  --amplify-colors-orange-40: hsl(30, 75%, 75%);\n  --amplify-colors-orange-60: hsl(30, 50%, 50%);\n  --amplify-colors-orange-80: hsl(30, 95%, 30%);\n  --amplify-colors-orange-90: hsl(30, 100%, 20%);\n  --amplify-colors-orange-100: hsl(30, 100%, 15%);\n  --amplify-colors-yellow-10: hsl(60, 75%, 95%);\n  --amplify-colors-yellow-20: hsl(60, 75%, 85%);\n  --amplify-colors-yellow-40: hsl(60, 75%, 75%);\n  --amplify-colors-yellow-60: hsl(60, 50%, 50%);\n  --amplify-colors-yellow-80: hsl(60, 95%, 30%);\n  --amplify-colors-yellow-90: hsl(60, 100%, 20%);\n  --amplify-colors-yellow-100: hsl(60, 100%, 15%);\n  --amplify-colors-green-10: hsl(130, 60%, 95%);\n  --amplify-colors-green-20: hsl(130, 60%, 90%);\n  --amplify-colors-green-40: hsl(130, 44%, 63%);\n  --amplify-colors-green-60: hsl(130, 43%, 46%);\n  --amplify-colors-green-80: hsl(130, 33%, 37%);\n  --amplify-colors-green-90: hsl(130, 27%, 29%);\n  --amplify-colors-green-100: hsl(130, 22%, 23%);\n  --amplify-colors-teal-10: hsl(190, 75%, 95%);\n  --amplify-colors-teal-20: hsl(190, 75%, 85%);\n  --amplify-colors-teal-40: hsl(190, 70%, 70%);\n  --amplify-colors-teal-60: hsl(190, 50%, 50%);\n  --amplify-colors-teal-80: hsl(190, 95%, 30%);\n  --amplify-colors-teal-90: hsl(190, 100%, 20%);\n  --amplify-colors-teal-100: hsl(190, 100%, 15%);\n  --amplify-colors-blue-10: hsl(220, 95%, 95%);\n  --amplify-colors-blue-20: hsl(220, 85%, 85%);\n  --amplify-colors-blue-40: hsl(220, 70%, 70%);\n  --amplify-colors-blue-60: hsl(220, 50%, 50%);\n  --amplify-colors-blue-80: hsl(220, 95%, 30%);\n  --amplify-colors-blue-90: hsl(220, 100%, 20%);\n  --amplify-colors-blue-100: hsl(220, 100%, 15%);\n  --amplify-colors-purple-10: hsl(300, 95%, 95%);\n  --amplify-colors-purple-20: hsl(300, 85%, 85%);\n  --amplify-colors-purple-40: hsl(300, 70%, 70%);\n  --amplify-colors-purple-60: hsl(300, 50%, 50%);\n  --amplify-colors-purple-80: hsl(300, 95%, 30%);\n  --amplify-colors-purple-90: hsl(300, 100%, 20%);\n  --amplify-colors-purple-100: hsl(300, 100%, 15%);\n  --amplify-colors-pink-10: hsl(340, 95%, 95%);\n  --amplify-colors-pink-20: hsl(340, 90%, 85%);\n  --amplify-colors-pink-40: hsl(340, 70%, 70%);\n  --amplify-colors-pink-60: hsl(340, 50%, 50%);\n  --amplify-colors-pink-80: hsl(340, 95%, 30%);\n  --amplify-colors-pink-90: hsl(340, 100%, 20%);\n  --amplify-colors-pink-100: hsl(340, 100%, 15%);\n  --amplify-colors-neutral-10: hsl(210, 5%, 98%);\n  --amplify-colors-neutral-20: hsl(210, 5%, 94%);\n  --amplify-colors-neutral-40: hsl(210, 5%, 87%);\n  --amplify-colors-neutral-60: hsl(210, 10%, 58%);\n  --amplify-colors-neutral-80: hsl(210, 10%, 40%);\n  --amplify-colors-neutral-90: hsl(210, 25%, 25%);\n  --amplify-colors-neutral-100: hsl(210, 50%, 10%);\n  --amplify-colors-primary-10: var(--amplify-colors-teal-10);\n  --amplify-colors-primary-20: var(--amplify-colors-teal-20);\n  --amplify-colors-primary-40: var(--amplify-colors-teal-40);\n  --amplify-colors-primary-60: var(--amplify-colors-teal-60);\n  --amplify-colors-primary-80: var(--amplify-colors-teal-80);\n  --amplify-colors-primary-90: var(--amplify-colors-teal-90);\n  --amplify-colors-primary-100: var(--amplify-colors-teal-100);\n  --amplify-colors-secondary-10: var(--amplify-colors-purple-10);\n  --amplify-colors-secondary-20: var(--amplify-colors-purple-20);\n  --amplify-colors-secondary-40: var(--amplify-colors-purple-40);\n  --amplify-colors-secondary-60: var(--amplify-colors-purple-60);\n  --amplify-colors-secondary-80: var(--amplify-colors-purple-80);\n  --amplify-colors-secondary-90: var(--amplify-colors-purple-90);\n  --amplify-colors-secondary-100: var(--amplify-colors-purple-100);\n  --amplify-colors-font-primary: var(--amplify-colors-neutral-100);\n  --amplify-colors-font-secondary: var(--amplify-colors-neutral-90);\n  --amplify-colors-font-tertiary: var(--amplify-colors-neutral-80);\n  --amplify-colors-font-disabled: var(--amplify-colors-neutral-60);\n  --amplify-colors-font-inverse: var(--amplify-colors-white);\n  --amplify-colors-font-interactive: var(--amplify-colors-primary-80);\n  --amplify-colors-font-hover: var(--amplify-colors-primary-90);\n  --amplify-colors-font-focus: var(--amplify-colors-primary-100);\n  --amplify-colors-font-active: var(--amplify-colors-primary-100);\n  --amplify-colors-font-info: var(--amplify-colors-blue-90);\n  --amplify-colors-font-warning: var(--amplify-colors-orange-90);\n  --amplify-colors-font-error: var(--amplify-colors-red-90);\n  --amplify-colors-font-success: var(--amplify-colors-green-90);\n  --amplify-colors-background-primary: var(--amplify-colors-white);\n  --amplify-colors-background-secondary: var(--amplify-colors-neutral-10);\n  --amplify-colors-background-tertiary: var(--amplify-colors-neutral-20);\n  --amplify-colors-background-quaternary: var(--amplify-colors-neutral-60);\n  --amplify-colors-background-disabled: var(--amplify-colors-background-tertiary);\n  --amplify-colors-background-info: var(--amplify-colors-blue-10);\n  --amplify-colors-background-warning: var(--amplify-colors-orange-10);\n  --amplify-colors-background-error: var(--amplify-colors-red-10);\n  --amplify-colors-background-success: var(--amplify-colors-green-10);\n  --amplify-colors-border-primary: var(--amplify-colors-neutral-60);\n  --amplify-colors-border-secondary: var(--amplify-colors-neutral-40);\n  --amplify-colors-border-tertiary: var(--amplify-colors-neutral-20);\n  --amplify-colors-border-disabled: var(--amplify-colors-border-tertiary);\n  --amplify-colors-border-pressed: var(--amplify-colors-primary-100);\n  --amplify-colors-border-focus: var(--amplify-colors-primary-100);\n  --amplify-colors-border-error: var(--amplify-colors-red-80);\n  --amplify-colors-border-info: var(--amplify-colors-blue-80);\n  --amplify-colors-border-success: var(--amplify-colors-green-80);\n  --amplify-colors-border-warning: var(--amplify-colors-orange-80);\n  --amplify-colors-shadow-primary: hsla(210, 50%, 10%, 0.25);\n  --amplify-colors-shadow-secondary: hsla(210, 50%, 10%, 0.15);\n  --amplify-colors-shadow-tertiary: hsla(210, 50%, 10%, 0.05);\n  --amplify-colors-overlay-5: hsla(0, 0%, 0%, 0.05);\n  --amplify-colors-overlay-10: hsla(0, 0%, 0%, 0.1);\n  --amplify-colors-overlay-20: hsla(0, 0%, 0%, 0.2);\n  --amplify-colors-overlay-30: hsla(0, 0%, 0%, 0.3);\n  --amplify-colors-overlay-40: hsla(0, 0%, 0%, 0.4);\n  --amplify-colors-overlay-50: hsla(0, 0%, 0%, 0.5);\n  --amplify-colors-overlay-60: hsla(0, 0%, 0%, 0.6);\n  --amplify-colors-overlay-70: hsla(0, 0%, 0%, 0.7);\n  --amplify-colors-overlay-80: hsla(0, 0%, 0%, 0.8);\n  --amplify-colors-overlay-90: hsla(0, 0%, 0%, 0.9);\n  --amplify-colors-black: hsl(0, 0%, 0%);\n  --amplify-colors-white: hsl(0, 0%, 100%);\n  --amplify-colors-transparent: transparent;\n  --amplify-fonts-default-variable: "InterVariable", "Inter var", "Inter", -apple-system, BlinkMacSystemFont,\n          "Helvetica Neue", "Segoe UI", Oxygen, Ubuntu, Cantarell, "Open Sans",\n          sans-serif;\n  --amplify-fonts-default-static: "Inter", -apple-system, BlinkMacSystemFont, "Helvetica Neue",\n          "Segoe UI", Oxygen, Ubuntu, Cantarell, "Open Sans", sans-serif;\n  --amplify-font-sizes-xxxs: 0.375rem;\n  --amplify-font-sizes-xxs: 0.5rem;\n  --amplify-font-sizes-xs: 0.75rem;\n  --amplify-font-sizes-small: 0.875rem;\n  --amplify-font-sizes-medium: 1rem;\n  --amplify-font-sizes-large: 1.25rem;\n  --amplify-font-sizes-xl: 1.5rem;\n  --amplify-font-sizes-xxl: 2rem;\n  --amplify-font-sizes-xxxl: 2.5rem;\n  --amplify-font-sizes-xxxxl: 3rem;\n  --amplify-font-weights-hairline: 100;\n  --amplify-font-weights-thin: 200;\n  --amplify-font-weights-light: 300;\n  --amplify-font-weights-normal: 400;\n  --amplify-font-weights-medium: 500;\n  --amplify-font-weights-semibold: 600;\n  --amplify-font-weights-bold: 700;\n  --amplify-font-weights-extrabold: 800;\n  --amplify-font-weights-black: 900;\n  --amplify-line-heights-small: 1.25;\n  --amplify-line-heights-medium: 1.5;\n  --amplify-line-heights-large: 2;\n  --amplify-opacities-0: 0;\n  --amplify-opacities-10: 0.1;\n  --amplify-opacities-20: 0.2;\n  --amplify-opacities-30: 0.3;\n  --amplify-opacities-40: 0.4;\n  --amplify-opacities-50: 0.5;\n  --amplify-opacities-60: 0.6;\n  --amplify-opacities-70: 0.7;\n  --amplify-opacities-80: 0.8;\n  --amplify-opacities-90: 0.9;\n  --amplify-opacities-100: 1;\n  --amplify-outline-offsets-small: 1px;\n  --amplify-outline-offsets-medium: 2px;\n  --amplify-outline-offsets-large: 3px;\n  --amplify-outline-widths-small: 1px;\n  --amplify-outline-widths-medium: 2px;\n  --amplify-outline-widths-large: 3px;\n  --amplify-radii-xs: 0.125rem;\n  --amplify-radii-small: 0.25rem;\n  --amplify-radii-medium: 0.5rem;\n  --amplify-radii-large: 1rem;\n  --amplify-radii-xl: 2rem;\n  --amplify-radii-xxl: 4rem;\n  --amplify-radii-xxxl: 8rem;\n  --amplify-shadows-small: 0px 2px 4px var(--amplify-colors-shadow-tertiary);\n  --amplify-shadows-medium: 0px 2px 6px var(--amplify-colors-shadow-secondary);\n  --amplify-shadows-large: 0px 4px 12px var(--amplify-colors-shadow-primary);\n  --amplify-space-zero: 0;\n  --amplify-space-xxxs: 0.25rem;\n  --amplify-space-xxs: 0.375rem;\n  --amplify-space-xs: 0.5rem;\n  --amplify-space-small: 0.75rem;\n  --amplify-space-medium: 1rem;\n  --amplify-space-large: 1.5rem;\n  --amplify-space-xl: 2.0rem;\n  --amplify-space-xxl: 3.0rem;\n  --amplify-space-xxxl: 4.5rem;\n  --amplify-space-relative-xxxs: 0.25em;\n  --amplify-space-relative-xxs: 0.375em;\n  --amplify-space-relative-xs: 0.5em;\n  --amplify-space-relative-small: 0.75em;\n  --amplify-space-relative-medium: 1em;\n  --amplify-space-relative-large: 1.5em;\n  --amplify-space-relative-xl: 2.0em;\n  --amplify-space-relative-xxl: 3.0em;\n  --amplify-space-relative-xxxl: 4.5em;\n  --amplify-space-relative-full: 100%;\n  --amplify-time-short: 100ms;\n  --amplify-time-medium: 250ms;\n  --amplify-time-long: 500ms;\n  --amplify-transforms-slide-x-small: translateX(0.5em);\n  --amplify-transforms-slide-x-medium: translateX(1em);\n  --amplify-transforms-slide-x-large: translateX(2em);\n}\n\nhtml,\n[data-amplify-theme] {\n  font-family: var(--amplify-fonts-default-static);\n}\n\n@supports (font-variation-settings: normal) {\n  html,\n  [data-amplify-theme] {\n    font-family: var(--amplify-fonts-default-variable);\n  }\n}\nhtml:focus-within {\n  scroll-behavior: smooth;\n}\n\nbody {\n  min-height: 100vh;\n  text-rendering: optimizeSpeed;\n  line-height: var(--amplify-line-heights-medium);\n}\n\n* {\n  box-sizing: border-box;\n}\n\ninput,\nbutton,\ntextarea,\nselect {\n  font: inherit;\n}\n\n@media (prefers-reduced-motion: reduce) {\n  html:focus-within {\n    scroll-behavior: auto;\n  }\n}\n[class*=amplify] {\n  all: unset; /* protect against external styles */\n  box-sizing: border-box; /* set box-sizing after unset above */\n}\n\n.amplify-flex {\n  align-content: var(--amplify-components-flex-align-content);\n  align-items: var(--amplify-components-flex-align-items);\n  display: flex;\n  flex-wrap: var(--amplify-components-flex-flex-wrap);\n  gap: var(--amplify-components-flex-gap);\n  justify-content: var(--amplify-components-flex-justify-content);\n}\n\n.amplify-grid {\n  display: grid;\n}\n\n.amplify-scrollview {\n  display: block;\n  overflow: auto;\n}\n\n.amplify-text {\n  display: block;\n  color: var(--amplify-components-text-color);\n}\nb.amplify-text,\nem.amplify-text,\ni.amplify-text,\nspan.amplify-text,\nstrong.amplify-text {\n  display: inline;\n}\n\n.amplify-text--truncated {\n  display: inline-block;\n  max-width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.amplify-text--primary {\n  color: var(--amplify-components-text-primary-color);\n}\n.amplify-text--secondary {\n  color: var(--amplify-components-text-secondary-color);\n}\n.amplify-text--tertiary {\n  color: var(--amplify-components-text-tertiary-color);\n}\n.amplify-text--error {\n  color: var(--amplify-components-text-error-color);\n}\n.amplify-text--info {\n  color: var(--amplify-components-text-info-color);\n}\n.amplify-text--success {\n  color: var(--amplify-components-text-success-color);\n}\n.amplify-text--warning {\n  color: var(--amplify-components-text-warning-color);\n}\n\n.amplify-badge {\n  background-color: var(--amplify-components-badge-background-color);\n  border-radius: var(--amplify-components-badge-border-radius);\n  color: var(--amplify-components-badge-color);\n  display: inline-flex;\n  font-size: var(--amplify-components-badge-font-size);\n  font-weight: var(--amplify-components-badge-font-weight);\n  line-height: var(--amplify-components-badge-line-height);\n  padding: var(--amplify-components-badge-padding-vertical) var(--amplify-components-badge-padding-horizontal);\n  text-align: var(--amplify-components-badge-text-align);\n}\n.amplify-badge--info {\n  color: var(--amplify-components-badge-info-color);\n  background-color: var(--amplify-components-badge-info-background-color);\n}\n.amplify-badge--error {\n  color: var(--amplify-components-badge-error-color);\n  background-color: var(--amplify-components-badge-error-background-color);\n}\n.amplify-badge--warning {\n  color: var(--amplify-components-badge-warning-color);\n  background-color: var(--amplify-components-badge-warning-background-color);\n}\n.amplify-badge--success {\n  color: var(--amplify-components-badge-success-color);\n  background-color: var(--amplify-components-badge-success-background-color);\n}\n.amplify-badge--small {\n  font-size: var(--amplify-components-badge-small-font-size);\n  padding: var(--amplify-components-badge-small-padding-vertical) var(--amplify-components-badge-small-padding-horizontal);\n}\n.amplify-badge--large {\n  font-size: var(--amplify-components-badge-large-font-size);\n  padding: var(--amplify-components-badge-large-padding-vertical) var(--amplify-components-badge-large-padding-horizontal);\n}\n\n/*\n * Button base styles\n */\n.amplify-button {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-border-color\n  );\n  --amplify-internal-button-color: var(--amplify-components-button-color);\n  --amplify-internal-button-focus-box-shadow: var(\n    --amplify-components-button-focus-box-shadow\n  );\n  --amplify-internal-button-border-width: var(\n    --amplify-components-button-border-width\n  );\n  align-items: center;\n  background-color: var(--amplify-internal-button-background-color);\n  border-color: var(--amplify-internal-button-border-color);\n  border-radius: var(--amplify-components-button-border-radius);\n  border-style: var(--amplify-components-button-border-style);\n  border-width: var(--amplify-internal-button-border-width);\n  box-sizing: border-box;\n  color: var(--amplify-internal-button-color);\n  cursor: pointer;\n  display: inline-flex;\n  font-size: var(--amplify-components-button-font-size);\n  font-weight: var(--amplify-components-button-font-weight);\n  justify-content: center;\n  line-height: var(--amplify-components-button-line-height);\n  padding-block-start: var(--amplify-components-button-padding-block-start);\n  padding-block-end: var(--amplify-components-button-padding-block-end);\n  padding-inline-start: var(--amplify-components-button-padding-inline-start);\n  padding-inline-end: var(--amplify-components-button-padding-inline-end);\n  transition: all var(--amplify-components-button-transition-duration);\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n  --amplify-internal-button-disabled-color: var(\n    --amplify-components-button-disabled-color\n  );\n  --amplify-internal-button-disabled-background-color: var(\n    --amplify-components-button-disabled-background-color\n  );\n  --amplify-internal-button-disabled-border-color: var(\n    --amplify-components-button-disabled-border-color\n  );\n  --amplify-internal-button-disabled-text-decoration: initial;\n  --amplify-internal-button-loading-background-color: var(\n    --amplify-components-button-loading-background-color\n  );\n  --amplify-internal-button-loading-border-color: var(\n    --amplify-components-button-loading-border-color\n  );\n  --amplify-internal-button-loading-color: var(\n    --amplify-components-button-loading-color\n  );\n  --amplify-internal-button-loading-text-decoration: initial;\n}\n.amplify-button:hover {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-hover-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-hover-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-hover-color\n  );\n}\n.amplify-button:focus {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-hover-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-focus-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-focus-color\n  );\n  box-shadow: var(--amplify-internal-button-focus-box-shadow);\n}\n.amplify-button:active {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-active-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-active-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-active-color\n  );\n}\n.amplify-button--fullwidth {\n  width: 100%;\n}\n.amplify-button--outlined--info {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-outlined-info-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-outlined-info-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-outlined-info-color\n  );\n}\n.amplify-button--outlined--info:hover {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-outlined-info-hover-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-outlined-info-hover-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-outlined-info-hover-color\n  );\n}\n.amplify-button--outlined--info:focus {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-outlined-info-focus-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-outlined-info-focus-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-outlined-info-focus-color\n  );\n  --amplify-internal-button-focus-box-shadow: var(\n    --amplify-components-button-outlined-info-focus-box-shadow\n  );\n}\n.amplify-button--outlined--info:active {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-outlined-info-active-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-outlined-info-active-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-outlined-info-active-color\n  );\n}\n.amplify-button--outlined--warning {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-outlined-warning-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-outlined-warning-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-outlined-warning-color\n  );\n}\n.amplify-button--outlined--warning:hover {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-outlined-warning-hover-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-outlined-warning-hover-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-outlined-warning-hover-color\n  );\n}\n.amplify-button--outlined--warning:focus {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-outlined-warning-focus-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-outlined-warning-focus-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-outlined-warning-focus-color\n  );\n  --amplify-internal-button-focus-box-shadow: var(\n    --amplify-components-button-outlined-warning-focus-box-shadow\n  );\n}\n.amplify-button--outlined--warning:active {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-outlined-warning-active-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-outlined-warning-active-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-outlined-warning-active-color\n  );\n}\n.amplify-button--outlined--error {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-outlined-error-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-outlined-error-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-outlined-error-color\n  );\n}\n.amplify-button--outlined--error:hover {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-outlined-error-hover-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-outlined-error-hover-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-outlined-error-hover-color\n  );\n}\n.amplify-button--outlined--error:focus {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-outlined-error-focus-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-outlined-error-focus-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-outlined-error-focus-color\n  );\n  --amplify-internal-button-focus-box-shadow: var(\n    --amplify-components-button-outlined-error-focus-box-shadow\n  );\n}\n.amplify-button--outlined--error:active {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-outlined-error-active-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-outlined-error-active-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-outlined-error-active-color\n  );\n}\n.amplify-button--outlined--success {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-outlined-success-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-outlined-success-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-outlined-success-color\n  );\n}\n.amplify-button--outlined--success:hover {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-outlined-success-hover-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-outlined-success-hover-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-outlined-success-hover-color\n  );\n}\n.amplify-button--outlined--success:focus {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-outlined-success-focus-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-outlined-success-focus-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-outlined-success-focus-color\n  );\n  --amplify-internal-button-focus-box-shadow: var(\n    --amplify-components-button-outlined-success-focus-box-shadow\n  );\n}\n.amplify-button--outlined--success:active {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-outlined-success-active-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-outlined-success-active-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-outlined-success-active-color\n  );\n}\n.amplify-button--outlined--overlay {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-outlined-overlay-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-outlined-overlay-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-outlined-overlay-color\n  );\n}\n.amplify-button--outlined--overlay:hover {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-outlined-overlay-hover-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-outlined-overlay-hover-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-outlined-overlay-hover-color\n  );\n}\n.amplify-button--outlined--overlay:focus {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-outlined-overlay-focus-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-outlined-overlay-focus-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-outlined-overlay-focus-color\n  );\n  --amplify-internal-button-focus-box-shadow: var(\n    --amplify-components-button-outlined-overlay-focus-box-shadow\n  );\n}\n.amplify-button--outlined--overlay:active {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-outlined-overlay-active-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-outlined-overlay-active-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-outlined-overlay-active-color\n  );\n}\n.amplify-button--menu {\n  border-width: var(--amplify-components-button-menu-border-width);\n  background-color: var(--amplify-components-button-menu-background-color);\n  justify-content: var(--amplify-components-button-menu-justify-content);\n  --amplify-internal-button-disabled-color: var(\n    --amplify-components-button-menu-disabled-color\n  );\n}\n.amplify-button--menu:hover {\n  color: var(--amplify-components-button-menu-hover-color);\n  background-color: var(--amplify-components-button-menu-hover-background-color);\n}\n.amplify-button--menu:focus {\n  box-shadow: none;\n  color: var(--amplify-components-button-menu-focus-color);\n  background-color: var(--amplify-components-button-menu-focus-background-color);\n}\n.amplify-button--menu:active {\n  color: var(--amplify-components-button-menu-active-color);\n  background-color: var(--amplify-components-button-menu-active-background-color);\n}\n.amplify-button--primary {\n  --amplify-internal-button-border-width: var(\n    --amplify-components-button-primary-border-width\n  );\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-primary-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-primary-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-primary-color\n  );\n  --amplify-internal-button-disabled-border-color: var(\n    --amplify-components-button-primary-disabled-border-color\n  );\n  --amplify-internal-button-disabled-background-color: var(\n    --amplify-components-button-primary-disabled-background-color\n  );\n  --amplify-internal-button-disabled-color: var(\n    --amplify-components-button-primary-disabled-color\n  );\n  --amplify-internal-button-loading-background-color: var(\n    --amplify-components-button-primary-loading-background-color\n  );\n  --amplify-internal-button-loading-border-color: var(\n    --amplify-components-button-primary-loading-border-color\n  );\n  --amplify-internal-button-loading-color: var(\n    --amplify-components-button-primary-loading-color\n  );\n}\n.amplify-button--primary:hover {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-primary-hover-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-primary-hover-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-primary-hover-color\n  );\n}\n.amplify-button--primary:focus {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-primary-focus-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-primary-focus-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-primary-focus-color\n  );\n  --amplify-internal-button-focus-box-shadow: var(\n    --amplify-components-button-primary-focus-box-shadow\n  );\n}\n.amplify-button--primary:active {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-primary-active-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-primary-active-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-primary-active-color\n  );\n}\n.amplify-button--primary--info {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-primary-info-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-primary-info-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-primary-info-color\n  );\n}\n.amplify-button--primary--info:hover {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-primary-info-hover-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-primary-info-hover-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-primary-info-hover-color\n  );\n}\n.amplify-button--primary--info:focus {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-primary-info-focus-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-primary-info-focus-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-primary-info-focus-color\n  );\n  --amplify-internal-button-focus-box-shadow: var(\n    --amplify-components-button-primary-info-focus-box-shadow\n  );\n}\n.amplify-button--primary--info:active {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-primary-info-active-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-primary-info-active-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-primary-info-active-color\n  );\n}\n.amplify-button--primary--warning {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-primary-warning-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-primary-warning-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-primary-warning-color\n  );\n}\n.amplify-button--primary--warning:hover {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-primary-warning-hover-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-primary-warning-hover-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-primary-warning-hover-color\n  );\n}\n.amplify-button--primary--warning:focus {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-primary-warning-focus-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-primary-warning-focus-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-primary-warning-focus-color\n  );\n  --amplify-internal-button-focus-box-shadow: var(\n    --amplify-components-button-primary-warning-focus-box-shadow\n  );\n}\n.amplify-button--primary--warning:active {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-primary-warning-active-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-primary-warning-active-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-primary-warning-active-color\n  );\n}\n.amplify-button--primary--error {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-primary-error-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-primary-error-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-primary-error-color\n  );\n}\n.amplify-button--primary--error:hover {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-primary-error-hover-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-primary-error-hover-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-primary-error-hover-color\n  );\n}\n.amplify-button--primary--error:focus {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-primary-error-focus-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-primary-error-focus-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-primary-error-focus-color\n  );\n  --amplify-internal-button-focus-box-shadow: var(\n    --amplify-components-button-primary-error-focus-box-shadow\n  );\n}\n.amplify-button--primary--error:active {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-primary-error-active-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-primary-error-active-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-primary-error-active-color\n  );\n}\n.amplify-button--primary--success {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-primary-success-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-primary-success-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-primary-success-color\n  );\n}\n.amplify-button--primary--success:hover {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-primary-success-hover-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-primary-success-hover-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-primary-success-hover-color\n  );\n}\n.amplify-button--primary--success:focus {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-primary-success-focus-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-primary-success-focus-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-primary-success-focus-color\n  );\n  --amplify-internal-button-focus-box-shadow: var(\n    --amplify-components-button-primary-success-focus-box-shadow\n  );\n}\n.amplify-button--primary--success:active {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-primary-success-active-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-primary-success-active-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-primary-success-active-color\n  );\n}\n.amplify-button--primary--overlay {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-primary-overlay-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-primary-overlay-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-primary-overlay-color\n  );\n}\n.amplify-button--primary--overlay:hover {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-primary-overlay-hover-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-primary-overlay-hover-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-primary-overlay-hover-color\n  );\n}\n.amplify-button--primary--overlay:focus {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-primary-overlay-focus-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-primary-overlay-focus-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-primary-overlay-focus-color\n  );\n  --amplify-internal-button-focus-box-shadow: var(\n    --amplify-components-button-primary-overlay-focus-box-shadow\n  );\n}\n.amplify-button--primary--overlay:active {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-primary-overlay-active-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-primary-overlay-active-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-primary-overlay-active-color\n  );\n}\n.amplify-button--link {\n  --amplify-internal-button-border-width: var(\n    --amplify-components-button-link-border-width\n  );\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-link-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-link-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-link-color\n  );\n  --amplify-internal-button-disabled-border-color: var(\n    --amplify-components-button-link-disabled-border-color\n  );\n  --amplify-internal-button-disabled-background-color: var(\n    --amplify-components-button-link-disabled-background-color\n  );\n  --amplify-internal-button-disabled-color: var(\n    --amplify-components-button-link-disabled-color\n  );\n  --amplify-internal-button-loading-background-color: var(\n    --amplify-components-button-link-loading-background-color\n  );\n  --amplify-internal-button-loading-border-color: var(\n    --amplify-components-button-link-loading-border-color\n  );\n  --amplify-internal-button-loading-color: var(\n    --amplify-components-button-link-loading-color\n  );\n}\n.amplify-button--link:hover {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-link-hover-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-link-hover-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-link-hover-color\n  );\n}\n.amplify-button--link:focus {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-link-focus-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-link-focus-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-link-focus-color\n  );\n  --amplify-internal-button-focus-box-shadow: var(\n    --amplify-components-button-link-focus-box-shadow\n  );\n}\n.amplify-button--link:active {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-link-active-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-link-active-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-link-active-color\n  );\n}\n.amplify-button--link--info {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-link-info-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-link-info-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-link-info-color\n  );\n}\n.amplify-button--link--info:hover {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-link-info-hover-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-link-info-hover-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-link-info-hover-color\n  );\n}\n.amplify-button--link--info:focus {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-link-info-focus-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-link-info-focus-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-link-info-focus-color\n  );\n  --amplify-internal-button-focus-box-shadow: var(\n    --amplify-components-button-link-info-focus-box-shadow\n  );\n}\n.amplify-button--link--info:active {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-link-info-active-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-link-info-active-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-link-info-active-color\n  );\n}\n.amplify-button--link--warning {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-link-warning-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-link-warning-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-link-warning-color\n  );\n}\n.amplify-button--link--warning:hover {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-link-warning-hover-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-link-warning-hover-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-link-warning-hover-color\n  );\n}\n.amplify-button--link--warning:focus {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-link-warning-focus-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-link-warning-focus-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-link-warning-focus-color\n  );\n  --amplify-internal-button-focus-box-shadow: var(\n    --amplify-components-button-link-warning-focus-box-shadow\n  );\n}\n.amplify-button--link--warning:active {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-link-warning-active-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-link-warning-active-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-link-warning-active-color\n  );\n}\n.amplify-button--link--error {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-link-error-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-link-error-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-link-error-color\n  );\n}\n.amplify-button--link--error:hover {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-link-error-hover-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-link-error-hover-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-link-error-hover-color\n  );\n}\n.amplify-button--link--error:focus {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-link-error-focus-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-link-error-focus-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-link-error-focus-color\n  );\n  --amplify-internal-button-focus-box-shadow: var(\n    --amplify-components-button-link-error-focus-box-shadow\n  );\n}\n.amplify-button--link--error:active {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-link-error-active-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-link-error-active-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-link-error-active-color\n  );\n}\n.amplify-button--link--success {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-link-success-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-link-success-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-link-success-color\n  );\n}\n.amplify-button--link--success:hover {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-link-success-hover-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-link-success-hover-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-link-success-hover-color\n  );\n}\n.amplify-button--link--success:focus {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-link-success-focus-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-link-success-focus-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-link-success-focus-color\n  );\n  --amplify-internal-button-focus-box-shadow: var(\n    --amplify-components-button-link-success-focus-box-shadow\n  );\n}\n.amplify-button--link--success:active {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-link-success-active-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-link-success-active-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-link-success-active-color\n  );\n}\n.amplify-button--link--overlay {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-link-overlay-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-link-overlay-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-link-overlay-color\n  );\n}\n.amplify-button--link--overlay:hover {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-link-overlay-hover-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-link-overlay-hover-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-link-overlay-hover-color\n  );\n}\n.amplify-button--link--overlay:focus {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-link-overlay-focus-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-link-overlay-focus-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-link-overlay-focus-color\n  );\n  --amplify-internal-button-focus-box-shadow: var(\n    --amplify-components-button-link-overlay-focus-box-shadow\n  );\n}\n.amplify-button--link--overlay:active {\n  --amplify-internal-button-background-color: var(\n    --amplify-components-button-link-overlay-active-background-color\n  );\n  --amplify-internal-button-border-color: var(\n    --amplify-components-button-link-overlay-active-border-color\n  );\n  --amplify-internal-button-color: var(\n    --amplify-components-button-link-overlay-active-color\n  );\n}\n.amplify-button--destructive {\n  border-width: var(--amplify-components-button-destructive-border-width);\n  background-color: var(--amplify-components-button-destructive-background-color);\n  border-color: var(--amplify-components-button-destructive-border-color);\n  color: var(--amplify-components-button-destructive-color);\n  --amplify-internal-button-disabled-border-color: var(\n    --amplify-components-button-destructive-disabled-border-color\n  );\n  --amplify-internal-button-disabled-background-color: var(\n    --amplify-components-button-destructive-disabled-background-color\n  );\n  --amplify-internal-button-disabled-color: var(\n    --amplify-components-button-destructive-disabled-color\n  );\n  --amplify-internal-button-loading-background-color: var(\n    --amplify-components-button-destructive-loading-background-color\n  );\n  --amplify-internal-button-loading-border-color: var(\n    --amplify-components-button-destructive-loading-border-color\n  );\n  --amplify-internal-button-loading-color: var(\n    --amplify-components-button-destructive-loading-color\n  );\n}\n.amplify-button--destructive:hover {\n  background-color: var(--amplify-components-button-destructive-hover-background-color);\n  border-color: var(--amplify-components-button-destructive-hover-border-color);\n  color: var(--amplify-components-button-destructive-hover-color);\n}\n.amplify-button--destructive:focus {\n  background-color: var(--amplify-components-button-destructive-focus-background-color);\n  border-color: var(--amplify-components-button-destructive-focus-border-color);\n  color: var(--amplify-components-button-destructive-focus-color);\n  box-shadow: var(--amplify-components-button-destructive-focus-box-shadow);\n}\n.amplify-button--destructive:active {\n  background-color: var(--amplify-components-button-destructive-active-background-color);\n  border-color: var(--amplify-components-button-destructive-active-border-color);\n  color: var(--amplify-components-button-destructive-active-color);\n}\n.amplify-button--warning {\n  background-color: var(--amplify-components-button-warning-background-color);\n  border-color: var(--amplify-components-button-warning-border-color);\n  border-width: var(--amplify-components-button-warning-border-width);\n  color: var(--amplify-components-button-warning-color);\n  --amplify-internal-button-disabled-text-decoration: none;\n  --amplify-internal-button-disabled-border-color: var(\n    --amplify-components-button-warning-disabled-border-color\n  );\n  --amplify-internal-button-disabled-background-color: var(\n    --amplify-components-button-warning-disabled-background-color\n  );\n  --amplify-internal-button-disabled-color: var(\n    --amplify-components-button-warning-disabled-color\n  );\n  --amplify-internal-button-loading-background-color: var(\n    --amplify-components-button-warning-loading-background-color\n  );\n  --amplify-internal-button-loading-border-color: var(\n    --amplify-components-button-warning-loading-border-color\n  );\n  --amplify-internal-button-loading-color: var(\n    --amplify-components-button-warning-loading-color\n  );\n  --amplify-internal-button-loading-text-decoration: none;\n}\n.amplify-button--warning:hover {\n  background-color: var(--amplify-components-button-warning-hover-background-color);\n  border-color: var(--amplify-components-button-warning-hover-border-color);\n  color: var(--amplify-components-button-warning-hover-color);\n}\n.amplify-button--warning:focus {\n  background-color: var(--amplify-components-button-warning-focus-background-color);\n  border-color: var(--amplify-components-button-warning-focus-border-color);\n  color: var(--amplify-components-button-warning-focus-color);\n  box-shadow: var(--amplify-components-button-warning-focus-box-shadow);\n}\n.amplify-button--warning:active {\n  background-color: var(--amplify-components-button-warning-active-background-color);\n  border-color: var(--amplify-components-button-warning-active-border-color);\n  color: var(--amplify-components-button-warning-active-color);\n}\n.amplify-button--small {\n  font-size: var(--amplify-components-button-small-font-size);\n  padding-block-start: var(--amplify-components-button-small-padding-block-start);\n  padding-block-end: var(--amplify-components-button-small-padding-block-end);\n  padding-inline-start: var(--amplify-components-button-small-padding-inline-start);\n  padding-inline-end: var(--amplify-components-button-small-padding-inline-end);\n}\n.amplify-button--large {\n  font-size: var(--amplify-components-button-large-font-size);\n  padding-block-start: var(--amplify-components-button-large-padding-block-start);\n  padding-block-end: var(--amplify-components-button-large-padding-block-end);\n  padding-inline-start: var(--amplify-components-button-large-padding-inline-start);\n  padding-inline-end: var(--amplify-components-button-large-padding-inline-end);\n}\n.amplify-button--disabled {\n  background-color: var(--amplify-internal-button-disabled-background-color);\n  border-color: var(--amplify-internal-button-disabled-border-color);\n  color: var(--amplify-internal-button-disabled-color);\n  -webkit-text-decoration: var(--amplify-internal-button-disabled-text-decoration);\n          text-decoration: var(--amplify-internal-button-disabled-text-decoration);\n  cursor: not-allowed;\n}\n.amplify-button--disabled:hover {\n  background-color: var(--amplify-internal-button-disabled-background-color);\n  border-color: var(--amplify-internal-button-disabled-border-color);\n  color: var(--amplify-internal-button-disabled-color);\n  -webkit-text-decoration: var(--amplify-internal-button-disabled-text-decoration);\n          text-decoration: var(--amplify-internal-button-disabled-text-decoration);\n}\n.amplify-button--disabled :focus {\n  background-color: var(--amplify-internal-button-disabled-background-color);\n  border-color: var(--amplify-internal-button-disabled-border-color);\n  color: var(--amplify-internal-button-disabled-color);\n  -webkit-text-decoration: var(--amplify-internal-button-disabled-text-decoration);\n          text-decoration: var(--amplify-internal-button-disabled-text-decoration);\n}\n.amplify-button--disabled:active {\n  background-color: var(--amplify-internal-button-disabled-background-color);\n  border-color: var(--amplify-internal-button-disabled-border-color);\n  color: var(--amplify-internal-button-disabled-color);\n  -webkit-text-decoration: var(--amplify-internal-button-disabled-text-decoration);\n          text-decoration: var(--amplify-internal-button-disabled-text-decoration);\n}\n.amplify-button--loading {\n  background-color: var(--amplify-internal-button-loading-background-color);\n  border-color: var(--amplify-internal-button-loading-border-color);\n  color: var(--amplify-components-button-loading-color);\n  -webkit-text-decoration: var(--amplify-internal-button-loading-text-decoration);\n          text-decoration: var(--amplify-internal-button-loading-text-decoration);\n}\n.amplify-button--loading:hover {\n  background-color: var(--amplify-internal-button-loading-background-color);\n  border-color: var(--amplify-internal-button-loading-border-color);\n  color: var(--amplify-components-button-loading-color);\n  -webkit-text-decoration: var(--amplify-internal-button-loading-text-decoration);\n          text-decoration: var(--amplify-internal-button-loading-text-decoration);\n}\n.amplify-button--loading:focus {\n  background-color: var(--amplify-internal-button-loading-background-color);\n  border-color: var(--amplify-internal-button-loading-border-color);\n  color: var(--amplify-components-button-loading-color);\n  -webkit-text-decoration: var(--amplify-internal-button-loading-text-decoration);\n          text-decoration: var(--amplify-internal-button-loading-text-decoration);\n}\n.amplify-button--loading:active {\n  background-color: var(--amplify-internal-button-loading-background-color);\n  border-color: var(--amplify-internal-button-loading-border-color);\n  color: var(--amplify-components-button-loading-color);\n  -webkit-text-decoration: var(--amplify-internal-button-loading-text-decoration);\n          text-decoration: var(--amplify-internal-button-loading-text-decoration);\n}\n.amplify-button__loader-wrapper {\n  align-items: var(--amplify-components-button-loader-wrapper-align-items);\n  gap: var(--amplify-components-button-loader-wrapper-gap);\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .amplify-button {\n    transition: none;\n  }\n}\n.amplify-dropzone {\n  display: block;\n  background-color: var(--amplify-components-dropzone-background-color);\n  border-color: var(--amplify-components-dropzone-border-color);\n  border-width: var(--amplify-components-dropzone-border-width);\n  border-style: var(--amplify-components-dropzone-border-style);\n  border-radius: var(--amplify-components-dropzone-border-radius);\n  color: var(--amplify-components-dropzone-color);\n  padding-block: var(--amplify-components-dropzone-padding-block);\n  padding-inline: var(--amplify-components-dropzone-padding-inline);\n  text-align: var(--amplify-components-dropzone-text-align);\n}\n.amplify-dropzone--disabled {\n  cursor: not-allowed;\n  background-color: var(--amplify-components-dropzone-disabled-background-color);\n  border-color: var(--amplify-components-dropzone-disabled-border-color);\n  border-width: var(--amplify-components-dropzone-disabled-border-width);\n  border-style: var(--amplify-components-dropzone-disabled-border-style);\n  border-radius: var(--amplify-components-dropzone-disabled-border-radius);\n  color: var(--amplify-components-dropzone-disabled-color);\n}\n.amplify-dropzone--active {\n  background-color: var(--amplify-components-dropzone-active-background-color);\n  border-color: var(--amplify-components-dropzone-active-border-color);\n  border-width: var(--amplify-components-dropzone-active-border-width);\n  border-style: var(--amplify-components-dropzone-active-border-style);\n  border-radius: var(--amplify-components-dropzone-active-border-radius);\n  color: var(--amplify-components-dropzone-active-color);\n}\n.amplify-dropzone--rejected {\n  background-color: var(--amplify-components-dropzone-rejected-background-color);\n  border-color: var(--amplify-components-dropzone-rejected-border-color);\n  border-width: var(--amplify-components-dropzone-rejected-border-width);\n  border-style: var(--amplify-components-dropzone-rejected-border-style);\n  border-radius: var(--amplify-components-dropzone-rejected-border-radius);\n  color: var(--amplify-components-dropzone-rejected-color);\n}\n.amplify-dropzone--accepted {\n  background-color: var(--amplify-components-dropzone-accepted-background-color);\n  border-color: var(--amplify-components-dropzone-accepted-border-color);\n  border-width: var(--amplify-components-dropzone-accepted-border-width);\n  border-style: var(--amplify-components-dropzone-accepted-border-style);\n  border-radius: var(--amplify-components-dropzone-accepted-border-radius);\n  color: var(--amplify-components-dropzone-accepted-color);\n}\n\n.amplify-field__description {\n  color: var(--amplify-components-fieldmessages-description-color);\n  font-style: var(--amplify-components-fieldmessages-description-font-style);\n  font-size: var(--amplify-components-fieldmessages-description-font-size);\n}\n\n.amplify-field__error-message {\n  color: var(--amplify-components-fieldmessages-error-color);\n  font-size: var(--amplify-components-fieldmessages-error-font-size);\n}\n\n.amplify-heading {\n  color: var(--amplify-components-heading-color);\n  line-height: var(--amplify-components-heading-line-height);\n  display: block;\n}\n.amplify-heading--truncated {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.amplify-heading--1 {\n  font-size: var(--amplify-components-heading-1-font-size);\n  font-weight: var(--amplify-components-heading-1-font-weight);\n}\n\n.amplify-heading--2 {\n  font-size: var(--amplify-components-heading-2-font-size);\n  font-weight: var(--amplify-components-heading-2-font-weight);\n}\n\n.amplify-heading--3 {\n  font-size: var(--amplify-components-heading-3-font-size);\n  font-weight: var(--amplify-components-heading-3-font-weight);\n}\n\n.amplify-heading--4 {\n  font-size: var(--amplify-components-heading-4-font-size);\n  font-weight: var(--amplify-components-heading-4-font-weight);\n}\n\n.amplify-heading--5 {\n  font-size: var(--amplify-components-heading-5-font-size);\n  font-weight: var(--amplify-components-heading-5-font-weight);\n}\n\n.amplify-heading--6 {\n  font-size: var(--amplify-components-heading-6-font-size);\n  font-weight: var(--amplify-components-heading-6-font-weight);\n}\n\n/*\n * Icon base styles\n */\n.amplify-icon {\n  display: inline-block;\n  vertical-align: middle;\n  fill: currentColor;\n  height: var(--amplify-components-icon-height);\n  line-height: var(--amplify-components-icon-line-height);\n}\n.amplify-icon > svg {\n  height: var(--amplify-components-icon-height);\n  width: var(--amplify-components-icon-height);\n}\n\n.amplify-highlightmatch__highlighted {\n  font-weight: var(--amplify-components-highlightmatch-highlighted-font-weight);\n}\n\n.amplify-input {\n  box-sizing: border-box;\n  color: var(--amplify-components-fieldcontrol-color);\n  font-size: var(--amplify-components-fieldcontrol-font-size);\n  line-height: var(--amplify-components-fieldcontrol-line-height);\n  padding-block-start: var(--amplify-components-fieldcontrol-padding-block-start);\n  padding-block-end: var(--amplify-components-fieldcontrol-padding-block-end);\n  padding-inline-start: var(--amplify-components-fieldcontrol-padding-inline-start);\n  padding-inline-end: var(--amplify-components-fieldcontrol-padding-inline-end);\n  transition: all var(--amplify-components-fieldcontrol-transition-duration);\n  width: 100%;\n  border-color: var(--amplify-components-fieldcontrol-border-color);\n  border-radius: var(--amplify-components-fieldcontrol-border-radius);\n  border-style: var(--amplify-components-fieldcontrol-border-style);\n  border-width: var(--amplify-components-fieldcontrol-border-width);\n  outline-color: var(--amplify-components-fieldcontrol-outline-color);\n  outline-style: var(--amplify-components-fieldcontrol-outline-style);\n  outline-width: var(--amplify-components-fieldcontrol-outline-width);\n  outline-offset: var(--amplify-components-fieldcontrol-outline-offset);\n  -webkit-user-select: text;\n     -moz-user-select: text;\n          user-select: text;\n  display: inline-block;\n  --amplify-components-fieldcontrol-color: var(\n    --amplify-components-input-color\n  );\n  --amplify-components-fieldcontrol-border-color: var(\n    --amplify-components-input-border-color\n  );\n  --amplify-components-fieldcontrol-font-size: var(\n    --amplify-components-input-font-size\n  );\n  --amplify-components-fieldcontrol-focus-border-color: var(\n    --amplify-components-input-focus-border-color\n  );\n}\n.amplify-input:focus {\n  border-color: var(--amplify-components-fieldcontrol-focus-border-color);\n  box-shadow: var(--amplify-components-fieldcontrol-focus-box-shadow);\n}\n.amplify-input--small {\n  font-size: var(--amplify-components-fieldcontrol-small-font-size);\n  padding-block-start: var(--amplify-components-fieldcontrol-small-padding-block-start);\n  padding-block-end: var(--amplify-components-fieldcontrol-small-padding-block-end);\n  padding-inline-start: var(--amplify-components-fieldcontrol-small-padding-inline-start);\n  padding-inline-end: var(--amplify-components-fieldcontrol-small-padding-inline-end);\n}\n.amplify-input--large {\n  font-size: var(--amplify-components-fieldcontrol-large-font-size);\n  padding-block-start: var(--amplify-components-fieldcontrol-large-padding-block-start);\n  padding-block-end: var(--amplify-components-fieldcontrol-large-padding-block-end);\n  padding-inline-start: var(--amplify-components-fieldcontrol-large-padding-inline-start);\n  padding-inline-end: var(--amplify-components-fieldcontrol-large-padding-inline-end);\n}\n.amplify-input--error {\n  border-color: var(--amplify-components-fieldcontrol-error-border-color);\n}\n.amplify-input--error:focus {\n  border-color: var(--amplify-components-fieldcontrol-error-border-color);\n  box-shadow: var(--amplify-components-fieldcontrol-error-focus-box-shadow);\n}\n.amplify-input--quiet {\n  border-block-start: var(--amplify-components-fieldcontrol-quiet-border-block-start);\n  border-inline-start: var(--amplify-components-fieldcontrol-quiet-border-inline-start);\n  border-inline-end: var(--amplify-components-fieldcontrol-quiet-border-inline-end);\n  border-radius: var(--amplify-components-fieldcontrol-quiet-border-radius);\n}\n.amplify-input--quiet:focus {\n  border-block-end-color: var(--amplify-components-fieldcontrol-quiet-focus-border-block-end-color);\n  box-shadow: var(--amplify-components-fieldcontrol-quiet-focus-box-shadow);\n}\n.amplify-input--quiet[aria-invalid=true] {\n  border-block-end-color: var(--amplify-components-fieldcontrol-quiet-error-border-block-end-color);\n}\n.amplify-input--quiet[aria-invalid=true]:focus {\n  border-block-end-color: var(--amplify-components-fieldcontrol-quiet-error-focus-border-block-end-color);\n  box-shadow: var(--amplify-components-fieldcontrol-quiet-error-focus-box-shadow);\n}\n.amplify-input[disabled] {\n  color: var(--amplify-components-fieldcontrol-disabled-color);\n  cursor: var(--amplify-components-fieldcontrol-disabled-cursor);\n  border-color: var(--amplify-components-fieldcontrol-disabled-border-color);\n  background-color: var(--amplify-components-fieldcontrol-disabled-background-color);\n}\n\n.amplify-textarea {\n  box-sizing: border-box;\n  color: var(--amplify-components-fieldcontrol-color);\n  font-size: var(--amplify-components-fieldcontrol-font-size);\n  line-height: var(--amplify-components-fieldcontrol-line-height);\n  padding-block-start: var(--amplify-components-fieldcontrol-padding-block-start);\n  padding-block-end: var(--amplify-components-fieldcontrol-padding-block-end);\n  padding-inline-start: var(--amplify-components-fieldcontrol-padding-inline-start);\n  padding-inline-end: var(--amplify-components-fieldcontrol-padding-inline-end);\n  transition: all var(--amplify-components-fieldcontrol-transition-duration);\n  width: 100%;\n  border-color: var(--amplify-components-fieldcontrol-border-color);\n  border-radius: var(--amplify-components-fieldcontrol-border-radius);\n  border-style: var(--amplify-components-fieldcontrol-border-style);\n  border-width: var(--amplify-components-fieldcontrol-border-width);\n  outline-color: var(--amplify-components-fieldcontrol-outline-color);\n  outline-style: var(--amplify-components-fieldcontrol-outline-style);\n  outline-width: var(--amplify-components-fieldcontrol-outline-width);\n  outline-offset: var(--amplify-components-fieldcontrol-outline-offset);\n  -webkit-user-select: text;\n     -moz-user-select: text;\n          user-select: text;\n  white-space: pre-wrap;\n}\n.amplify-textarea:focus {\n  border-color: var(--amplify-components-fieldcontrol-focus-border-color);\n  box-shadow: var(--amplify-components-fieldcontrol-focus-box-shadow);\n}\n.amplify-textarea--small {\n  font-size: var(--amplify-components-fieldcontrol-small-font-size);\n  padding-block-start: var(--amplify-components-fieldcontrol-small-padding-block-start);\n  padding-block-end: var(--amplify-components-fieldcontrol-small-padding-block-end);\n  padding-inline-start: var(--amplify-components-fieldcontrol-small-padding-inline-start);\n  padding-inline-end: var(--amplify-components-fieldcontrol-small-padding-inline-end);\n}\n.amplify-textarea--large {\n  font-size: var(--amplify-components-fieldcontrol-large-font-size);\n  padding-block-start: var(--amplify-components-fieldcontrol-large-padding-block-start);\n  padding-block-end: var(--amplify-components-fieldcontrol-large-padding-block-end);\n  padding-inline-start: var(--amplify-components-fieldcontrol-large-padding-inline-start);\n  padding-inline-end: var(--amplify-components-fieldcontrol-large-padding-inline-end);\n}\n.amplify-textarea--error {\n  border-color: var(--amplify-components-fieldcontrol-error-border-color);\n}\n.amplify-textarea--error:focus {\n  border-color: var(--amplify-components-fieldcontrol-error-border-color);\n  box-shadow: var(--amplify-components-fieldcontrol-error-focus-box-shadow);\n}\n.amplify-textarea--quiet {\n  border-block-start: var(--amplify-components-fieldcontrol-quiet-border-block-start);\n  border-inline-start: var(--amplify-components-fieldcontrol-quiet-border-inline-start);\n  border-inline-end: var(--amplify-components-fieldcontrol-quiet-border-inline-end);\n  border-radius: var(--amplify-components-fieldcontrol-quiet-border-radius);\n}\n.amplify-textarea--quiet:focus {\n  border-block-end-color: var(--amplify-components-fieldcontrol-quiet-focus-border-block-end-color);\n  box-shadow: var(--amplify-components-fieldcontrol-quiet-focus-box-shadow);\n}\n.amplify-textarea--quiet[aria-invalid=true] {\n  border-block-end-color: var(--amplify-components-fieldcontrol-quiet-error-border-block-end-color);\n}\n.amplify-textarea--quiet[aria-invalid=true]:focus {\n  border-block-end-color: var(--amplify-components-fieldcontrol-quiet-error-focus-border-block-end-color);\n  box-shadow: var(--amplify-components-fieldcontrol-quiet-error-focus-box-shadow);\n}\n.amplify-textarea[disabled] {\n  color: var(--amplify-components-fieldcontrol-disabled-color);\n  cursor: var(--amplify-components-fieldcontrol-disabled-cursor);\n  border-color: var(--amplify-components-fieldcontrol-disabled-border-color);\n  background-color: var(--amplify-components-fieldcontrol-disabled-background-color);\n}\n\n.amplify-image {\n  height: var(--amplify-components-image-height);\n  max-width: var(--amplify-components-image-max-width);\n  -o-object-fit: var(--amplify-components-image-object-fit);\n     object-fit: var(--amplify-components-image-object-fit);\n  -o-object-position: var(--amplify-components-image-object-position);\n     object-position: var(--amplify-components-image-object-position);\n  overflow: clip;\n}\n\n.amplify-link {\n  color: var(--amplify-components-link-color);\n  -webkit-text-decoration: var(--amplify-components-link-text-decoration);\n          text-decoration: var(--amplify-components-link-text-decoration);\n  cursor: pointer;\n}\n.amplify-link:visited {\n  color: var(--amplify-components-link-visited-color);\n  -webkit-text-decoration: var(--amplify-components-link-visited-text-decoration);\n          text-decoration: var(--amplify-components-link-visited-text-decoration);\n}\n.amplify-link:active {\n  color: var(--amplify-components-link-active-color);\n  -webkit-text-decoration: var(--amplify-components-link-active-text-decoration);\n          text-decoration: var(--amplify-components-link-active-text-decoration);\n}\n.amplify-link:focus {\n  color: var(--amplify-components-link-focus-color);\n  -webkit-text-decoration: var(--amplify-components-link-focus-text-decoration);\n          text-decoration: var(--amplify-components-link-focus-text-decoration);\n}\n.amplify-link:hover {\n  color: var(--amplify-components-link-hover-color);\n  -webkit-text-decoration: var(--amplify-components-link-hover-text-decoration);\n          text-decoration: var(--amplify-components-link-hover-text-decoration);\n}\n\n.amplify-loader {\n  width: var(--amplify-components-loader-width);\n  height: var(--amplify-components-loader-height);\n  font-size: var(--amplify-components-loader-font-size);\n  fill: none;\n  stroke: var(--amplify-components-loader-stroke-empty);\n  --amplify-internal-loader-linear-font-size: var(\n    --amplify-components-loader-linear-font-size\n  );\n  --amplify-internal-loader-linear-stroke-width: var(\n    --amplify-components-loader-linear-stroke-width\n  );\n}\n.amplify-loader circle:last-of-type {\n  transform-origin: center center;\n  animation-name: amplify-loader-circular;\n  animation-timing-function: linear;\n  animation-iteration-count: infinite;\n  animation-duration: var(--amplify-components-loader-animation-duration);\n  stroke: var(--amplify-components-loader-stroke-filled);\n  stroke-linecap: var(--amplify-components-loader-stroke-linecap);\n}\n@media (prefers-reduced-motion) {\n  .amplify-loader circle:last-of-type {\n    animation: none;\n    stroke-dasharray: 100% 200%;\n    stroke-dashoffset: 50%;\n  }\n}\n.amplify-loader line:last-of-type {\n  stroke: var(--amplify-components-loader-linear-stroke-filled);\n  stroke-dasharray: 50% 200%;\n  animation-name: amplify-loader-linear;\n  animation-duration: var(--amplify-components-loader-linear-animation-duration);\n  animation-timing-function: linear;\n  animation-iteration-count: infinite;\n}\n@media (prefers-reduced-motion) {\n  .amplify-loader line:last-of-type {\n    animation: none;\n    stroke-dashoffset: -50%;\n  }\n}\n.amplify-loader--small {\n  width: var(--amplify-components-loader-small-width);\n  height: var(--amplify-components-loader-small-height);\n  font-size: var(--amplify-components-loader-small-font-size);\n  --amplify-internal-loader-linear-stroke-width: var(\n    --amplify-components-loader-linear-small-stroke-width\n  );\n  --amplify-internal-loader-linear-font-size: var(\n    --amplify-components-loader-linear-small-font-size\n  );\n}\n.amplify-loader--large {\n  width: var(--amplify-components-loader-large-width);\n  height: var(--amplify-components-loader-large-height);\n  font-size: var(--amplify-components-loader-large-font-size);\n  --amplify-internal-loader-linear-stroke-width: var(\n    --amplify-components-loader-linear-large-stroke-width\n  );\n  --amplify-internal-loader-linear-font-size: var(\n    --amplify-components-loader-linear-large-font-size\n  );\n}\n.amplify-loader--linear {\n  width: var(--amplify-components-loader-linear-width);\n  min-width: var(--amplify-components-loader-linear-min-width);\n  stroke: var(--amplify-components-loader-linear-stroke-empty);\n  stroke-linecap: var(--amplify-components-loader-linear-stroke-linecap);\n  stroke-width: var(--amplify-internal-loader-linear-stroke-width);\n  font-size: var(--amplify-internal-loader-linear-font-size);\n}\n.amplify-loader--determinate circle:last-of-type {\n  animation: none;\n  transform: rotate(-90deg);\n}\n.amplify-loader--determinate line:last-of-type {\n  animation: none;\n  stroke-dashoffset: 0%;\n  stroke-dasharray: none;\n}\n.amplify-loader__label {\n  fill: var(--amplify-components-loader-text-fill);\n  stroke: none;\n}\n\n@keyframes amplify-loader-circular {\n  0% {\n    stroke-dasharray: 100% 200%;\n    transform: rotate(120deg);\n  }\n  50% {\n    stroke-dasharray: 20% 400%;\n  }\n  100% {\n    stroke-dasharray: 100% 200%;\n    transform: rotate(480deg);\n  }\n}\n@keyframes amplify-loader-linear {\n  0% {\n    stroke-dashoffset: 200%;\n  }\n  100% {\n    stroke-dashoffset: -50%;\n  }\n}\n.amplify-placeholder {\n  animation-direction: alternate;\n  animation-duration: var(--amplify-components-placeholder-transition-duration);\n  animation-iteration-count: infinite;\n  animation-name: amplify-placeholder-loading;\n  border-radius: var(--amplify-components-placeholder-border-radius);\n  height: var(--amplify-components-placeholder-default-height);\n  width: 100%;\n  display: block;\n}\n.amplify-placeholder--small {\n  height: var(--amplify-components-placeholder-small-height);\n}\n.amplify-placeholder--large {\n  height: var(--amplify-components-placeholder-large-height);\n}\n\n@keyframes amplify-placeholder-loading {\n  0% {\n    background-color: var(--amplify-components-placeholder-start-color);\n  }\n  100% {\n    background-color: var(--amplify-components-placeholder-end-color);\n  }\n}\n@media (prefers-reduced-motion: reduce) {\n  .amplify-placeholder {\n    animation: none;\n    background-color: var(--amplify-components-placeholder-end-color);\n  }\n}\n[data-amplify-copy] {\n  display: flex;\n  font-size: var(--amplify-components-copy-font-size);\n  gap: var(--amplify-components-copy-gap);\n  justify-content: center;\n  align-items: center;\n  word-break: break-all;\n}\n\n[data-amplify-copy-svg] {\n  cursor: pointer;\n  position: relative;\n}\n[data-amplify-copy-svg] path {\n  fill: var(--amplify-components-copy-svg-path-fill);\n}\n[data-amplify-copy-svg]:hover [data-amplify-copy-tooltip] {\n  visibility: visible;\n  font-size: var(--amplify-components-copy-tool-tip-font-size);\n}\n\n[data-amplify-copy-tooltip] {\n  visibility: hidden;\n  position: absolute;\n  bottom: var(--amplify-components-copy-tool-tip-bottom);\n  color: var(--amplify-components-copy-tool-tip-color);\n}\n\n.amplify-accordion {\n  display: block;\n  background-color: var(--amplify-components-accordion-background-color);\n  border-radius: var(--amplify-components-accordion-item-border-radius);\n}\n\n.amplify-accordion__item {\n  display: block;\n  position: relative;\n  border-width: var(--amplify-components-accordion-item-border-width);\n  border-style: var(--amplify-components-accordion-item-border-style);\n  border-color: var(--amplify-components-accordion-item-border-color);\n}\n.amplify-accordion__item + .amplify-accordion__item {\n  margin-block-start: calc(-1 * var(--amplify-components-accordion-item-border-width));\n}\n.amplify-accordion__item:where(:first-of-type) {\n  border-start-end-radius: var(--amplify-components-accordion-item-border-radius);\n  border-start-start-radius: var(--amplify-components-accordion-item-border-radius);\n}\n.amplify-accordion__item:where(:last-of-type) {\n  border-end-end-radius: var(--amplify-components-accordion-item-border-radius);\n  border-end-start-radius: var(--amplify-components-accordion-item-border-radius);\n}\n.amplify-accordion__item__trigger {\n  cursor: pointer;\n  display: flex;\n  position: relative;\n  color: var(--amplify-components-accordion-item-trigger-color);\n  border-radius: var(--amplify-components-accordion-item-border-radius);\n  padding-inline: var(--amplify-components-accordion-item-trigger-padding-inline);\n  padding-block: var(--amplify-components-accordion-item-trigger-padding-block);\n  gap: var(--amplify-components-accordion-item-trigger-gap);\n  align-items: var(--amplify-components-accordion-item-trigger-align-items);\n  justify-content: var(--amplify-components-accordion-item-trigger-justify-content);\n}\n.amplify-accordion__item__trigger:hover {\n  background-color: var(--amplify-components-accordion-item-trigger-hover-background-color);\n  color: var(--amplify-components-accordion-item-trigger-hover-color);\n}\n.amplify-accordion__item__trigger:focus {\n  box-shadow: var(--amplify-components-accordion-item-trigger-focus-box-shadow);\n  border-color: var(--amplify-components-accordion-item-trigger-focus-border-color);\n  z-index: 2;\n}\n.amplify-accordion__item__trigger::-webkit-details-marker {\n  display: none;\n}\n.amplify-accordion__item__content {\n  display: block;\n  color: var(--amplify-components-accordion-item-content-color);\n  padding-block-end: var(--amplify-components-accordion-item-content-padding-block-end);\n  padding-block-start: var(--amplify-components-accordion-item-content-padding-block-start);\n  padding-inline: var(--amplify-components-accordion-item-content-padding-inline);\n}\n.amplify-accordion__item__icon {\n  color: var(--amplify-components-accordion-item-icon-color);\n  transition-property: transform;\n  transition-duration: var(--amplify-components-accordion-item-icon-transition-duration);\n  transition-timing-function: var(--amplify-components-accordion-item-icon-transition-timing-function);\n}\n[open] .amplify-accordion__item__icon {\n  transform: rotate(180deg);\n}\n\n.amplify-alert {\n  align-items: var(--amplify-components-alert-align-items);\n  background-color: var(--amplify-components-alert-background-color);\n  color: var(--amplify-components-alert-color);\n  justify-content: var(--amplify-components-alert-justify-content);\n  padding-block: var(--amplify-components-alert-padding-block);\n  padding-inline: var(--amplify-components-alert-padding-inline);\n}\n.amplify-alert--info {\n  color: var(--amplify-components-alert-info-color);\n  background-color: var(--amplify-components-alert-info-background-color);\n}\n.amplify-alert--error {\n  color: var(--amplify-components-alert-error-color);\n  background-color: var(--amplify-components-alert-error-background-color);\n}\n.amplify-alert--warning {\n  color: var(--amplify-components-alert-warning-color);\n  background-color: var(--amplify-components-alert-warning-background-color);\n}\n.amplify-alert--success {\n  color: var(--amplify-components-alert-success-color);\n  background-color: var(--amplify-components-alert-success-background-color);\n}\n\n.amplify-alert__icon {\n  font-size: var(--amplify-components-alert-icon-size);\n  line-height: 1;\n}\n\n.amplify-alert__heading {\n  display: block;\n  font-weight: var(--amplify-components-alert-heading-font-weight);\n  font-size: var(--amplify-components-alert-heading-font-size);\n}\n\n.amplify-alert__body {\n  color: inherit;\n  display: block;\n}\n\n.amplify-alert__dismiss {\n  color: inherit;\n}\n\n.amplify-autocomplete__menu__option, .amplify-autocomplete__menu--loading, .amplify-autocomplete__menu--empty {\n  padding-block: var(--amplify-components-autocomplete-menu-space-shared-padding-block);\n  padding-inline: var(--amplify-components-autocomplete-menu-space-shared-padding-inline);\n}\n\n.amplify-autocomplete {\n  position: relative;\n  display: block;\n}\n\n.amplify-autocomplete__menu {\n  position: absolute;\n  z-index: 999999;\n  width: var(--amplify-components-autocomplete-menu-width);\n  margin-block-start: var(--amplify-components-autocomplete-menu-margin-block-start);\n  background-color: var(--amplify-components-autocomplete-menu-background-color);\n  border-color: var(--amplify-components-autocomplete-menu-border-color);\n  border-width: var(--amplify-components-autocomplete-menu-border-width);\n  border-style: var(--amplify-components-autocomplete-menu-border-style);\n  border-radius: var(--amplify-components-autocomplete-menu-border-radius);\n}\n.amplify-autocomplete__menu--empty {\n  display: var(--amplify-components-autocomplete-menu-empty-display);\n}\n.amplify-autocomplete__menu--loading {\n  display: var(--amplify-components-autocomplete-menu-loading-display);\n  align-items: var(--amplify-components-autocomplete-menu-loading-align-items);\n  gap: var(--amplify-components-autocomplete-menu-loading-gap);\n}\n.amplify-autocomplete__menu__options {\n  position: relative;\n  overscroll-behavior: contain;\n  display: var(--amplify-components-autocomplete-menu-options-display);\n  flex-direction: var(--amplify-components-autocomplete-menu-options-flex-direction);\n  max-height: var(--amplify-components-autocomplete-menu-options-max-height);\n}\n.amplify-autocomplete__menu__option {\n  background-color: var(--amplify-components-autocomplete-menu-option-background-color);\n  color: var(--amplify-components-autocomplete-menu-option-color);\n  cursor: var(--amplify-components-autocomplete-menu-option-cursor);\n  transition-duration: var(--amplify-components-autocomplete-menu-option-transition-duration);\n  transition-property: var(--amplify-components-autocomplete-menu-option-transition-property);\n  transition-timing-function: var(--amplify-components-autocomplete-menu-option-transition-timing-function);\n}\n.amplify-autocomplete__menu__option--active {\n  background-color: var(--amplify-components-autocomplete-menu-option-active-background-color);\n  color: var(--amplify-components-autocomplete-menu-option-active-color);\n}\n\n/* Center by default */\n[data-amplify-authenticator] {\n  display: grid;\n}\n[data-amplify-authenticator][data-variation=modal] {\n  overflow-y: auto;\n  width: var(--amplify-components-authenticator-modal-width);\n  height: var(--amplify-components-authenticator-modal-height);\n  background-color: var(--amplify-components-authenticator-modal-background-color);\n  position: fixed;\n  top: var(--amplify-components-authenticator-modal-top);\n  left: var(--amplify-components-authenticator-modal-left);\n  /* Having a z-index at least "wins" by default */\n  z-index: 1;\n}\n[data-amplify-authenticator] [data-amplify-container] {\n  place-self: center;\n}\n@media (min-width: 30rem) {\n  [data-amplify-authenticator] [data-amplify-container] {\n    width: var(--amplify-components-authenticator-container-width-max);\n  }\n}\n[data-amplify-authenticator] [data-amplify-router] {\n  background-color: var(--amplify-components-authenticator-router-background-color);\n  box-shadow: var(--amplify-components-authenticator-router-box-shadow);\n  border-color: var(--amplify-components-authenticator-router-border-color);\n  border-width: var(--amplify-components-authenticator-router-border-width);\n  border-style: var(--amplify-components-authenticator-router-border-style);\n}\n[data-amplify-authenticator] [data-amplify-footer] {\n  padding-bottom: var(--amplify-components-authenticator-footer-padding-bottom);\n  text-align: center;\n}\n[data-amplify-authenticator] [data-amplify-form] {\n  padding: var(--amplify-components-authenticator-form-padding);\n}\n[data-amplify-authenticator] [data-state=inactive] {\n  background-color: var(--amplify-components-authenticator-state-inactive-background-color);\n}\n@media (max-width: 26rem) {\n  [data-amplify-authenticator] [data-amplify-sign-up-errors] {\n    font-size: 0.688rem;\n  }\n}\n\n.amplify-authenticator__column {\n  display: flex;\n  flex-direction: column;\n}\n\n.amplify-authenticator__subtitle {\n  margin-bottom: var(--amplify-space-medium);\n}\n\n.amplify-authenticator__heading {\n  font-size: var(--amplify-font-sizes-xl);\n}\n\n.amplify-authenticator__federated-text {\n  align-self: center;\n}\n\n.amplify-authenticator__federated-buttons {\n  flex-direction: column;\n  padding-block-end: var(--amplify-space-medium);\n}\n\n.amplify-authenticator__federated-button {\n  font-weight: normal;\n  gap: var(--amplify-space-medium);\n}\n\n.amplify-breadcrumbs__list {\n  display: flex;\n  flex-wrap: var(--amplify-components-breadcrumbs-flex-wrap);\n  flex-direction: var(--amplify-components-breadcrumbs-flex-direction);\n  gap: var(--amplify-components-breadcrumbs-gap);\n  color: var(--amplify-components-breadcrumbs-color);\n}\n\n.amplify-breadcrumbs__item {\n  display: inline-flex;\n  flex-direction: var(--amplify-components-breadcrumbs-item-flex-direction);\n  align-items: var(--amplify-components-breadcrumbs-item-align-items);\n  line-height: var(--amplify-components-breadcrumbs-item-line-height);\n  color: var(--amplify-components-breadcrumbs-item-color);\n  font-size: var(--amplify-components-breadcrumbs-item-font-size);\n}\n\n.amplify-breadcrumbs__separator {\n  color: var(--amplify-components-breadcrumbs-separator-color);\n  font-size: var(--amplify-components-breadcrumbs-separator-font-size);\n  padding-inline: var(--amplify-components-breadcrumbs-separator-padding-inline);\n}\n\n.amplify-breadcrumbs__link {\n  color: var(--amplify-components-breadcrumbs-link-color);\n  font-size: var(--amplify-components-breadcrumbs-link-font-size);\n  font-weight: var(--amplify-components-breadcrumbs-link-font-weight);\n  padding-inline: var(--amplify-components-breadcrumbs-link-padding-inline);\n  padding-block: var(--amplify-components-breadcrumbs-link-padding-block);\n  -webkit-text-decoration: var(--amplify-components-breadcrumbs-link-text-decoration);\n          text-decoration: var(--amplify-components-breadcrumbs-link-text-decoration);\n}\n\n.amplify-breadcrumbs__link--current {\n  color: var(--amplify-components-breadcrumbs-link-current-color);\n  font-size: var(--amplify-components-breadcrumbs-link-current-font-size);\n  font-weight: var(--amplify-components-breadcrumbs-link-current-font-weight);\n  -webkit-text-decoration: var(--amplify-components-breadcrumbs-link-current-text-decoration);\n          text-decoration: var(--amplify-components-breadcrumbs-link-current-text-decoration);\n}\n\n.amplify-card {\n  background-color: var(--amplify-components-card-background-color);\n  border-radius: var(--amplify-components-card-border-radius);\n  border-width: var(--amplify-components-card-border-width);\n  border-style: var(--amplify-components-card-border-style);\n  border-color: var(--amplify-components-card-border-color);\n  box-shadow: var(--amplify-components-card-box-shadow);\n  display: block;\n  padding: var(--amplify-components-card-padding);\n}\n.amplify-card--outlined {\n  background-color: var(--amplify-components-card-outlined-background-color);\n  border-radius: var(--amplify-components-card-outlined-border-radius);\n  border-width: var(--amplify-components-card-outlined-border-width);\n  border-style: var(--amplify-components-card-outlined-border-style);\n  border-color: var(--amplify-components-card-outlined-border-color);\n  box-shadow: var(--amplify-components-card-outlined-box-shadow);\n}\n.amplify-card--elevated {\n  background-color: var(--amplify-components-card-elevated-background-color);\n  border-radius: var(--amplify-components-card-elevated-border-radius);\n  border-width: var(--amplify-components-card-elevated-border-width);\n  border-style: var(--amplify-components-card-elevated-border-style);\n  border-color: var(--amplify-components-card-elevated-border-color);\n  box-shadow: var(--amplify-components-card-elevated-box-shadow);\n}\n\n.amplify-collection {\n  flex-direction: column;\n}\n.amplify-collection__pagination {\n  justify-content: center;\n  --amplify-components-pagination-current-color: var(\n    --amplify-components-collection-pagination-current-color\n  );\n  --amplify-components-pagination-current-background-color: var(\n    --amplify-components-collection-pagination-current-background-color\n  );\n  --amplify-components-pagination-button-color: var(\n    --amplify-components-collection-pagination-button-color\n  );\n  --amplify-components-pagination-button-hover-color: var(\n    --amplify-components-collection-pagination-button-hover-color\n  );\n  --amplify-components-pagination-button-hover-background-color: var(\n    --amplify-components-collection-pagination-button-hover-background-color\n  );\n  --amplify-components-pagination-button-disabled-color: var(\n    --amplify-components-collection-pagination-button-disabled-color\n  );\n}\n.amplify-collection__search {\n  flex-direction: row;\n  justify-content: center;\n  --amplify-components-searchfield-input-color: var(\n    --amplify-components-collection-search-input-color\n  );\n  --amplify-components-searchfield-button-color: var(\n    --amplify-components-collection-search-button-color\n  );\n  --amplify-components-searchfield-button-active-background-color: var(\n    --amplify-components-collection-search-button-active-background-color\n  );\n  --amplify-components-searchfield-button-active-border-color: var(\n    --amplify-components-collection-search-button-active-border-color\n  );\n  --amplify-components-searchfield-button-active-color: var(\n    --amplify-components-collection-search-button-active-color\n  );\n  --amplify-components-searchfield-button-disabled-background-color: var(\n    --amplify-components-collection-search-button-disabled-background-color\n  );\n  --amplify-components-searchfield-button-disabled-border-color: var(\n    --amplify-components-collection-search-button-disabled-border-color\n  );\n  --amplify-components-searchfield-button-disabled-color: var(\n    --amplify-components-collection-search-button-disabled-color\n  );\n  --amplify-components-searchfield-button-focus-background-color: var(\n    --amplify-components-collection-search-button-focus-background-color\n  );\n  --amplify-components-searchfield-button-focus-border-color: var(\n    --amplify-components-collection-search-button-focus-border-color\n  );\n  --amplify-components-searchfield-button-focus-color: var(\n    --amplify-components-collection-search-button-focus-color\n  );\n  --amplify-components-searchfield-button-hover-background-color: var(\n    --amplify-components-collection-search-button-hover-background-color\n  );\n  --amplify-components-searchfield-button-hover-border-color: var(\n    --amplify-components-collection-search-button-hover-border-color\n  );\n  --amplify-components-searchfield-button-hover-color: var(\n    --amplify-components-collection-search-button-hover-color\n  );\n}\n\n.amplify-checkbox {\n  cursor: var(--amplify-components-checkbox-cursor);\n  align-items: var(--amplify-components-checkbox-align-items);\n  flex-direction: row-reverse;\n  gap: inherit;\n  position: relative;\n}\n.amplify-checkbox--disabled {\n  cursor: var(--amplify-components-checkbox-disabled-cursor);\n  color: var(--amplify-components-checkbox-label-disabled-color);\n}\n\n.amplify-checkbox__button {\n  position: var(--amplify-components-checkbox-button-position);\n  align-items: var(--amplify-components-checkbox-button-align-items);\n  justify-content: var(--amplify-components-checkbox-button-justify-content);\n  color: var(--amplify-components-checkbox-button-color);\n  --amplify-internal-checkbox_button-focused-before-border-color: var(\n    --amplify-components-checkbox-button-focus-border-color\n  );\n  --amplify-internal-checkbox_button-focused-before-box-shadow: var(\n    --amplify-components-checkbox-button-focus-box-shadow\n  );\n}\n.amplify-checkbox__button::before {\n  content: "";\n  display: inline-block;\n  position: absolute;\n  box-sizing: border-box;\n  width: var(--amplify-components-checkbox-button-before-width);\n  height: var(--amplify-components-checkbox-button-before-height);\n  border-width: var(--amplify-components-checkbox-button-before-border-width);\n  border-radius: var(--amplify-components-checkbox-button-before-border-radius);\n  border-style: var(--amplify-components-checkbox-button-before-border-style);\n  border-color: var(--amplify-components-checkbox-button-before-border-color);\n}\n.amplify-checkbox__button--focused::before {\n  outline-color: var(--amplify-components-checkbox-button-focus-outline-color);\n  outline-style: var(--amplify-components-checkbox-button-focus-outline-style);\n  outline-width: var(--amplify-components-checkbox-button-focus-outline-width);\n  outline-offset: var(--amplify-components-checkbox-button-focus-outline-offset);\n  border-color: var(--amplify-internal-checkbox_button-focused-before-border-color);\n  box-shadow: var(--amplify-internal-checkbox_button-focused-before-box-shadow);\n}\n.amplify-checkbox__button--error {\n  --amplify-internal-checkbox_button-focused-before-border-color: var(\n    --amplify-components-checkbox-button-error-focus-border-color\n  );\n  --amplify-internal-checkbox_button-focused-before-box-shadow: var(\n    --amplify-components-checkbox-button-error-focus-box-shadow\n  );\n}\n.amplify-checkbox__button--error::before {\n  border-color: var(--amplify-components-checkbox-button-error-border-color);\n}\n.amplify-checkbox__button--disabled::before {\n  border-color: var(--amplify-components-checkbox-button-disabled-border-color);\n}\n\n.amplify-checkbox__icon {\n  line-height: 1;\n  width: 1em;\n  height: 1em;\n  background-color: var(--amplify-components-checkbox-icon-background-color);\n  opacity: var(--amplify-components-checkbox-icon-opacity);\n  transform: var(--amplify-components-checkbox-icon-transform);\n  border-radius: var(--amplify-components-checkbox-icon-border-radius);\n  transition-property: var(--amplify-components-checkbox-icon-transition-property);\n  transition-duration: var(--amplify-components-checkbox-icon-transition-duration);\n  transition-timing-function: var(--amplify-components-checkbox-icon-transition-timing-function);\n  --amplify-internal-checkbox-icon-disabled-background-color: var(\n    --amplify-components-checkbox-icon-background-color\n  );\n}\n.amplify-checkbox__icon--checked {\n  opacity: var(--amplify-components-checkbox-icon-checked-opacity);\n  transform: var(--amplify-components-checkbox-icon-checked-transform);\n  --amplify-internal-checkbox-icon-disabled-background-color: var(\n    --amplify-components-checkbox-icon-checked-disabled-background-color\n  );\n}\n.amplify-checkbox__icon--indeterminate {\n  opacity: var(--amplify-components-checkbox-icon-indeterminate-opacity);\n  transform: var(--amplify-components-checkbox-icon-indeterminate-transform);\n  --amplify-internal-checkbox-icon-disabled-background-color: var(\n    --amplify-components-checkbox-icon-indeterminate-disabled-background-color\n  );\n}\n.amplify-checkbox__icon--disabled {\n  background-color: var(--amplify-internal-checkbox-icon-disabled-background-color);\n}\n\n.amplify-checkbox__label {\n  color: var(--amplify-components-checkbox-label-color);\n}\n.amplify-checkbox__label--disabled {\n  color: var(--amplify-components-checkbox-label-disabled-color);\n}\n\n.amplify-checkboxfield {\n  align-content: var(--amplify-components-checkboxfield-align-content);\n  align-items: var(--amplify-components-checkboxfield-align-items);\n  flex-direction: var(--amplify-components-checkboxfield-flex-direction);\n  justify-content: var(--amplify-components-checkboxfield-justify-content);\n}\n\n.amplify-dialcodeselect {\n  height: var(--amplify-components-countrycodeselect-height);\n}\n\n.amplify-divider {\n  --amplify-internal-divider-size: var(\n    --amplify-components-divider-border-width\n  );\n  border-color: var(--amplify-components-divider-border-color);\n  border-style: var(--amplify-components-divider-border-style);\n  border-width: 0;\n  opacity: var(--amplify-components-divider-opacity);\n  padding: 0;\n  display: flex;\n  position: relative;\n  text-align: center;\n  justify-content: center;\n}\n.amplify-divider::after {\n  content: attr(data-label);\n  position: absolute;\n  transform: translateY(-50%);\n  font-size: var(--amplify-components-divider-label-font-size);\n  padding-inline: var(--amplify-components-divider-label-padding-inline);\n  background-color: var(--amplify-components-divider-label-background-color);\n  color: var(--amplify-components-divider-label-color);\n}\n.amplify-divider--small {\n  --amplify-internal-divider-size: var(\n    --amplify-components-divider-small-border-width\n  );\n}\n.amplify-divider--large {\n  --amplify-internal-divider-size: var(\n    --amplify-components-divider-large-border-width\n  );\n}\n.amplify-divider--horizontal {\n  width: 100%;\n  border-bottom-width: var(--amplify-internal-divider-size);\n}\n.amplify-divider--vertical {\n  border-left-width: var(--amplify-internal-divider-size);\n  flex-direction: column;\n}\n.amplify-divider--vertical::after {\n  top: auto;\n  transform: translateX(-50%);\n  padding-block: 0;\n  padding-inline: 0;\n}\n\n.amplify-field {\n  font-size: var(--amplify-components-field-font-size);\n  gap: var(--amplify-components-field-gap);\n  flex-direction: var(--amplify-components-field-flex-direction);\n}\n.amplify-field--small {\n  font-size: var(--amplify-components-field-small-font-size);\n  gap: var(--amplify-components-field-small-gap);\n}\n.amplify-field--large {\n  font-size: var(--amplify-components-field-large-font-size);\n  gap: var(--amplify-components-field-large-gap);\n}\n\n.amplify-label {\n  color: var(--amplify-components-field-label-color);\n}\n\n.amplify-field-group__outer-end .amplify-select__wrapper .amplify-select, .amplify-field-group__outer-end .amplify-field-group__control, .amplify-field-group__outer-start .amplify-select__wrapper:not(:first-child) .amplify-select:not(:first-child), .amplify-field-group__outer-start--quiet .amplify-field-group__control, .amplify-field-group__outer-start .amplify-field-group__control:not(:first-child), .amplify-field-group :not(:first-child) .amplify-input {\n  border-start-start-radius: 0;\n  border-end-start-radius: 0;\n}\n@supports not (border-start-start-radius: 0) {\n  .amplify-field-group__outer-end .amplify-select__wrapper .amplify-select, .amplify-field-group__outer-end .amplify-field-group__control, .amplify-field-group__outer-start .amplify-select__wrapper:not(:first-child) .amplify-select:not(:first-child), .amplify-field-group__outer-start--quiet .amplify-field-group__control, .amplify-field-group__outer-start .amplify-field-group__control:not(:first-child), .amplify-field-group :not(:first-child) .amplify-input {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n}\n\n.amplify-field-group__outer-end .amplify-select__wrapper:not(:last-child) .amplify-select, .amplify-field-group__outer-end--quiet .amplify-field-group__control, .amplify-field-group__outer-end .amplify-field-group__control:not(:last-child), .amplify-field-group__outer-start .amplify-select__wrapper .amplify-select, .amplify-field-group__outer-start .amplify-field-group__control, .amplify-field-group :not(:last-child) .amplify-input {\n  border-end-end-radius: 0;\n  border-start-end-radius: 0;\n}\n@supports not (border-end-end-radius: 0) {\n  .amplify-field-group__outer-end .amplify-select__wrapper:not(:last-child) .amplify-select, .amplify-field-group__outer-end--quiet .amplify-field-group__control, .amplify-field-group__outer-end .amplify-field-group__control:not(:last-child), .amplify-field-group__outer-start .amplify-select__wrapper .amplify-select, .amplify-field-group__outer-start .amplify-field-group__control, .amplify-field-group :not(:last-child) .amplify-input {\n    border-bottom-right-radius: 0;\n    border-top-right-radius: 0;\n  }\n}\n\n.amplify-field-group {\n  gap: var(--amplify-components-fieldgroup-gap);\n  align-self: stretch;\n}\n.amplify-field-group--horizontal {\n  flex-direction: row;\n}\n.amplify-field-group--vertical {\n  flex-direction: column;\n  align-items: var(--amplify-components-fieldgroup-vertical-align-items);\n}\n.amplify-field-group__outer-start,\n.amplify-field-group__outer-end {\n  display: flex;\n  flex-shrink: 0;\n  align-items: var(--amplify-components-fieldgroup-outer-align-items);\n}\n.amplify-field-group__outer-start .amplify-field-group__control,\n.amplify-field-group__outer-end .amplify-field-group__control {\n  height: 100%;\n}\n\n/**\n * Outer field group components\n */\n.amplify-field-group__outer-start .amplify-field-group__control:not(:focus) {\n  border-inline-end-color: transparent;\n}\n.amplify-field-group__outer-start .amplify-field-group__control:focus {\n  z-index: 1;\n}\n.amplify-field-group__outer-start--quiet .amplify-field-group__control:not(:focus) {\n  border-block-start-color: transparent;\n  border-inline-start-color: transparent;\n}\n.amplify-field-group__outer-end .amplify-field-group__control:not(:focus) {\n  border-inline-start-color: transparent;\n}\n.amplify-field-group__outer-end .amplify-field-group__control:focus {\n  z-index: 1;\n}\n.amplify-field-group__outer-end--quiet .amplify-field-group__control:not(:focus) {\n  border-block-start-color: transparent;\n  border-inline-end-color: transparent;\n}\n/**\n * Inner field group components\n */\n.amplify-field-group__field-wrapper {\n  position: relative;\n  width: 100%;\n}\n.amplify-field-group__field-wrapper--vertical {\n  width: -moz-fit-content;\n  width: fit-content;\n}\n\n.amplify-field-group__inner-end,\n.amplify-field-group__inner-start {\n  position: absolute;\n  top: 0;\n  height: 100%;\n  pointer-events: none;\n}\n.amplify-field-group__inner-end .amplify-button,\n.amplify-field-group__inner-start .amplify-button {\n  pointer-events: all;\n  height: 100%;\n}\n\n.amplify-field-group__inner-end {\n  right: 0;\n  left: auto;\n}\n\n.amplify-field-group__inner-start {\n  right: auto;\n  left: 0;\n}\n\nhtml[dir=rtl] .amplify-field-group__inner-end {\n  right: auto;\n  left: 0;\n}\nhtml[dir=rtl] .amplify-field-group__inner-start {\n  left: auto;\n  right: 0;\n}\n\n.amplify-field-group--has-inner-end .amplify-input {\n  padding-inline-end: calc(var(--amplify-components-fieldcontrol-padding-inline-end) * 3);\n}\n\n.amplify-field-group--has-inner-start .amplify-input {\n  padding-inline-start: calc(var(--amplify-components-fieldcontrol-padding-inline-start) * 3);\n}\n\n/**\n * Inner icon (non-button) component styling requires additional styling\n */\n.amplify-field-group__icon:not(.amplify-field-group__icon-button) {\n  display: flex;\n  padding-inline-start: var(--amplify-components-fieldcontrol-padding-inline-start);\n  padding-inline-end: var(--amplify-components-fieldcontrol-padding-inline-start);\n  flex-direction: column;\n  justify-content: center;\n  height: 100%;\n}\n\n.amplify-fieldset {\n  background-color: var(--amplify-components-fieldset-background-color);\n  border-radius: var(--amplify-components-fieldset-border-radius);\n  flex-direction: var(--amplify-components-fieldset-flex-direction);\n  gap: var(--amplify-components-fieldset-gap);\n  /* Sizes */\n  /* Variations */\n}\n.amplify-fieldset--small {\n  gap: var(--amplify-components-fieldset-small-gap);\n}\n.amplify-fieldset--large {\n  gap: var(--amplify-components-fieldset-large-gap);\n}\n.amplify-fieldset--outlined {\n  border: var(--amplify-components-fieldset-outlined-border-width) var(--amplify-components-fieldset-outlined-border-style) var(--amplify-components-fieldset-outlined-border-color);\n  padding: var(--amplify-components-fieldset-outlined-padding);\n}\n.amplify-fieldset--outlined.amplify-fieldset--small {\n  padding: var(--amplify-components-fieldset-outlined-small-padding);\n}\n.amplify-fieldset--outlined.amplify-fieldset--large {\n  padding: var(--amplify-components-fieldset-outlined-large-padding);\n}\n\n.amplify-fieldset__legend {\n  color: var(--amplify-components-fieldset-legend-color);\n  font-weight: var(--amplify-components-fieldset-legend-font-weight);\n  line-height: var(--amplify-components-fieldset-legend-line-height);\n  font-size: var(--amplify-components-fieldset-legend-font-size);\n}\n.amplify-fieldset__legend--small {\n  font-size: var(--amplify-components-fieldset-legend-small-font-size);\n}\n.amplify-fieldset__legend--large {\n  font-size: var(--amplify-components-fieldset-legend-large-font-size);\n}\n\n.amplify-liveness-cancel-container {\n  z-index: 2;\n  position: absolute;\n  top: var(--amplify-space-medium);\n  right: var(--amplify-space-medium);\n}\n\n.liveness-detector .amplify-button--primary:focus {\n  box-shadow: unset;\n  outline: var(--amplify-components-button-focus-color) solid 2px;\n  outline-offset: 2px;\n}\n\n.amplify-liveness-cancel-button {\n  background-color: #fff;\n  color: hsl(190, 95%, 30%);\n}\n\n.amplify-liveness-fade-out {\n  animation-name: amplify-liveness-animation-fadeout;\n  animation-duration: 1s;\n  animation-fill-mode: forwards;\n}\n\n@keyframes amplify-liveness-animation-fadeout {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n.amplify-liveness-camera-module {\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: var(--amplify-components-liveness-camera-module-background-color);\n  border: 1px solid var(--amplify-colors-neutral-40);\n  position: relative;\n}\n\n.amplify-liveness-camera-module--mobile {\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  z-index: 2;\n}\n\n.amplify-liveness-video {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  transform: scaleX(-1);\n}\n\n.amplify-liveness-freshness-canvas {\n  height: 100%;\n  width: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n  z-index: 1;\n}\n\n.amplify-liveness-loader {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.amplify-liveness-oval-canvas {\n  flex-direction: column;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n}\n\n.amplify-liveness-oval-canvas--mobile {\n  position: fixed;\n}\n\n.amplify-liveness-video-anchor {\n  position: relative;\n  width: 100%;\n}\n\n.amplify-liveness-recording-icon-container {\n  z-index: 1;\n  position: absolute;\n  top: var(--amplify-space-medium);\n  left: var(--amplify-space-medium);\n}\n\n.amplify-liveness-recording-icon {\n  flex-direction: column;\n  align-items: center;\n  background-color: #fff;\n  padding: var(--amplify-space-xxs);\n  gap: var(--amplify-space-xxs);\n  border-radius: var(--amplify-radii-small);\n}\n\n.amplify-liveness-recording-icon .amplify-text {\n  color: var(--amplify-colors-black);\n}\n\n.amplify-liveness-instruction-overlay {\n  z-index: 2;\n}\n\n.amplify-liveness-countdown-container {\n  background-color: var(--amplify-colors-background-primary);\n  border-radius: 100%;\n  padding: var(--amplify-space-xs);\n}\n\n.amplify-liveness-instruction-list {\n  flex-direction: column;\n}\n.amplify-liveness-instruction-list li {\n  display: flex;\n}\n\n.amplify-liveness-toast {\n  background-color: var(--amplify-colors-background-primary);\n  padding: var(--amplify-space-small);\n  max-width: 100%;\n}\n\n.amplify-liveness-toast__message {\n  color: var(--amplify-colors-font-primary);\n  text-align: center;\n  flex-direction: column;\n}\n\n.amplify-liveness-toast--medium {\n  border-radius: var(--amplify-radii-medium);\n}\n\n.amplify-liveness-toast--large {\n  font-size: var(--amplify-font-sizes-xxl);\n  padding: 0 var(--amplify-space-xs);\n}\n\n.amplify-liveness-toast--primary {\n  background-color: var(--amplify-colors-primary-80);\n}\n.amplify-liveness-toast--primary .amplify-liveness-toast__message {\n  color: var(--amplify-colors-font-inverse);\n  text-align: center;\n  flex-direction: column;\n}\n\n.amplify-liveness-toast__container {\n  gap: var(--amplify-space-xs);\n  flex-direction: column;\n  align-items: center;\n}\n\n.amplify-liveness-toast--error {\n  background-color: var(--amplify-colors-red-80);\n}\n.amplify-liveness-toast--error .amplify-liveness-toast__message {\n  color: var(--amplify-colors-font-inverse);\n}\n\n.amplify-liveness-match-indicator {\n  display: block;\n  width: min(70%, 200px);\n  position: relative;\n  --amplify-liveness-match-indicator-transition: transform 0.2s linear;\n}\n\n.amplify-liveness-match-indicator__bar {\n  --percentage: 0;\n  display: block;\n  width: 100%;\n  height: var(--amplify-space-medium);\n  border-radius: var(--amplify-radii-medium);\n  background: var(--amplify-colors-white);\n  position: relative;\n  overflow: hidden;\n  /* \n    This translateZ transform fixes in issue in Safari where the bar::after\n    element doesn\'t appear clipped from overflow: hidden here */\n  transform: translateZ(0);\n  border: 1px solid var(--amplify-colors-border-tertiary);\n}\n\n.amplify-liveness-match-indicator__pin {\n  --percentage: 0;\n  display: block;\n  width: 100%;\n  position: absolute;\n  top: 50%;\n  left: 0;\n  transform: translate(var(--percentage), 0);\n  transition: var(--amplify-liveness-match-indicator-transition);\n}\n\n.amplify-liveness-match-indicator__bar:after {\n  position: absolute;\n  content: "";\n  width: 100%;\n  height: 100%;\n  background: var(--amplify-colors-primary-80);\n  left: -100%;\n  transform: translate(var(--percentage), 0);\n  transition: var(--amplify-liveness-match-indicator-transition);\n}\n\n.amplify-liveness-match-indicator__pin:after {\n  --height: var(--amplify-space-xl);\n  position: absolute;\n  content: "";\n  width: var(--amplify-space-small);\n  height: var(--height);\n  border-radius: var(--amplify-radii-medium);\n  background: var(--amplify-colors-primary-80);\n  left: 0;\n  top: 0;\n  transform: translate(-50%, calc(var(--height) / 2 * -1));\n}\n\n.amplify-liveness-figures {\n  flex-wrap: wrap;\n}\n\n.amplify-liveness-figure {\n  flex-direction: column;\n  gap: 0;\n}\n\n.amplify-liveness-figure__caption {\n  padding: var(--amplify-space-xxs);\n}\n\n.amplify-liveness-figure__caption--success {\n  background-color: var(--amplify-colors-background-success);\n  color: var(--amplify-colors-font-success);\n}\n\n.amplify-liveness-figure__caption--error {\n  background-color: var(--amplify-colors-background-error);\n  color: var(--amplify-colors-font-error);\n}\n\n.amplify-liveness-figure__image {\n  background-color: #fff;\n  border: 1px solid var(--amplify-colors-border-primary);\n  position: relative;\n  display: flex;\n  justify-content: center;\n}\n.amplify-liveness-figure__image svg {\n  display: block;\n}\n\n.amplify-liveness-figure__image--success {\n  border-color: var(--amplify-colors-green-90);\n}\n\n.amplify-liveness-figure__image--error {\n  border-color: var(--amplify-colors-border-error);\n}\n\n.amplify-liveness-figure__icon {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\n.amplify-liveness-landscape-error-modal {\n  background-color: var(--amplify-colors-background-primary);\n  flex-direction: column;\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n}\n\n.amplify-liveness-landscape-error-modal__header {\n  font-size: large;\n  font-weight: var(--amplify-font-weights-bold);\n}\n\n.amplify-liveness-landscape-error-modal__button {\n  justify-content: center;\n}\n\n.amplify-liveness-start-screen-header {\n  display: flex;\n  flex-direction: column;\n}\n\n.amplify-liveness-start-screen-header__heading {\n  color: var(--amplify-colors-font-primary);\n  font-weight: var(--amplify-font-weights-bold);\n}\n\n.amplify-liveness-start-screen-header__body {\n  color: var(--amplify-colors-font-primary);\n}\n\n.amplify-liveness-start-screen-warning {\n  color: var(--amplify-colors-blue-90);\n  background-color: var(--amplify-colors-blue-10);\n  align-items: center;\n  z-index: 3;\n}\n\n.amplify-liveness-start-screen-instructions__heading {\n  color: var(--amplify-colors-font-primary);\n  font-weight: var(--amplify-font-weights-bold);\n}\n\n.amplify-liveness-overlay-opaque {\n  background-color: var(--amplify-colors-overlay-40);\n}\n\n.amplify-liveness-overlay {\n  flex-direction: column;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  padding: var(--amplify-space-large);\n}\n\n.amplify-liveness-error-modal {\n  gap: var(--amplify-space-xs);\n  align-items: center;\n  justify-content: center;\n  color: var(--amplify-colors-font-error);\n}\n\n.amplify-liveness-error-modal__heading {\n  font-weight: var(--amplify-font-weights-bold);\n}\n\n.amplify-liveness-hint--mobile {\n  margin-top: var(--amplify-space-xxxl);\n}\n\n.amplify-liveness-hint__text {\n  align-items: center;\n  gap: var(--amplify-space-xs);\n}\n\n.amplify-liveness-popover {\n  position: relative;\n}\n\n.amplify-liveness-popover__anchor {\n  position: absolute;\n  top: 26px;\n  left: 20px;\n  z-index: 3;\n  border-style: solid;\n  border-width: 0 9px 9px 9px;\n  border-color: transparent transparent var(--amplify-colors-background-primary) transparent;\n}\n\n.amplify-liveness-popover__anchor-secondary {\n  position: absolute;\n  top: 24px;\n  left: 19px;\n  z-index: 2;\n  border-style: solid;\n  border-width: 0 10px 10px 10px;\n  border-color: transparent transparent var(--amplify-colors-border-secondary) transparent;\n}\n\n.amplify-liveness-popover__container {\n  position: absolute;\n  background-color: var(--amplify-colors-background-primary);\n  color: var(--amplify-colors-font-primary);\n  flex-direction: row;\n  font-size: var(--amplify-font-sizes-xs);\n  font-weight: var(--amplify-font-weights-normal);\n  padding: var(--amplify-space-small);\n  top: 33px;\n  width: 240px;\n  border: 1px solid var(--amplify-colors-border-secondary);\n  border-radius: 2px;\n  z-index: 4;\n}\n\n.amplify-liveness-start-screen-camera-select {\n  flex-direction: column;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  padding: var(--amplify-space-xl);\n  align-items: center;\n  justify-content: flex-end;\n  display: flex;\n  z-index: 2;\n}\n\n.amplify-liveness-start-screen-camera-select__container {\n  display: flex;\n  justify-content: space-between;\n  align-items: inherit;\n  gap: var(--amplify-space-xs);\n}\n\n.amplify-liveness-start-screen-camera-select__label,\n.amplify-liveness-start-screen-camera-select .amplify-select,\n.amplify-liveness-start-screen-camera-select .amplify-select__wrapper,\n.amplify-liveness-start-screen-camera-select .amplify-select__icon-wrapper {\n  background-color: var(--amplify-colors-background-primary);\n  color: var(--amplify-colors-font-primary);\n}\n\n.amplify-liveness-start-screen-camera-waiting {\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  height: 480px;\n}\n\n.amplify-menu__wrapper {\n  z-index: 999999;\n}\n\n.amplify-menu__trigger {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.amplify-menu__content {\n  background-color: var(--amplify-components-menu-background-color);\n  border-radius: var(--amplify-components-menu-border-radius);\n  box-shadow: var(--amplify-components-menu-box-shadow);\n  flex-direction: var(--amplify-components-menu-flex-direction);\n  gap: var(--amplify-components-menu-gap);\n  min-width: var(--amplify-components-menu-min-width);\n  max-width: var(--amplify-components-menu-max-width);\n  border-color: var(--amplify-components-menu-border-color);\n  border-width: var(--amplify-components-menu-border-width);\n  border-style: var(--amplify-components-menu-border-style);\n}\n\n.amplify-menu__content__item {\n  min-height: var(--amplify-components-menu-item-min-height);\n  padding-inline-start: var(--amplify-components-menu-item-padding-inline-start);\n  padding-inline-end: var(--amplify-components-menu-item-padding-inline-end);\n}\n\n.amplify-menu__content__item:not(:first-child):not(:last-child) {\n  border-radius: 0;\n}\n\n.amplify-menu__content__item:first-child {\n  border-end-end-radius: 0;\n  border-end-start-radius: 0;\n}\n@supports not (border-end-end-radius: 0) {\n  .amplify-menu__content__item:first-child {\n    border-bottom-right-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n}\n\n.amplify-menu__content__item:last-child {\n  border-start-end-radius: 0;\n  border-start-start-radius: 0;\n}\n@supports not (border-end-end-radius: 0) {\n  .amplify-menu__content__item:last-child {\n    border-top-right-radius: 0;\n    border-top-left-radius: 0;\n  }\n}\n\n.amplify-message {\n  align-items: var(--amplify-components-message-align-items);\n  background-color: var(--amplify-components-message-background-color);\n  color: var(--amplify-components-message-color);\n  justify-content: var(--amplify-components-message-justify-content);\n  padding-block: var(--amplify-components-message-padding-block);\n  padding-inline: var(--amplify-components-message-padding-inline);\n  border-color: var(--amplify-components-message-border-color);\n  border-radius: var(--amplify-components-message-border-radius);\n  border-style: var(--amplify-components-message-border-style);\n  border-width: var(--amplify-components-message-border-width);\n  line-height: var(--amplify-components-message-line-height);\n}\n.amplify-message--plain {\n  background-color: var(--amplify-components-message-plain-background-color);\n  border-color: var(--amplify-components-message-plain-border-color);\n  color: var(--amplify-components-message-plain-color);\n}\n.amplify-message--plain.amplify-message--info {\n  background-color: var(--amplify-components-message-plain-info-background-color);\n  border-color: var(--amplify-components-message-plain-info-border-color);\n  color: var(--amplify-components-message-plain-info-color);\n}\n.amplify-message--plain.amplify-message--error {\n  background-color: var(--amplify-components-message-plain-error-background-color);\n  border-color: var(--amplify-components-message-plain-error-border-color);\n  color: var(--amplify-components-message-plain-error-color);\n}\n.amplify-message--plain.amplify-message--warning {\n  background-color: var(--amplify-components-message-plain-warning-background-color);\n  border-color: var(--amplify-components-message-plain-warning-border-color);\n  color: var(--amplify-components-message-plain-warning-color);\n}\n.amplify-message--plain.amplify-message--success {\n  background-color: var(--amplify-components-message-plain-success-background-color);\n  border-color: var(--amplify-components-message-plain-success-border-color);\n  color: var(--amplify-components-message-plain-success-color);\n}\n.amplify-message--outlined {\n  background-color: var(--amplify-components-message-outlined-background-color);\n  border-color: var(--amplify-components-message-outlined-border-color);\n  color: var(--amplify-components-message-outlined-color);\n}\n.amplify-message--outlined.amplify-message--info {\n  background-color: var(--amplify-components-message-outlined-info-background-color);\n  border-color: var(--amplify-components-message-outlined-info-border-color);\n  color: var(--amplify-components-message-outlined-info-color);\n}\n.amplify-message--outlined.amplify-message--error {\n  background-color: var(--amplify-components-message-outlined-error-background-color);\n  border-color: var(--amplify-components-message-outlined-error-border-color);\n  color: var(--amplify-components-message-outlined-error-color);\n}\n.amplify-message--outlined.amplify-message--warning {\n  background-color: var(--amplify-components-message-outlined-warning-background-color);\n  border-color: var(--amplify-components-message-outlined-warning-border-color);\n  color: var(--amplify-components-message-outlined-warning-color);\n}\n.amplify-message--outlined.amplify-message--success {\n  background-color: var(--amplify-components-message-outlined-success-background-color);\n  border-color: var(--amplify-components-message-outlined-success-border-color);\n  color: var(--amplify-components-message-outlined-success-color);\n}\n.amplify-message--filled {\n  background-color: var(--amplify-components-message-filled-background-color);\n  border-color: var(--amplify-components-message-filled-border-color);\n  color: var(--amplify-components-message-filled-color);\n}\n.amplify-message--filled.amplify-message--info {\n  background-color: var(--amplify-components-message-filled-info-background-color);\n  border-color: var(--amplify-components-message-filled-info-border-color);\n  color: var(--amplify-components-message-filled-info-color);\n}\n.amplify-message--filled.amplify-message--error {\n  background-color: var(--amplify-components-message-filled-error-background-color);\n  border-color: var(--amplify-components-message-filled-error-border-color);\n  color: var(--amplify-components-message-filled-error-color);\n}\n.amplify-message--filled.amplify-message--warning {\n  background-color: var(--amplify-components-message-filled-warning-background-color);\n  border-color: var(--amplify-components-message-filled-warning-border-color);\n  color: var(--amplify-components-message-filled-warning-color);\n}\n.amplify-message--filled.amplify-message--success {\n  background-color: var(--amplify-components-message-filled-success-background-color);\n  border-color: var(--amplify-components-message-filled-success-border-color);\n  color: var(--amplify-components-message-filled-success-color);\n}\n\n.amplify-message__icon {\n  font-size: var(--amplify-components-message-icon-size);\n}\n.amplify-message__icon > * {\n  display: block;\n}\n\n.amplify-message__heading {\n  font-weight: var(--amplify-components-message-heading-font-weight);\n  font-size: var(--amplify-components-message-heading-font-size);\n}\n\n.amplify-message__content {\n  flex: 1;\n  flex-direction: column;\n  gap: var(--amplify-space-xxxs);\n}\n\n.amplify-message__dismiss {\n  margin-inline-start: auto;\n  gap: var(--amplify-components-message-dismiss-gap);\n}\n\n.amplify-pagination {\n  list-style-type: none;\n}\n.amplify-pagination__item {\n  height: var(--amplify-components-pagination-item-shared-height);\n  min-width: var(--amplify-components-pagination-item-shared-min-width);\n  border-radius: var(--amplify-components-pagination-item-shared-border-radius);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: initial;\n  color: var(--amplify-components-pagination-button-color);\n  margin-inline-start: var(--amplify-components-pagination-item-container-margin-left);\n  margin-inline-end: var(--amplify-components-pagination-item-container-margin-right);\n  padding-inline-start: var(--amplify-components-pagination-button-padding-inline-start);\n  padding-inline-end: var(--amplify-components-pagination-button-padding-inline-end);\n  transition-property: var(--amplify-components-pagination-button-transition-property);\n  transition-duration: var(--amplify-components-pagination-button-transition-duration);\n}\n.amplify-pagination__item:hover {\n  text-decoration: none;\n  color: var(--amplify-components-pagination-button-hover-color);\n  background-color: var(--amplify-components-pagination-button-hover-background-color);\n}\n.amplify-pagination__item--disabled {\n  color: var(--amplify-components-pagination-button-disabled-color);\n  pointer-events: none;\n}\n.amplify-pagination__item--current {\n  align-items: var(--amplify-components-pagination-current-align-items);\n  justify-content: var(--amplify-components-pagination-current-justify-content);\n  color: var(--amplify-components-pagination-current-color);\n  font-size: var(--amplify-components-pagination-current-font-size);\n  background-color: var(--amplify-components-pagination-current-background-color);\n}\n.amplify-pagination__item--ellipsis {\n  align-items: var(--amplify-components-pagination-ellipsis-align-items);\n  justify-content: var(--amplify-components-pagination-ellipsis-justify-content);\n  padding-inline-start: var(--amplify-components-pagination-ellipsis-padding-inline-start);\n  padding-inline-end: var(--amplify-components-pagination-ellipsis-padding-inline-end);\n}\n\n.amplify-passwordfield {\n  --amplify-components-fieldcontrol-color: var(\n    --amplify-components-passwordfield-color\n  );\n  --amplify-components-button-color: var(\n    --amplify-components-passwordfield-button-color\n  );\n  --amplify-components-button-active-background-color: var(\n    --amplify-components-passwordfield-button-active-background-color\n  );\n  --amplify-components-button-active-border-color: var(\n    --amplify-components-passwordfield-button-active-border-color\n  );\n  --amplify-components-button-active-color: var(\n    --amplify-components-passwordfield-button-active-color\n  );\n  --amplify-components-button-disabled-background-color: var(\n    --amplify-components-passwordfield-button-disabled-background-color\n  );\n  --amplify-components-button-disabled-border-color: var(\n    --amplify-components-passwordfield-button-disabled-border-color\n  );\n  --amplify-components-button-disabled-color: var(\n    --amplify-components-passwordfield-button-disabled-color\n  );\n  --amplify-components-button-focus-background-color: var(\n    --amplify-components-passwordfield-button-focus-background-color\n  );\n  --amplify-components-button-focus-border-color: var(\n    --amplify-components-passwordfield-button-focus-border-color\n  );\n  --amplify-components-button-focus-color: var(\n    --amplify-components-passwordfield-button-focus-color\n  );\n  --amplify-components-button-hover-background-color: var(\n    --amplify-components-passwordfield-button-hover-background-color\n  );\n  --amplify-components-button-hover-border-color: var(\n    --amplify-components-passwordfield-button-hover-border-color\n  );\n  --amplify-components-button-hover-color: var(\n    --amplify-components-passwordfield-button-hover-color\n  );\n  --amplify-components-button-outlined-error-color: var(\n    --amplify-components-passwordfield-button-error-color\n  );\n  --amplify-components-button-outlined-error-border-color: var(\n    --amplify-components-passwordfield-button-error-border-color\n  );\n  --amplify-components-button-outlined-error-background-color: var(\n    --amplify-components-passwordfield-button-error-background-color\n  );\n  --amplify-components-button-outlined-error-active-color: var(\n    --amplify-components-passwordfield-button-error-active-color\n  );\n  --amplify-components-button-outlined-error-active-border-color: var(\n    --amplify-components-passwordfield-button-error-active-border-color\n  );\n  --amplify-components-button-outlined-error-active-background-color: var(\n    --amplify-components-passwordfield-button-error-active-background-color\n  );\n  --amplify-components-button-outlined-error-hover-color: var(\n    --amplify-components-passwordfield-button-error-hover-color\n  );\n  --amplify-components-button-outlined-error-hover-border-color: var(\n    --amplify-components-passwordfield-button-error-hover-border-color\n  );\n  --amplify-components-button-outlined-error-hover-background-color: var(\n    --amplify-components-passwordfield-button-error-hover-background-color\n  );\n  --amplify-components-button-outlined-error-focus-color: var(\n    --amplify-components-passwordfield-button-error-focus-color\n  );\n  --amplify-components-button-outlined-error-focus-box-shadow: var(\n    --amplify-components-passwordfield-button-error-focus-box-shadow\n  );\n  --amplify-components-button-outlined-error-focus-border-color: var(\n    --amplify-components-passwordfield-button-error-focus-border-color\n  );\n  --amplify-components-button-outlined-error-focus-background-color: var(\n    --amplify-components-passwordfield-button-error-focus-background-color\n  );\n}\n\n.amplify-phonenumberfield select:not(:focus) {\n  border-right: none;\n}\n\n.amplify-phonenumberfield {\n  --amplify-components-selectfield-color: var(\n    --amplify-components-phonenumberfield-color\n  );\n  --amplify-components-selectfield-border-color: var(\n    --amplify-components-phonenumberfield-border-color\n  );\n  --amplify-components-selectfield-font-size: var(\n    --amplify-components-phonenumberfield-font-size\n  );\n  --amplify-components-selectfield-focus-border-color: var(\n    --amplify-components-phonenumberfield-focus-border-color\n  );\n  --amplify-components-textfield-color: var(\n    --amplify-components-phonenumberfield-color\n  );\n  --amplify-components-textfield-border-color: var(\n    --amplify-components-phonenumberfield-border-color\n  );\n  --amplify-components-textfield-font-size: var(\n    --amplify-components-phonenumberfield-font-size\n  );\n  --amplify-components-textfield-focus-border-color: var(\n    --amplify-components-phonenumberfield-focus-border-color\n  );\n}\n\n.amplify-rating {\n  display: flex;\n  position: relative;\n  text-align: left;\n  font-size: var(--amplify-components-rating-default-size);\n  line-height: var(--amplify-components-rating-default-size);\n}\n.amplify-rating--small {\n  font-size: var(--amplify-components-rating-small-size);\n  line-height: var(--amplify-components-rating-small-size);\n}\n.amplify-rating--large {\n  font-size: var(--amplify-components-rating-large-size);\n  line-height: var(--amplify-components-rating-large-size);\n}\n.amplify-rating__item {\n  position: relative;\n  height: 1em;\n  width: 1em;\n}\n.amplify-rating__icon {\n  width: 1em;\n  height: 1em;\n  display: block;\n  position: absolute;\n  overflow: hidden;\n}\n.amplify-rating__icon--filled {\n  color: var(--amplify-components-rating-filled-color);\n}\n.amplify-rating__icon--empty {\n  color: var(--amplify-components-rating-empty-color);\n}\n\n.amplify-radio {\n  align-items: var(--amplify-components-radio-align-items);\n  justify-content: var(--amplify-components-radio-justify-content);\n  gap: inherit;\n  flex-direction: row-reverse;\n  position: relative;\n}\n.amplify-radio--disabled {\n  cursor: var(--amplify-components-radio-disabled-cursor);\n}\n\n.amplify-radio__button {\n  flex-shrink: 0;\n  align-items: var(--amplify-components-radio-button-align-items);\n  justify-content: var(--amplify-components-radio-button-justify-content);\n  padding: var(--amplify-components-radio-button-padding);\n  box-sizing: var(--amplify-components-radio-button-box-sizing);\n  border-width: var(--amplify-components-radio-button-border-width);\n  border-style: var(--amplify-components-radio-button-border-style);\n  border-radius: var(--amplify-components-radio-button-border-radius);\n  border-color: var(--amplify-components-radio-button-border-color);\n  color: var(--amplify-components-radio-button-color);\n  background-color: var(--amplify-components-radio-button-background-color);\n  transition-property: var(--amplify-components-radio-button-transition-property);\n  transition-duration: var(--amplify-components-radio-button-transition-duration);\n  width: var(--amplify-components-radio-button-width);\n  height: var(--amplify-components-radio-button-height);\n  outline-color: var(--amplify-components-radio-button-outline-color);\n  outline-style: var(--amplify-components-radio-button-outline-style);\n  outline-width: var(--amplify-components-radio-button-outline-width);\n  outline-offset: var(--amplify-components-radio-button-outline-offset);\n}\n.amplify-radio__button::before {\n  content: "";\n  display: inline-block;\n  width: 100%;\n  height: 100%;\n  border-radius: var(--amplify-components-radio-button-before-border-radius);\n  background-color: currentColor;\n  border-radius: 50%;\n}\n.amplify-radio__button--small {\n  width: var(--amplify-components-radio-button-small-width);\n  height: var(--amplify-components-radio-button-small-height);\n}\n.amplify-radio__button--large {\n  width: var(--amplify-components-radio-button-large-width);\n  height: var(--amplify-components-radio-button-large-height);\n}\n\n.amplify-radio__input:checked + .amplify-radio__button {\n  color: var(--amplify-components-radio-button-checked-color);\n}\n\n.amplify-radio__input:checked:disabled + .amplify-radio__button {\n  color: var(--amplify-components-radio-button-checked-disabled-color);\n}\n\n.amplify-radio__input:focus + .amplify-radio__button {\n  border-color: var(--amplify-components-radio-button-focus-border-color);\n  box-shadow: var(--amplify-components-radio-button-focus-box-shadow);\n}\n\n.amplify-radio__input[aria-invalid=true] + .amplify-radio__button {\n  border-color: var(--amplify-components-radio-button-error-border-color);\n}\n\n.amplify-radio__input[aria-invalid=true]:focus + .amplify-radio__button {\n  box-shadow: var(--amplify-components-radio-button-error-focus-box-shadow);\n}\n\n.amplify-radio__input:disabled + .amplify-radio__button {\n  border-color: var(--amplify-components-radio-button-disabled-border-color);\n  background-color: var(--amplify-components-radio-button-disabled-background-color);\n}\n\n.amplify-radio__label {\n  color: var(--amplify-components-radio-label-color);\n}\n.amplify-radio__label--disabled {\n  color: var(--amplify-components-radio-label-disabled-color);\n}\n\n.amplify-radiogroup {\n  gap: inherit;\n  flex-direction: inherit;\n  align-items: inherit;\n}\n\n.amplify-radiogroupfield {\n  flex-direction: column;\n  align-items: flex-start;\n  --amplify-components-fieldset-legend-color: var(\n    --amplify-components-radiogroup-legend-color\n  );\n  --amplify-components-fieldset-legend-font-weight: var(\n    --amplify-components-radiogroup-legend-font-weight\n  );\n  --amplify-components-radio-button-border-width: var(\n    --amplify-components-radiogroup-radio-border-width\n  );\n  --amplify-components-radio-button-border-color: var(\n    --amplify-components-radiogroup-radio-border-color\n  );\n  --amplify-components-radio-button-background-color: var(\n    --amplify-components-radiogroup-radio-background-color\n  );\n  --amplify-components-radio-label-color: var(\n    --amplify-components-radiogroup-radio-label-color\n  );\n  --amplify-components-radio-button-checked-color: var(\n    --amplify-components-radiogroup-radio-checked-color\n  );\n}\n\n.amplify-searchfield {\n  --amplify-components-fieldcontrol-color: var(\n    --amplify-components-searchfield-input-color\n  );\n}\n.amplify-searchfield__search {\n  color: var(--amplify-components-searchfield-button-color);\n  background-color: var(--amplify-components-searchfield-button-background-color);\n}\n.amplify-searchfield__search:active {\n  background-color: var(--amplify-components-button-active-background-color);\n  border-color: var(--amplify-components-button-active-border-color);\n  color: var(--amplify-components-button-active-color);\n}\n.amplify-searchfield__search:focus {\n  background-color: var(--amplify-components-searchfield-button-focus-background-color);\n  border-color: var(--amplify-components-searchfield-button-focus-border-color);\n  color: var(--amplify-components-searchfield-button-focus-color);\n}\n.amplify-searchfield__search:hover {\n  background-color: var(--amplify-components-searchfield-button-hover-background-color);\n  border-color: var(--amplify-components-searchfield-button-hover-border-color);\n  color: var(--amplify-components-searchfield-button-hover-color);\n}\n.amplify-searchfield__search:disabled {\n  background-color: var(--amplify-components-searchfield-button-disabled-background-color);\n  border-color: var(--amplify-components-searchfield-button-disabled-border-color);\n  color: var(--amplify-components-searchfield-button-disabled-color);\n}\n\n.amplify-select__wrapper {\n  flex: var(--amplify-components-select-wrapper-flex);\n  display: var(--amplify-components-select-wrapper-display);\n  position: var(--amplify-components-select-wrapper-position);\n  cursor: var(--amplify-components-select-wrapper-cursor);\n  align-self: stretch;\n}\n\n.amplify-select__icon {\n  color: var(--amplify-components-fieldcontrol-color);\n  align-items: var(--amplify-components-select-icon-wrapper-align-items);\n  position: var(--amplify-components-select-icon-wrapper-position);\n  top: var(--amplify-components-select-icon-wrapper-top);\n  right: var(--amplify-components-select-icon-wrapper-right);\n  transform: var(--amplify-components-select-icon-wrapper-transform);\n  pointer-events: var(--amplify-components-select-icon-wrapper-pointer-events);\n}\n.amplify-select__icon--small {\n  right: var(--amplify-components-select-icon-wrapper-small-right);\n}\n.amplify-select__icon--large {\n  right: var(--amplify-components-select-icon-wrapper-large-right);\n}\n\n.amplify-select {\n  box-sizing: border-box;\n  color: var(--amplify-components-fieldcontrol-color);\n  font-size: var(--amplify-components-fieldcontrol-font-size);\n  line-height: var(--amplify-components-fieldcontrol-line-height);\n  padding-block-start: var(--amplify-components-fieldcontrol-padding-block-start);\n  padding-block-end: var(--amplify-components-fieldcontrol-padding-block-end);\n  padding-inline-start: var(--amplify-components-fieldcontrol-padding-inline-start);\n  padding-inline-end: var(--amplify-components-fieldcontrol-padding-inline-end);\n  transition: all var(--amplify-components-fieldcontrol-transition-duration);\n  width: 100%;\n  border-color: var(--amplify-components-fieldcontrol-border-color);\n  border-radius: var(--amplify-components-fieldcontrol-border-radius);\n  border-style: var(--amplify-components-fieldcontrol-border-style);\n  border-width: var(--amplify-components-fieldcontrol-border-width);\n  outline-color: var(--amplify-components-fieldcontrol-outline-color);\n  outline-style: var(--amplify-components-fieldcontrol-outline-style);\n  outline-width: var(--amplify-components-fieldcontrol-outline-width);\n  outline-offset: var(--amplify-components-fieldcontrol-outline-offset);\n  background-color: var(--amplify-components-select-background-color);\n  color: var(--amplify-components-select-color);\n  min-width: var(--amplify-components-select-min-width);\n  padding-inline-end: var(--amplify-components-select-padding-inline-end);\n  white-space: var(--amplify-components-select-white-space);\n}\n.amplify-select:focus {\n  border-color: var(--amplify-components-fieldcontrol-focus-border-color);\n  box-shadow: var(--amplify-components-fieldcontrol-focus-box-shadow);\n}\n.amplify-select--small {\n  font-size: var(--amplify-components-fieldcontrol-small-font-size);\n  padding-block-start: var(--amplify-components-fieldcontrol-small-padding-block-start);\n  padding-block-end: var(--amplify-components-fieldcontrol-small-padding-block-end);\n  padding-inline-start: var(--amplify-components-fieldcontrol-small-padding-inline-start);\n  padding-inline-end: var(--amplify-components-fieldcontrol-small-padding-inline-end);\n}\n.amplify-select--large {\n  font-size: var(--amplify-components-fieldcontrol-large-font-size);\n  padding-block-start: var(--amplify-components-fieldcontrol-large-padding-block-start);\n  padding-block-end: var(--amplify-components-fieldcontrol-large-padding-block-end);\n  padding-inline-start: var(--amplify-components-fieldcontrol-large-padding-inline-start);\n  padding-inline-end: var(--amplify-components-fieldcontrol-large-padding-inline-end);\n}\n.amplify-select--error {\n  border-color: var(--amplify-components-fieldcontrol-error-border-color);\n}\n.amplify-select--error:focus {\n  border-color: var(--amplify-components-fieldcontrol-error-border-color);\n  box-shadow: var(--amplify-components-fieldcontrol-error-focus-box-shadow);\n}\n.amplify-select--quiet {\n  border-block-start: var(--amplify-components-fieldcontrol-quiet-border-block-start);\n  border-inline-start: var(--amplify-components-fieldcontrol-quiet-border-inline-start);\n  border-inline-end: var(--amplify-components-fieldcontrol-quiet-border-inline-end);\n  border-radius: var(--amplify-components-fieldcontrol-quiet-border-radius);\n}\n.amplify-select--quiet:focus {\n  border-block-end-color: var(--amplify-components-fieldcontrol-quiet-focus-border-block-end-color);\n  box-shadow: var(--amplify-components-fieldcontrol-quiet-focus-box-shadow);\n}\n.amplify-select--quiet[aria-invalid=true] {\n  border-block-end-color: var(--amplify-components-fieldcontrol-quiet-error-border-block-end-color);\n}\n.amplify-select--quiet[aria-invalid=true]:focus {\n  border-block-end-color: var(--amplify-components-fieldcontrol-quiet-error-focus-border-block-end-color);\n  box-shadow: var(--amplify-components-fieldcontrol-quiet-error-focus-box-shadow);\n}\n.amplify-select[disabled] {\n  color: var(--amplify-components-fieldcontrol-disabled-color);\n  cursor: var(--amplify-components-fieldcontrol-disabled-cursor);\n  border-color: var(--amplify-components-fieldcontrol-disabled-border-color);\n  background-color: var(--amplify-components-fieldcontrol-disabled-background-color);\n}\n.amplify-select option {\n  background-color: var(--amplify-components-select-option-background-color);\n  color: var(--amplify-components-select-option-color);\n}\n.amplify-select option[disabled=""] {\n  background-color: var(--amplify-components-select-option-disabled-background-color);\n  color: var(--amplify-components-select-option-disabled-color);\n  cursor: var(--amplify-components-fieldcontrol-disabled-cursor);\n}\n.amplify-select[disabled] {\n  background-color: var(--amplify-components-select-disabled-background-color);\n  color: var(--amplify-components-select-disabled-color);\n}\n.amplify-select[disabled] option {\n  color: inherit;\n  background-color: inherit;\n}\n.amplify-select--small {\n  min-width: var(--amplify-components-select-small-min-width);\n  padding-inline-end: var(--amplify-components-select-small-padding-inline-end);\n}\n.amplify-select--large {\n  min-width: var(--amplify-components-select-large-min-width);\n  padding-inline-end: var(--amplify-components-select-large-padding-inline-end);\n}\n.amplify-select--expanded {\n  overflow: auto;\n  padding: var(--amplify-components-select-expanded-padding-block) var(--amplify-components-select-expanded-padding-inline);\n}\n.amplify-select--expanded option {\n  padding: var(--amplify-components-select-expanded-option-padding-block) var(--amplify-components-select-expanded-option-padding-inline);\n}\n\n.amplify-selectfield {\n  flex-direction: var(--amplify-components-selectfield-flex-direction);\n  --amplify-components-fieldcontrol-border-color: var(\n    --amplify-components-selectfield-border-color\n  );\n  --amplify-components-fieldcontrol-color: var(\n    --amplify-components-selectfield-color\n  );\n  --amplify-components-fieldcontrol-font-size: var(\n    --amplify-components-selectfield-font-size\n  );\n  --amplify-components-fieldcontrol-focus-border-color: var(\n    --amplify-components-selectfield-focus-border-color\n  );\n  --amplify-components-field-label-color: var(\n    --amplify-components-selectfield-label-color\n  );\n}\n\n.amplify-sliderfield {\n  flex-direction: column;\n}\n\n.amplify-sliderfield__label {\n  display: flex;\n  justify-content: space-between;\n}\n\n.amplify-sliderfield__root {\n  align-items: center;\n  box-sizing: content-box;\n  display: flex;\n  padding-block: var(--amplify-components-sliderfield-padding-block);\n  position: relative;\n  touch-action: none;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n  --amplify-internal-sliderfield-root-height: var(\n    --amplify-components-sliderfield-thumb-height\n  );\n  --amplify-internal-sliderfield-root-width: var(\n    --amplify-components-sliderfield-thumb-height\n  );\n}\n.amplify-sliderfield__root--disabled {\n  cursor: not-allowed;\n}\n.amplify-sliderfield__root--horizontal {\n  height: var(--amplify-internal-sliderfield-root-height);\n}\n.amplify-sliderfield__root--vertical {\n  flex-direction: column;\n  width: var(--amplify-internal-sliderfield-root-width);\n}\n.amplify-sliderfield__root--large {\n  --amplify-internal-sliderfield-root-height: var(\n    --amplify-components-sliderfield-large-thumb-height\n  );\n  --amplify-internal-sliderfield-root-width: var(\n    --amplify-components-sliderfield-large-thumb-height\n  );\n}\n.amplify-sliderfield__root--small {\n  --amplify-internal-sliderfield-root-height: var(\n    --amplify-components-sliderfield-small-thumb-height\n  );\n  --amplify-internal-sliderfield-root-width: var(\n    --amplify-components-sliderfield-small-thumb-height\n  );\n}\n\n.amplify-sliderfield__track {\n  position: relative;\n  flex-grow: 1;\n  border-radius: var(--amplify-components-sliderfield-track-border-radius);\n  background-color: var(--amplify-components-sliderfield-track-background-color);\n  --amplify-internal-sliderfield-track-height: var(\n    --amplify-components-sliderfield-track-height\n  );\n  --amplify-internal-sliderfield-track-min-width: var(\n    --amplify-components-sliderfield-track-min-width\n  );\n  --amplify-internal-sliderfield-track-width: var(\n    --amplify-components-sliderfield-track-height\n  );\n  --amplify-internal-sliderfield-track-min-height: var(\n    --amplify-components-sliderfield-track-min-width\n  );\n}\n.amplify-sliderfield__track--horizontal {\n  height: var(--amplify-internal-sliderfield-track-height);\n  min-width: var(--amplify-internal-sliderfield-track-min-width);\n}\n.amplify-sliderfield__track--vertical {\n  width: var(--amplify-internal-sliderfield-track-width);\n  min-height: var(--amplify-internal-sliderfield-track-min-height);\n}\n.amplify-sliderfield__track--large {\n  --amplify-internal-sliderfield-track-height: var(\n    --amplify-components-sliderfield-large-track-height\n  );\n  --amplify-internal-sliderfield-track-width: var(\n    --amplify-components-sliderfield-large-track-height\n  );\n}\n.amplify-sliderfield__track--small {\n  --amplify-internal-sliderfield-track-height: var(\n    --amplify-components-sliderfield-small-track-height\n  );\n  --amplify-internal-sliderfield-track-width: var(\n    --amplify-components-sliderfield-small-track-height\n  );\n}\n\n.amplify-sliderfield__range {\n  position: absolute;\n  border-radius: var(--amplify-components-sliderfield-range-border-radius);\n  background-color: var(--amplify-components-sliderfield-range-background-color);\n}\n.amplify-sliderfield__range--disabled {\n  background-color: var(--amplify-components-sliderfield-range-disabled-background-color);\n}\n.amplify-sliderfield__range--horizontal {\n  height: 100%;\n}\n.amplify-sliderfield__range--vertical {\n  width: 100%;\n}\n\n.amplify-sliderfield__thumb {\n  display: block;\n  width: var(--amplify-components-sliderfield-thumb-width);\n  height: var(--amplify-components-sliderfield-thumb-height);\n  background-color: var(--amplify-components-sliderfield-thumb-background-color);\n  box-shadow: var(--amplify-components-sliderfield-thumb-box-shadow);\n  border-radius: var(--amplify-components-sliderfield-thumb-border-radius);\n  border-width: var(--amplify-components-sliderfield-thumb-border-width);\n  border-color: var(--amplify-components-sliderfield-thumb-border-color);\n  border-style: var(--amplify-components-sliderfield-thumb-border-style);\n}\n.amplify-sliderfield__thumb:hover {\n  background-color: var(--amplify-components-sliderfield-thumb-hover-background-color);\n  border-color: var(--amplify-components-sliderfield-thumb-hover-border-color);\n}\n.amplify-sliderfield__thumb:focus {\n  border-color: var(--amplify-components-sliderfield-thumb-focus-border-color);\n  box-shadow: var(--amplify-components-sliderfield-thumb-focus-box-shadow);\n}\n.amplify-sliderfield__thumb--disabled {\n  background-color: var(--amplify-components-sliderfield-thumb-disabled-background-color);\n  border-color: var(--amplify-components-sliderfield-thumb-disabled-border-color);\n  box-shadow: var(--amplify-components-sliderfield-thumb-disabled-box-shadow);\n}\n.amplify-sliderfield__thumb--large {\n  width: var(--amplify-components-sliderfield-large-thumb-width);\n  height: var(--amplify-components-sliderfield-large-thumb-height);\n}\n.amplify-sliderfield__thumb--small {\n  width: var(--amplify-components-sliderfield-small-thumb-width);\n  height: var(--amplify-components-sliderfield-small-thumb-height);\n}\n\n.amplify-stepperfield {\n  flex-direction: var(--amplify-components-stepperfield-flex-direction);\n  --amplify-components-fieldcontrol-border-color: var(\n    --amplify-components-stepperfield-border-color\n  );\n  --amplify-components-button-border-color: var(\n    --amplify-components-stepperfield-border-color\n  );\n  --amplify-components-fieldcontrol-color: var(\n    --amplify-components-stepperfield-input-color\n  );\n  --amplify-components-fieldcontrol-font-size: var(\n    --amplify-components-stepperfield-input-font-size\n  );\n  --amplify-components-button-color: var(\n    --amplify-components-stepperfield-button-color\n  );\n  --amplify-components-button-active-color: var(\n    --amplify-components-stepperfield-button-active-color\n  );\n  --amplify-components-button-active-background-color: var(\n    --amplify-components-stepperfield-button-active-background-color\n  );\n  --amplify-components-button-focus-color: var(\n    --amplify-components-stepperfield-button-focus-color\n  );\n  --amplify-components-button-focus-background-color: var(\n    --amplify-components-stepperfield-button-focus-background-color\n  );\n  --amplify-components-button-disabled-color: var(\n    --amplify-components-stepperfield-button-disabled-color\n  );\n  --amplify-components-button-disabled-background-color: var(\n    --amplify-components-stepperfield-button-disabled-background-color\n  );\n  --amplify-components-button-hover-color: var(\n    --amplify-components-stepperfield-button-hover-color\n  );\n  --amplify-components-button-hover-background-color: var(\n    --amplify-components-stepperfield-button-hover-background-color\n  );\n}\n\n.amplify-stepperfield__button--decrease,\n.amplify-stepperfield__button--increase {\n  background-color: var(--amplify-components-stepperfield-button-background-color);\n}\n.amplify-stepperfield__button--decrease--disabled,\n.amplify-stepperfield__button--increase--disabled {\n  background-color: var(--amplify-components-stepperfield-button-disabled-background-color);\n}\n.amplify-stepperfield__button--decrease--quiet,\n.amplify-stepperfield__button--increase--quiet {\n  border-width: 0 0 var(--amplify-components-button-border-width) 0;\n  border-radius: 0;\n}\n\n.amplify-stepperfield__button--decrease[data-invalid=true] {\n  border-inline-end: none;\n}\n\n.amplify-stepperfield__button--increase[data-invalid=true] {\n  border-inline-start: none;\n}\n\n.amplify-stepperfield__input {\n  -moz-appearance: textfield;\n  text-align: var(--amplify-components-stepperfield-input-text-align);\n}\n.amplify-stepperfield__input::-webkit-outer-spin-button, .amplify-stepperfield__input::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n.amplify-stepperfield__input:not(:focus, [aria-invalid=true]) {\n  border-inline-start: none;\n  border-inline-end: none;\n}\n\n.amplify-switchfield {\n  display: inline-block;\n  font-size: var(--amplify-components-switchfield-font-size);\n  cursor: pointer;\n}\n.amplify-switchfield--small {\n  font-size: var(--amplify-components-switchfield-small-font-size);\n}\n.amplify-switchfield--large {\n  font-size: var(--amplify-components-switchfield-large-font-size);\n}\n\n.amplify-switch__wrapper {\n  display: inline-flex;\n  align-items: center;\n}\n.amplify-switch__wrapper--start {\n  flex-direction: row;\n}\n.amplify-switch__wrapper--end {\n  flex-direction: row-reverse;\n}\n.amplify-switch__wrapper--top {\n  flex-direction: column;\n}\n.amplify-switch__wrapper--bottom {\n  flex-direction: column-reverse;\n}\n\n.amplify-switch__track {\n  display: inline-flex;\n  justify-content: flex-start;\n  box-sizing: content-box;\n  border-radius: var(--amplify-components-switchfield-track-border-radius);\n  padding: var(--amplify-components-switchfield-track-padding);\n  width: var(--amplify-components-switchfield-track-width);\n  height: var(--amplify-components-switchfield-track-height);\n  transition-duration: var(--amplify-components-switchfield-track-transition-duration);\n  background-color: var(--amplify-components-switchfield-track-background-color);\n}\n.amplify-switch__track--checked {\n  background-color: var(--amplify-components-switchfield-track-checked-background-color);\n}\n.amplify-switch__track--disabled {\n  opacity: var(--amplify-components-switchfield-disabled-opacity);\n  cursor: not-allowed;\n}\n.amplify-switch__track--focused {\n  box-shadow: var(--amplify-components-switchfield-focused-shadow);\n}\n.amplify-switch__track--error {\n  background-color: var(--amplify-components-switchfield-track-error-background-color);\n}\n\n.amplify-switch__thumb {\n  background-color: var(--amplify-components-switchfield-thumb-background-color);\n  transition-duration: var(--amplify-components-switchfield-thumb-transition-duration);\n  border-radius: var(--amplify-components-switchfield-thumb-border-radius);\n  width: var(--amplify-components-switchfield-thumb-width);\n  height: var(--amplify-components-switchfield-thumb-width);\n  border-width: var(--amplify-components-switchfield-thumb-border-width);\n  border-style: var(--amplify-components-switchfield-thumb-border-style);\n  border-color: var(--amplify-components-switchfield-thumb-border-color);\n  overflow-wrap: break-word;\n}\n.amplify-switch__thumb--checked {\n  transform: var(--amplify-components-switchfield-thumb-checked-transform);\n}\n.amplify-switch__thumb--disabled {\n  cursor: not-allowed;\n}\n\n.amplify-switch__label {\n  padding: var(--amplify-components-switchfield-label-padding);\n  cursor: pointer;\n}\n\n.amplify-table {\n  /**\n   * Default Table primitive stylings\n   */\n  border-collapse: var(--amplify-components-table-border-collapse);\n  display: var(--amplify-components-table-display);\n  width: var(--amplify-components-table-width);\n  --amplify-internal-table-caption-font-size: var(\n    --amplify-components-table-caption-font-size\n  );\n  --amplify-internal-table-th-font-size: var(\n    --amplify-components-table-header-font-size\n  );\n  --amplify-internal-table-th-padding: var(\n    --amplify-components-table-header-padding\n  );\n  --amplify-internal-table-td-font-size: var(\n    --amplify-components-table-data-font-size\n  );\n  --amplify-internal-table-td-padding: var(\n    --amplify-components-table-data-padding\n  );\n  --amplify-internal-table-td-border-width: var(\n      --amplify-components-table-data-border-width\n    )\n    0px var(--amplify-components-table-data-border-width) 0px;\n  --amplify-internal-table-th-border-width: var(\n      --amplify-components-table-header-border-width\n    )\n    0px var(--amplify-components-table-header-border-width) 0px;\n  /**\n   * Data attribute stylings\n   */\n}\n.amplify-table--small {\n  --amplify-internal-table-caption-font-size: var(\n    --amplify-components-table-caption-small-font-size\n  );\n  --amplify-internal-table-th-font-size: var(\n    --amplify-components-table-header-small-font-size\n  );\n  --amplify-internal-table-th-padding: var(\n    --amplify-components-table-header-small-padding\n  );\n  --amplify-internal-table-td-font-size: var(\n    --amplify-components-table-data-small-font-size\n  );\n  --amplify-internal-table-td-padding: var(\n    --amplify-components-table-data-small-padding\n  );\n}\n.amplify-table--large {\n  --amplify-internal-table-caption-font-size: var(\n    --amplify-components-table-caption-large-font-size\n  );\n  --amplify-internal-table-th-font-size: var(\n    --amplify-components-table-header-large-font-size\n  );\n  --amplify-internal-table-th-padding: var(\n    --amplify-components-table-header-large-padding\n  );\n  --amplify-internal-table-td-font-size: var(\n    --amplify-components-table-data-large-font-size\n  );\n  --amplify-internal-table-td-padding: var(\n    --amplify-components-table-data-large-padding\n  );\n}\n.amplify-table--bordered {\n  --amplify-internal-table-td-border-width: var(\n      --amplify-components-table-data-border-width\n    )\n    var(--amplify-components-table-data-border-width)\n    var(--amplify-components-table-data-border-width)\n    var(--amplify-components-table-data-border-width);\n  --amplify-internal-table-th-border-width: var(\n      --amplify-components-table-header-border-width\n    )\n    var(--amplify-components-table-header-border-width)\n    var(--amplify-components-table-header-border-width)\n    var(--amplify-components-table-header-border-width);\n}\n.amplify-table--striped .amplify-table__row:not(.amplify-table__head *):nth-child(odd) {\n  background-color: var(--amplify-components-table-row-striped-background-color);\n}\n.amplify-table__caption {\n  caption-side: var(--amplify-components-table-caption-caption-side);\n  color: var(--amplify-components-table-caption-color);\n  display: var(--amplify-components-table-caption-display);\n  font-size: var(--amplify-internal-table-caption-font-size);\n  text-align: var(--amplify-components-table-caption-text-align);\n  word-break: var(--amplify-components-table-caption-word-break);\n}\n.amplify-table__head {\n  display: var(--amplify-components-table-head-display);\n  vertical-align: var(--amplify-components-table-head-vertical-align);\n}\n.amplify-table__body {\n  display: var(--amplify-components-table-body-display);\n  vertical-align: var(--amplify-components-table-body-vertical-align);\n}\n.amplify-table__foot {\n  display: var(--amplify-components-table-foot-display);\n  vertical-align: var(--amplify-components-table-foot-vertical-align);\n}\n.amplify-table__row {\n  display: var(--amplify-components-table-row-display);\n  vertical-align: var(--amplify-components-table-row-vertical-align);\n}\n.amplify-table__th {\n  border-color: var(--amplify-components-table-header-border-color);\n  border-style: var(--amplify-components-table-header-border-style);\n  border-width: var(--amplify-internal-table-th-border-width);\n  color: var(--amplify-components-table-header-color);\n  display: var(--amplify-components-table-header-display);\n  font-size: var(--amplify-internal-table-th-font-size);\n  font-weight: var(--amplify-components-table-header-font-weight);\n  padding: var(--amplify-internal-table-th-padding);\n  vertical-align: var(--amplify-components-table-header-vertical-align);\n}\n.amplify-table__th:first-child {\n  border-left-width: var(--amplify-components-table-header-border-width);\n}\n.amplify-table__th:last-child {\n  border-right-width: var(--amplify-components-table-header-border-width);\n}\n.amplify-table__td {\n  border-color: var(--amplify-components-table-data-border-color);\n  border-style: var(--amplify-components-table-data-border-style);\n  border-width: var(--amplify-internal-table-td-border-width);\n  color: var(--amplify-components-table-data-color);\n  display: var(--amplify-components-table-data-display);\n  font-size: var(--amplify-internal-table-td-font-size);\n  font-weight: var(--amplify-components-table-data-font-weight);\n  padding: var(--amplify-internal-table-td-padding);\n  vertical-align: var(--amplify-components-table-data-vertical-align);\n}\n.amplify-table__td:first-child {\n  border-left-width: var(--amplify-components-table-data-border-width);\n}\n.amplify-table__td:last-child {\n  border-right-width: var(--amplify-components-table-data-border-width);\n}\n.amplify-table[data-highlightonhover=true] .amplify-table__row:not(.amplify-table__head *):hover {\n  background-color: var(--amplify-components-table-row-hover-background-color);\n}\n\n.amplify-tabs__list {\n  --internal-item-margin-start: 0;\n  --internal-item-margin-end: calc(\n    -1 * var(--amplify-components-tabs-item-border-width)\n  );\n  --internal-item-border-width: 0 0\n    var(--amplify-components-tabs-border-width) 0;\n  --internal-item-flex: initial;\n  display: flex;\n  flex-direction: row;\n  background-color: var(--amplify-components-tabs-background-color);\n  box-shadow: var(--amplify-components-tabs-box-shadow);\n  border-width: var(--internal-item-border-width);\n  border-style: var(--amplify-components-tabs-border-style);\n  border-color: var(--amplify-components-tabs-border-color);\n  gap: var(--amplify-components-tabs-gap);\n}\n.amplify-tabs__list--top {\n  --internal-item-border-width: var(--amplify-components-tabs-border-width)\n    0 0 0;\n  --internal-item-margin-start: calc(\n    -1 * var(--amplify-components-tabs-item-border-width)\n  );\n  --internal-item-margin-end: 0;\n}\n.amplify-tabs__list--equal {\n  --internal-item-flex: 1 1 0;\n}\n.amplify-tabs__list--relative {\n  --internal-item-flex: 1 1 auto;\n}\n.amplify-tabs__panel {\n  display: none;\n  background-color: var(--amplify-components-tabs-panel-background-color);\n  padding-inline: var(--amplify-components-tabs-panel-padding-inline);\n  padding-block: var(--amplify-components-tabs-panel-padding-block);\n}\n.amplify-tabs__panel--active {\n  display: block;\n}\n.amplify-tabs__item {\n  position: relative;\n  background-color: var(--amplify-components-tabs-item-background-color);\n  box-sizing: border-box;\n  color: var(--amplify-components-tabs-item-color);\n  font-size: var(--amplify-components-tabs-item-font-size);\n  font-weight: var(--amplify-components-tabs-item-font-weight);\n  padding: var(--amplify-components-tabs-item-padding-vertical) var(--amplify-components-tabs-item-padding-horizontal);\n  text-align: var(--amplify-components-tabs-item-text-align);\n  transition: all var(--amplify-components-tabs-item-transition-duration);\n  border-width: var(--internal-item-border-width);\n  border-style: var(--amplify-components-tabs-item-border-style);\n  border-color: var(--amplify-components-tabs-item-border-color);\n  flex: var(--internal-item-flex);\n  margin-block-start: var(--internal-item-margin-start);\n  margin-block-end: var(--internal-item-margin-end);\n}\n.amplify-tabs__item--active {\n  color: var(--amplify-components-tabs-item-active-color);\n  border-color: var(--amplify-components-tabs-item-active-border-color);\n  background-color: var(--amplify-components-tabs-item-active-background-color);\n  transition-property: none;\n}\n.amplify-tabs__item:hover {\n  color: var(--amplify-components-tabs-item-hover-color);\n  cursor: pointer;\n}\n.amplify-tabs__item:focus-visible {\n  z-index: 2;\n  color: var(--amplify-components-tabs-item-focus-color);\n  background-color: var(--amplify-components-tabs-item-focus-background-color);\n  border-color: var(--amplify-components-tabs-item-focus-border-color);\n  box-shadow: var(--amplify-components-tabs-item-focus-box-shadow);\n}\n.amplify-tabs__item:active {\n  background-color: var(--amplify-components-tabs-item-active-background-color);\n  border-color: var(--amplify-components-tabs-item-active-border-color);\n  box-shadow: var(--amplify-components-tabs-item-active-box-shadow);\n  color: var(--amplify-components-tabs-item-active-color);\n}\n.amplify-tabs__item[disabled] {\n  background-color: var(--amplify-components-tabs-item-disabled-background-color);\n  border-color: var(--amplify-components-tabs-item-disabled-border-color);\n  box-shadow: var(--amplify-components-tabs-item-disabled-box-shadow);\n  color: var(--amplify-components-tabs-item-disabled-color);\n  cursor: not-allowed;\n}\n\n.amplify-textareafield {\n  flex-direction: column;\n  --amplify-components-fieldcontrol-color: var(\n    --amplify-components-textareafield-color\n  );\n  --amplify-components-fieldcontrol-border-color: var(\n    --amplify-components-textareafield-border-color\n  );\n  --amplify-components-fieldcontrol-focus-border-color: var(\n    --amplify-components-textareafield-focus-border-color\n  );\n}\n\n.amplify-textfield {\n  --amplify-components-fieldcontrol-color: var(\n    --amplify-components-textfield-color\n  );\n  --amplify-components-fieldcontrol-border-color: var(\n    --amplify-components-textfield-border-color\n  );\n  --amplify-components-fieldcontrol-font-size: var(\n    --amplify-components-textfield-font-size\n  );\n  --amplify-components-fieldcontrol-focus-border-color: var(\n    --amplify-components-textfield-focus-border-color\n  );\n}\n\n.amplify-togglebutton {\n  --amplify-internal-togglebutton-background-color: initial;\n  --amplify-internal-togglebutton-border-color: var(\n    --amplify-components-togglebutton-border-color\n  );\n  --amplify-internal-togglebutton-color: var(\n    --amplify-components-togglebutton-color\n  );\n  background-color: var(--amplify-internal-togglebutton-background-color);\n  border-color: var(--amplify-internal-togglebutton-border-color);\n  color: var(--amplify-internal-togglebutton-color);\n  --amplify-internal-togglebutton-focus-background-color: var(\n    --amplify-internal-togglebutton-background-color\n  );\n  --amplify-internal-togglebutton-focus-border-color: var(\n    --amplify-components-togglebutton-focus-border-color\n  );\n  --amplify-internal-togglebutton-focus-color: var(\n    --amplify-components-togglebutton-focus-color\n  );\n  --amplify-internal-togglebutton-hover-background-color: var(\n    --amplify-components-togglebutton-hover-background-color\n  );\n  --amplify-internal-togglebutton-hover-border-color: var(\n    --amplify-internal-togglebutton-border-color\n  );\n  --amplify-internal-togglebutton-hover-color: var(\n    --amplify-internal-togglebutton-color\n  );\n  --amplify-internal-togglebutton-active-background-color: var(\n    --amplify-components-togglebutton-active-background-color\n  );\n  --amplify-internal-togglebutton-disabled-background-color: var(\n    --amplify-components-togglebutton-disabled-background-color\n  );\n  --amplify-internal-togglebutton-disabled-border-color: var(\n    --amplify-components-togglebutton-disabled-border-color\n  );\n  --amplify-internal-togglebutton-disabled-color: var(\n    --amplify-components-togglebutton-disabled-color\n  );\n}\n.amplify-togglebutton:focus {\n  background-color: var(--amplify-internal-togglebutton-focus-background-color);\n  border-color: var(--amplify-internal-togglebutton-focus-border-color);\n  color: var(--amplify-internal-togglebutton-focus-color);\n}\n.amplify-togglebutton:hover {\n  background-color: var(--amplify-internal-togglebutton-hover-background-color);\n  border-color: var(--amplify-internal-togglebutton-hover-border-color);\n  color: var(--amplify-internal-togglebutton-hover-color);\n}\n.amplify-togglebutton:active {\n  background-color: var(--amplify-internal-togglebutton-active-background-color);\n}\n.amplify-togglebutton:disabled {\n  background-color: var(--amplify-internal-togglebutton-disabled-background-color);\n  border-color: var(--amplify-internal-togglebutton-disabled-border-color);\n  color: var(--amplify-internal-togglebutton-disabled-color);\n}\n.amplify-togglebutton--pressed {\n  --amplify-internal-togglebutton-border-color: var(\n    --amplify-components-togglebutton-pressed-border-color\n  );\n  --amplify-internal-togglebutton-background-color: var(\n    --amplify-components-togglebutton-pressed-background-color\n  );\n  --amplify-internal-togglebutton-color: var(\n    --amplify-components-togglebutton-pressed-color\n  );\n  --amplify-internal-togglebutton-hover-background-color: var(\n    --amplify-components-togglebutton-pressed-hover-background-color\n  );\n  --amplify-internal-togglebutton-disabled-background-color: var(\n    --amplify-components-togglebutton-pressed-background-color\n  );\n  --amplify-internal-togglebutton-disabled-border-color: var(\n    --amplify-components-togglebutton-pressed-border-color\n  );\n  --amplify-internal-togglebutton-disabled-color: var(\n    --amplify-components-togglebutton-pressed-color\n  );\n}\n.amplify-togglebutton--primary {\n  --amplify-internal-togglebutton-primary-background-color: var(\n    --amplify-components-togglebutton-primary-background-color\n  );\n  --amplify-internal-togglebutton-background-color: var(\n    --amplify-internal-togglebutton-primary-background-color\n  );\n  --amplify-internal-togglebutton-primary-border-color: var(\n    --amplify-components-togglebutton-border-color\n  );\n  --amplify-internal-togglebutton-border-color: var(\n    --amplify-internal-togglebutton-primary-border-color\n  );\n  --amplify-internal-togglebutton-primary-color: var(\n    --amplify-components-togglebutton-color\n  );\n  --amplify-internal-togglebutton-color: var(\n    --amplify-internal-togglebutton-primary-color\n  );\n  border-width: var(--amplify-components-togglebutton-primary-border-width);\n  --amplify-internal-togglebutton-primary-focus-background-color: var(\n    --amplify-components-togglebutton-primary-focus-background-color\n  );\n  --amplify-internal-togglebutton-primary-focus-border-color: var(\n    --amplify-components-togglebutton-primary-focus-border-color\n  );\n  --amplify-internal-togglebutton-primary-focus-color: var(\n    --amplify-components-togglebutton-primary-focus-color\n  );\n  --amplify-internal-togglebutton-primary-focus-box-shadow: var(\n    --amplify-components-togglebutton-primary-focus-box-shadow\n  );\n  --amplify-internal-togglebutton-focus-background-color: var(\n    --amplify-internal-togglebutton-primary-focus-background-color\n  );\n  --amplify-internal-togglebutton-focus-border-color: var(\n    --amplify-internal-togglebutton-primary-focus-border-color\n  );\n  --amplify-internal-togglebutton-focus-color: var(\n    --amplify-internal-togglebutton-primary-focus-color\n  );\n  --amplify-internal-togglebutton-primary-hover-background-color: var(\n    --amplify-components-togglebutton-primary-hover-background-color\n  );\n  --amplify-internal-togglebutton-primary-hover-border-color: var(\n    --amplify-internal-togglebutton-primary-border-color\n  );\n  --amplify-internal-togglebutton-primary-hover-color: var(\n    --amplify-components-togglebutton-primary-hover-color\n  );\n  --amplify-internal-togglebutton-hover-background-color: var(\n    --amplify-internal-togglebutton-primary-hover-background-color\n  );\n  --amplify-internal-togglebutton-hover-border-color: var(\n    --amplify-internal-togglebutton-primary-hover-border-color\n  );\n  --amplify-internal-togglebutton-hover-color: var(\n    --amplify-internal-togglebutton-primary-hover-color\n  );\n  --amplify-internal-togglebutton-primary-disabled-background-color: var(\n    --amplify-components-togglebutton-primary-disabled-background-color\n  );\n  --amplify-internal-togglebutton-primary-disabled-border-color: var(\n    --amplify-components-togglebutton-primary-disabled-border-color\n  );\n  --amplify-internal-togglebutton-primary-disabled-color: var(\n    --amplify-components-togglebutton-primary-disabled-color\n  );\n  --amplify-internal-togglebutton-disabled-background-color: var(\n    --amplify-internal-togglebutton-primary-disabled-background-color\n  );\n  --amplify-internal-togglebutton-disabled-border-color: var(\n    --amplify-internal-togglebutton-primary-disabled-border-color\n  );\n  --amplify-internal-togglebutton-disabled-color: var(\n    --amplify-internal-togglebutton-primary-disabled-color\n  );\n}\n.amplify-togglebutton--primary:focus {\n  box-shadow: var(--amplify-internal-togglebutton-primary-focus-box-shadow);\n}\n.amplify-togglebutton--pressed {\n  --amplify-internal-togglebutton-primary-background-color: var(\n    --amplify-components-togglebutton-primary-pressed-background-color\n  );\n  --amplify-internal-togglebutton-primary-border-color: var(\n    --amplify-components-togglebutton-primary-pressed-border-color\n  );\n  --amplify-internal-togglebutton-primary-color: var(\n    --amplify-components-togglebutton-primary-pressed-color\n  );\n  --amplify-internal-togglebutton-primary-focus-background-color: var(\n    --amplify-components-togglebutton-primary-pressed-focus-background-color\n  );\n  --amplify-internal-togglebutton-primary-focus-border-color: var(\n    --amplify-components-togglebutton-primary-pressed-focus-border-color\n  );\n  --amplify-internal-togglebutton-primary-focus-color: var(\n    --amplify-components-togglebutton-primary-pressed-focus-color\n  );\n  --amplify-internal-togglebutton-primary-hover-background-color: var(\n    --amplify-components-togglebutton-primary-pressed-hover-background-color\n  );\n  --amplify-internal-togglebutton-primary-hover-border-color: var(\n    --amplify-components-togglebutton-primary-pressed-hover-border-color\n  );\n  --amplify-internal-togglebutton-primary-hover-color: var(\n    --amplify-components-togglebutton-primary-pressed-hover-color\n  );\n  --amplify-internal-togglebutton-primary-disabled-background-color: var(\n    --amplify-components-togglebutton-primary-pressed-background-color\n  );\n  --amplify-internal-togglebutton-primary-disabled-border-color: var(\n    --amplify-components-togglebutton-primary-pressed-border-color\n  );\n  --amplify-internal-togglebutton-primary-disabled-color: var(\n    --amplify-components-togglebutton-primary-pressed-color\n  );\n}\n.amplify-togglebutton--pressed:hover {\n  --amplify-internal-togglebutton-primary-focus-box-shadow: var(\n    --amplify-components-togglebutton-primary-pressed-hover-box-shadow\n  );\n}\n.amplify-togglebutton--link {\n  --amplify-internal-togglebutton-link-background-color: var(\n    --amplify-components-togglebutton-link-background-color\n  );\n  --amplify-internal-togglebutton-link-color: var(\n    --amplify-components-togglebutton-link-color\n  );\n  --amplify-internal-togglebutton-background-color: var(\n    --amplify-internal-togglebutton-link-background-color\n  );\n  --amplify-internal-togglebutton-color: var(\n    --amplify-internal-togglebutton-link-color\n  );\n  --amplify-internal-togglebutton-link-focus-background-color: var(\n    --amplify-components-togglebutton-link-focus-background-color\n  );\n  --amplify-internal-togglebutton-link-focus-color: var(\n    --amplify-components-togglebutton-link-focus-color\n  );\n  --amplify-internal-togglebutton-focus-background-color: var(\n    --amplify-internal-togglebutton-link-focus-background-color\n  );\n  --amplify-internal-togglebutton-focus-color: var(\n    --amplify-internal-togglebutton-link-focus-color\n  );\n  --amplify-internal-togglebutton-link-hover-background-color: var(\n    --amplify-components-togglebutton-link-hover-background-color\n  );\n  --amplify-internal-togglebutton-link-hover-color: var(\n    --amplify-components-togglebutton-link-hover-color\n  );\n  --amplify-internal-togglebutton-hover-background-color: var(\n    --amplify-internal-togglebutton-link-hover-background-color\n  );\n  --amplify-internal-togglebutton-hover-color: var(\n    --amplify-internal-togglebutton-link-hover-color\n  );\n  --amplify-internal-togglebutton-link-disabled-color: var(\n    --amplify-components-togglebutton-link-disabled-color\n  );\n  --amplify-internal-togglebutton-link-disabled-background-color: var(\n    --amplify-components-togglebutton-link-disabled-background-color\n  );\n  --amplify-internal-togglebutton-disabled-color: var(\n    --amplify-internal-togglebutton-link-disabled-color\n  );\n  --amplify-internal-togglebutton-disabled-background-color: var(\n    --amplify-internal-togglebutton-link-disabled-background-color\n  );\n}\n.amplify-togglebutton--pressed {\n  --amplify-internal-togglebutton-link-color: var(\n    --amplify-components-togglebutton-link-pressed-color\n  );\n  --amplify-internal-togglebutton-link-background-color: var(\n    --amplify-components-togglebutton-link-pressed-background-color\n  );\n  --amplify-internal-togglebutton-link-focus-background-color: var(\n    --amplify-components-togglebutton-link-pressed-focus-background-color\n  );\n  --amplify-internal-togglebutton-link-focus-color: var(\n    --amplify-components-togglebutton-link-pressed-focus-color\n  );\n  --amplify-internal-togglebutton-link-hover-background-color: var(\n    --amplify-components-togglebutton-link-pressed-hover-background-color\n  );\n  --amplify-internal-togglebutton-link-hover-color: var(\n    --amplify-components-togglebutton-link-pressed-hover-color\n  );\n  --amplify-internal-togglebutton-link-disabled-color: var(\n    --amplify-components-togglebutton-link-pressed-color\n  );\n}\n\n.amplify-togglebuttongroup {\n  align-items: var(--amplify-components-togglebuttongroup-align-items);\n  align-content: var(--amplify-components-togglebuttongroup-align-content);\n  justify-content: var(--amplify-components-togglebuttongroup-justify-content);\n  gap: 0;\n}\n\n.amplify-togglebuttongroup .amplify-togglebutton:focus, .amplify-togglebuttongroup .amplify-togglebutton.amplify-togglebutton--pressed {\n  z-index: 2;\n}\n.amplify-togglebuttongroup .amplify-togglebutton:not(:first-of-type) {\n  margin-inline-start: calc(-1 * var(--amplify-components-button-border-width));\n  border-start-start-radius: 0;\n  border-end-start-radius: 0;\n}\n@supports not (border-start-start-radius: 0) {\n  .amplify-togglebuttongroup .amplify-togglebutton:not(:first-of-type) {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n}\n.amplify-togglebuttongroup .amplify-togglebutton:not(:last-of-type) {\n  border-start-end-radius: 0;\n  border-end-end-radius: 0;\n}\n@supports not (border-end-end-radius: 0) {\n  .amplify-togglebuttongroup .amplify-togglebutton:not(:last-of-type) {\n    border-bottom-right-radius: 0;\n    border-top-right-radius: 0;\n  }\n}\n\n.amplify-inappmessaging-backdrop {\n  background-color: var(--amplify-colors-overlay-50);\n  inset: 0;\n  position: fixed;\n  z-index: 1000;\n}\n\n.amplify-inappmessaging-backdrop-content-container {\n  align-items: center;\n  inset: 0;\n  justify-content: center;\n  pointer-events: none;\n  position: fixed;\n  z-index: 1001;\n}\n\n.amplify-inappmessaging-backdrop-content {\n  pointer-events: auto;\n}\n\n.amplify-inappmessaging-bannermessage {\n  box-shadow: var(--amplify-shadows-medium);\n  height: var(--amplify-components-inappmessaging-banner-height);\n  margin: var(--amplify-space-small);\n  max-width: 50%;\n  position: fixed;\n  width: var(--amplify-components-inappmessaging-banner-width);\n}\n.amplify-inappmessaging-bannermessage--top {\n  top: 0;\n}\n.amplify-inappmessaging-bannermessage--middle {\n  bottom: 0;\n  margin: auto var(--amplify-space-small);\n  top: 0;\n}\n.amplify-inappmessaging-bannermessage--bottom {\n  bottom: 0;\n}\n.amplify-inappmessaging-bannermessage--left {\n  left: 0;\n}\n.amplify-inappmessaging-bannermessage--center {\n  left: 0;\n  margin: var(--amplify-space-small) auto;\n  right: 0;\n}\n.amplify-inappmessaging-bannermessage--right {\n  right: 0;\n}\n.amplify-inappmessaging-bannermessage--center-middle {\n  inset: 0;\n  margin: auto;\n}\n.amplify-inappmessaging-bannermessage--full-width {\n  max-width: initial;\n  width: calc(100% - 2 * var(--amplify-space-small));\n}\n\n.amplify-inappmessaging-fullscreenmessage {\n  height: var(--amplify-components-inappmessaging-dialog-height);\n  min-height: var(--amplify-components-inappmessaging-dialog-min-height);\n  min-width: var(--amplify-components-inappmessaging-dialog-min-width);\n  width: var(--amplify-components-inappmessaging-dialog-width);\n}\n.amplify-inappmessaging-fullscreenmessage--fullscreen {\n  height: auto;\n  inset: 0;\n  position: fixed;\n  width: auto;\n  z-index: 1000;\n}\n\n.amplify-inappmessaging-messagelayout {\n  background-color: var(--amplify-colors-background-primary);\n  flex-direction: column;\n  flex-grow: 1;\n  gap: var(--amplify-space-xxxs);\n  max-width: 100%;\n  padding: var(--amplify-space-medium);\n}\n.amplify-inappmessaging-messagelayout__button {\n  border-width: 0;\n  width: 100%;\n}\n.amplify-inappmessaging-messagelayout__button, .amplify-inappmessaging-messagelayout__button:active, .amplify-inappmessaging-messagelayout__button:visited, .amplify-inappmessaging-messagelayout__button:hover, .amplify-inappmessaging-messagelayout__button:focus {\n  background-color: var(--amplify-components-inappmessaging-button-background-color);\n  border-radius: var(--amplify-components-inappmessaging-button-border-radius);\n  color: var(--amplify-components-inappmessaging-button-color);\n}\n.amplify-inappmessaging-messagelayout__button--dark:active, .amplify-inappmessaging-messagelayout__button--dark:visited, .amplify-inappmessaging-messagelayout__button--light:active, .amplify-inappmessaging-messagelayout__button--light:visited {\n  filter: brightness(100%);\n}\n.amplify-inappmessaging-messagelayout__button--dark:hover, .amplify-inappmessaging-messagelayout__button--dark:focus {\n  filter: brightness(120%);\n}\n.amplify-inappmessaging-messagelayout__button--light:hover, .amplify-inappmessaging-messagelayout__button--light:focus {\n  filter: brightness(80%);\n}\n.amplify-inappmessaging-messagelayout__close-button {\n  color: var(--amplify-colors-neutral-80);\n}\n.amplify-inappmessaging-messagelayout__close-button:active, .amplify-inappmessaging-messagelayout__close-button:visited {\n  color: var(--amplify-colors-neutral-80);\n}\n.amplify-inappmessaging-messagelayout__close-button:hover, .amplify-inappmessaging-messagelayout__close-button:focus {\n  color: var(--amplify-colors-neutral-100);\n}\n.amplify-inappmessaging-messagelayout__content {\n  flex-grow: 1;\n  overflow: hidden;\n}\n.amplify-inappmessaging-messagelayout__content--horizontal {\n  flex-direction: row;\n}\n.amplify-inappmessaging-messagelayout__content--vertical {\n  flex-direction: column;\n  justify-content: center;\n}\n.amplify-inappmessaging-messagelayout__header {\n  flex-shrink: 0;\n  font-size: var(--amplify-components-inappmessaging-header-font-size);\n  font-weight: var(--amplify-components-inappmessaging-header-font-weight);\n}\n.amplify-inappmessaging-messagelayout__image-container {\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  position: relative;\n}\n.amplify-inappmessaging-messagelayout__image-container img {\n  max-height: 100%;\n  max-width: 100%;\n  -o-object-fit: contain;\n     object-fit: contain;\n  position: absolute;\n}\n.amplify-inappmessaging-messagelayout__image-container--horizontal {\n  max-width: 15%;\n  min-width: 15%;\n}\n.amplify-inappmessaging-messagelayout__image-container--vertical {\n  max-height: 40%;\n  min-height: 40%;\n}\n.amplify-inappmessaging-messagelayout__text-container {\n  flex-direction: column;\n  overflow-y: auto;\n  gap: var(--amplify-space-xxxs);\n}\n.amplify-inappmessaging-messagelayout__text-container--horizontal {\n  flex-grow: 1;\n}\n.amplify-inappmessaging-messagelayout__text-container--vertical {\n  flex-grow: 0;\n}\n\n.amplify-inappmessaging-modalmessage {\n  align-items: center;\n  height: initial;\n  inset: 0;\n  justify-content: center;\n  pointer-events: none;\n  position: fixed;\n  width: initial;\n  z-index: 1000;\n}\n.amplify-inappmessaging-modalmessage__dialog {\n  box-shadow: var(--amplify-shadows-medium);\n  height: var(--amplify-components-inappmessaging-dialog-height);\n  min-height: var(--amplify-components-inappmessaging-dialog-min-height);\n  min-width: var(--amplify-components-inappmessaging-dialog-min-width);\n  pointer-events: auto;\n  width: var(--amplify-components-inappmessaging-dialog-width);\n}\n.amplify-inappmessaging-modalmessage__dialog--full-width {\n  width: 100%;\n  margin: var(--amplify-space-small);\n}\n\n.amplify-storagemanager__dropzone {\n  background-color: var(--amplify-components-storagemanager-dropzone-background-color);\n  border-color: var(--amplify-components-storagemanager-dropzone-border-color);\n  border-radius: var(--amplify-components-storagemanager-dropzone-border-radius);\n  border-style: var(--amplify-components-storagemanager-dropzone-border-style);\n  border-width: var(--amplify-components-storagemanager-dropzone-border-width);\n  text-align: var(--amplify-components-storagemanager-dropzone-text-align);\n  padding-block: var(--amplify-components-storagemanager-dropzone-padding-block);\n  padding-inline: var(--amplify-components-storagemanager-dropzone-padding-inline);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: var(--amplify-components-storagemanager-dropzone-gap);\n}\n.amplify-storagemanager__dropzone--small {\n  flex-direction: row;\n  justify-content: center;\n}\n.amplify-storagemanager__dropzone--active {\n  border-color: var(--amplify-components-storagemanager-dropzone-active-border-color);\n  border-width: var(--amplify-components-storagemanager-dropzone-active-border-width);\n  background-color: var(--amplify-components-storagemanager-dropzone-active-background-color);\n}\n.amplify-storagemanager__dropzone__icon {\n  font-size: var(--amplify-components-storagemanager-dropzone-icon-font-size);\n  color: var(--amplify-components-storagemanager-dropzone-icon-color);\n}\n.amplify-storagemanager__dropzone__text {\n  color: var(--amplify-components-storagemanager-dropzone-text-color);\n  font-size: var(--amplify-components-storagemanager-dropzone-text-font-size);\n  font-weight: var(--amplify-components-storagemanager-dropzone-text-font-weight);\n}\n.amplify-storagemanager__file__list {\n  display: flex;\n  flex-direction: var(--amplify-components-storagemanager-filelist-flex-direction);\n  gap: var(--amplify-components-storagemanager-filelist-gap);\n}\n.amplify-storagemanager__file {\n  position: relative;\n  border-width: var(--amplify-components-storagemanager-file-border-width);\n  border-style: var(--amplify-components-storagemanager-file-border-style);\n  border-color: var(--amplify-components-storagemanager-file-border-color);\n  border-radius: var(--amplify-components-storagemanager-file-border-radius);\n  display: flex;\n  flex-direction: column;\n  padding-inline: var(--amplify-components-storagemanager-file-padding-inline);\n  padding-block: var(--amplify-components-storagemanager-file-padding-block);\n  align-items: var(--amplify-components-storagemanager-file-align-items);\n}\n.amplify-storagemanager__file__wrapper {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: var(--amplify-components-storagemanager-file-gap);\n}\n.amplify-storagemanager__file__name {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  font-weight: var(--amplify-components-storagemanager-file-name-font-weight);\n  font-size: var(--amplify-components-storagemanager-file-name-font-size);\n  color: var(--amplify-components-storagemanager-file-name-color);\n}\n.amplify-storagemanager__file__size {\n  font-weight: var(--amplify-components-storagemanager-file-size-font-weight);\n  font-size: var(--amplify-components-storagemanager-file-size-font-size);\n  color: var(--amplify-components-storagemanager-file-size-color);\n}\n.amplify-storagemanager__file__main {\n  flex: 1;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.amplify-storagemanager__file__image {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: var(--amplify-components-storagemanager-file-image-width);\n  height: var(--amplify-components-storagemanager-file-image-height);\n  background-color: var(--amplify-components-storagemanager-file-image-background-color);\n  border-radius: var(--amplify-components-storagemanager-file-image-border-radius);\n  color: var(--amplify-components-storagemanager-file-image-color);\n}\n.amplify-storagemanager__file__image img {\n  max-height: 100%;\n}\n.amplify-storagemanager__file__status--error {\n  color: var(--amplify-colors-font-error);\n  font-size: var(--amplify-components-storagemanager-file-size-font-size);\n}\n.amplify-storagemanager__file__status--success {\n  color: var(--amplify-colors-font-success);\n}\n.amplify-storagemanager__loader {\n  stroke-linecap: var(--amplify-components-storagemanager-loader-stroke-linecap);\n  stroke: var(--amplify-components-storagemanager-loader-stroke-empty);\n  stroke-width: var(--amplify-components-storagemanager-loader-stroke-width);\n  height: var(--amplify-components-storagemanager-loader-stroke-width);\n  --amplify-components-loader-linear-stroke-filled: var(\n    --amplify-components-storagemanager-loader-stroke-filled\n  );\n  overflow: hidden;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n}\n.amplify-storagemanager__previewer {\n  display: flex;\n  flex-direction: column;\n  max-width: var(--amplify-components-storagemanager-previewer-max-width);\n  max-height: var(--amplify-components-storagemanager-previewer-max-height);\n  overflow: auto;\n  gap: var(--amplify-components-storagemanager-previewer-body-gap);\n  padding-inline: var(--amplify-components-storagemanager-previewer-body-padding-inline);\n  padding-block: var(--amplify-components-storagemanager-previewer-body-padding-block);\n  background-color: var(--amplify-components-storagemanager-previewer-background-color);\n  border-width: var(--amplify-components-storagemanager-previewer-border-width);\n  border-style: var(--amplify-components-storagemanager-previewer-border-style);\n  border-color: var(--amplify-components-storagemanager-previewer-border-color);\n  border-radius: var(--amplify-components-storagemanager-previewer-border-radius);\n}\n.amplify-storagemanager__previewer__text {\n  font-weight: var(--amplify-components-storagemanager-previewer-text-font-weight);\n  font-size: var(--amplify-components-storagemanager-previewer-text-font-size);\n  color: var(--amplify-components-storagemanager-previewer-text-color);\n}\n.amplify-storagemanager__previewer__footer {\n  display: flex;\n  flex-direction: row;\n  justify-content: var(--amplify-components-storagemanager-previewer-footer-justify-content);\n}\n.amplify-storagemanager__previewer__actions {\n  display: flex;\n  flex-direction: row;\n  gap: var(--amplify-space-small);\n}\n\n.amplify-label-start {\n  flex-direction: row;\n}\n\n.amplify-label-end {\n  flex-direction: row-reverse;\n}\n\n.amplify-label-top {\n  flex-direction: column;\n}\n\n.amplify-label-bottom {\n  flex-direction: column-reverse;\n}\n\n.amplify-visually-hidden {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  fill: transparent;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}',""]);const a=r},6314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(r[i]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);o&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},1873:(e,t,n)=>{var o=n(9325).Symbol;e.exports=o},4932:e=>{e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r}},882:e=>{e.exports=function(e,t,n,o){var r=-1,a=null==e?0:e.length;for(o&&a&&(n=e[++r]);++r<a;)n=t(n,e[r],r,e);return n}},1733:e=>{var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},2552:(e,t,n)=>{var o=n(1873),r=n(659),a=n(9350),i=o?o.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?r(e):a(e)}},4552:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},7556:(e,t,n)=>{var o=n(1873),r=n(4932),a=n(6449),i=n(4394),s=o?o.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return r(t,e)+"";if(i(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},5539:(e,t,n)=>{var o=n(882),r=n(828),a=n(6645),i=RegExp("[']","g");e.exports=function(e){return function(t){return o(a(r(t).replace(i,"")),e,"")}}},4647:(e,t,n)=>{var o=n(4552)({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"});e.exports=o},4840:(e,t,n)=>{var o="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=o},659:(e,t,n)=>{var o=n(1873),r=Object.prototype,a=r.hasOwnProperty,i=r.toString,s=o?o.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var o=!0}catch(e){}var r=i.call(e);return o&&(t?e[s]=n:delete e[s]),r}},5434:e=>{var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},9350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9325:(e,t,n)=>{var o=n(4840),r="object"==typeof self&&self&&self.Object===Object&&self,a=o||r||Function("return this")();e.exports=a},2225:e=>{var t="\\ud800-\\udfff",n="\\u2700-\\u27bf",o="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",i="["+a+"]",s="\\d+",l="["+n+"]",c="["+o+"]",u="[^"+t+a+s+n+o+r+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",m="["+r+"]",f="(?:"+c+"|"+u+")",h="(?:"+m+"|"+u+")",y="(?:['](?:d|ll|m|re|s|t|ve))?",g="(?:['](?:D|LL|M|RE|S|T|VE))?",b="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",v="[\\ufe0e\\ufe0f]?",w=v+b+("(?:\\u200d(?:"+["[^"+t+"]",p,d].join("|")+")"+v+b+")*"),k="(?:"+[l,p,d].join("|")+")"+w,x=RegExp([m+"?"+c+"+"+y+"(?="+[i,m,"$"].join("|")+")",h+"+"+g+"(?="+[i,m+f,"$"].join("|")+")",m+"?"+f+"+"+y,m+"+"+g,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",s,k].join("|"),"g");e.exports=function(e){return e.match(x)||[]}},828:(e,t,n)=>{var o=n(4647),r=n(3222),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,i=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=r(e))&&e.replace(a,o).replace(i,"")}},6449:e=>{var t=Array.isArray;e.exports=t},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},4394:(e,t,n)=>{var o=n(2552),r=n(346);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==o(e)}},249:(e,t,n)=>{var o=n(5539)((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}));e.exports=o},3222:(e,t,n)=>{var o=n(7556);e.exports=function(e){return null==e?"":o(e)}},6645:(e,t,n)=>{var o=n(1733),r=n(5434),a=n(3222),i=n(2225);e.exports=function(e,t,n){return e=a(e),void 0===(t=n?void 0:t)?r(e)?i(e):o(e):e.match(t)||[]}},8570:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function o(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=o;var r={},a={};function i(e,t){var n,o,i;return t?(i=0<=(e>>>=0)&&e<256)&&(o=a[e])?o:(n=l(e,(0|e)<0?-1:0,!0),i&&(a[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(o=r[e])?o:(n=l(e,e<0?-1:0,!1),i&&(r[e]=n),n)}function s(e,t){if(isNaN(e))return t?g:y;if(t){if(e<0)return g;if(e>=m)return x}else{if(e<=-f)return S;if(e+1>=f)return k}return e<0?s(-e,t).neg():l(e%d|0,e/d|0,t)}function l(e,t,o){return new n(e,t,o)}n.fromInt=i,n.fromNumber=s,n.fromBits=l;var c=Math.pow;function u(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return y;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var o;if((o=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===o)return u(e.substring(1),t,n).neg();for(var r=s(c(n,8)),a=y,i=0;i<e.length;i+=8){var l=Math.min(8,e.length-i),p=parseInt(e.substring(i,i+l),n);if(l<8){var d=s(c(n,l));a=a.mul(d).add(s(p))}else a=(a=a.mul(r)).add(s(p))}return a.unsigned=t,a}function p(e,t){return"number"==typeof e?s(e,t):"string"==typeof e?u(e,t):l(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=u,n.fromValue=p;var d=4294967296,m=d*d,f=m/2,h=i(1<<24),y=i(0);n.ZERO=y;var g=i(0,!0);n.UZERO=g;var b=i(1);n.ONE=b;var v=i(1,!0);n.UONE=v;var w=i(-1);n.NEG_ONE=w;var k=l(-1,2147483647,!1);n.MAX_VALUE=k;var x=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=x;var S=l(0,-2147483648,!1);n.MIN_VALUE=S;var _=n.prototype;_.toInt=function(){return this.unsigned?this.low>>>0:this.low},_.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},_.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=s(e),n=this.div(t),o=n.mul(t).sub(this);return n.toString(e)+o.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var r=s(c(e,6),this.unsigned),a=this,i="";;){var l=a.div(r),u=(a.sub(l.mul(r)).toInt()>>>0).toString(e);if((a=l).isZero())return u+i;for(;u.length<6;)u="0"+u;i=""+u+i}},_.getHighBits=function(){return this.high},_.getHighBitsUnsigned=function(){return this.high>>>0},_.getLowBits=function(){return this.low},_.getLowBitsUnsigned=function(){return this.low>>>0},_.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return 0!=this.high?t+33:t+1},_.isZero=function(){return 0===this.high&&0===this.low},_.eqz=_.isZero,_.isNegative=function(){return!this.unsigned&&this.high<0},_.isPositive=function(){return this.unsigned||this.high>=0},_.isOdd=function(){return!(1&~this.low)},_.isEven=function(){return!(1&this.low)},_.equals=function(e){return o(e)||(e=p(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},_.eq=_.equals,_.notEquals=function(e){return!this.eq(e)},_.neq=_.notEquals,_.ne=_.notEquals,_.lessThan=function(e){return this.comp(e)<0},_.lt=_.lessThan,_.lessThanOrEqual=function(e){return this.comp(e)<=0},_.lte=_.lessThanOrEqual,_.le=_.lessThanOrEqual,_.greaterThan=function(e){return this.comp(e)>0},_.gt=_.greaterThan,_.greaterThanOrEqual=function(e){return this.comp(e)>=0},_.gte=_.greaterThanOrEqual,_.ge=_.greaterThanOrEqual,_.compare=function(e){if(o(e)||(e=p(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},_.comp=_.compare,_.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(b)},_.neg=_.negate,_.add=function(e){o(e)||(e=p(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,a=65535&this.low,i=e.high>>>16,s=65535&e.high,c=e.low>>>16,u=0,d=0,m=0,f=0;return m+=(f+=a+(65535&e.low))>>>16,d+=(m+=r+c)>>>16,u+=(d+=n+s)>>>16,u+=t+i,l((m&=65535)<<16|(f&=65535),(u&=65535)<<16|(d&=65535),this.unsigned)},_.subtract=function(e){return o(e)||(e=p(e)),this.add(e.neg())},_.sub=_.subtract,_.multiply=function(e){if(this.isZero())return y;if(o(e)||(e=p(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return y;if(this.eq(S))return e.isOdd()?S:y;if(e.eq(S))return this.isOdd()?S:y;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(h)&&e.lt(h))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,r=65535&this.high,a=this.low>>>16,i=65535&this.low,c=e.high>>>16,u=65535&e.high,d=e.low>>>16,m=65535&e.low,f=0,g=0,b=0,v=0;return b+=(v+=i*m)>>>16,g+=(b+=a*m)>>>16,b&=65535,g+=(b+=i*d)>>>16,f+=(g+=r*m)>>>16,g&=65535,f+=(g+=a*d)>>>16,g&=65535,f+=(g+=i*u)>>>16,f+=n*m+r*d+a*u+i*c,l((b&=65535)<<16|(v&=65535),(f&=65535)<<16|(g&=65535),this.unsigned)},_.mul=_.multiply,_.divide=function(e){if(o(e)||(e=p(e)),e.isZero())throw Error("division by zero");var n,r,a;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?g:y;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return v;a=g}else{if(this.eq(S))return e.eq(b)||e.eq(w)?S:e.eq(S)?b:(n=this.shr(1).div(e).shl(1)).eq(y)?e.isNegative()?b:w:(r=this.sub(e.mul(n)),a=n.add(r.div(e)));if(e.eq(S))return this.unsigned?g:y;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=y}for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(n)/Math.LN2),u=i<=48?1:c(2,i-48),d=s(n),m=d.mul(e);m.isNegative()||m.gt(r);)m=(d=s(n-=u,this.unsigned)).mul(e);d.isZero()&&(d=b),a=a.add(d),r=r.sub(m)}return a},_.div=_.divide,_.modulo=function(e){return o(e)||(e=p(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},_.mod=_.modulo,_.rem=_.modulo,_.not=function(){return l(~this.low,~this.high,this.unsigned)},_.and=function(e){return o(e)||(e=p(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},_.or=function(e){return o(e)||(e=p(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},_.xor=function(e){return o(e)||(e=p(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},_.shiftLeft=function(e){return o(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},_.shl=_.shiftLeft,_.shiftRight=function(e){return o(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},_.shr=_.shiftRight,_.shiftRightUnsigned=function(e){if(o(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},_.shru=_.shiftRightUnsigned,_.shr_u=_.shiftRightUnsigned,_.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},_.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},_.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},_.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},_.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,o){return o?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},7391:(e,t,n)=>{var o=n(7180),r=n(3181),a=n(3031),i=n(9067),s=n(6833),l=n(3717),c=n(4801);c.alea=o,c.xor128=r,c.xorwow=a,c.xorshift7=i,c.xor4096=s,c.tychei=l,e.exports=c},7180:function(e,t,n){var o;!function(global,e){function r(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var o=.02519603282416938*(e+=t.charCodeAt(n));o-=e=o>>>0,e=(o*=e)>>>0,e+=4294967296*(o-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function a(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function i(e,t){var n=new r(e),o=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,o&&("object"==typeof o&&a(o,n),i.state=function(){return a(n,{})}),i}e&&e.exports?e.exports=i:n.amdD&&n.amdO?void 0===(o=function(){return i}.call(t,n,t,e))||(e.exports=o):this.alea=i}(0,e=n.nmd(e),n.amdD)},3717:function(e,t,n){var o;!function(global,e){function r(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,o=t.d,r=t.a;return e=e<<25^e>>>7^n,n=n-o|0,o=o<<24^o>>>8^r,r=r-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-o|0,t.d=o<<16^n>>>16^r,t.a=r-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var o=0;o<n.length+20;o++)t.b^=0|n.charCodeAt(o),t.next()}function a(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function i(e,t){var n=new r(e),o=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,o&&("object"==typeof o&&a(o,n),i.state=function(){return a(n,{})}),i}e&&e.exports?e.exports=i:n.amdD&&n.amdO?void 0===(o=function(){return i}.call(t,n,t,e))||(e.exports=o):this.tychei=i}(0,e=n.nmd(e),n.amdD)},3181:function(e,t,n){var o;!function(global,e){function r(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var o=0;o<n.length+64;o++)t.x^=0|n.charCodeAt(o),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function i(e,t){var n=new r(e),o=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,o&&("object"==typeof o&&a(o,n),i.state=function(){return a(n,{})}),i}e&&e.exports?e.exports=i:n.amdD&&n.amdO?void 0===(o=function(){return i}.call(t,n,t,e))||(e.exports=o):this.xor128=i}(0,e=n.nmd(e),n.amdD)},6833:function(e,t,n){var o;!function(global,e){function r(e){var t=this;t.next=function(){var e,n,o=t.w,r=t.X,a=t.i;return t.w=o=o+1640531527|0,n=r[a+34&127],e=r[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=r[a]=n^e,t.i=a,n+(o^o>>>16)|0},function(e,t){var n,o,r,a,i,s=[],l=128;for(t===(0|t)?(o=t,t=null):(t+="\0",o=0,l=Math.max(l,t.length)),r=0,a=-32;a<l;++a)t&&(o^=t.charCodeAt((a+32)%t.length)),0===a&&(i=o),o^=o<<10,o^=o>>>15,o^=o<<4,o^=o>>>13,a>=0&&(i=i+1640531527|0,r=0==(n=s[127&a]^=o+i)?r+1:0);for(r>=128&&(s[127&(t&&t.length||0)]=-1),r=127,a=512;a>0;--a)o=s[r+34&127],n=s[r=r+1&127],o^=o<<13,n^=n<<17,o^=o>>>15,n^=n>>>12,s[r]=o^n;e.w=i,e.X=s,e.i=r}(t,e)}function a(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function i(e,t){null==e&&(e=+new Date);var n=new r(e),o=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,o&&(o.X&&a(o,n),i.state=function(){return a(n,{})}),i}e&&e.exports?e.exports=i:n.amdD&&n.amdO?void 0===(o=function(){return i}.call(t,n,t,e))||(e.exports=o):this.xor4096=i}(0,e=n.nmd(e),n.amdD)},9067:function(e,t,n){var o;!function(global,e){function r(e){var t=this;t.next=function(){var e,n,o=t.x,r=t.i;return e=o[r],n=(e^=e>>>7)^e<<24,n^=(e=o[r+1&7])^e>>>10,n^=(e=o[r+3&7])^e>>>3,n^=(e=o[r+4&7])^e<<7,e=o[r+7&7],n^=(e^=e<<13)^e<<9,o[r]=n,t.i=r+1&7,n},function(e,t){var n,o=[];if(t===(0|t))o[0]=t;else for(t=""+t,n=0;n<t.length;++n)o[7&n]=o[7&n]<<15^t.charCodeAt(n)+o[n+1&7]<<13;for(;o.length<8;)o.push(0);for(n=0;n<8&&0===o[n];++n);for(8==n?o[7]=-1:o[n],e.x=o,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function a(e,t){return t.x=e.x.slice(),t.i=e.i,t}function i(e,t){null==e&&(e=+new Date);var n=new r(e),o=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,o&&(o.x&&a(o,n),i.state=function(){return a(n,{})}),i}e&&e.exports?e.exports=i:n.amdD&&n.amdO?void 0===(o=function(){return i}.call(t,n,t,e))||(e.exports=o):this.xorshift7=i}(0,e=n.nmd(e),n.amdD)},3031:function(e,t,n){var o;!function(global,e){function r(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var o=0;o<n.length+64;o++)t.x^=0|n.charCodeAt(o),o==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function i(e,t){var n=new r(e),o=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,o&&("object"==typeof o&&a(o,n),i.state=function(){return a(n,{})}),i}e&&e.exports?e.exports=i:n.amdD&&n.amdO?void 0===(o=function(){return i}.call(t,n,t,e))||(e.exports=o):this.xorwow=i}(0,e=n.nmd(e),n.amdD)},4801:function(e,t,n){var o;!function(global,r,a){var i,s=256,l=a.pow(s,6),c=a.pow(2,52),u=2*c,p=s-1;function d(e,t,n){var o=[],p=y(h((t=1==t?{entropy:!0}:t||{}).entropy?[e,g(r)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(s):(e=new Uint8Array(s),(global.crypto||global.msCrypto).getRandomValues(e)),g(e)}catch(e){var t=global.navigator,n=t&&t.plugins;return[+new Date,global,n,global.screen,g(r)]}}():e,3),o),d=new m(o),b=function(){for(var e=d.g(6),t=l,n=0;e<c;)e=(e+n)*s,t*=s,n=d.g(1);for(;e>=u;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|d.g(4)},b.quick=function(){return d.g(4)/4294967296},b.double=b,y(g(d.S),r),(t.pass||n||function(e,t,n,o){return o&&(o.S&&f(o,d),e.state=function(){return f(d,{})}),n?(a.random=e,t):e})(b,p,"global"in t?t.global:this==a,t.state)}function m(e){var t,n=e.length,o=this,r=0,a=o.i=o.j=0,i=o.S=[];for(n||(e=[n++]);r<s;)i[r]=r++;for(r=0;r<s;r++)i[r]=i[a=p&a+e[r%n]+(t=i[r])],i[a]=t;(o.g=function(e){for(var t,n=0,r=o.i,a=o.j,i=o.S;e--;)t=i[r=p&r+1],n=n*s+i[p&(i[r]=i[a=p&a+t])+(i[a]=t)];return o.i=r,o.j=a,n})(s)}function f(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function h(e,t){var n,o=[],r=typeof e;if(t&&"object"==r)for(n in e)try{o.push(h(e[n],t-1))}catch(e){}return o.length?o:"string"==r?e:e+"\0"}function y(e,t){for(var n,o=e+"",r=0;r<o.length;)t[p&r]=p&(n^=19*t[p&r])+o.charCodeAt(r++);return g(t)}function g(e){return String.fromCharCode.apply(0,e)}if(y(a.random(),r),e.exports){e.exports=d;try{i=n(1234)}catch(e){}}else void 0===(o=function(){return d}.call(t,n,t,e))||(e.exports=o)}("undefined"!=typeof self?self:this,[],Math)},1389:(e,t,n)=>{var o=n(7840);e.exports=function e(t,n,r){if(null==t)return{};var a,i,s,l,c,u,p=t[0]||{},d=1,m=t.length;for(r=r||[],"object"!=typeof p&&(p={});d<m;d++)if(null!=(c=t[d]))for(l in c)if(c.hasOwnProperty(l)&&"__proto__"!==l&&(a=p[l],p!==(s=c[l])))if(s&&(o.isPlainObject(s)||(i=o.isArray(s)))){i?(i=!1,u=a&&o.isArray(a)?a:[]):u=a&&o.isPlainObject(a)?a:{};var f=r.slice(0);f.push(l),p[l]=e([u,s],n,f)}else void 0!==s&&(null!=a&&"function"==typeof n&&n({target:p,copy:c,path:r,key:l}),p[l]=s);return p}},7840:(e,t,n)=>{const o=n(9760),r=function(e,t){Object.keys(e||{}).forEach((n=>{let o=e[n];t(o,n)}))},a=function(e){return null==e||"object"!=typeof e?e:e instanceof Array?e.reduce(((e,t,n)=>(e[n]=a(t),e)),[]):e instanceof Object?Object.keys(e||{}).reduce(((t,n)=>(t[n]=a(e[n]),t)),{}):void 0},i=function(e){const t=typeof e;return null!=e&&("object"===t||"function"===t)};const s=function(e,t){return i(t)?Object.keys(t).every((n=>s(e[n],t[n]))):e==t},l={transform:o.camelCaseTransformMerge};var c,u;e.exports={each:r,forEach:r,forIn:r,keys:Object.keys,clone:function(e){return Object.assign(new e.constructor,e)},cloneDeep:a,extend:Object.assign,isString:function(e){return"string"==typeof e||e instanceof String},isArray:function(e){return Array.isArray(e)},isObject:i,isPlainObject:function(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},isEmpty:function(e){return[Object,Array].includes((e||{}).constructor)&&!Object.entries(e||{}).length},filter:function(e,t){if("function"!=typeof t)throw"filter is not a function";return void 0===e?[]:e.filter(t)},reduce:function(e,t,n){return Object.keys(e||{}).reduce(((n,o)=>{let r=e[o];return t(n,r,o,e)}),n)},assign:function(){let e=Array.prototype.slice.call(arguments);return e.unshift({}),Object.assign(...e)},upperFirst:function(e){return e?e[0].toUpperCase()+e.substr(1):""},camelCase:(c=o.camelCase,(e,t)=>c(e,Object.assign({},l,u,t))),snakeCase:o.snakeCase,kebabCase:o.paramCase,pull:function(e,...t){var n=new Set(t);for(let t=e.length-1;t>=0;t--)n.has(e[t])&&e.splice(t,1)},matches:function(e){let t=a(e);return e=>s(e,t)},unique:function(e){return[...new Set(e)]}}},2568:(e,t,n)=>{var o=n(7840);e.exports=function e(t,n){for(var r in n=n||[],t)t.hasOwnProperty(r)&&(o.isPlainObject(t[r])&&"value"in t[r]?n.push(t[r]):o.isPlainObject(t[r])&&e(t[r],n));return n}},5856:(e,t,n)=>{const o=n(258);e.exports=function(e={}){const t=Object.assign({},o,e);return new RegExp("\\"+t.opening_character+"([^"+t.closing_character+"]+)\\"+t.closing_character,"g")}},258:e=>{e.exports={opening_character:"{",closing_character:"}",separator:"."}},2179:(e,t,n)=>{const o=n(5856);e.exports=function e(t,n={}){const r=n instanceof RegExp?n:o(n);if("string"==typeof t)return r.test(t);if("object"==typeof t){let o=!1;for(const r in t)if(t.hasOwnProperty(r)){if(e(t[r],n)){o=!0;break}}return o}return!1}},5072:e=>{"use strict";var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var a={},i=[],s=0;s<e.length;s++){var l=e[s],c=o.base?l[0]+o.base:l[0],u=a[c]||0,p="".concat(c," ").concat(u);a[c]=u+1;var d=n(p),m={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)t[d].references++,t[d].updater(m);else{var f=r(m,o);o.byIndex=s,t.splice(s,0,{identifier:p,updater:f,references:1})}i.push(p)}return i}function r(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var a=o(e=e||[],r=r||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=n(a[i]);t[s].references--}for(var l=o(e,r),c=0;c<a.length;c++){var u=n(a[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}a=l}}},7659:e=>{"use strict";var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},5056:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},1063:(e,t,n)=>{"use strict";var o=n(4883);var r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=o.useState,i=o.useEffect,s=o.useLayoutEffect,l=o.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),o=a({inst:{value:n,getSnapshot:t}}),r=o[0].inst,u=o[1];return s((function(){r.value=n,r.getSnapshot=t,c(r)&&u({inst:r})}),[e,n,t]),i((function(){return c(r)&&u({inst:r}),e((function(){c(r)&&u({inst:r})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==o.useSyncExternalStore?o.useSyncExternalStore:u},8940:(e,t,n)=>{"use strict";var o=n(4883),r=n(9888);var a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useSyncExternalStore,s=o.useRef,l=o.useEffect,c=o.useMemo,u=o.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,o,r){var p=s(null);if(null===p.current){var d={hasValue:!1,value:null};p.current=d}else d=p.current;p=c((function(){function e(e){if(!l){if(l=!0,i=e,e=o(e),void 0!==r&&d.hasValue){var t=d.value;if(r(t,e))return s=t}return s=e}if(t=s,a(i,e))return t;var n=o(e);return void 0!==r&&r(t,n)?t:(i=e,s=n)}var i,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,o,r]);var m=i(e,p[0],p[1]);return l((function(){d.hasValue=!0,d.value=m}),[m]),u(m),m}},9888:(e,t,n)=>{"use strict";e.exports=n(1063)},9242:(e,t,n)=>{"use strict";e.exports=n(8940)},4883:t=>{"use strict";t.exports=e},1845:e=>{"use strict";e.exports=t},9893:()=>{},8074:()=>{},5281:()=>{},7244:()=>{},3556:()=>{},5817:()=>{},8590:()=>{},1234:()=>{},1635:(e,t,n)=>{"use strict";n.d(t,{Cl:()=>o,Ju:()=>i,YH:()=>a,sH:()=>r});var o=function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};function r(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))}function a(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,o&&(r=2&s[0]?o.return:s[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,s[1])).done)return r;switch(o=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(6===s[0]&&i.label<r[1]){i.label=r[1],r=s;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(s);break}r[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],o=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}Object.create;function i(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;"function"==typeof SuppressedError&&SuppressedError}},a={};function i(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={id:e,loaded:!1,exports:{}};return r[e].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}i.amdD=function(){throw new Error("define cannot be used indirect")},i.amdO={},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},o=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var r=Object.create(null);i.r(r);var a={};n=n||[null,o({}),o([]),o(o)];for(var s=2&t&&e;"object"==typeof s&&!~n.indexOf(s);s=o(s))Object.getOwnPropertyNames(s).forEach((t=>a[t]=()=>e[t]));return a.default=()=>e,i.d(r,a),r},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i.nc=void 0;var s={};return(()=>{"use strict";i.d(s,{default:()=>IH});var e={};i.r(e),i.d(e,{CompositeArrayBuffer:()=>Ou,browserFiles:()=>fd,browserHTTPRequest:()=>Sd,concatenateArrayBuffers:()=>Lu,copyModel:()=>Ip,decodeWeights:()=>Fu,encodeWeights:()=>Ru,fromMemory:()=>Ed,fromMemorySync:()=>Nd,getLoadHandlers:()=>Ju,getModelArtifactsForJSON:()=>Uu,getModelArtifactsForJSONSync:()=>Wu,getModelArtifactsInfoForJSON:()=>Hu,getSaveHandlers:()=>Xu,getWeightSpecs:()=>Vu,http:()=>xd,isHTTPScheme:()=>wd,listModels:()=>Sp,loadWeights:()=>gd,moveModel:()=>Tp,registerLoadRouter:()=>Yu,registerSaveRouter:()=>Ku,removeModel:()=>_p,weightsLoaderFactory:()=>bd,withSaveHandler:()=>Cd,withSaveHandlerSync:()=>Ad});var t={};i.r(t),i.d(t,{conv2d:()=>og,depthwiseConv2d:()=>ig,matMul:()=>sg});var n={};i.r(n),i.d(n,{json:()=>rv});var o={};i.r(o),i.d(o,{json:()=>av});var r={};i.r(r),i.d(r,{json:()=>iv});var a={};i.r(a),i.d(a,{json:()=>sv});var l={};i.r(l),i.d(l,{json:()=>lv});var c={};i.r(c),i.d(c,{json:()=>cv});var u={};i.r(u),i.d(u,{json:()=>uv});var p={};i.r(p),i.d(p,{json:()=>pv});var d={};i.r(d),i.d(d,{json:()=>dv});var m={};i.r(m),i.d(m,{json:()=>mv});var f={};i.r(f),i.d(f,{json:()=>fv});var h={};i.r(h),i.d(h,{json:()=>hv});var y={};i.r(y),i.d(y,{json:()=>yv});var g={};i.r(g),i.d(g,{json:()=>gv});var b={};i.r(b),i.d(b,{json:()=>bv});var v={};i.r(v),i.d(v,{json:()=>vv});var w={};i.r(w),i.d(w,{json:()=>wv});var k={};i.r(k),i.d(k,{json:()=>kv});var x={};i.r(x),i.d(x,{json:()=>xv});var S={};i.r(S),i.d(S,{OP_SCOPE_SUFFIX:()=>Tu,abs:()=>ad,acos:()=>Yd,acosh:()=>Xd,add:()=>jp,addN:()=>Jd,all:()=>Zd,any:()=>Qd,argMax:()=>em,argMin:()=>tm,asin:()=>nm,asinh:()=>om,atan:()=>rm,atan2:()=>am,atanh:()=>im,avgPool:()=>Sm,avgPool3d:()=>_m,basicLSTMCell:()=>Am,batchNorm:()=>Om,batchNorm2d:()=>Dm,batchNorm3d:()=>Rm,batchNorm4d:()=>Fm,batchToSpaceND:()=>Mm,bincount:()=>zm,bitwiseAnd:()=>Pm,booleanMaskAsync:()=>Wy,broadcastArgs:()=>$m,broadcastTo:()=>Lm,buffer:()=>Mp,cast:()=>Op,ceil:()=>Bm,clipByValue:()=>jm,clone:()=>Dp,complex:()=>Nu,concat:()=>Im,concat1d:()=>Wm,concat2d:()=>Um,concat3d:()=>Hm,concat4d:()=>Vm,conv1d:()=>Gm,conv2d:()=>qm,conv2dTranspose:()=>Ym,conv3d:()=>Xm,conv3dTranspose:()=>Zm,cos:()=>Qm,cosh:()=>ef,cosineWindow:()=>Xy,cumprod:()=>tf,cumsum:()=>nf,denseBincount:()=>of,depthToSpace:()=>rf,depthwiseConv2d:()=>af,diag:()=>sf,dilation2d:()=>lf,div:()=>Up,divNoNan:()=>pf,dot:()=>df,dropout:()=>Ky,einsum:()=>mf,elu:()=>ff,enclosingPowerOfTwo:()=>Yy,ensureShape:()=>hf,equal:()=>cf,erf:()=>yf,euclideanNorm:()=>Cf,exp:()=>Af,expandDims:()=>Mf,expm1:()=>Of,eye:()=>Rf,fft:()=>yy,fill:()=>nd,floor:()=>Ff,floorDiv:()=>Wp,fused:()=>t,gather:()=>zf,gatherND:()=>Gy,greater:()=>Pf,greaterEqual:()=>$f,ifft:()=>gy,imag:()=>Lf,image:()=>sb,inTopKAsync:()=>Jy,irfft:()=>by,isFinite:()=>Bf,isInf:()=>jf,isNaN:()=>Wf,leakyRelu:()=>Uf,less:()=>Hf,lessEqual:()=>Vf,linalg:()=>lb,linspace:()=>qf,localResponseNormalization:()=>Gf,log:()=>Kf,log1p:()=>Yf,logSigmoid:()=>Zf,logSoftmax:()=>Qf,logSumExp:()=>eh,logicalAnd:()=>th,logicalNot:()=>nh,logicalOr:()=>oh,logicalXor:()=>rh,losses:()=>cb,lowerBound:()=>sh,matMul:()=>Tm,max:()=>_f,maxPool:()=>lh,maxPool3d:()=>ch,maxPoolWithArgmax:()=>uh,maximum:()=>ld,mean:()=>ph,meshgrid:()=>fh,min:()=>If,minimum:()=>hh,mirrorPad:()=>yh,mod:()=>gh,moments:()=>bh,movingAverage:()=>Hy,mul:()=>Hp,multiRNNCell:()=>vh,multinomial:()=>wh,neg:()=>Xf,norm:()=>Nf,notEqual:()=>kh,oneHot:()=>xh,ones:()=>mh,onesLike:()=>Sh,op:()=>Eu,outerProduct:()=>_h,pad:()=>Ih,pad1d:()=>Th,pad2d:()=>Eh,pad3d:()=>Nh,pad4d:()=>Ch,pool:()=>Mh,pow:()=>od,prelu:()=>Oh,print:()=>Rp,prod:()=>Dh,raggedGather:()=>Rh,raggedRange:()=>Fh,raggedTensorToTensor:()=>zh,rand:()=>Ph,randomGamma:()=>Wh,randomNormal:()=>Uh,randomStandardNormal:()=>Hh,randomUniform:()=>Vh,randomUniformInt:()=>qh,range:()=>Gh,real:()=>Kh,reciprocal:()=>Yh,relu:()=>Xh,relu6:()=>Jh,reshape:()=>xm,reverse:()=>Zh,reverse1d:()=>Qh,reverse2d:()=>ey,reverse3d:()=>ty,reverse4d:()=>ny,rfft:()=>wy,round:()=>oy,rsqrt:()=>ry,scalar:()=>Yp,scatterND:()=>Vy,searchSorted:()=>ih,selu:()=>ay,separableConv2d:()=>iy,setdiff1dAsync:()=>sy,sigmoid:()=>Em,sign:()=>ly,signal:()=>ib,sin:()=>cy,sinh:()=>uy,slice:()=>Nm,slice1d:()=>py,slice2d:()=>dy,slice3d:()=>my,slice4d:()=>fy,softmax:()=>hy,softplus:()=>Jf,spaceToBatchND:()=>Ah,sparse:()=>ub,sparseToDense:()=>qy,spectral:()=>ab,split:()=>vy,sqrt:()=>Vp,square:()=>qp,squaredDifference:()=>ky,squeeze:()=>xy,stack:()=>Sy,step:()=>_y,stridedSlice:()=>Iy,string:()=>pb,sub:()=>rd,sum:()=>Tf,tan:()=>Ty,tanh:()=>Cm,tensor:()=>Au,tensor1d:()=>Ey,tensor2d:()=>Ny,tensor3d:()=>Md,tensor4d:()=>Cy,tensor5d:()=>Ay,tensor6d:()=>My,tensorScatterUpdate:()=>Oy,tile:()=>Df,topk:()=>Dy,transpose:()=>Uy,truncatedNormal:()=>Ry,unique:()=>Fy,unsortedSegmentSum:()=>zy,unstack:()=>Py,upperBound:()=>$y,variable:()=>Ly,where:()=>uf,whereAsync:()=>jy,zeros:()=>dh,zerosLike:()=>Gp});var _={};i.r(_),i.d(_,{DirectionProvider:()=>dH,Provider:()=>fH,useDirection:()=>mH});var I=i(4883),T=i.t(I,2),E=i.n(I),N=i(1845),C=i.n(N);var A;!function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE",e.NONE="NONE"}(A||(A={}));const M={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6};class O{constructor(e,t=A.WARN){this.name=e,this.level=t,this._pluggables=[]}_padding(e){return e<10?"0"+e:""+e}_ts(){const e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()}configure(e){return e?(this._config=e,this._config):this._config}_log(e,...t){let n=this.level;O.LOG_LEVEL&&(n=O.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(n=window.LOG_LEVEL);if(!(M[e]>=M[n]))return;let o=console.log.bind(console);e===A.ERROR&&console.error&&(o=console.error.bind(console)),e===A.WARN&&console.warn&&(o=console.warn.bind(console)),O.BIND_ALL_LOG_LEVELS&&(e===A.INFO&&console.info&&(o=console.info.bind(console)),e===A.DEBUG&&console.debug&&(o=console.debug.bind(console)));const r=`[${e}] ${this._ts()} ${this.name}`;let a="";if(1===t.length&&"string"==typeof t[0])a=`${r} - ${t[0]}`,o(a);else if(1===t.length)a=`${r} ${t[0]}`,o(r,t[0]);else if("string"==typeof t[0]){let e=t.slice(1);1===e.length&&(e=e[0]),a=`${r} - ${t[0]} ${e}`,o(`${r} - ${t[0]}`,e)}else a=`${r} ${t}`,o(r,t);for(const e of this._pluggables){const t={message:a,timestamp:Date.now()};e.pushLogs([t])}}log(...e){this._log(A.INFO,...e)}info(...e){this._log(A.INFO,...e)}warn(...e){this._log(A.WARN,...e)}error(...e){this._log(A.ERROR,...e)}debug(...e){this._log(A.DEBUG,...e)}verbose(...e){this._log(A.VERBOSE,...e)}addPluggable(e){e&&"Logging"===e.getCategoryName()&&(this._pluggables.push(e),e.configure(this._config))}listPluggables(){return this._pluggables}}O.LOG_LEVEL=null,O.BIND_ALL_LOG_LEVELS=!1;class D extends Error{constructor({message:e,name:t,recoverySuggestion:n,underlyingError:o}){super(e),this.name=t,this.underlyingError=o,this.recoverySuggestion=n,this.constructor=D,Object.setPrototypeOf(this,D.prototype)}}const R="undefined"!=typeof Symbol?Symbol("amplify_default"):"@@amplify_default",F=new O("Hub");class z{constructor(e){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}_remove(e,t){const n=this.listeners.get(e);n?this.listeners.set(e,[...n.filter((({callback:e})=>e!==t))]):F.warn(`No listeners for ${e}`)}dispatch(e,t,n,o){if("string"==typeof e&&this.protectedChannels.indexOf(e)>-1){o===R||F.warn(`WARNING: ${e} is protected and dispatching on it can have unintended consequences`)}const r={channel:e,payload:{...t},source:n,patternInfo:[]};try{this._toListeners(r)}catch(e){F.error(e)}}listen(e,t,n="noname"){let o;if("function"!=typeof t)throw new D({name:"NoHubcallbackProvidedException",message:"No callback supplied to Hub"});o=t;let r=this.listeners.get(e);return r||(r=[],this.listeners.set(e,r)),r.push({name:n,callback:o}),()=>{this._remove(e,o)}}_toListeners(e){const{channel:t,payload:n}=e,o=this.listeners.get(t);o&&o.forEach((o=>{F.debug(`Dispatching to ${t} with `,n);try{o.callback(e)}catch(e){F.error(e)}}))}}const P=new z("__default__"),$=(new z("internal-hub"),e=>{const t=Reflect.ownKeys(e);for(const n of t){const t=e[n];(t&&"object"==typeof t||"function"==typeof t)&&$(t)}return Object.freeze(e)}),L=Symbol("oauth-listener"),B=new O("parseAWSExports"),j={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},W=e=>e?.split(",")??[],U=({domain:e,scope:t,redirectSignIn:n,redirectSignOut:o,responseType:r})=>({domain:e,scopes:t,redirectSignIn:W(n),redirectSignOut:W(o),responseType:r}),H=e=>e.map((e=>{const t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}));function V(e){const t={};return e.storage&&(t.Storage=function(e){if(!e)return;const{bucket_name:t,aws_region:n}=e;return{S3:{bucket:t,region:n}}}(e.storage)),e.auth&&(t.Auth=function(e){if(!e)return;const{user_pool_id:t,user_pool_client_id:n,identity_pool_id:o,password_policy:r,mfa_configuration:a,mfa_methods:i,unauthenticated_identities_enabled:s,oauth:l,username_attributes:c,standard_required_attributes:u}=e,p={Cognito:{userPoolId:t,userPoolClientId:n}};return o&&(p.Cognito={...p.Cognito,identityPoolId:o}),r&&(p.Cognito.passwordFormat={requireLowercase:r.require_lowercase,requireNumbers:r.require_numbers,requireUppercase:r.require_uppercase,requireSpecialCharacters:r.require_symbols,minLength:r.min_length??6}),a&&(p.Cognito.mfa={status:Y(a),smsEnabled:i?.includes("SMS"),totpEnabled:i?.includes("TOTP")}),s&&(p.Cognito.allowGuestAccess=s),l&&(p.Cognito.loginWith={oauth:{domain:l.domain,redirectSignIn:l.redirect_sign_in_uri,redirectSignOut:l.redirect_sign_out_uri,responseType:"token"===l.response_type?"token":"code",scopes:l.scopes,providers:K(l.identity_providers)}}),c&&(p.Cognito.loginWith={...p.Cognito.loginWith,email:c.includes("email"),phone:c.includes("phone_number"),username:c.includes("username")}),u&&(p.Cognito.userAttributes=u.reduce(((e,t)=>({...e,[t]:{required:!0}})),{})),p}(e.auth)),e.analytics&&(t.Analytics=function(e){if(!e?.amazon_pinpoint)return;const{amazon_pinpoint:t}=e;return{Pinpoint:{appId:t.app_id,region:t.aws_region}}}(e.analytics)),e.geo&&(t.Geo=function(e){if(!e)return;const{aws_region:t,geofence_collections:n,maps:o,search_indices:r}=e;return{LocationService:{region:t,searchIndices:r,geofenceCollections:n,maps:o}}}(e.geo)),e.data&&(t.API=function(e){if(!e)return;const{aws_region:t,default_authorization_type:n,url:o,api_key:r,model_introspection:a}=e;var i;return{GraphQL:{endpoint:o,defaultAuthMode:(i=n,q[i]),region:t,apiKey:r,modelIntrospection:a}}}(e.data)),e.notifications&&(t.Notifications=function(e){if(!e)return;const{aws_region:t,channels:n,amazon_pinpoint_app_id:o}=e,r=n.includes("IN_APP_MESSAGING"),a=n.includes("APNS")||n.includes("FCM");if(!r&&!a)return;const i={};return r&&(i.InAppMessaging={Pinpoint:{appId:o,region:t}}),a&&(i.PushNotification={Pinpoint:{appId:o,region:t}}),i}(e.notifications)),t}const q={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"};const G={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"};function K(e=[]){return e.reduce(((e,t)=>(void 0!==G[t]&&e.push(G[t]),e)),[])}function Y(e){return"OPTIONAL"===e?"optional":"REQUIRED"===e?"on":"off"}const X=e=>Object.keys(e).some((e=>e.startsWith("aws_")))?((e={})=>{if(!Object.prototype.hasOwnProperty.call(e,"aws_project_region"))throw new D({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});const{aws_appsync_apiKey:t,aws_appsync_authenticationType:n,aws_appsync_graphqlEndpoint:o,aws_appsync_region:r,aws_bots_config:a,aws_cognito_identity_pool_id:i,aws_cognito_sign_up_verification_method:s,aws_cognito_mfa_configuration:l,aws_cognito_mfa_types:c,aws_cognito_password_protection_settings:u,aws_cognito_verification_mechanisms:p,aws_cognito_signup_attributes:d,aws_cognito_social_providers:m,aws_cognito_username_attributes:f,aws_mandatory_sign_in:h,aws_mobile_analytics_app_id:y,aws_mobile_analytics_app_region:g,aws_user_files_s3_bucket:b,aws_user_files_s3_bucket_region:v,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:w,aws_user_pools_id:k,aws_user_pools_web_client_id:x,geo:S,oauth:_,predictions:I,aws_cloud_logic_custom:T,Notifications:E,modelIntrospection:N}=e,C={};y&&(C.Analytics={Pinpoint:{appId:y,region:g}});const{InAppMessaging:A,Push:M}=E??{};if(A?.AWSPinpoint||M?.AWSPinpoint){if(A?.AWSPinpoint){const{appId:e,region:t}=A.AWSPinpoint;C.Notifications={InAppMessaging:{Pinpoint:{appId:e,region:t}}}}if(M?.AWSPinpoint){const{appId:e,region:t}=M.AWSPinpoint;C.Notifications={...C.Notifications,PushNotification:{Pinpoint:{appId:e,region:t}}}}}if(Array.isArray(a)&&(C.Interactions={LexV1:Object.fromEntries(a.map((e=>[e.name,e])))}),o){const e=j[n];e||B.debug(`Invalid authentication type ${n}. Falling back to IAM.`),C.API={GraphQL:{endpoint:o,apiKey:t,region:r,defaultAuthMode:e??"iam"}},N&&(C.API.GraphQL.modelIntrospection=N)}const O=l?{status:l&&l.toLowerCase(),totpEnabled:c?.includes("TOTP")??!1,smsEnabled:c?.includes("SMS")??!1}:void 0,R=u?{minLength:u.passwordPolicyMinLength,requireLowercase:u.passwordPolicyCharacters?.includes("REQUIRES_LOWERCASE")??!1,requireUppercase:u.passwordPolicyCharacters?.includes("REQUIRES_UPPERCASE")??!1,requireNumbers:u.passwordPolicyCharacters?.includes("REQUIRES_NUMBERS")??!1,requireSpecialCharacters:u.passwordPolicyCharacters?.includes("REQUIRES_SYMBOLS")??!1}:void 0,F=Array.from(new Set([...p??[],...d??[]])).reduce(((e,t)=>({...e,[t.toLowerCase()]:{required:!0}})),{}),z=f?.includes("EMAIL")??!1,P=f?.includes("PHONE_NUMBER")??!1;(i||k)&&(C.Auth={Cognito:{identityPoolId:i,allowGuestAccess:"enable"!==h,signUpVerificationMethod:s,userAttributes:F,userPoolClientId:x,userPoolId:k,mfa:O,passwordFormat:R,loginWith:{username:!(z||P),email:z,phone:P}}});const $=!!_&&Object.keys(_).length>0,L=!!m&&m.length>0;if(C.Auth&&$&&(C.Auth.Cognito.loginWith={...C.Auth.Cognito.loginWith,oauth:{...U(_),...L&&{providers:H(m)}}}),b&&(C.Storage={S3:{bucket:b,region:v,dangerouslyConnectToHttpEndpointForTesting:w}}),S){const{amazon_location_service:e}=S;C.Geo={LocationService:{maps:e.maps,geofenceCollections:e.geofenceCollections,searchIndices:e.search_indices,region:e.region}}}if(T&&(C.API={...C.API,REST:T.reduce(((e,t)=>{const{name:n,endpoint:o,region:r,service:a}=t;return{...e,[n]:{endpoint:o,...a?{service:a}:void 0,...r?{region:r}:void 0}}}),{})}),I){const{VoiceId:e}=I?.convert?.speechGenerator?.defaults??{};C.Predictions=e?{...I,convert:{...I.convert,speechGenerator:{...I.convert.speechGenerator,defaults:{voiceId:e}}}}:I}return C})(e):function(e){const{version:t}=e;return!!t&&t.startsWith("1")}(e)?V(e):e;function J({expiresAt:e,clockDrift:t}){return Date.now()+t>e}class Z{configure(e,t){this.authConfig=e,this.authOptions=t}async fetchAuthSession(e={}){let t,n;const o=await this.getTokens(e);return o?(n=o.accessToken?.payload?.sub,t=await(this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:o,authenticated:!0,forceRefresh:e.forceRefresh}))):t=await(this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:e.forceRefresh})),{tokens:o,credentials:t?.credentials,identityId:t?.identityId,userSub:n}}async clearCredentials(){await(this.authOptions?.credentialsProvider?.clearCredentialsAndIdentityId())}async getTokens(e){return await(this.authOptions?.tokenProvider?.getTokens(e))??void 0}}var Q=i(1635),ee=64,te=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ne=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],oe=Math.pow(2,53)-1,re=function(){function e(){this.state=Int32Array.from(ne),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>oe)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===ee&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%ee>=56){for(var o=this.bufferLength;o<ee;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<56;o++)t.setUint8(o,0);t.setUint32(56,Math.floor(e/4294967296),!0),t.setUint32(60,e),this.hashBuffer(),this.finished=!0}var r=new Uint8Array(32);for(o=0;o<8;o++)r[4*o]=this.state[o]>>>24&255,r[4*o+1]=this.state[o]>>>16&255,r[4*o+2]=this.state[o]>>>8&255,r[4*o+3]=this.state[o]>>>0&255;return r},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],o=t[1],r=t[2],a=t[3],i=t[4],s=t[5],l=t[6],c=t[7],u=0;u<ee;u++){if(u<16)this.temp[u]=(255&e[4*u])<<24|(255&e[4*u+1])<<16|(255&e[4*u+2])<<8|255&e[4*u+3];else{var p=this.temp[u-2],d=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,m=((p=this.temp[u-15])>>>7|p<<25)^(p>>>18|p<<14)^p>>>3;this.temp[u]=(d+this.temp[u-7]|0)+(m+this.temp[u-16]|0)}var f=(((i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7))+(i&s^~i&l)|0)+(c+(te[u]+this.temp[u]|0)|0)|0,h=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&o^n&r^o&r)|0;c=l,l=s,s=i,i=a+f|0,a=r,r=o,o=n,n=f+h|0}t[0]+=n,t[1]+=o,t[2]+=r,t[3]+=a,t[4]+=i,t[5]+=s,t[6]+=l,t[7]+=c},e}();var ae="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:e=>(new TextEncoder).encode(e);function ie(e){return e instanceof Uint8Array?e:"string"==typeof e?ae(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function se(e){return"string"==typeof e?0===e.length:0===e.byteLength}var le=function(){function e(e){this.secret=e,this.hash=new re,this.reset()}return e.prototype.update=function(e){if(!se(e)&&!this.error)try{this.hash.update(ie(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,Q.sH)(this,void 0,void 0,(function(){return(0,Q.YH)(this,(function(e){return[2,this.digestSync()]}))}))},e.prototype.reset=function(){if(this.hash=new re,this.secret){this.outer=new re;var e=function(e){var t=ie(e);if(t.byteLength>ee){var n=new re;n.update(t),t=n.digest()}var o=new Uint8Array(ee);return o.set(t),o}(this.secret),t=new Uint8Array(ee);t.set(e);for(var n=0;n<ee;n++)e[n]^=54,t[n]^=92;this.hash.update(e),this.outer.update(t);for(n=0;n<e.byteLength;n++)e[n]=0}},e}();const ce={},ue={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),ce[e]=t,ue[t]=e}const pe=new class{constructor(){this.oAuthListener=void 0,this.resourcesConfig={},this.libraryOptions={},this.Auth=new Z}configure(e,t){const n=X(e);this.resourcesConfig=n,t&&(this.libraryOptions=t),this.resourcesConfig=$(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),P.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",R),this.notifyOAuthListener()}getConfig(){return this.resourcesConfig}[L](e){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth?e(this.resourcesConfig.Auth?.Cognito):this.oAuthListener=e}notifyOAuthListener(){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth&&this.oAuthListener&&(this.oAuthListener(this.resourcesConfig.Auth?.Cognito),this.oAuthListener=void 0)}};function de(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}var me,fe=function e(t,n){function o(e,o,r){if("undefined"!=typeof document){"number"==typeof(r=de({},n,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var i in r)r[i]&&(a+="; "+i,!0!==r[i]&&(a+="="+r[i].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+a}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],o={},r=0;r<n.length;r++){var a=n[r].split("="),i=a.slice(1).join("=");try{var s=decodeURIComponent(a[0]);if(o[s]=t.read(i,s),e===s)break}catch(e){}}return e?o[e]:o}},remove:function(e,t){o(e,"",de({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,de({},this.attributes,t))},withConverter:function(t){return e(de({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});class he{constructor(e={}){const{path:t,domain:n,expires:o,sameSite:r,secure:a}=e;if(this.domain=n,this.path=t||"/",this.expires=Object.prototype.hasOwnProperty.call(e,"expires")?o:365,this.secure=!Object.prototype.hasOwnProperty.call(e,"secure")||a,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!r||!["strict","lax","none"].includes(r))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===r&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=r}}async setItem(e,t){fe.set(e,t,this.getData())}async getItem(e){return fe.get(e)??null}async removeItem(e){fe.remove(e,this.getData())}async clear(){const e=fe.get(),t=Object.keys(e).map((e=>this.removeItem(e)));await Promise.all(t)}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}}!function(e){e.NoEndpointId="NoEndpointId",e.PlatformNotSupported="PlatformNotSupported",e.Unknown="Unknown"}(me||(me={}));class ye extends D{constructor(){super({name:me.PlatformNotSupported,message:"Function not supported on current platform"})}}class ge{constructor(e){this.storage=e}async setItem(e,t){if(!this.storage)throw new ye;this.storage.setItem(e,t)}async getItem(e){if(!this.storage)throw new ye;return this.storage.getItem(e)}async removeItem(e){if(!this.storage)throw new ye;this.storage.removeItem(e)}async clear(){if(!this.storage)throw new ye;this.storage.clear()}}class be{constructor(){this.storage=new Map}get length(){return this.storage.size}key(e){return e>this.length-1?null:Array.from(this.storage.keys())[e]}setItem(e,t){this.storage.set(e,t)}getItem(e){return this.storage.get(e)??null}removeItem(e){this.storage.delete(e)}clear(){this.storage.clear()}}const ve=new class extends ge{constructor(){super("undefined"!=typeof window&&window.localStorage?window.localStorage:new be)}},we=(new class extends ge{constructor(){super("undefined"!=typeof window&&window.sessionStorage?window.sessionStorage:new be)}},new ge(new be),{convert:e=>(()=>{if("undefined"!=typeof window&&"function"==typeof window.atob)return window.atob;if("function"==typeof atob)return atob;throw new D({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})})()(e)}),ke=(e,t=D)=>(n,o,r)=>{const{message:a,recoverySuggestion:i}=e[o];if(!n)throw new t({name:o,message:r?`${a} ${r}`:a,recoverySuggestion:i})};var xe;!function(e){e.AuthTokenConfigException="AuthTokenConfigException",e.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",e.AuthUserPoolException="AuthUserPoolException",e.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",e.OAuthNotConfigureException="OAuthNotConfigureException"}(xe||(xe={}));const Se=ke({[xe.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[xe.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[xe.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[xe.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[xe.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}});function _e(e){let t=!0;t=!!e&&(!!e.userPoolId&&!!e.userPoolClientId),Se(t,xe.AuthUserPoolException)}function Ie(e){Se(!!e?.identityPoolId,xe.InvalidIdentityPoolIdException)}function Te(e){const t=e.split(".");if(3!==t.length)throw new Error("Invalid token");try{const n=t[1].replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent(we.convert(n).split("").map((e=>`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`)).join(""));return{toString:()=>e,payload:JSON.parse(o)}}catch(e){throw new Error("Invalid token payload")}}const Ee=(e,t,n,o)=>async(r,a)=>{const i={...o,...r},s=await i.endpointResolver(i,a),l=await t(a,s),c=await e(l,{...i});return n(c)},Ne=e=>{const{headers:t,statusCode:n}=e;return{...Ce(e)?e.$metadata:{},httpStatusCode:n,requestId:t["x-amzn-requestid"]??t["x-amzn-request-id"]??t["x-amz-request-id"],extendedRequestId:t["x-amz-id-2"],cfId:t["x-amz-cf-id"]}},Ce=e=>"object"==typeof e?.$metadata,Ae=async e=>{if(!e||e.statusCode<300)return;const t=await Me(e),n=(e=>{const[t]=e.toString().split(/[,:]+/);return t.includes("#")?t.split("#")[1]:t})(e.headers["x-amzn-errortype"]??t.code??t.__type??"UnknownError"),o=t.message??t.Message??"Unknown error",r=new Error(o);return Object.assign(r,{name:n,$metadata:Ne(e)})},Me=async e=>{if(!e.body)throw new Error("Missing response payload");const t=await e.body.json();return Object.assign(t,{$metadata:Ne(e)})};class Oe extends D{constructor(e){super(e),this.constructor=Oe,Object.setPrototypeOf(this,Oe.prototype)}}function De(e){if(!e||"Error"===e.name||e instanceof TypeError)throw new Oe({name:me.Unknown,message:"An unknown error has occurred.",underlyingError:e})}const Re={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},Fe={partitions:[Re,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},ze=e=>{const{partitions:t}=Fe;for(const{regions:n,outputs:o,regionRegex:r}of t){const t=new RegExp(r);if(n.includes(e)||t.test(e))return o.dnsSuffix}return Re.outputs.dnsSuffix},Pe=(e,t)=>{if(t?.aborted)return Promise.resolve();let n,o;const r=new Promise((t=>{o=t,n=setTimeout(t,e)}));return t?.addEventListener("abort",(function e(r){clearTimeout(n),t?.removeEventListener("abort",e),o()})),r},$e=(e,t)=>{"[object Object]"===Object.prototype.toString.call(e)&&(e.$metadata={...e.$metadata??{},attempts:t})},Le=(e,t)=>(n,o)=>{const r={};let a=t=>e(t,o);for(let e=t.length-1;e>=0;e--){a=(0,t[e])(o)(a,r)}return a(n)},Be=e=>{let t;return()=>(t||(t=e()),t)},je=e=>!["HEAD","GET","DELETE"].includes(e.toUpperCase()),We=Le((async({url:e,method:t,headers:n,body:o},{abortSignal:r,cache:a,withCrossDomainCredentials:i})=>{let s;try{s=await fetch(e,{method:t,headers:n,body:je(t)?o:void 0,signal:r,cache:a,credentials:i?"include":"same-origin"})}catch(e){if(e instanceof TypeError)throw new Error("Network error");throw e}const l={};s.headers?.forEach(((e,t)=>{l[t.toLowerCase()]=e}));return{...{statusCode:s.status,headers:l,body:null},body:Object.assign(s.body??{},{text:Be((()=>s.text())),blob:Be((()=>s.blob())),json:Be((()=>s.json()))})}}),[({userAgentHeader:e="x-amz-user-agent",userAgentValue:t=""})=>n=>async function(o){if(0===t.trim().length){return await n(o)}{const r=e.toLowerCase();o.headers[r]=o.headers[r]?`${o.headers[r]} ${t}`:t;return await n(o)}},({maxAttempts:e=3,retryDecider:t,computeDelay:n,abortSignal:o})=>{if(e<1)throw new Error("maxAttempts must be greater than 0");return(r,a)=>async function(i){let s,l,c=a.attemptsCount??0;const u=()=>{if(l)return $e(l,c),l;throw $e(s,c),s};for(;!o?.aborted&&c<e;){try{l=await r(i),s=void 0}catch(e){s=e,l=void 0}if(c=(a.attemptsCount??0)>c?a.attemptsCount??0:c+1,a.attemptsCount=c,!await t(l,s))return u();if(!o?.aborted&&c<e){const e=n(c);await Pe(e,o)}}if(o?.aborted)throw new Error("Request aborted.");return u()}}]),Ue=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],He=e=>async(t,n)=>{const o=n??await e(t)??void 0,r=o?.code||o?.name,a=t?.statusCode;return Ke(n)||Ge(a,r)||(e=>!!e&&Ue.includes(e))(r)||Ye(a,r)},Ve=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],qe=["TimeoutError","RequestTimeout","RequestTimeoutException"],Ge=(e,t)=>429===e||!!t&&Ve.includes(t),Ke=e=>"Network error"===e?.name,Ye=(e,t)=>!!e&&[500,502,503,504].includes(e)||!!t&&qe.includes(t);function Xe(e=3e5){return t=>{const n=2**t*100+100*Math.random();return!(n>e)&&n}}const Je=3e5,Ze=e=>{const t=Xe(Je)(e);return!1===t?Je:t},Qe=URL;var et,tt,nt,ot,rt,at,it,st,lt,ct,ut,pt,dt;!function(e){e.WebUnknown="0",e.React="1",e.NextJs="2",e.Angular="3",e.VueJs="4",e.Nuxt="5",e.Svelte="6",e.ServerSideUnknown="100",e.ReactSSR="101",e.NextJsSSR="102",e.AngularSSR="103",e.VueJsSSR="104",e.NuxtSSR="105",e.SvelteSSR="106",e.ReactNative="201",e.Expo="202"}(et||(et={})),function(e){e.API="api",e.Auth="auth",e.Analytics="analytics",e.DataStore="datastore",e.Geo="geo",e.InAppMessaging="inappmessaging",e.Interactions="interactions",e.Predictions="predictions",e.PubSub="pubsub",e.PushNotification="pushnotification",e.Storage="storage"}(tt||(tt={})),function(e){e.Record="1",e.IdentifyUser="2"}(nt||(nt={})),function(e){e.GraphQl="1",e.Get="2",e.Post="3",e.Put="4",e.Patch="5",e.Del="6",e.Head="7"}(ot||(ot={})),function(e){e.SignUp="1",e.ConfirmSignUp="2",e.ResendSignUpCode="3",e.SignIn="4",e.FetchMFAPreference="6",e.UpdateMFAPreference="7",e.SetUpTOTP="10",e.VerifyTOTPSetup="11",e.ConfirmSignIn="12",e.DeleteUserAttributes="15",e.DeleteUser="16",e.UpdateUserAttributes="17",e.FetchUserAttributes="18",e.ConfirmUserAttribute="22",e.SignOut="26",e.UpdatePassword="27",e.ResetPassword="28",e.ConfirmResetPassword="29",e.FederatedSignIn="30",e.RememberDevice="32",e.ForgetDevice="33",e.FetchDevices="34",e.SendUserAttributeVerificationCode="35",e.SignInWithRedirect="36"}(rt||(rt={})),function(e){e.Subscribe="1",e.GraphQl="2"}(at||(at={})),function(e){e.SearchByText="0",e.SearchByCoordinates="1",e.SearchForSuggestions="2",e.SearchByPlaceId="3",e.SaveGeofences="4",e.GetGeofence="5",e.ListGeofences="6",e.DeleteGeofences="7"}(it||(it={})),function(e){e.SyncMessages="1",e.IdentifyUser="2",e.NotifyMessageInteraction="3"}(st||(st={})),function(e){e.None="0"}(lt||(lt={})),function(e){e.Convert="1",e.Identify="2",e.Interpret="3"}(ct||(ct={})),function(e){e.Subscribe="1"}(ut||(ut={})),function(e){e.InitializePushNotifications="1",e.IdentifyUser="2"}(pt||(pt={})),function(e){e.UploadData="1",e.DownloadData="2",e.List="3",e.Copy="4",e.Remove="5",e.GetProperties="6",e.GetUrl="7"}(dt||(dt={}));const mt="6.4.3",ft=()=>"undefined"!=typeof global,ht=()=>"undefined"!=typeof window,yt=()=>"undefined"!=typeof document,gt=()=>"undefined"!=typeof process,bt=(e,t)=>!!Object.keys(e).find((e=>e.startsWith(t)));const vt=[{platform:et.Expo,detectionMethod:function(){return ft()&&void 0!==global.expo}},{platform:et.ReactNative,detectionMethod:function(){return"undefined"!=typeof navigator&&void 0!==navigator.product&&"ReactNative"===navigator.product}},{platform:et.NextJs,detectionMethod:function(){return ht()&&window.next&&"object"==typeof window.next}},{platform:et.Nuxt,detectionMethod:function(){return ht()&&(void 0!==window.__NUXT__||void 0!==window.$nuxt)}},{platform:et.Angular,detectionMethod:function(){const e=Boolean(yt()&&document.querySelector("[ng-version]")),t=Boolean(ht()&&void 0!==window.ng);return e||t}},{platform:et.React,detectionMethod:function(){const e=e=>e.startsWith("_react")||e.startsWith("__react");return yt()&&Array.from(document.querySelectorAll("[id]")).some((t=>Object.keys(t).find(e)))}},{platform:et.VueJs,detectionMethod:function(){return ht()&&bt(window,"__VUE")}},{platform:et.Svelte,detectionMethod:function(){return ht()&&bt(window,"__SVELTE")}},{platform:et.WebUnknown,detectionMethod:function(){return ht()}},{platform:et.NextJsSSR,detectionMethod:function(){return ft()&&(bt(global,"__next")||bt(global,"__NEXT"))}},{platform:et.NuxtSSR,detectionMethod:function(){return ft()&&void 0!==global.__NUXT_PATHS__}},{platform:et.ReactSSR,detectionMethod:function(){return gt()&&void 0!==process.env&&!!Object.keys(process.env).find((e=>e.includes("react")))}},{platform:et.VueJsSSR,detectionMethod:function(){return ft()&&bt(global,"__VUE")}},{platform:et.AngularSSR,detectionMethod:function(){return gt()&&"object"==typeof process.env&&process.env.npm_lifecycle_script?.startsWith("ng ")||!1}},{platform:et.SvelteSSR,detectionMethod:function(){return gt()&&void 0!==process.env&&!!Object.keys(process.env).find((e=>e.includes("svelte")))}}];let wt;const kt=[];let xt=!1;const St=()=>{if(!wt){if(wt=vt.find((e=>e.detectionMethod()))?.platform||et.ServerSideUnknown,xt)for(;kt.length;)kt.pop()?.();else kt.forEach((e=>{e()}));It(et.ServerSideUnknown,10),It(et.WebUnknown,10)}return wt},_t=e=>{xt||kt.push(e)};function It(e,t){wt!==e||xt||setTimeout((()=>{wt=void 0,xt=!0,setTimeout(St,1e3)}),t)}const Tt={},Et="aws-amplify";new class{constructor(){this.userAgent=`${Et}/${mt}`}get framework(){return St()}get isReactNative(){return this.framework===et.ReactNative||this.framework===et.Expo}observeFrameworkChanges(e){_t(e)}};const Nt=({category:e,action:t}={})=>{const n=[[Et,mt]];if(e&&n.push([e,t]),n.push(["framework",St()]),e&&t){const o=((e,t)=>Tt[e]?.[t]?.additionalDetails)(e,t);o&&o.forEach((e=>{n.push(e)}))}return n},Ct=e=>Nt(e).map((([e,t])=>e&&t?`${e}/${t}`:e)).join(" "),At="cognito-idp",Mt=Le(We,[()=>(e,t)=>async function(t){return t.headers["cache-control"]="no-store",e(t)}]),Ot={service:At,endpointResolver:({region:e})=>{const t=pe.getConfig().Auth?.Cognito,n=t?.userPoolEndpoint,o=new Qe(`https://${At}.${e}.${ze(e)}`);return{url:n?new Qe(n):o}},retryDecider:He(Ae),computeDelay:Ze,userAgentValue:Ct(),cache:"no-store"},Dt=e=>(t,n)=>{const o=(e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${e}`}))(e);return(({url:e},t,n)=>({headers:t,url:e,body:n,method:"POST"}))(n,o,JSON.stringify(t))},Rt=()=>async e=>{if(e.statusCode>=300){const t=await Ae(e);throw De(t),new Oe({name:t.name,message:t.message})}return await Me(e)},Ft=()=>async e=>{if(e.statusCode>=300){const t=await Ae(e);throw De(t),new Oe({name:t.name,message:t.message})}},zt=Ee(Mt,Dt("InitiateAuth"),Rt(),Ot);Ee(Mt,Dt("RevokeToken"),Rt(),Ot),Ee(Mt,Dt("SignUp"),Rt(),Ot),Ee(Mt,Dt("ConfirmSignUp"),Rt(),Ot),Ee(Mt,Dt("ForgotPassword"),Rt(),Ot),Ee(Mt,Dt("ConfirmForgotPassword"),Rt(),Ot),Ee(Mt,Dt("RespondToAuthChallenge"),Rt(),Ot),Ee(Mt,Dt("ResendConfirmationCode"),Rt(),Ot),Ee(Mt,Dt("VerifySoftwareToken"),Rt(),Ot),Ee(Mt,Dt("AssociateSoftwareToken"),Rt(),Ot),Ee(Mt,Dt("SetUserMFAPreference"),Rt(),Ot),Ee(Mt,Dt("GetUser"),Rt(),Ot),Ee(Mt,Dt("ChangePassword"),Rt(),Ot),Ee(Mt,Dt("ConfirmDevice"),Rt(),Ot),Ee(Mt,Dt("ForgetDevice"),Ft(),Ot),Ee(Mt,Dt("DeleteUser"),Ft(),Ot),Ee(Mt,Dt("GetUserAttributeVerificationCode"),Rt(),Ot),Ee(Mt,Dt("GlobalSignOut"),Rt(),Ot),Ee(Mt,Dt("UpdateUserAttributes"),Rt(),Ot),Ee(Mt,Dt("VerifyUserAttribute"),Rt(),Ot),Ee(Mt,Dt("UpdateDeviceStatus"),Rt(),Ot),Ee(Mt,Dt("ListDevices"),Rt(),Ot),Ee(Mt,Dt("DeleteUserAttributes"),Rt(),Ot);function Pt(e){if(!e||!e.includes(":"))throw new Oe({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return e.split(":")[0]}const $t="UserUnAuthenticatedException";new Oe({name:"InvalidRedirectException",message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."}),new Oe({name:"InvalidOriginException",message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."});const Lt=new Oe({name:"TokenRefreshException",message:"Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. \n\tPlease change your oauth configuration to use 'code grant' flow.",recoverySuggestion:"Please logout and change your Amplify configuration to use \"code grant\" flow. \n\tE.g { responseType: 'code' }"}),Bt=new Oe({name:$t,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function jt(e){if(function(e){return Ut(e)&&!e?.refreshToken}(e))throw Lt;if(!function(e){return Ut(e)&&e?.refreshToken}(e))throw Bt}const Wt={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function Ut(e){return e?.accessToken||e?.idToken}const Ht=async({tokens:e,authConfig:t,username:n})=>{_e(t?.Cognito);const o=function(e){const t=e?.split("_")[0];if(!e||e.indexOf("_")<0||!t||"string"!=typeof t)throw new Oe({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return t}(t.Cognito.userPoolId);jt(e);const r=e.refreshToken,a={REFRESH_TOKEN:r};e.deviceMetadata?.deviceKey&&(a.DEVICE_KEY=e.deviceMetadata.deviceKey);const i=function({username:e,userPoolId:t,userPoolClientId:n}){if("undefined"==typeof window)return;const o=window.AmazonCognitoAdvancedSecurityData;if(void 0===o)return;const r=o.getData(e,t,n);if(r)return{EncodedData:r};return{}}({username:n,userPoolId:t.Cognito.userPoolId,userPoolClientId:t.Cognito.userPoolClientId}),{AuthenticationResult:s}=await zt({region:o},{ClientId:t?.Cognito?.userPoolClientId,AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:a,UserContextData:i}),l=Te(s?.AccessToken??""),c=s?.IdToken?Te(s.IdToken):void 0,{iat:u}=l.payload;if(!u)throw new Oe({name:"iatNotFoundException",message:"iat not found in access token"});return{accessToken:l,idToken:c,clockDrift:1e3*u-(new Date).getTime(),refreshToken:r,username:n}},Vt=(e=>{let t;return async(...n)=>t||(t=new Promise(((o,r)=>{e(...n).then((e=>{o(e)})).catch((e=>{r(e)})).finally((()=>{t=void 0}))})),t)})(Ht),qt={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails"};var Gt;!function(e){e.InvalidAuthTokens="InvalidAuthTokens"}(Gt||(Gt={}));const Kt=ke({[Gt.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}});class Yt{constructor(){this.name="CognitoIdentityServiceProvider"}getKeyValueStorage(){if(!this.keyValueStorage)throw new Oe({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(e){this.keyValueStorage=e}setAuthConfig(e){this.authConfig=e}async loadTokens(){try{const e=await this.getAuthKeys(),t=await this.getKeyValueStorage().getItem(e.accessToken);if(!t)throw new Oe({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});const n=Te(t),o=await this.getKeyValueStorage().getItem(e.idToken),r=o?Te(o):void 0,a=await this.getKeyValueStorage().getItem(e.refreshToken)??void 0,i=await this.getKeyValueStorage().getItem(e.clockDrift)??"0",s=Number.parseInt(i),l=await this.getKeyValueStorage().getItem(e.signInDetails),c={accessToken:n,idToken:r,refreshToken:a,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:s,username:await this.getLastAuthUser()};return l&&(c.signInDetails=JSON.parse(l)),c}catch(e){return null}}async storeTokens(e){Kt(void 0!==e,Gt.InvalidAuthTokens),await this.clearTokens();const t=e.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),t);const n=await this.getAuthKeys();await this.getKeyValueStorage().setItem(n.accessToken,e.accessToken.toString()),e.idToken&&await this.getKeyValueStorage().setItem(n.idToken,e.idToken.toString()),e.refreshToken&&await this.getKeyValueStorage().setItem(n.refreshToken,e.refreshToken),e.deviceMetadata&&(e.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(n.deviceKey,e.deviceMetadata.deviceKey),e.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(n.deviceGroupKey,e.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(n.randomPasswordKey,e.deviceMetadata.randomPassword)),e.signInDetails&&await this.getKeyValueStorage().setItem(n.signInDetails,JSON.stringify(e.signInDetails)),await this.getKeyValueStorage().setItem(n.clockDrift,`${e.clockDrift}`)}async clearTokens(){const e=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(e.accessToken),this.getKeyValueStorage().removeItem(e.idToken),this.getKeyValueStorage().removeItem(e.clockDrift),this.getKeyValueStorage().removeItem(e.refreshToken),this.getKeyValueStorage().removeItem(e.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey())])}async getDeviceMetadata(e){const t=await this.getAuthKeys(e),n=await this.getKeyValueStorage().getItem(t.deviceKey),o=await this.getKeyValueStorage().getItem(t.deviceGroupKey),r=await this.getKeyValueStorage().getItem(t.randomPasswordKey);return r&&o&&n?{deviceKey:n,deviceGroupKey:o,randomPassword:r}:null}async clearDeviceMetadata(e){const t=await this.getAuthKeys(e);await Promise.all([this.getKeyValueStorage().removeItem(t.deviceKey),this.getKeyValueStorage().removeItem(t.deviceGroupKey),this.getKeyValueStorage().removeItem(t.randomPasswordKey)])}async getAuthKeys(e){_e(this.authConfig?.Cognito);const t=e??await this.getLastAuthUser();return Xt(this.name,`${this.authConfig.Cognito.userPoolClientId}.${t}`)}getLastAuthUserKey(){_e(this.authConfig?.Cognito);const e=this.authConfig.Cognito.userPoolClientId;return`${this.name}.${e}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username"}}const Xt=(e,t)=>Jt(qt)(`${e}`,t);function Jt(e){const t=Object.values({...e});return(e,n)=>t.reduce(((t,o)=>({...t,[o]:`${e}.${n}.${o}`})),{})}const Zt="amplify-signin-with-hostedUI",Qt="CognitoIdentityServiceProvider";const en=(e,t)=>Jt(Wt)(e,t),tn=new class{constructor(e){this.keyValueStorage=e}async clearOAuthInflightData(){_e(this.cognitoConfig);const e=en(Qt,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(e.inflightOAuth),this.keyValueStorage.removeItem(e.oauthPKCE),this.keyValueStorage.removeItem(e.oauthState)])}async clearOAuthData(){_e(this.cognitoConfig);const e=en(Qt,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(Zt),this.keyValueStorage.removeItem(e.oauthSignIn)}loadOAuthState(){_e(this.cognitoConfig);const e=en(Qt,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthState)}storeOAuthState(e){_e(this.cognitoConfig);const t=en(Qt,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthState,e)}loadPKCE(){_e(this.cognitoConfig);const e=en(Qt,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthPKCE)}storePKCE(e){_e(this.cognitoConfig);const t=en(Qt,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthPKCE,e)}setAuthConfig(e){this.cognitoConfig=e}async loadOAuthInFlight(){_e(this.cognitoConfig);const e=en(Qt,this.cognitoConfig.userPoolClientId);return"true"===await this.keyValueStorage.getItem(e.inflightOAuth)}async storeOAuthInFlight(e){_e(this.cognitoConfig);const t=en(Qt,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(t.inflightOAuth,`${e}`)}async loadOAuthSignIn(){_e(this.cognitoConfig);const e=en(Qt,this.cognitoConfig.userPoolClientId),t=await this.keyValueStorage.getItem(Zt),[n,o]=(await this.keyValueStorage.getItem(e.oauthSignIn))?.split(",")??[];return{isOAuthSignIn:"true"===n||"true"===t,preferPrivateSession:"true"===o}}async storeOAuthSignIn(e,t=!1){_e(this.cognitoConfig);const n=en(Qt,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(n.oauthSignIn,`${e},${t}`)}}(ve),nn=[];class on{constructor(){this.waitForInflightOAuth="undefined"!=typeof window&&void 0!==window.document?async()=>{if(await tn.loadOAuthInFlight())return this.inflightPromise||(this.inflightPromise=new Promise(((e,t)=>{var n;n=e,nn.push(n)}))),this.inflightPromise}:async()=>{}}setAuthConfig(e){tn.setAuthConfig(e.Cognito),this.authConfig=e}setTokenRefresher(e){this.tokenRefresher=e}setAuthTokenStore(e){this.tokenStore=e}getTokenStore(){if(!this.tokenStore)throw new Oe({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new Oe({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}async getTokens(e){let t;try{_e(this.authConfig?.Cognito)}catch(e){return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,t=await this.getTokenStore().loadTokens();const n=await this.getTokenStore().getLastAuthUser();if(null===t)return null;const o=!!t?.idToken&&J({expiresAt:1e3*(t.idToken?.payload?.exp??0),clockDrift:t.clockDrift??0}),r=J({expiresAt:1e3*(t.accessToken?.payload?.exp??0),clockDrift:t.clockDrift??0});return(e?.forceRefresh||o||r)&&(t=await this.refreshTokens({tokens:t,username:n}),null===t)?null:{accessToken:t?.accessToken,idToken:t?.idToken,signInDetails:t?.signInDetails}}async refreshTokens({tokens:e,username:t}){try{const{signInDetails:n}=e,o=await this.getTokenRefresher()({tokens:e,authConfig:this.authConfig,username:t});return o.signInDetails=n,await this.setTokens({tokens:o}),P.dispatch("auth",{event:"tokenRefresh"},"Auth",R),o}catch(e){return this.handleErrors(e)}}handleErrors(e){if(De(e),"Network error"!==e.message&&this.clearTokens(),P.dispatch("auth",{event:"tokenRefresh_failure",data:{error:e}},"Auth",R),e.name.startsWith("NotAuthorizedException"))return null;throw e}async setTokens({tokens:e}){return this.getTokenStore().storeTokens(e)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(e){return this.getTokenStore().getDeviceMetadata(e)}clearDeviceMetadata(e){return this.getTokenStore().clearDeviceMetadata(e)}}const rn=new class{constructor(){this.authTokenStore=new Yt,this.authTokenStore.setKeyValueStorage(ve),this.tokenOrchestrator=new on,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(Vt)}getTokens({forceRefresh:e}={forceRefresh:!1}){return this.tokenOrchestrator.getTokens({forceRefresh:e})}setKeyValueStorage(e){this.authTokenStore.setKeyValueStorage(e)}setAuthConfig(e){this.authTokenStore.setAuthConfig(e),this.tokenOrchestrator.setAuthConfig(e)}},{tokenOrchestrator:an}=rn,sn={identityId:"identityId"},ln=new O("DefaultIdentityIdStore");const cn=(e,t)=>Jt(sn)(`com.amplify.${e}`,t),un=Le(We,[()=>e=>async function(t){return t.headers["cache-control"]="no-store",e(t)}]),pn={service:"cognito-identity",endpointResolver:({region:e})=>({url:new Qe(`https://cognito-identity.${e}.${ze(e)}`)}),retryDecider:He(Ae),computeDelay:Ze,userAgentValue:Ct(),cache:"no-store"};_t((()=>{pn.userAgentValue=Ct()}));const dn=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}),mn=({url:e},t,n)=>({headers:t,url:e,body:n,method:"POST"}),fn=({AccessKeyId:e,SecretKey:t,SessionToken:n,Expiration:o}={})=>({AccessKeyId:e,SecretKey:t,SessionToken:n,Expiration:o&&new Date(1e3*o)}),hn=Ee(un,((e,t)=>{const n=dn("GetCredentialsForIdentity"),o=JSON.stringify(e);return mn(t,n,o)}),(async e=>{if(e.statusCode>=300){throw await Ae(e)}{const t=await Me(e);return{IdentityId:t.IdentityId,Credentials:fn(t.Credentials),$metadata:Ne(e)}}}),pn),yn=Ee(un,((e,t)=>{const n=dn("GetId"),o=JSON.stringify(e);return mn(t,n,o)}),(async e=>{if(e.statusCode>=300){throw await Ae(e)}return{IdentityId:(await Me(e)).IdentityId,$metadata:Ne(e)}}),pn);function gn(e){const t=Te(e).payload.iss,n={};if(!t)throw new Oe({name:"InvalidIdTokenException",message:"Invalid Idtoken."});return n[t.replace(/(^\w+:|^)\/\//,"")]=e,n}const bn=new O("CognitoIdentityIdProvider");async function vn(e,t){const n=t?.identityPoolId,o=Pt(n),r=(await yn({region:o},{IdentityPoolId:n,Logins:e})).IdentityId;if(!r)throw new Oe({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return r}const wn=new O("CognitoCredentialsProvider"),kn=3e6;const xn=new class{constructor(e){this._nextCredentialsRefresh=0,this._identityIdStore=e}async clearCredentialsAndIdentityId(){wn.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){wn.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(e){const t=e.authenticated,{tokens:n}=e,{authConfig:o}=e;try{Ie(o?.Cognito)}catch{return}if(!t&&!o.Cognito.allowGuestAccess)return;const{forceRefresh:r}=e,a=this.hasTokenChanged(n),i=await async function({tokens:e,authConfig:t,identityIdStore:n}){n.setAuthConfig({Cognito:t});let o=await n.loadIdentityId();if(e){if(o&&"primary"===o.type)return o.id;{const n=e.idToken?gn(e.idToken.toString()):{},r=await vn(n,t);o&&o.id===r&&bn.debug(`The guest identity ${o.id} has become the primary identity.`),o={id:r,type:"primary"}}}else{if(o&&"guest"===o.type)return o.id;o={id:await vn({},t),type:"guest"}}return n.storeIdentityId(o),o.id}({tokens:n,authConfig:o.Cognito,identityIdStore:this._identityIdStore});return(r||a)&&this.clearCredentials(),t?(function(e){if(!e||!e.idToken)throw new Oe({name:$t,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}(n),this.credsForOIDCTokens(o.Cognito,n,i)):this.getGuestCredentials(i,o.Cognito)}async getGuestCredentials(e,t){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!1===this._credentialsAndIdentityId.isAuthenticatedCreds)return wn.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const n=Pt(t.identityPoolId),o=await hn({region:n},{IdentityId:e});if(o.Credentials&&o.Credentials.AccessKeyId&&o.Credentials.SecretKey){this._nextCredentialsRefresh=(new Date).getTime()+kn;const t={credentials:{accessKeyId:o.Credentials.AccessKeyId,secretAccessKey:o.Credentials.SecretKey,sessionToken:o.Credentials.SessionToken,expiration:o.Credentials.Expiration},identityId:e},n=o.IdentityId;return n&&(t.identityId=n,this._identityIdStore.storeIdentityId({id:n,type:"guest"})),this._credentialsAndIdentityId={...t,isAuthenticatedCreds:!1},t}throw new Oe({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(e,t,n){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!0===this._credentialsAndIdentityId.isAuthenticatedCreds)return wn.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const o=t.idToken?gn(t.idToken.toString()):{},r=Pt(e.identityPoolId),a=await hn({region:r},{IdentityId:n,Logins:o});if(a.Credentials&&a.Credentials.AccessKeyId&&a.Credentials.SecretKey){const e={credentials:{accessKeyId:a.Credentials.AccessKeyId,secretAccessKey:a.Credentials.SecretKey,sessionToken:a.Credentials.SessionToken,expiration:a.Credentials.Expiration},identityId:n};this._credentialsAndIdentityId={...e,isAuthenticatedCreds:!0,associatedIdToken:t.idToken?.toString()},this._nextCredentialsRefresh=(new Date).getTime()+kn;const o=a.IdentityId;return o&&(e.identityId=o,this._identityIdStore.storeIdentityId({id:o,type:"primary"})),e}throw new Oe({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return void 0===this._nextCredentialsRefresh||this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(e){return!!e&&!!this._credentialsAndIdentityId?.associatedIdToken&&e.idToken?.toString()!==this._credentialsAndIdentityId.associatedIdToken}}(new class{setAuthConfig(e){Ie(e.Cognito),this.authConfig=e,this._authKeys=cn("Cognito",e.Cognito.identityPoolId)}constructor(e){this._authKeys={},this.keyValueStorage=e}async loadIdentityId(){Ie(this.authConfig?.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{const e=await this.keyValueStorage.getItem(this._authKeys.identityId);return e?{id:e,type:"guest"}:null}}catch(e){return ln.log("Error getting stored IdentityId.",e),null}}async storeIdentityId(e){Ie(this.authConfig?.Cognito),"guest"===e.type?(this.keyValueStorage.setItem(this._authKeys.identityId,e.id),this._primaryIdentityId=void 0):(this._primaryIdentityId=e.id,this.keyValueStorage.removeItem(this._authKeys.identityId))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}}(ve)),Sn={configure(e,t){const n=X(e);if(n.Auth){if(!t?.Auth)return pe.libraryOptions.Auth?t?(void 0!==t.ssr&&rn.setKeyValueStorage(t.ssr?new he({sameSite:"lax"}):ve),void pe.configure(n,{Auth:pe.libraryOptions.Auth,...t})):void pe.configure(n):(rn.setAuthConfig(n.Auth),rn.setKeyValueStorage(t?.ssr?new he({sameSite:"lax"}):ve),void pe.configure(n,{...t,Auth:{tokenProvider:rn,credentialsProvider:xn}}));pe.configure(n,t)}else pe.configure(n,t)},getConfig:()=>pe.getConfig()};const _n=I.useLayoutEffect;var In,Tn,En=function(){return En=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},En.apply(this,arguments)};function Nn(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}function Cn(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function An(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(o=a.next()).done;)i.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}function Mn(e,t,n){if(n||2===arguments.length)for(var o,r=0,a=t.length;r<a;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}!function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"}(In||(In={})),function(e){e.Parent="#_parent",e.Internal="#_internal"}(Tn||(Tn={}));var On,Dn={},Rn="xstate.guard",Fn=In.Start,zn=In.Stop,Pn=In.Raise,$n=In.Send,Ln=In.Cancel,Bn=In.NullEvent,jn=In.Assign,Wn=(In.After,In.DoneState,In.Log),Un=In.Init,Hn=In.Invoke,Vn=(In.ErrorExecution,In.ErrorPlatform),qn=In.ErrorCustom,Gn=In.Update,Kn=In.Choose,Yn=In.Pure,Xn=!0;function Jn(e,t,n){void 0===n&&(n=".");var o=eo(e,n),r=eo(t,n);return go(r)?!!go(o)&&r===o:go(o)?o in r:Object.keys(o).every((function(e){return e in r&&Jn(o[e],r[e])}))}function Zn(e){try{return go(e)||"number"==typeof e?"".concat(e):e.type}catch(e){throw new Error("Events must be strings or objects with a string event.type property.")}}function Qn(e,t){try{return ho(e)?e:e.toString().split(t)}catch(t){throw new Error("'".concat(e,"' is not a valid state path."))}}function eo(e,t){return"object"==typeof(n=e)&&"value"in n&&"context"in n&&"event"in n&&"_event"in n?e.value:ho(e)?to(e):"string"!=typeof e?e:to(Qn(e,t));var n}function to(e){if(1===e.length)return e[0];for(var t={},n=t,o=0;o<e.length-1;o++)o===e.length-2?n[e[o]]=e[o+1]:(n[e[o]]={},n=n[e[o]]);return t}function no(e,t){for(var n={},o=Object.keys(e),r=0;r<o.length;r++){var a=o[r];n[a]=t(e[a],a,e,r)}return n}function oo(e,t,n){var o,r,a={};try{for(var i=Cn(Object.keys(e)),s=i.next();!s.done;s=i.next()){var l=s.value,c=e[l];n(c)&&(a[l]=t(c,l,e))}}catch(e){o={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}var ro=function(e){return function(t){var n,o,r=t;try{for(var a=Cn(e),i=a.next();!i.done;i=a.next()){r=r[i.value]}}catch(e){n={error:e}}finally{try{i&&!i.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return r}};function ao(e){return e?go(e)?[[e]]:io(Object.keys(e).map((function(t){var n=e[t];return"string"==typeof n||n&&Object.keys(n).length?ao(e[t]).map((function(e){return[t].concat(e)})):[[t]]}))):[[]]}function io(e){var t;return(t=[]).concat.apply(t,Mn([],An(e),!1))}function so(e){return ho(e)?e:[e]}function lo(e){return void 0===e?[]:so(e)}function co(e,t,n){var o,r;if(yo(e))return e(t,n.data);var a={};try{for(var i=Cn(Object.keys(e)),s=i.next();!s.done;s=i.next()){var l=s.value,c=e[l];yo(c)?a[l]=c(t,n.data):a[l]=c}}catch(e){o={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function uo(e){return e instanceof Promise||!(null===e||!yo(e)&&"object"!=typeof e||!yo(e.then))}function po(e,t){return no(e.states,(function(e,n){if(e){var o=(go(t)?void 0:t[n])||(e?e.current:void 0);if(o)return{current:o,states:po(e,o)}}}))}function mo(e,t,n,o){Xn||fo(!!e,"Attempting to update undefined context");var r=e?n.reduce((function(e,n){var r,a,i=n.assignment,s={state:o,action:n,_event:t},l={};if(yo(i))l=i(e,t.data,s);else try{for(var c=Cn(Object.keys(i)),u=c.next();!u.done;u=c.next()){var p=u.value,d=i[p];l[p]=yo(d)?d(e,t.data,s):d}}catch(e){r={error:e}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}return Object.assign({},e,l)}),e):e;return r}var fo=function(){};function ho(e){return Array.isArray(e)}function yo(e){return"function"==typeof e}function go(e){return"string"==typeof e}function bo(e,t){if(e)return go(e)?{type:Rn,name:e,predicate:t?t[e]:void 0}:yo(e)?{type:Rn,name:e.name,predicate:e}:e}Xn||(fo=function(e,t){var n=e instanceof Error?e:void 0;if((n||!e)&&void 0!==console){var o=["Warning: ".concat(t)];n&&o.push(n),console.warn.apply(console,o)}});var vo=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();(On={})[vo]=function(){return this},On[Symbol.observable]=function(){return this};function wo(e){return!!e&&"__xstatenode"in e}var ko=function(){var e=0;return function(){return(++e).toString(16)}}();function xo(e,t){return go(e)||"number"==typeof e?En({type:e},t):e}function So(e,t){if(!go(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var n=xo(e);return En({name:n.type,data:n,$$type:"scxml",type:"external"},t)}function _o(e,t){return so(t).map((function(t){return void 0===t||"string"==typeof t||wo(t)?{target:t,event:e}:En(En({},t),{event:e})}))}function Io(e,t,n,o,r){var a=e.options.guards,i={state:r,cond:t,_event:o};if(t.type===Rn)return((null==a?void 0:a[t.name])||t.predicate)(n,o.data,i);var s=null==a?void 0:a[t.type];if(!s)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return s(n,o.data,i)}function To(e){return"string"==typeof e?{type:e}:e}function Eo(e,t,n){var o=function(){},r="object"==typeof e,a=r?e:null;return{next:((r?e.next:e)||o).bind(a),error:((r?e.error:t)||o).bind(a),complete:((r?e.complete:n)||o).bind(a)}}function No(e,t){return"".concat(e,":invocation[").concat(t,"]")}function Co(e){return(e.type===Pn||e.type===$n&&e.to===Tn.Internal)&&"number"!=typeof e.delay}var Ao=function(e){return"atomic"===e.type||"final"===e.type};function Mo(e){return Object.keys(e.states).map((function(t){return e.states[t]}))}function Oo(e){return Mo(e).filter((function(e){return"history"!==e.type}))}function Do(e){var t=[e];return Ao(e)?t:t.concat(io(Oo(e).map(Do)))}function Ro(e,t){var n,o,r,a,i,s,l,c,u=zo(new Set(e)),p=new Set(t);try{for(var d=Cn(p),m=d.next();!m.done;m=d.next())for(var f=(S=m.value).parent;f&&!p.has(f);)p.add(f),f=f.parent}catch(e){n={error:e}}finally{try{m&&!m.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}var h=zo(p);try{for(var y=Cn(p),g=y.next();!g.done;g=y.next()){if("compound"!==(S=g.value).type||h.get(S)&&h.get(S).length){if("parallel"===S.type)try{for(var b=(i=void 0,Cn(Oo(S))),v=b.next();!v.done;v=b.next()){var w=v.value;p.has(w)||(p.add(w),u.get(w)?u.get(w).forEach((function(e){return p.add(e)})):w.initialStateNodes.forEach((function(e){return p.add(e)})))}}catch(e){i={error:e}}finally{try{v&&!v.done&&(s=b.return)&&s.call(b)}finally{if(i)throw i.error}}}else u.get(S)?u.get(S).forEach((function(e){return p.add(e)})):S.initialStateNodes.forEach((function(e){return p.add(e)}))}}catch(e){r={error:e}}finally{try{g&&!g.done&&(a=y.return)&&a.call(y)}finally{if(r)throw r.error}}try{for(var k=Cn(p),x=k.next();!x.done;x=k.next()){var S;for(f=(S=x.value).parent;f&&!p.has(f);)p.add(f),f=f.parent}}catch(e){l={error:e}}finally{try{x&&!x.done&&(c=k.return)&&c.call(k)}finally{if(l)throw l.error}}return p}function Fo(e,t){var n=t.get(e);if(!n)return{};if("compound"===e.type){var o=n[0];if(!o)return{};if(Ao(o))return o.key}var r={};return n.forEach((function(e){r[e.key]=Fo(e,t)})),r}function zo(e){var t,n,o=new Map;try{for(var r=Cn(e),a=r.next();!a.done;a=r.next()){var i=a.value;o.has(i)||o.set(i,[]),i.parent&&(o.has(i.parent)||o.set(i.parent,[]),o.get(i.parent).push(i))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return o}function Po(e,t){return Fo(e,zo(Ro([e],t)))}function $o(e,t){return Array.isArray(e)?e.some((function(e){return e===t})):e instanceof Set&&e.has(t)}function Lo(e,t){return"compound"===t.type?Oo(t).some((function(t){return"final"===t.type&&$o(e,t)})):"parallel"===t.type&&Oo(t).every((function(t){return Lo(e,t)}))}function Bo(e){return new Set(io(e.map((function(e){return e.tags}))))}var jo=So({type:Un});function Wo(e,t){return t&&t[e]||void 0}function Uo(e,t){var n;if(go(e)||"number"==typeof e)n=yo(o=Wo(e,t))?{type:e,exec:o}:o||{type:e,exec:void 0};else if(yo(e))n={type:e.name||e.toString(),exec:e};else{var o;if(yo(o=Wo(e.type,t)))n=En(En({},e),{exec:o});else if(o){var r=o.type||e.type;n=En(En(En({},o),e),{type:r})}else n=e}return n}var Ho=function(e,t){return e?(ho(e)?e:[e]).map((function(e){return Uo(e,t)})):[]};function Vo(e){var t=Uo(e);return En(En({id:go(e)?e:t.id},t),{type:t.type})}function qo(e,t){return{to:t?t.to:void 0,type:$n,event:yo(e)?e:xo(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:yo(e)?e.name:Zn(e)}}var Go=function(e){return{type:Ln,sendId:e}};function Ko(e,t){var n="".concat(In.DoneState,".").concat(e),o={type:n,data:t,toString:function(){return n}};return o}function Yo(e,t){var n="".concat(In.DoneInvoke,".").concat(e),o={type:n,data:t,toString:function(){return n}};return o}function Xo(e,t){var n="".concat(In.ErrorPlatform,".").concat(e),o={type:n,data:t,toString:function(){return n}};return o}function Jo(e,t,n,o,r,a,i){void 0===i&&(i=!1);var s=i?[]:function(e){var t,n,o=[];try{for(var r=Cn(e),a=r.next();!a.done;a=r.next())for(var i=a.value,s=0;s<i.actions.length;)i.actions[s].type!==jn?s++:(o.push(i.actions[s]),i.actions.splice(s,1))}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return o}(r),l=s.length?mo(n,o,s,t):n,c=i?[n]:void 0,u=[];function p(r,s){var p;switch(s.type){case Pn:var d=function(e,t,n,o){var r,a={_event:n},i=So(yo(e.event)?e.event(t,n.data,a):e.event);if(go(e.delay)){var s=o&&o[e.delay];r=yo(s)?s(t,n.data,a):s}else r=yo(e.delay)?e.delay(t,n.data,a):e.delay;return En(En({},e),{type:Pn,_event:i,delay:r})}(s,l,o,e.options.delays);return a&&"number"==typeof d.delay&&a(d,l,o),d;case $n:var m=function(e,t,n,o){var r,a={_event:n},i=So(yo(e.event)?e.event(t,n.data,a):e.event);if(go(e.delay)){var s=o&&o[e.delay];r=yo(s)?s(t,n.data,a):s}else r=yo(e.delay)?e.delay(t,n.data,a):e.delay;var l=yo(e.to)?e.to(t,n.data,a):e.to;return En(En({},e),{to:l,_event:i,event:i.data,delay:r})}(s,l,o,e.options.delays);if(!Xn){var f=s.delay;fo(!go(f)||"number"==typeof m.delay,"No delay reference for delay expression '".concat(f,"' was found on machine '").concat(e.id,"'"))}return a&&m.to!==Tn.Internal&&("entry"===r?u.push(m):a(m,l,o)),m;case Wn:var h=function(e,t,n){return En(En({},e),{value:go(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})}(s,l,o);return null==a||a(h,l,o),h;case Kn:if(!(v=null===(p=s.conds.find((function(n){var r=bo(n.cond,e.options.guards);return!r||Io(e,r,l,o,a?void 0:t)})))||void 0===p?void 0:p.actions))return[];var y=An(Jo(e,t,l,o,[{type:r,actions:Ho(lo(v),e.options.actions)}],a,i),2),g=y[0],b=y[1];return l=b,null==c||c.push(l),g;case Yn:var v;if(!(v=s.get(l,o.data)))return[];var w=An(Jo(e,t,l,o,[{type:r,actions:Ho(lo(v),e.options.actions)}],a,i),2),k=w[0],x=w[1];return l=x,null==c||c.push(l),k;case zn:h=function(e,t,n){var o=yo(e.activity)?e.activity(t,n.data):e.activity,r="string"==typeof o?{id:o}:o;return{type:In.Stop,activity:r}}(s,l,o);return null==a||a(h,n,o),h;case jn:l=mo(l,o,[s],a?void 0:t),null==c||c.push(l);break;default:var S=Uo(s,e.options.actions),_=S.exec;if(a)a(S,l,o);else if(_&&c){var I=c.length-1,T=En(En({},S),{exec:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];_.apply(void 0,Mn([c[I]],An(t),!1))}});S=T}return S}}var d=io(r.map((function(e){var t,n,r=[];try{for(var i=Cn(e.actions),s=i.next();!s.done;s=i.next()){var c=s.value,d=p(e.type,c);d&&(r=r.concat(d))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return u.forEach((function(e){a(e,l,o)})),u.length=0,r})));return[d,l]}function Zo(e,t){if(e===t)return!0;if(void 0===e||void 0===t)return!1;if(go(e)||go(t))return e===t;var n=Object.keys(e),o=Object.keys(t);return n.length===o.length&&n.every((function(n){return Zo(e[n],t[n])}))}function Qo(e){return"object"==typeof e&&null!==e&&("value"in e&&"_event"in e)}var er=function(){function e(e){var t,n,o=this;this.actions=[],this.activities=Dn,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||Dn,this.meta=(void 0===(n=e.configuration)&&(n=[]),n.reduce((function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e}),{})),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(t=Array.isArray(e.tags)?new Set(e.tags):e.tags)&&void 0!==t?t:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return function(e){return Mn([],An(new Set(io(Mn([],An(e.map((function(e){return e.ownEvents}))),!1)))),!1)}(o.configuration)}})}return e.from=function(t,n){return t instanceof e?t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t:new e({value:t,context:n,_event:jo,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){if(t instanceof e){if(!t.actions.length)return t;var o=jo;return new e({value:t.value,context:n,_event:o,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,n)},e.prototype.toStrings=function(e,t){var n=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),go(e))return[e];var o=Object.keys(e);return o.concat.apply(o,Mn([],An(o.map((function(o){return n.toStrings(e[o],t).map((function(e){return o+t+e}))}))),!1))},e.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var t=e.tags;e.machine;var n=Nn(e,["configuration","transitions","tags","machine"]);return En(En({},n),{tags:Array.from(t)})},e.prototype.matches=function(e){return Jn(e,this.value)},e.prototype.hasTag=function(e){return this.tags.has(e)},e.prototype.can=function(e){var t;Xn&&fo(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var n=null===(t=this.machine)||void 0===t?void 0:t.getTransitionData(this,e);return!!(null==n?void 0:n.transitions.length)&&n.transitions.some((function(e){return void 0!==e.target||e.actions.length}))},e}(),tr={deferEvents:!1},nr=function(){function e(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=En(En({},tr),e)}return e.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents)return void this.schedule(e);this.process(e)}this.flushEvents()},e.prototype.schedule=function(e){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()}else this.queue.push(e)},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},e.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},e}(),or=[],rr=function(e,t){or.push(e);var n=t(e);return or.pop(),n};function ar(e){var t;return(t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}})[vo]=function(){return this},t}function ir(e,t,n){var o=ar(t);if(o.deferred=!0,wo(e)){var r=o.state=rr(void 0,(function(){return(n?e.withContext(n):e).initialState}));o.getSnapshot=function(){return r}}return o}var sr=new Map,lr=0,cr=function(){return"x:".concat(lr++)},ur=function(e,t){return sr.set(e,t),e},pr=function(e){return sr.get(e)},dr=function(e){sr.delete(e)};function mr(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==i.g?i.g:void(Xn||console.warn("XState could not find a global object in this environment. Please let the maintainers know and raise an issue here: https://github.com/statelyai/xstate/issues"))}function fr(e){if(mr()){var t=function(){var global=mr();if(global&&"__xstate__"in global)return global.__xstate__}();t&&t.register(e)}}function hr(e,t){void 0===t&&(t={});var n=e.initialState,o=new Set,r=[],a=!1,i=function(e){var t;return En(((t={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[vo]=function(){return this},t),e)}({id:t.id,send:function(t){r.push(t),function(){if(!a){for(a=!0;r.length>0;){var t=r.shift();n=e.transition(n,t,s),o.forEach((function(e){return e.next(n)}))}a=!1}}()},getSnapshot:function(){return n},subscribe:function(e,t,r){var a=Eo(e,t,r);return o.add(a),a.next(n),{unsubscribe:function(){o.delete(a)}}}}),s={parent:t.parent,self:i,id:t.id||"anonymous",observers:o};return n=e.start?e.start(s):n,i}var yr,gr={sync:!1,autoForward:!1};!function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(yr||(yr={}));var br=function(){function e(t,n){void 0===n&&(n=e.defaultOptions);var o=this;this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=yr.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(e,t){if(ho(e))return o.batch(e),o.state;var n=So(xo(e,t));if(o.status===yr.Stopped)return Xn||fo(!1,'Event "'.concat(n.name,'" was sent to stopped service "').concat(o.machine.id,'". This service has already reached its final state, and will not transition.\nEvent: ').concat(JSON.stringify(n.data))),o.state;if(o.status!==yr.Running&&!o.options.deferEvents)throw new Error('Event "'.concat(n.name,'" was sent to uninitialized service "').concat(o.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(n.data)));return o.scheduler.schedule((function(){o.forward(n);var e=o._nextState(n);o.update(e,n)})),o._state},this.sendTo=function(e,t,n){var r,a=o.parent&&(t===Tn.Parent||o.parent.id===t),i=a?o.parent:go(t)?t===Tn.Internal?o:o.children.get(t)||pr(t):(r=t)&&"function"==typeof r.send?t:void 0;if(i)if("machine"in i){if(o.status!==yr.Stopped||o.parent!==i||o.state.done){var s=En(En({},e),{name:e.name===qn?"".concat(Xo(o.id)):e.name,origin:o.sessionId});!n&&o.machine.config.predictableActionArguments?o._outgoingQueue.push([i,s]):i.send(s)}}else!n&&o.machine.config.predictableActionArguments?o._outgoingQueue.push([i,e.data]):i.send(e.data);else{if(!a)throw new Error("Unable to send event to child '".concat(t,"' from service '").concat(o.id,"'."));Xn||fo(!1,"Service '".concat(o.id,"' has no parent: unable to send event ").concat(e.type))}},this._exec=function(e,t,n,r){void 0===r&&(r=o.machine.options.actions);var a=e.exec||Wo(e.type,r),i=yo(a)?a:a?a.exec:e.exec;if(i)try{return i(t,n.data,o.machine.config.predictableActionArguments?{action:e,_event:n}:{action:e,state:o.state,_event:n})}catch(e){throw o.parent&&o.parent.send({type:"xstate.error",data:e}),e}switch(e.type){case Pn:var s=e;o.defer(s);break;case $n:var l=e;if("number"==typeof l.delay)return void o.defer(l);l.to?o.sendTo(l._event,l.to,n===jo):o.send(l._event);break;case Ln:o.cancel(e.sendId);break;case Fn:if(o.status!==yr.Running)return;var c=e.activity;if(!o.machine.config.predictableActionArguments&&!o.state.activities[c.id||c.type])break;if(c.type===In.Invoke){var u=To(c.src),p=o.machine.options.services?o.machine.options.services[u.type]:void 0,d=c.id,m=c.data;Xn||fo(!("forward"in c),"`forward` property is deprecated (found in invocation of '".concat(c.src,"' in in machine '").concat(o.machine.id,"'). ")+"Please use `autoForward` instead.");var f="autoForward"in c?c.autoForward:!!c.forward;if(!p)return void(Xn||fo(!1,"No service found for invocation '".concat(c.src,"' in machine '").concat(o.machine.id,"'.")));var h=m?co(m,t,n):void 0;if("string"==typeof p)return;var y=yo(p)?p(t,n.data,{data:h,src:u,meta:c.meta}):p;if(!y)return;var g=void 0;wo(y)&&(y=h?y.withContext(h):y,g={autoForward:f}),o.spawn(y,d,g)}else o.spawnActivity(c);break;case zn:o.stopChild(e.activity.id);break;case Wn:var b=e,v=b.label,w=b.value;v?o.logger(v,w):o.logger(w);break;default:Xn||fo(!1,"No implementation found for action type '".concat(e.type,"'"))}};var r=En(En({},e.defaultOptions),n),a=r.clock,i=r.logger,s=r.parent,l=r.id,c=void 0!==l?l:t.id;this.id=c,this.logger=i,this.clock=a,this.parent=s,this.options=r,this.scheduler=new nr({deferEvents:this.options.deferEvents}),this.sessionId=cr()}return Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:rr(this,(function(){return e._initialState=e.machine.initialState,e._initialState}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return Xn||fo(this.status!==yr.NotStarted,"Attempted to read state from uninitialized service '".concat(this.id,"'. Make sure the service is started first.")),this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(e,t){var n,o;try{for(var r=Cn(e.actions),a=r.next();!a.done;a=r.next()){var i=a.value;this.exec(i,e,t)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}},e.prototype.update=function(e,t){var n,o,r,a,i,s,l,c,u=this;if(e._sessionid=this.sessionId,this._state=e,this.machine.config.predictableActionArguments&&t!==jo||!this.options.execute)for(var p=void 0;p=this._outgoingQueue.shift();)p[0].send(p[1]);else this.execute(this.state);if(this.children.forEach((function(e){u.state.children[e.id]=e})),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var d=Cn(this.eventListeners),m=d.next();!m.done;m=d.next()){(0,m.value)(e.event)}}catch(e){n={error:e}}finally{try{m&&!m.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}try{for(var f=Cn(this.listeners),h=f.next();!h.done;h=f.next()){(0,h.value)(e,e.event)}}catch(e){r={error:e}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}try{for(var y=Cn(this.contextListeners),g=y.next();!g.done;g=y.next()){(0,g.value)(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(e){i={error:e}}finally{try{g&&!g.done&&(s=y.return)&&s.call(y)}finally{if(i)throw i.error}}if(this.state.done){var b=e.configuration.find((function(e){return"final"===e.type&&e.parent===u.machine})),v=b&&b.doneData?co(b.doneData,e.context,t):void 0;this._doneEvent=Yo(this.id,v);try{for(var w=Cn(this.doneListeners),k=w.next();!k.done;k=w.next()){(0,k.value)(this._doneEvent)}}catch(e){l={error:e}}finally{try{k&&!k.done&&(c=w.return)&&c.call(w)}finally{if(l)throw l.error}}this._stop(),this._stopChildren(),dr(this.sessionId)}},e.prototype.onTransition=function(e){return this.listeners.add(e),this.status===yr.Running&&e(this.state,this.state.event),this},e.prototype.subscribe=function(e,t,n){var o=this,r=Eo(e,t,n);this.listeners.add(r.next),this.status!==yr.NotStarted&&r.next(this.state);var a=function(){o.doneListeners.delete(a),o.stopListeners.delete(a),r.complete()};return this.status===yr.Stopped?r.complete():(this.onDone(a),this.onStop(a)),{unsubscribe:function(){o.listeners.delete(r.next),o.doneListeners.delete(a),o.stopListeners.delete(a)}}},e.prototype.onEvent=function(e){return this.eventListeners.add(e),this},e.prototype.onSend=function(e){return this.sendListeners.add(e),this},e.prototype.onChange=function(e){return this.contextListeners.add(e),this},e.prototype.onStop=function(e){return this.stopListeners.add(e),this},e.prototype.onDone=function(e){return this.status===yr.Stopped&&this._doneEvent?e(this._doneEvent):this.doneListeners.add(e),this},e.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},e.prototype.start=function(e){var t=this;if(this.status===yr.Running)return this;this.machine._init(),ur(this.sessionId,this),this.initialized=!0,this.status=yr.Running;var n=void 0===e?this.initialState:rr(this,(function(){return Qo(e)?t.machine.resolveState(e):t.machine.resolveState(er.from(e,t.machine.context))}));return this.options.devTools&&this.attachDev(),this.scheduler.initialize((function(){t.update(n,jo)})),this},e.prototype._stopChildren=function(){this.children.forEach((function(e){yo(e.stop)&&e.stop()})),this.children.clear()},e.prototype._stop=function(){var e,t,n,o,r,a,i,s,l,c;try{for(var u=Cn(this.listeners),p=u.next();!p.done;p=u.next()){var d=p.value;this.listeners.delete(d)}}catch(t){e={error:t}}finally{try{p&&!p.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}try{for(var m=Cn(this.stopListeners),f=m.next();!f.done;f=m.next()){(d=f.value)(),this.stopListeners.delete(d)}}catch(e){n={error:e}}finally{try{f&&!f.done&&(o=m.return)&&o.call(m)}finally{if(n)throw n.error}}try{for(var h=Cn(this.contextListeners),y=h.next();!y.done;y=h.next()){d=y.value;this.contextListeners.delete(d)}}catch(e){r={error:e}}finally{try{y&&!y.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}try{for(var g=Cn(this.doneListeners),b=g.next();!b.done;b=g.next()){d=b.value;this.doneListeners.delete(d)}}catch(e){i={error:e}}finally{try{b&&!b.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}if(!this.initialized)return this;this.initialized=!1,this.status=yr.Stopped,this._initialState=void 0;try{for(var v=Cn(Object.keys(this.delayedEventsMap)),w=v.next();!w.done;w=v.next()){var k=w.value;this.clock.clearTimeout(this.delayedEventsMap[k])}}catch(e){l={error:e}}finally{try{w&&!w.done&&(c=v.return)&&c.call(v)}finally{if(l)throw l.error}}this.scheduler.clear(),this.scheduler=new nr({deferEvents:this.options.deferEvents})},e.prototype.stop=function(){var e=this,t=this.scheduler;return this._stop(),t.schedule((function(){var t;if(!(null===(t=e._state)||void 0===t?void 0:t.done)){var n=So({type:"xstate.stop"}),o=rr(e,(function(){var t=io(Mn([],An(e.state.configuration),!1).sort((function(e,t){return t.order-e.order})).map((function(t){return Ho(t.onExit,e.machine.options.actions)}))),o=An(Jo(e.machine,e.state,e.state.context,n,[{type:"exit",actions:t}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),r=o[0],a=o[1],i=new er({value:e.state.value,context:a,_event:n,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:r.filter((function(e){return!Co(e)})),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return i.changed=!0,i}));e.update(o,n),e._stopChildren(),dr(e.sessionId)}})),this},e.prototype.batch=function(e){var t=this;if(this.status===yr.NotStarted&&this.options.deferEvents)Xn||fo(!1,"".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'" and are deferred. Make sure .start() is called for this service.\nEvent: ').concat(JSON.stringify(event)));else if(this.status!==yr.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(e.length){var n=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule((function(){var o,r,a=t.state,i=!1,s=[],l=function(e){var o=So(e);t.forward(o),a=rr(t,(function(){return t.machine.transition(a,o,void 0,n||void 0)})),s.push.apply(s,Mn([],An(t.machine.config.predictableActionArguments?a.actions:a.actions.map((function(e){return function(e,t){var n=e.exec;return En(En({},e),{exec:void 0!==n?function(){return n(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0})}(e,a)}))),!1)),i=i||!!a.changed};try{for(var c=Cn(e),u=c.next();!u.done;u=c.next()){l(u.value)}}catch(e){o={error:e}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(o)throw o.error}}a.changed=i,a.actions=s,t.update(a,So(e[e.length-1]))}))}},e.prototype.sender=function(e){return this.send.bind(this,e)},e.prototype._nextState=function(e,t){var n=this;void 0===t&&(t=!!this.machine.config.predictableActionArguments&&this._exec);var o=So(e);if(0===o.name.indexOf(Vn)&&!this.state.nextEvents.some((function(e){return 0===e.indexOf(Vn)})))throw o.data.data;return rr(this,(function(){return n.machine.transition(n.state,o,void 0,t||void 0)}))},e.prototype.nextState=function(e){return this._nextState(e,!1)},e.prototype.forward=function(e){var t,n;try{for(var o=Cn(this.forwardTo),r=o.next();!r.done;r=o.next()){var a=r.value,i=this.children.get(a);if(!i)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(a,"'."));i.send(e)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},e.prototype.defer=function(e){var t=this,n=this.clock.setTimeout((function(){"to"in e&&e.to?t.sendTo(e._event,e.to,!0):t.send(e._event)}),e.delay);e.id&&(this.delayedEventsMap[e.id]=n)},e.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},e.prototype.exec=function(e,t,n){void 0===n&&(n=this.machine.options.actions),this._exec(e,t.context,t._event,n)},e.prototype.removeChild=function(e){var t;this.children.delete(e),this.forwardTo.delete(e),null===(t=this.state)||void 0===t||delete t.children[e]},e.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),yo(t.stop)&&t.stop())},e.prototype.spawn=function(e,t,n){if(this.status!==yr.Running)return ir(e,t);if(uo(e))return this.spawnPromise(Promise.resolve(e),t);if(yo(e))return this.spawnCallback(e,t);if(function(e){try{return"function"==typeof e.send}catch(e){return!1}}(r=e)&&"id"in r)return this.spawnActor(e,t);if(function(e){try{return"subscribe"in e&&yo(e.subscribe)}catch(e){return!1}}(e))return this.spawnObservable(e,t);if(wo(e))return this.spawnMachine(e,En(En({},n),{id:t}));if(null!==(o=e)&&"object"==typeof o&&"transition"in o&&"function"==typeof o.transition)return this.spawnBehavior(e,t);throw new Error('Unable to spawn entity "'.concat(t,'" of type "').concat(typeof e,'".'));var o,r},e.prototype.spawnMachine=function(t,n){var o=this;void 0===n&&(n={});var r=new e(t,En(En({},this.options),{parent:this,id:n.id||t.id})),a=En(En({},gr),n);a.sync&&r.onTransition((function(e){o.send(Gn,{state:e,id:r.id})}));var i=r;return this.children.set(r.id,i),a.autoForward&&this.forwardTo.add(r.id),r.onDone((function(e){o.removeChild(r.id),o.send(So(e,{origin:r.id}))})).start(),i},e.prototype.spawnBehavior=function(e,t){var n=hr(e,{id:t,parent:this});return this.children.set(t,n),n},e.prototype.spawnPromise=function(e,t){var n,o,r=this,a=!1;e.then((function(e){a||(o=e,r.removeChild(t),r.send(So(Yo(t,e),{origin:t})))}),(function(e){if(!a){r.removeChild(t);var n=Xo(t,e);try{r.send(So(n,{origin:t}))}catch(o){!function(e,t,n){if(!Xn){var o=e.stack?" Stacktrace was '".concat(e.stack,"'"):"";if(e===t)console.error("Missing onError handler for invocation '".concat(n,"', error was '").concat(e,"'.").concat(o));else{var r=t.stack?" Stacktrace was '".concat(t.stack,"'"):"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(n,"'. ")+"Original error: '".concat(e,"'. ").concat(o," Current error is '").concat(t,"'.").concat(r))}}}(e,o,t),r.devTools&&r.devTools.send(n,r.state),r.machine.strict&&r.stop()}}}));var i=((n={id:t,send:function(){},subscribe:function(t,n,o){var r=Eo(t,n,o),a=!1;return e.then((function(e){a||(r.next(e),a||r.complete())}),(function(e){a||r.error(e)})),{unsubscribe:function(){return a=!0}}},stop:function(){a=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return o}})[vo]=function(){return this},n);return this.children.set(t,i),i},e.prototype.spawnCallback=function(e,t){var n,o,r,a=this,i=!1,s=new Set,l=new Set;try{r=e((function(e){o=e,l.forEach((function(t){return t(e)})),i||a.send(So(e,{origin:t}))}),(function(e){s.add(e)}))}catch(e){this.send(Xo(t,e))}if(uo(r))return this.spawnPromise(r,t);var c=((n={id:t,send:function(e){return s.forEach((function(t){return t(e)}))},subscribe:function(e){var t=Eo(e);return l.add(t.next),{unsubscribe:function(){l.delete(t.next)}}},stop:function(){i=!0,yo(r)&&r()},toJSON:function(){return{id:t}},getSnapshot:function(){return o}})[vo]=function(){return this},n);return this.children.set(t,c),c},e.prototype.spawnObservable=function(e,t){var n,o,r=this,a=e.subscribe((function(e){o=e,r.send(So(e,{origin:t}))}),(function(e){r.removeChild(t),r.send(So(Xo(t,e),{origin:t}))}),(function(){r.removeChild(t),r.send(So(Yo(t),{origin:t}))})),i=((n={id:t,send:function(){},subscribe:function(t,n,o){return e.subscribe(t,n,o)},stop:function(){return a.unsubscribe()},getSnapshot:function(){return o},toJSON:function(){return{id:t}}})[vo]=function(){return this},n);return this.children.set(t,i),i},e.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},e.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(t){var n=t(this.state.context,e);this.spawnEffect(e.id,n)}else Xn||fo(!1,"No implementation found for activity '".concat(e.type,"'"))},e.prototype.spawnEffect=function(e,t){var n;this.children.set(e,((n={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}})[vo]=function(){return this},n))},e.prototype.attachDev=function(){var global=mr();if(this.options.devTools&&global){if(global.__REDUX_DEVTOOLS_EXTENSION__){var e="object"==typeof this.options.devTools?this.options.devTools:void 0;this.devTools=global.__REDUX_DEVTOOLS_EXTENSION__.connect(En(En({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},e),{features:En({jump:!1,skip:!1},e?e.features:void 0)}),this.machine),this.devTools.init(this.state)}fr(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[vo]=function(){return this},e.prototype.getSnapshot=function(){return this.status===yr.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},e.interpret=wr,e}();function vr(e,t){var n=function(e){return go(e)?En(En({},gr),{name:e}):En(En(En({},gr),{name:ko()}),e)}(t);return function(t){if(!Xn){var o=wo(e)||yo(e);fo(!!t||o,'Attempted to spawn an Actor (ID: "'.concat(wo(e)?e.id:"undefined",'") outside of a service. This will have no effect.'))}return t?t.spawn(e,n.name,n):ir(e,n.name)}(or[or.length-1])}function wr(e,t){return new br(e,t)}function kr(e){var t=I.useRef();return t.current||(t.current={v:e()}),t.current.v}var xr=function(){return xr=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},xr.apply(this,arguments)},Sr=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},_r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(o=a.next()).done;)i.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i};function Ir(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=_r(t,2),r=o[0],a=void 0===r?{}:r,i=o[1],s=function(e,t){var n=kr((function(){return"function"==typeof e?e():e})),o=t.context,r=t.guards,a=t.actions,i=t.activities,s=t.services,l=t.delays,c=(t.state,Sr(t,["context","guards","actions","activities","services","delays","state"])),u=kr((function(){var e={context:o,guards:r,actions:a,activities:i,services:s,delays:l};return wr(n.withConfig(e,(function(){return xr(xr({},n.context),o)})),c)}));return _n((function(){Object.assign(u.machine.options.actions,a),Object.assign(u.machine.options.guards,r),Object.assign(u.machine.options.activities,i),Object.assign(u.machine.options.services,s),Object.assign(u.machine.options.delays,l)}),[a,r,i,s,l]),u}(e,a);return(0,I.useEffect)((function(){if(i){var e=s.subscribe(Eo(i));return function(){e.unsubscribe()}}}),[i]),(0,I.useEffect)((function(){var e=a.state;return s.start(e?er.create(e):void 0),function(){s.stop(),s.status=yr.NotStarted}}),[]),s}let Tr=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let o=63&n[e];t+=o<36?o.toString(36):o<62?(o-26).toString(36).toUpperCase():o<63?"_":"-"}return t};function Er(e){if("string"==typeof e){var t={type:e,toString:function(){return e}};return t}return e}function Nr(e){return En(En({type:Hn},e),{toJSON:function(){e.onDone,e.onError;var t=Nn(e,["onDone","onError"]);return En(En({},t),{type:Hn,src:Er(e.src)})}})}var Cr="",Ar="*",Mr={},Or=function(e){return"#"===e[0]},Dr=function(){function e(t,n,o,r){void 0===o&&(o="context"in t?t.context:void 0);var a,i=this;this.config=t,this._context=o,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=null==r?void 0:r.parent,this.key=this.config.key||(null==r?void 0:r.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:"."),this.id=this.config.id||Mn([this.machine.key],An(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(a=this.config.schema)&&void 0!==a?a:{},this.description=this.config.description,Xn||fo(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?no(this.config.states,(function(t,n){var o,r=new e(t,{},void 0,{parent:i,key:n});return Object.assign(i.idMap,En(((o={})[r.id]=r,o),r.idMap)),r})):Mr;var s=0;!function e(t){var n,o;t.order=s++;try{for(var r=Cn(Mo(t)),a=r.next();!a.done;a=r.next()){e(a.value)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some((function(e){return e.event===Cr})):Cr in this.config.on),this.strict=!!this.config.strict,this.onEntry=lo(this.config.entry||this.config.onEntry).map((function(e){return Uo(e)})),this.onExit=lo(this.config.exit||this.config.onExit).map((function(e){return Uo(e)})),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=lo(this.config.invoke).map((function(e,t){var n,o;if(wo(e)){var r=No(i.id,t);return i.machine.options.services=En(((n={})[r]=e,n),i.machine.options.services),Nr({src:r,id:r})}if(go(e.src)){r=e.id||No(i.id,t);return Nr(En(En({},e),{id:r,src:e.src}))}if(wo(e.src)||yo(e.src)){r=e.id||No(i.id,t);return i.machine.options.services=En(((o={})[r]=e.src,o),i.machine.options.services),Nr(En(En({id:r},e),{src:r}))}var a=e.src;return Nr(En(En({id:No(i.id,t)},e),{src:a}))})),this.activities=lo(this.config.activities).concat(this.invoke).map((function(e){return Vo(e)})),this.transition=this.transition.bind(this),this.tags=lo(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||Do(this).forEach((function(e){return e.on}))},e.prototype.withConfig=function(t,n){var o=this.options,r=o.actions,a=o.activities,i=o.guards,s=o.services,l=o.delays;return new e(this.config,{actions:En(En({},r),t.actions),activities:En(En({},a),t.activities),guards:En(En({},i),t.guards),services:En(En({},s),t.services),delays:En(En({},l),t.delays)},null!=n?n:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return yo(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:no(this.states,(function(e){return e.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce((function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=e===Cr,n=this.transitions.filter((function(n){var o=n.eventType===e;return t?o:o||n.eventType===Ar}));return this.__cache.candidates[e]=n,n},e.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var n=function(t,n){var o=function(e,t){var n=t?"#".concat(t):"";return"".concat(In.After,"(").concat(e,")").concat(n)}(yo(t)?"".concat(e.id,":delay[").concat(n,"]"):t,e.id);return e.onEntry.push(qo(o,{delay:t})),e.onExit.push(Go(o)),o},o=ho(t)?t.map((function(e,t){var o=n(e.delay,t);return En(En({},e),{event:o})})):io(Object.keys(t).map((function(e,o){var r=t[e],a=go(r)?{target:r}:r,i=isNaN(+e)?e:+e,s=n(i,o);return lo(a).map((function(e){return En(En({},e),{event:s,delay:i})}))})));return o.map((function(t){var n=t.delay;return En(En({},e.formatTransition(t)),{delay:n})}))},e.prototype.getStateNodes=function(e){var t,n=this;if(!e)return[];var o=e instanceof er?e.value:eo(e,this.delimiter);if(go(o)){var r=this.getStateNode(o).initial;return void 0!==r?this.getStateNodes(((t={})[o]=r,t)):[this,this.states[o]]}var a=Object.keys(o),i=[this];return i.push.apply(i,Mn([],An(io(a.map((function(e){return n.getStateNode(e).getStateNodes(o[e])})))),!1)),i},e.prototype.handles=function(e){var t=Zn(e);return this.events.includes(t)},e.prototype.resolveState=function(e){var t=e instanceof er?e:er.create(e),n=Array.from(Ro([],this.getStateNodes(t.value)));return new er(En(En({},t),{value:this.resolve(t.value),configuration:n,done:Lo(n,this),tags:Bo(n),machine:this.machine}))},e.prototype.transitionLeafNode=function(e,t,n){var o=this.getStateNode(e).next(t,n);return o&&o.transitions.length?o:this.next(t,n)},e.prototype.transitionCompoundNode=function(e,t,n){var o=Object.keys(e),r=this.getStateNode(o[0])._transition(e[o[0]],t,n);return r&&r.transitions.length?r:this.next(t,n)},e.prototype.transitionParallelNode=function(e,t,n){var o,r,a={};try{for(var i=Cn(Object.keys(e)),s=i.next();!s.done;s=i.next()){var l=s.value,c=e[l];if(c){var u=this.getStateNode(l)._transition(c,t,n);u&&(a[l]=u)}}}catch(e){o={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}var p=Object.keys(a).map((function(e){return a[e]})),d=io(p.map((function(e){return e.transitions})));if(!p.some((function(e){return e.transitions.length>0})))return this.next(t,n);var m=io(Object.keys(a).map((function(e){return a[e].configuration})));return{transitions:d,exitSet:io(p.map((function(e){return e.exitSet}))),configuration:m,source:t,actions:io(Object.keys(a).map((function(e){return a[e].actions})))}},e.prototype._transition=function(e,t,n){return go(e)?this.transitionLeafNode(e,t,n):1===Object.keys(e).length?this.transitionCompoundNode(e,t,n):this.transitionParallelNode(e,t,n)},e.prototype.getTransitionData=function(e,t){return this._transition(e.value,e,So(t))},e.prototype.next=function(e,t){var n,o,r,a=this,i=t.name,s=[],l=[];try{for(var c=Cn(this.getCandidates(i)),u=c.next();!u.done;u=c.next()){var p=u.value,d=p.cond,m=p.in,f=e.context,h=!m||(go(m)&&Or(m)?e.matches(eo(this.getStateNodeById(m).path,this.delimiter)):Jn(eo(m,this.delimiter),ro(this.path.slice(0,-2))(e.value))),y=!1;try{y=!d||Io(this.machine,d,f,t,e)}catch(e){throw new Error("Unable to evaluate guard '".concat(d.name||d.type,"' in transition for event '").concat(i,"' in state node '").concat(this.id,"':\n").concat(e.message))}if(y&&h){void 0!==p.target&&(l=p.target),s.push.apply(s,Mn([],An(p.actions),!1)),r=p;break}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}if(r){if(!l.length)return{transitions:[r],exitSet:[],configuration:e.value?[this]:[],source:e,actions:s};var g=io(l.map((function(t){return a.getRelativeStateNodes(t,e.historyValue)})));return{transitions:[r],exitSet:!!r.internal?[]:io(l.map((function(e){return a.getPotentiallyReenteringNodes(e)}))),configuration:g,source:e,actions:s}}},e.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var t=[],n=this,o=e;n&&n!==o;)t.push(n),n=n.parent;return n!==o?[]:(t.push(o),t)},e.prototype.getActions=function(e,t,n,o,r,a,i){var s,l,c,u,p=this,d=a?Ro([],this.getStateNodes(a.value)):[],m=new Set;try{for(var f=Cn(Array.from(e).sort((function(e,t){return e.order-t.order}))),h=f.next();!h.done;h=f.next()){(!$o(d,b=h.value)||$o(n.exitSet,b)||b.parent&&m.has(b.parent))&&m.add(b)}}catch(e){s={error:e}}finally{try{h&&!h.done&&(l=f.return)&&l.call(f)}finally{if(s)throw s.error}}try{for(var y=Cn(d),g=y.next();!g.done;g=y.next()){var b;$o(e,b=g.value)&&!$o(n.exitSet,b.parent)||n.exitSet.push(b)}}catch(e){c={error:e}}finally{try{g&&!g.done&&(u=y.return)&&u.call(y)}finally{if(c)throw c.error}}n.exitSet.sort((function(e,t){return t.order-e.order}));var v=Array.from(m).sort((function(e,t){return e.order-t.order})),w=new Set(n.exitSet),k=io(v.map((function(e){var t=[];if("final"!==e.type)return t;var a=e.parent;if(!a.parent)return t;t.push(Ko(e.id,e.doneData),Ko(a.id,e.doneData?co(e.doneData,o,r):void 0));var i=a.parent;return"parallel"===i.type&&Oo(i).every((function(e){return Lo(n.configuration,e)}))&&t.push(Ko(i.id)),t}))),x=v.map((function(e){var t=e.onEntry,n=e.activities.map((function(e){return function(e){var t=Vo(e);return{type:In.Start,activity:t,exec:void 0}}(e)}));return{type:"entry",actions:Ho(i?Mn(Mn([],An(t),!1),An(n),!1):Mn(Mn([],An(n),!1),An(t),!1),p.machine.options.actions)}})).concat({type:"state_done",actions:k.map((function(e){return function(e,t){return{type:Pn,event:"function"==typeof e?e:xo(e),delay:t?t.delay:void 0,id:null==t?void 0:t.id}}(e)}))}),S=Array.from(w).map((function(e){return{type:"exit",actions:Ho(Mn(Mn([],An(e.onExit),!1),An(e.activities.map((function(e){return function(e){var t=yo(e)?e:Vo(e);return{type:In.Stop,activity:t,exec:void 0}}(e)}))),!1),p.machine.options.actions)}})).concat({type:"transition",actions:Ho(n.actions,this.machine.options.actions)}).concat(x);if(t){var _=Ho(io(Mn([],An(e),!1).sort((function(e,t){return t.order-e.order})).map((function(e){return e.onExit}))),this.machine.options.actions).filter((function(e){return!Co(e)}));return S.concat({type:"stop",actions:_})}return S},e.prototype.transition=function(e,t,n,o){void 0===e&&(e=this.initialState);var r,a,i=So(t);if(e instanceof er)r=void 0===n?e:this.resolveState(er.from(e,n));else{var s=go(e)?this.resolve(to(this.getResolvedPath(e))):this.resolve(e),l=null!=n?n:this.machine.context;r=this.resolveState(er.from(s,l))}if(!Xn&&i.name===Ar)throw new Error("An event cannot have the wildcard type ('".concat(Ar,"')"));if(this.strict&&!this.events.includes(i.name)&&(a=i.name,!/^(done|error)\./.test(a)))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(i.name,"'"));var c=this._transition(r.value,r,i)||{transitions:[],configuration:[],exitSet:[],source:r,actions:[]},u=Ro([],this.getStateNodes(r.value)),p=c.configuration.length?Ro(u,c.configuration):u;return c.configuration=Mn([],An(p),!1),this.resolveTransition(c,r,r.context,o,i)},e.prototype.resolveRaisedTransition=function(e,t,n,o){var r,a=e.actions;return(e=this.transition(e,t,void 0,o))._event=n,e.event=n.data,(r=e.actions).unshift.apply(r,Mn([],An(a),!1)),e},e.prototype.resolveTransition=function(e,t,n,o,r){var a,i,s,l,c=this;void 0===r&&(r=jo);var u=e.configuration,p=!t||e.transitions.length>0,d=p?e.configuration:t?t.configuration:[],m=Lo(d,this),f=p?Po(this.machine,u):void 0,h=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,y=this.getActions(new Set(d),m,e,n,r,t,o),g=t?En({},t.activities):{};try{for(var b=Cn(y),v=b.next();!v.done;v=b.next()){var w=v.value;try{for(var k=(s=void 0,Cn(w.actions)),x=k.next();!x.done;x=k.next()){var S=x.value;S.type===Fn?g[S.activity.id||S.activity.type]=S:S.type===zn&&(g[S.activity.id||S.activity.type]=!1)}}catch(e){s={error:e}}finally{try{x&&!x.done&&(l=k.return)&&l.call(k)}finally{if(s)throw s.error}}}}catch(e){a={error:e}}finally{try{v&&!v.done&&(i=b.return)&&i.call(b)}finally{if(a)throw a.error}}var _,I,T=An(Jo(this,t,n,r,y,o,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),E=T[0],N=T[1],C=An(function(e,t){var n,o,r=An([[],[]],2),a=r[0],i=r[1];try{for(var s=Cn(e),l=s.next();!l.done;l=s.next()){var c=l.value;t(c)?a.push(c):i.push(c)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return[a,i]}(E,Co),2),A=C[0],M=C[1],O=E.filter((function(e){var t;return e.type===Fn&&(null===(t=e.activity)||void 0===t?void 0:t.type)===Hn})),D=O.reduce((function(e,t){return e[t.activity.id]=function(e,t,n,o){var r,a=To(e.src),i=null===(r=null==t?void 0:t.options.services)||void 0===r?void 0:r[a.type],s=e.data?co(e.data,n,o):void 0,l=i?ir(i,e.id,s):ar(e.id);return l.meta=e,l}(t.activity,c.machine,N,r),e}),t?En({},t.children):{}),R=new er({value:f||t.value,context:N,_event:r,_sessionid:t?t._sessionid:null,historyValue:f?h?(_=h,I=f,{current:I,states:po(_,I)}):void 0:t?t.historyValue:void 0,history:!f||e.source?t:void 0,actions:f?M:[],activities:f?g:t?t.activities:{},events:[],configuration:d,transitions:e.transitions,children:D,done:m,tags:Bo(d),machine:this}),F=n!==N;R.changed=r.name===Gn||F;var z=R.history;z&&delete z.history;var P=!m&&(this._transient||u.some((function(e){return e._transient})));if(!(p||P&&r.name!==Cr))return R;var $=R;if(!m)for(P&&($=this.resolveRaisedTransition($,{type:Bn},r,o));A.length;){var L=A.shift();$=this.resolveRaisedTransition($,L._event,r,o)}var B=$.changed||(z?!!$.actions.length||F||typeof z.value!=typeof $.value||!Zo($.value,z.value):void 0);return $.changed=B,$.history=z,$},e.prototype.getStateNode=function(e){if(Or(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var t=this.states[e];if(!t)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return t},e.prototype.getStateNodeById=function(e){var t=Or(e)?e.slice(1):e;if(t===this.id)return this;var n=this.machine.idMap[t];if(!n)throw new Error("Child state node '#".concat(t,"' does not exist on machine '").concat(this.id,"'"));return n},e.prototype.getStateNodeByPath=function(e){if("string"==typeof e&&Or(e))try{return this.getStateNodeById(e.slice(1))}catch(e){}for(var t=Qn(e,this.delimiter).slice(),n=this;t.length;){var o=t.shift();if(!o.length)break;n=n.getStateNode(o)}return n},e.prototype.resolve=function(e){var t,n=this;if(!e)return this.initialStateValue||Mr;switch(this.type){case"parallel":return no(this.initialStateValue,(function(t,o){return t?n.getStateNode(o).resolve(e[o]||t):Mr}));case"compound":if(go(e)){var o=this.getStateNode(e);return"parallel"===o.type||"compound"===o.type?((t={})[e]=o.initialStateValue,t):e}return Object.keys(e).length?no(e,(function(e,t){return e?n.getStateNode(t).resolve(e):Mr})):this.initialStateValue||{};default:return e||Mr}},e.prototype.getResolvedPath=function(e){if(Or(e)){var t=this.machine.idMap[e.slice(1)];if(!t)throw new Error("Unable to find state node '".concat(e,"'"));return t.path}return Qn(e,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=oo(this.states,(function(e){return e.initialStateValue||Mr}),(function(e){return!("history"===e.type)}));else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));t=Ao(this.states[this.initial])?this.initial:((e={})[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(e,t){this._init();var n=this.getStateNodes(e);return this.resolveTransition({configuration:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!=t?t:this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=go(t.target)&&Or(t.target)?to(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(e,t,n){return void 0===n&&(n=!0),n?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var e=this;return Ao(this)?[this]:"compound"!==this.type||this.initial?io(ao(this.initialStateValue).map((function(t){return e.getFromRelativePath(t)}))):(Xn||fo(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this])},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=An(e),n=t[0],o=t.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var r=this.getStateNode(n);if("history"===r.type)return r.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(o)},e.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:oo(this.states,(function(t,n){if(!e)return t.historyValue();var o=go(e)?void 0:e[n];return t.historyValue(o||t.initialStateValue)}),(function(e){return!e.history}))}},e.prototype.resolveHistory=function(e){var t=this;if("history"!==this.type)return[this];var n=this.parent;if(!e){var o=this.target;return o?io(ao(o).map((function(e){return n.getFromRelativePath(e)}))):n.initialStateNodes}var r,a,i=(r=n.path,a="states",function(e){var t,n,o=e;try{for(var i=Cn(r),s=i.next();!s.done;s=i.next()){var l=s.value;o=o[a][l]}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o})(e).current;return go(i)?[n.getStateNode(i)]:io(ao(i).map((function(e){return"deep"===t.history?n.getFromRelativePath(e):[n.states[e[0]]]})))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var e=this,t=io(Object.keys(this.states).map((function(t){return e.states[t].stateIds})));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var e,t,n,o;if(this.__cache.events)return this.__cache.events;var r=this.states,a=new Set(this.ownEvents);if(r)try{for(var i=Cn(Object.keys(r)),s=i.next();!s.done;s=i.next()){var l=r[s.value];if(l.states)try{for(var c=(n=void 0,Cn(l.events)),u=c.next();!u.done;u=c.next()){var p=u.value;a.add("".concat(p))}}catch(e){n={error:e}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(a)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter((function(e){return!(!e.target&&!e.actions.length&&e.internal)})).map((function(e){return e.eventType})));return Array.from(e)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map((function(e){if(!go(e))return e;var n=e[0]===t.delimiter;if(n&&!t.parent)return t.getStateNodeByPath(e.slice(1));var o=n?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(o);try{return t.parent.getStateNodeByPath(o)}catch(e){throw new Error("Invalid transition definition for state node '".concat(t.id,"':\n").concat(e.message))}}))},e.prototype.formatTransition=function(e){var t=this,n=function(e){if(void 0!==e&&""!==e)return lo(e)}(e.target),o="internal"in e?e.internal:!n||n.some((function(e){return go(e)&&e[0]===t.delimiter})),r=this.machine.options.guards,a=this.resolveTarget(n),i=En(En({},e),{actions:Ho(lo(e.actions)),cond:bo(e.cond,r),target:a,source:this,internal:o,eventType:e.event,toJSON:function(){return En(En({},i),{target:i.target?i.target.map((function(e){return"#".concat(e.id)})):void 0,source:"#".concat(t.id)})}});return i},e.prototype.formatTransitions=function(){var e,t,n,o=this;if(this.config.on)if(Array.isArray(this.config.on))n=this.config.on;else{var r=this.config.on,a=Ar,i=r[a],s=void 0===i?[]:i,l=Nn(r,["*"]);n=io(Object.keys(l).map((function(e){Xn||e!==Cr||fo(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(o.id,'".'));var t=_o(e,l[e]);return Xn||function(e,t,n){var o=n.slice(0,-1).some((function(e){return!("cond"in e)&&!("in"in e)&&(go(e.target)||wo(e.target))})),r=t===Cr?"the transient event":"event '".concat(t,"'");fo(!o,"One or more transitions for ".concat(r," on state '").concat(e.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")}(o,e,t),t})).concat(_o(Ar,s)))}else n=[];var c=this.config.always?_o("",this.config.always):[],u=this.config.onDone?_o(String(Ko(this.id)),this.config.onDone):[];Xn||fo(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var p=io(this.invoke.map((function(e){var t=[];return e.onDone&&t.push.apply(t,Mn([],An(_o(String(Yo(e.id)),e.onDone)),!1)),e.onError&&t.push.apply(t,Mn([],An(_o(String(Xo(e.id)),e.onError)),!1)),t}))),d=this.after,m=io(Mn(Mn(Mn(Mn([],An(u),!1),An(p),!1),An(n),!1),An(c),!1).map((function(e){return lo(e).map((function(e){return o.formatTransition(e)}))})));try{for(var f=Cn(d),h=f.next();!h.done;h=f.next()){var y=h.value;m.push(y)}}catch(t){e={error:t}}finally{try{h&&!h.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}return m},e}(),Rr=!1;var Fr,zr,Pr=function(e){return{type:jn,assignment:e}};!function(e){e.DARK="dark",e.BRIGHT="bright",e.NORMAL="normal"}(Fr||(Fr={})),function(e){e.MATCHED="MATCHED",e.TOO_FAR="TOO FAR",e.CANT_IDENTIFY="CANNOT IDENTIFY",e.FACE_IDENTIFIED="ONE FACE IDENTIFIED",e.TOO_MANY="TOO MANY FACES",e.OFF_CENTER="OFF CENTER"}(zr||(zr={}));const $r="CONNECTION_TIMEOUT",Lr="TIMEOUT",Br="RUNTIME_ERROR",jr="SERVER_ERROR",Wr="CAMERA_FRAMERATE_ERROR",Ur="CAMERA_ACCESS_ERROR",Hr="FACE_DISTANCE_ERROR",Vr="MOBILE_LANDSCAPE_ERROR",qr="MULTIPLE_FACES_ERROR",Gr=2,Kr=1.8,Yr=1e3,Xr=4e3,Jr=4001,Zr=4003,Qr=4005,ea=4007;function ta(e,t,n){return e*(n-t)+t}function na(e){const t=e.flippedCenterX-e.width/2,n=e.flippedCenterX+e.width/2,o=e.centerY-e.height/2,r=e.centerY+e.height/2;return{ovalBoundingBox:{left:t,top:o,right:n,bottom:r},minOvalX:t,maxOvalX:n,minOvalY:o,maxOvalY:r}}function oa(e,t){const n=Math.max(e.left,t.left),o=Math.max(e.top,t.top),r=Math.min(e.right,t.right),a=Math.min(e.bottom,t.bottom),i=Math.abs(Math.max(0,r-n)*Math.max(0,a-o));if(0===i)return 0;return i/(Math.abs((e.right-e.left)*(e.bottom-e.top))+Math.abs((t.right-t.left)*(t.bottom-t.top))-i)}function ra({width:e,height:t,widthSeed:n=1,centerXSeed:o=.5,centerYSeed:r=.5,ratioMultiplier:a=.8}){const i=t;let s=e;const l=n*a,c=Math.floor(7*e/16),u=Math.floor(9*e/16),p=Math.floor(7*t/16),d=Math.floor(9*t/16),m=ta(o,c,u),f=ta(r,p,d);e>=t&&(s=3/4*i);const h=l*s,y=1.618*h;return{flippedCenterX:Math.floor(s-m),centerX:Math.floor(m),centerY:Math.floor(f),width:Math.floor(h),height:Math.floor(y)}}function aa({canvas:e,oval:t,scaleFactor:n,videoEl:o,isStartScreen:r}){const{flippedCenterX:a,centerY:i,width:s,height:l}=t,{width:c,height:u}=e.getBoundingClientRect(),p=e.getContext("2d");if(!p)throw new Error("Cannot find Canvas.");{p.restore(),p.clearRect(0,0,c,u),p.fillStyle=r?getComputedStyle(e).getPropertyValue("--amplify-colors-background-primary"):"#fff",p.fillRect(0,0,c,u);const t={width:o.videoWidth,height:o.videoHeight},d={x:(c-t.width*n)/2,y:(u-t.height*n)/2};p.setTransform(n,0,0,n,d.x,d.y),p.beginPath(),p.ellipse(a,i,s/2,l/2,0,0,2*Math.PI),p.strokeStyle=getComputedStyle(e).getPropertyValue("--amplify-colors-border-secondary"),p.lineWidth=3,p.stroke(),p.save(),p.clip(),p.setTransform(1,0,0,1,0,0),p.clearRect(0,0,c,u)}}function ia(e,t,n){const{width:o,height:r}=n.getTracks()[0].getSettings(),{width:a,height:i}=t.getBoundingClientRect();e.width=Math.ceil(a),e.height=Math.ceil(i);const s=ra({width:o,height:r,ratioMultiplier:.5});s.flippedCenterX=o-s.centerX;aa({canvas:e,oval:s,scaleFactor:a/t.videoWidth,videoEl:t,isStartScreen:!0})}function sa(e){const{leftEye:t,rightEye:n,mouth:o}=e,r=[];r[0]=(t[0]+n[0])/2,r[1]=(t[1]+n[1])/2;return{pupilDistance:Math.sqrt((t[0]-n[0])**2+(t[1]-n[1])**2),faceHeight:Math.sqrt((r[0]-o[0])**2+(r[1]-o[1])**2)}}function la(e,t,n){const{leftEye:o,rightEye:r,nose:a,leftEar:i,rightEar:s}=e,{height:l,centerY:c}=t,u=c-l/2,p=[];p[0]=(o[0]+r[0])/2,p[1]=(o[1]+r[1])/2;const{pupilDistance:d,faceHeight:m}=sa(e),f=(Gr*d+Kr*m)/2;let h,y;p[1]<=(u+l)/2?(h=(p[0]+a[0])/2,y=(p[1]+a[1])/2):(h=p[0],y=p[1]);const g=1.68*f,b=Math.max(y-g/2,0);return{bottom:Math.min(y+g/2,n),left:Math.min(h-f/2,s[0]),right:Math.max(h+f/2,i[0]),top:b}}function ca(e){const t=document.createElement("canvas");t.width=e.videoWidth,t.height=e.videoHeight;const n=t.getContext("2d");if(n){n.drawImage(e,0,0,t.width,t.height);const o=n.getImageData(0,0,t.width,t.height).data,r=8,a=new Array(r).fill(0);for(let e=0;e<o.length;e++){a[Math.round(.2126*o[e++]+.7152*o[e++]+.0722*o[e++])%32]++}let i=-1,s=0;for(let e=0;e<r;e++)a[e]>s&&(s=a[e],i=e);return t.remove(),0===i?Fr.DARK:i===r?Fr.BRIGHT:Fr.NORMAL}throw new Error("Cannot find Video Element.")}function ua({ctx:e,prevColor:t,nextColor:n,fraction:o}){const r=e.canvas.width,a=e.canvas.height;e.fillStyle=n,e.fillRect(0,0,r,a*o),1!==o&&(e.fillStyle=t,e.fillRect(0,a*o,r,a*(1-o)))}const pa=e=>!!e;function da(e){return e.slice(e.indexOf("(")+1,e.indexOf(")")).split(",").map((e=>parseInt(e)))}async function ma({faceDetector:e,videoEl:t,ovalDetails:n,reduceThreshold:o=!1,isMobile:r=!1}){const a=await e.detectFaces(t);let i,s,l=!1;switch(a.length){case 0:s=Hr;break;case 1:{i=a[0];const{width:e}=n,{pupilDistance:t,faceHeight:c}=sa(i);e&&(l=(Gr*t+Kr*c)/2/Gr/e<(o?r?.37:.4:.32),l||(s=Hr));break}default:s=qr}return{isDistanceBelowThreshold:l,error:s}}function fa({deviceHeight:e,deviceWidth:t,height:n,width:o,top:r,left:a}){return{Height:n/e,Width:o/t,Top:r/e,Left:a/t}}class ha{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class ya{refCount(e){return ga("refCount")}incRef(e){return ga("incRef")}timerAvailable(){return!0}time(e){return ga("time")}read(e){return ga("read")}readSync(e){return ga("readSync")}readToGPU(e,t){return ga("readToGPU")}numDataIds(){return ga("numDataIds")}disposeData(e,t){return ga("disposeData")}write(e,t,n){return ga("write")}move(e,t,n,o,r){return ga("move")}createTensorFromGPUData(e,t,n){return ga("createTensorFromGPUData")}memory(){return ga("memory")}floatPrecision(){return ga("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return ga("dispose")}}function ga(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function ba(e,t,n){return Math.max(e,Math.min(t,n))}function va(e,t,n){const o=e[t];e[t]=e[n],e[n]=o}function wa(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function ka(e,t,n=""){wa(_a(e,t),(()=>n+` Shapes ${e} and ${t} must match`))}function xa(e){wa(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function Sa(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function _a(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ia(e){return e%1==0}function Ta(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function Ea(e,t){let n=1,o=-1;for(let t=0;t<e.length;++t)if(e[t]>=0)n*=e[t];else if(-1===e[t]){if(-1!==o)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${o} and dim ${t}`);o=t}else if(e[t]<0)throw Error(`Shapes can not be < 0. Found ${e[t]} at dim ${t}`);if(-1===o){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(0===n)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!=0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);const r=e.slice();return r[o]=t/n,r}function Na(e,t){const n=t.length;return e=null==e?t.map(((e,t)=>t)):[].concat(e),wa(e.every((e=>e>=-n&&e<n)),(()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`)),wa(e.every((e=>Ia(e))),(()=>`All values in axis param must be integers but got axis ${e}`)),e.map((e=>e<0?n+e:e))}function Ca(e,t){return Aa(e,t)}function Aa(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error(`Unknown data type ${e}`);n=new Array(t)}return n}function Ma(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error(`Unknown dtype ${e}`)}function Oa(e){return"string"==typeof e||e instanceof String}function Da(e){return Array.isArray(e)?Da(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":"number"==typeof e?"float32":Oa(e)?"string":function(e){return"boolean"==typeof e}(e)?"bool":"float32"}function Ra(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Fa(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let o=t-3;o>=0;--o)n[o]=n[o+1]*e[o+1];return n}function za(e,t,n,o=!1){const r=new Array;if(1===t.length){const a=t[0]*(o?2:1);for(let t=0;t<a;t++)r[t]=n[e+t]}else{const a=t[0],i=t.slice(1),s=i.reduce(((e,t)=>e*t))*(o?2:1);for(let t=0;t<a;t++)r[t]=za(e+t*s,i,n,o)}return r}function Pa(e,t,n=!1){if(0===e.length)return t[0];const o=e.reduce(((e,t)=>e*t))*(n?2:1);if(0===o)return[];if(o!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return za(0,e,t,n)}function $a(e,t){const n=La(e,t);for(let e=0;e<n.length;e++)n[e]=1;return n}function La(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function Ba(e,t){const n=e.reduce(((e,t)=>e*t),1);if(null==t||"float32"===t)return Pa(e,new Float32Array(n));if("int32"===t)return Pa(e,new Int32Array(n));if("bool"===t)return Pa(e,new Uint8Array(n));throw new Error(`Unknown data type ${t}`)}function ja(e){e.forEach((t=>{wa(Number.isInteger(t)&&t>=0,(()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`))}))}function Wa(e,t,n){if(0===t)return 0;if(1===t)return e[0];let o=e[e.length-1];for(let t=0;t<e.length-1;++t)o+=n[t]*e[t];return o}function Ua(e,t,n){if(0===t)return[];if(1===t)return[e];const o=new Array(t);for(let t=0;t<o.length-1;++t)o[t]=Math.floor(e/n[t]),e-=o[t]*n[t];return o[o.length-1]=e,o}function Ha(e){return e&&e.then&&"function"==typeof e.then}const Va="tfjsflags";class qa{constructor(global){this.global=global,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=Ga,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(Ka().getBool("IS_TEST")||Ka().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];Ka().getBool("IS_TEST")||Ka().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${t}.`),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(Ha(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(void 0===this.global||void 0===this.global.location||void 0===this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if(Va in e){e[Va].split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){const n=t.toLowerCase();return"true"===n||"false"===n?"true"===n:""+ +n===n?+n:t}(0,n)}))}}}function Ga(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,((e,...n)=>(function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,n[0],n[1]),n.join("=")))),t}function Ka(){return Xa}let Ya,Xa=null;function Ja(){if(null==Ya){let e;if("undefined"!=typeof window)e=window;else if(void 0!==i.g)e=i.g;else if("undefined"!=typeof process)e=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");e=self}Ya=e}return Ya}function Za(e,t){const n=function(){const e=Ja();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const o=t();return n.set(e,o),n.get(e)}}const Qa="Abs",ei="Acos",ti="Acosh",ni="Add",oi="AddN",ri="All",ai="Any",ii="ArgMax",si="ArgMin",li="Asin",ci="Asinh",ui="Atan",pi="Atanh",di="Atan2",mi="AvgPool",fi="AvgPoolGrad",hi="AvgPool3D",yi="AvgPool3DGrad",gi="BatchMatMul",bi="BatchToSpaceND",vi="Bincount",wi="BitwiseAnd",ki="BroadcastArgs",xi="Cast",Si="Ceil",_i="ClipByValue",Ii="Complex",Ti="ComplexAbs",Ei="Concat",Ni="Conv2D",Ci="Conv2DBackpropFilter",Ai="Conv2DBackpropInput",Mi="Conv3D",Oi="Conv3DBackpropFilterV2",Di="Conv3DBackpropInputV2",Ri="Cos",Fi="Cosh",zi="Cumprod",Pi="Cumsum",$i="CropAndResize",Li="DenseBincount",Bi="DepthToSpace",ji="DepthwiseConv2dNative",Wi="DepthwiseConv2dNativeBackpropFilter",Ui="DepthwiseConv2dNativeBackpropInput",Hi="Diag",Vi="Dilation2D",qi="Dilation2DBackpropInput",Gi="Dilation2DBackpropFilter",Ki="Draw",Yi="RealDiv",Xi="Einsum",Ji="Elu",Zi="EluGrad",Qi="Erf",es="Equal",ts="Exp",ns="ExpandDims",os="Expm1",rs="Fill",as="FlipLeftRight",is="Floor",ss="FloorDiv",ls="FusedBatchNorm",cs="GatherV2",us="GatherNd",ps="Greater",ds="GreaterEqual",ms="Identity",fs="IFFT",hs="Imag",ys="IsFinite",gs="IsInf",bs="IsNan",vs="LeakyRelu",ws="Less",ks="LessEqual",xs="LinSpace",Ss="Log",_s="Log1p",Is="LogicalAnd",Ts="LogicalNot",Es="LogicalOr",Ns="LRN",Cs="LRNGrad",As="Max",Ms="Maximum",Os="MaxPool",Ds="MaxPoolGrad",Rs="MaxPool3D",Fs="MaxPool3DGrad",zs="MaxPoolWithArgmax",Ps="Mean",$s="Min",Ls="Minimum",Bs="MirrorPad",js="Mod",Ws="Multinomial",Us="Multiply",Hs="Neg",Vs="NotEqual",qs="NonMaxSuppressionV3",Gs="NonMaxSuppressionV4",Ks="NonMaxSuppressionV5",Ys="OnesLike",Xs="OneHot",Js="Pack",Zs="PadV2",Qs="Pow",el="Prelu",tl="Prod",nl="RaggedGather",ol="RaggedRange",rl="RaggedTensorToTensor",al="Range",il="Real",sl="Reciprocal",ll="Relu",cl="Reshape",ul="ResizeNearestNeighbor",pl="ResizeNearestNeighborGrad",dl="ResizeBilinear",ml="ResizeBilinearGrad",fl="Relu6",hl="Reverse",yl="Round",gl="Rsqrt",bl="ScatterNd",vl="TensorScatterUpdate",wl="SearchSorted",kl="Select",xl="Selu",Sl="Slice",_l="Sin",Il="Sinh",Tl="Sign",El="Sigmoid",Nl="Softplus",Cl="Sqrt",Al="Sum",Ml="SpaceToBatchND",Ol="SplitV",Dl="Softmax",Rl="SparseFillEmptyRows",Fl="SparseReshape",zl="SparseSegmentMean",Pl="SparseSegmentSum",$l="SparseToDense",Ll="SquaredDifference",Bl="Square",jl="StaticRegexReplace",Wl="StridedSlice",Ul="StringNGrams",Hl="StringSplit",Vl="StringToHashBucketFast",ql="Sub",Gl="Tan",Kl="Tanh",Yl="Tile",Xl="TopK",Jl="Transform",Zl="Transpose",Ql="Unique",ec="Unpack",tc="UnsortedSegmentSum",nc="ZerosLike",oc="Step",rc="FromPixels",ac="RotateWithOffset",ic="_FusedMatMul",sc="FusedConv2D",lc="FusedDepthwiseConv2D";function cc(...e){Ka().getBool("IS_TEST")||Ka().getBool("PROD")||console.warn(...e)}const uc=Za("kernelRegistry",(()=>new Map)),pc=Za("gradRegistry",(()=>new Map));function dc(e,t){const n=yc(e,t);return uc.get(n)}function mc(e){return pc.get(e)}function fc(e){const t=uc.entries(),n=[];for(;;){const{done:o,value:r}=t.next();if(o)break;const[a,i]=r,[s]=a.split("_");s===e&&n.push(i)}return n}function hc(e){const{kernelName:t,backendName:n}=e,o=yc(t,n);uc.has(o)&&cc(`The kernel '${t}' for backend '${n}' is already registered`),uc.set(o,e)}function yc(e,t){return`${t}_${e}`}function gc(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}var bc=i(8570);const vc=i.n(bc)()||bc;function wc(e){return vc.fromString(e,!0,16)}const kc=wc("c3a5c85c97cb3127"),xc=wc("b492b66fbe98f273"),Sc=wc("9ae16a3b2f90404f");function _c(e){return e.xor(e.shru(47))}function Ic(e,t,n){const o=e.slice(t,t+n);return vc.fromBytes(Array.from(o),!0,!0)}function Tc(e,t){return Ic(e,t,8)}function Ec(e,t){return Ic(e,t,4)}function Nc(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function Cc(e,t,n=wc("9ddfea08eb382d69")){let o=e.xor(t).mul(n);o=o.xor(o.shru(47));let r=t.xor(o).mul(n);return r=r.xor(r.shru(47)),r=r.mul(n),r}function Ac(e,t,n,o){return function(e,t,n,o,r,a){r=r.add(e),a=Nc(a.add(r).add(o),21);const i=r;return r=(r=r.add(t)).add(n),a=a.add(Nc(r,44)),[r.add(o),a.add(i)]}(Tc(e,t),Tc(e,t+8),Tc(e,t+16),Tc(e,t+24),n,o)}function Mc(e,t=e.length){const n=vc.fromNumber(81,!0);if(t<=32)return t<=16?function(e,t=e.length){if(t>=8){const n=Sc.add(2*t),o=Tc(e,0).add(Sc),r=Tc(e,t-8);return Cc(Nc(r,37).mul(n).add(o),Nc(o,25).add(r).mul(n),n)}if(t>=4){const n=Sc.add(2*t);return Cc(Ec(e,0).shl(3).add(t),Ec(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),o=t+(e[t-1]<<2);return _c(Sc.mul(n).xor(kc.mul(o))).mul(Sc)}return Sc}(e,t):function(e,t=e.length){const n=Sc.add(2*t),o=Tc(e,0).mul(xc),r=Tc(e,8),a=Tc(e,t-8).mul(n),i=Tc(e,t-16).mul(Sc);return Cc(Nc(o.add(r),43).add(Nc(a,30)).add(i),o.add(Nc(r.add(Sc),18)).add(a),n)}(e,t);if(t<=64)return function(e,t=e.length){const n=Sc.add(2*t),o=Tc(e,0).mul(Sc),r=Tc(e,8),a=Tc(e,t-8).mul(n),i=Tc(e,t-16).mul(Sc),s=Nc(o.add(r),43).add(Nc(a,30)).add(i),l=Cc(s,o.add(Nc(r.add(Sc),18)).add(a),n),c=Tc(e,16).mul(n),u=Tc(e,24),p=s.add(Tc(e,t-32)).mul(n),d=l.add(Tc(e,t-24)).mul(n);return Cc(Nc(c.add(u),43).add(Nc(p,30)).add(d),c.add(Nc(u.add(o),18)).add(p),n)}(e,t);let o=n,r=n.mul(xc).add(113),a=_c(r.mul(Sc).add(113)).mul(Sc),i=[vc.UZERO,vc.UZERO],s=[vc.UZERO,vc.UZERO];o=o.mul(Sc).add(Tc(e,0));let l=0;const c=64*(t-1>>6),u=c+(t-1&63)-63;do{o=Nc(o.add(r).add(i[0]).add(Tc(e,l+8)),37).mul(xc),r=Nc(r.add(i[1]).add(Tc(e,l+48)),42).mul(xc),o=o.xor(s[1]),r=r.add(i[0]).add(Tc(e,l+40)),a=Nc(a.add(s[0]),33).mul(xc),i=Ac(e,l,i[1].mul(xc),o.add(s[0])),s=Ac(e,l+32,a.add(s[1]),r.add(Tc(e,l+16))),[a,o]=[o,a],l+=64}while(l!==c);const p=xc.add(a.and(255).shl(1));return l=u,s[0]=s[0].add(t-1&63),i[0]=i[0].add(s[0]),s[0]=s[0].add(i[0]),o=Nc(o.add(r).add(i[0]).add(Tc(e,l+8)),37).mul(p),r=Nc(r.add(i[1]).add(Tc(e,l+48)),42).mul(p),o=o.xor(s[1].mul(9)),r=r.add(i[0].mul(9).add(Tc(e,l+40))),a=Nc(a.add(s[0]),33).mul(p),i=Ac(e,l,i[1].mul(p),o.add(s[0])),s=Ac(e,l+32,a.add(s[1]),r.add(Tc(e,l+16))),[a,o]=[o,a],Cc(Cc(i[0],s[0],p).add(_c(r).mul(kc)).add(a),Cc(i[1],s[1],p).add(o),p)}function Oc(e,t){return"string"===t?Fc(e):Dc([e],t)}function Dc(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=$c(e)),Ka().getBool("DEBUG")&&function(e,t){for(let n=0;n<e.length;n++){const o=e[n];if(isNaN(o)||!isFinite(o))throw Error(`A tensor of type ${t} being uploaded contains ${o}.`)}}(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error(`Unknown data type ${t}`)}function Rc(){return Ka().platform.now()}function Fc(e,t="utf-8"){return t=t||"utf-8",Ka().platform.encode(e,t)}function zc(e,t="utf-8"){return t=t||"utf-8",Ka().platform.decode(e,t)}function Pc(e){return null!=Ka().platform.isTypedArray?Ka().platform.isTypedArray(e):gc(e)}function $c(e,t=[],n=!1){if(null==t&&(t=[]),"boolean"==typeof e||"number"==typeof e||"string"==typeof e||Ha(e)||null==e||Pc(e)&&n)t.push(e);else if(Array.isArray(e)||Pc(e))for(let o=0;o<e.length;++o)$c(e[o],t,n);else{let o=-1;for(const t of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(t)&&(o=Math.max(o,Number(t)));for(let r=0;r<=o;r++)$c(e[r],t,n)}return t}class Lc{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new jc)}profileKernel(e,t,n){let o;const r=()=>{o=n()};let a;const i=Rc();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(r);else{r();for(const e of o)e.dataSync();a=Promise.resolve({kernelMs:Rc()-i})}if(Ka().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let t=0;t<o.length;t++){const n=o[t];n.data().then((t=>{Bc(t,n.dtype,e)}))}return{kernelName:e,outputs:o,inputs:t,timeMs:a.then((e=>e.kernelMs)),extraInfo:a.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:o,inputs:r,extraInfo:a}=e;n.forEach((e=>{Promise.all([e.data(),o,a]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],r,n[2])}))}))}}function Bc(e,t,n){if("float32"!==t)return!1;for(let t=0;t<e.length;t++){const o=e[t];if(isNaN(o)||!isFinite(o))return console.warn(`Found ${o} in the result of '${n}'`),!0}return!1}class jc{logKernelProfile(e,t,n,o,r,a){const i="number"==typeof o?Ta(`${o}ms`,9):o.error,s=Ta(e,25),l=t.rank,c=t.size,u=Ta(t.shape.toString(),14);let p="";for(const e in r){const n=r[e];if(null!=n){const o=n.shape||t.shape,r=o.length;p+=`${e}: ${r}D ${r>0?o:""} `}}console.log(`%c${s}\t%c${i}\t%c${l}D ${u}\t%c${c}\t%c${p}\t%c${a}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}const Wc=20,Uc=3,Hc=7;function Vc(e,t,n,o){const r=Fa(t),a=function(e,t,n,o){const r=Sa(t),a=o[o.length-1],i=new Array(a).fill(0),s=t.length,l="complex64"===n?Yc(e):e;if(s>1)for(let e=0;e<r/a;e++){const t=e*a;for(let e=0;e<a;e++)i[e]=Math.max(i[e],qc(l[t+e],0,n).length)}return i}(e,t,n,r),i=t.length,s=Kc(e,t,n,r,a),l=["Tensor"];return o&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${i}`),l.push(`  shape: [${t}]`),l.push("  values:")),l.push(s.map((e=>"    "+e)).join("\n")),l.join("\n")}function qc(e,t,n){let o;return o=Array.isArray(e)?`${parseFloat(e[0].toFixed(Hc))} + ${parseFloat(e[1].toFixed(Hc))}j`:Oa(e)?`'${e}'`:"bool"===n?Gc(e):parseFloat(e.toFixed(Hc)).toString(),Ta(o,t)}function Gc(e){return 0===e?"false":"true"}function Kc(e,t,n,o,r,a=!0){const i="complex64"===n?2:1,s=t[0],l=t.length;if(0===l){if("complex64"===n){return[qc(Yc(e)[0],0,n)]}return"bool"===n?[Gc(e[0])]:[e[0].toString()]}if(1===l){if(s>Wc){const t=Uc*i;let o=Array.from(e.slice(0,t)),a=Array.from(e.slice((s-Uc)*i,s*i));return"complex64"===n&&(o=Yc(o),a=Yc(a)),["["+o.map(((e,t)=>qc(e,r[t],n))).join(", ")+", ..., "+a.map(((e,t)=>qc(e,r[s-Uc+t],n))).join(", ")+"]"]}return["["+("complex64"===n?Yc(e):Array.from(e)).map(((e,t)=>qc(e,r[t],n))).join(", ")+"]"]}const c=t.slice(1),u=o.slice(1),p=o[0]*i,d=[];if(s>Wc){for(let t=0;t<Uc;t++){const o=t*p,a=o+p;d.push(...Kc(e.slice(o,a),c,n,u,r,!1))}d.push("...");for(let t=s-Uc;t<s;t++){const o=t*p,a=o+p;d.push(...Kc(e.slice(o,a),c,n,u,r,t===s-1))}}else for(let t=0;t<s;t++){const o=t*p,a=o+p;d.push(...Kc(e.slice(o,a),c,n,u,r,t===s-1))}const m=2===l?",":"";d[0]="["+(s>0?d[0]+m:"");for(let e=1;e<d.length-1;e++)d[e]=" "+d[e]+m;let f=",\n";for(let e=2;e<l;e++)f+="\n";return d[d.length-1]=" "+d[d.length-1]+"]"+(a?"":f),d}function Yc(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}class Xc{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=Sa(e),null!=n){const e=n.length;wa(e===this.size,(()=>`Length of values '${e}' does not match the size inferred by the shape '${this.size}'.`))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||Aa(t,this.size),this.strides=Fa(e)}set(e,...t){0===t.length&&(t=[0]),wa(t.length===this.rank,(()=>`The number of provided coordinates (${t.length}) must match the rank (${this.rank})`));const n=this.locToIndex(t);this.values[n]=e}get(...e){0===e.length&&(e=[0]);let t=0;for(const n of e){if(n<0||n>=this.shape[t]){const t=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(t)}t++}let n=e[e.length-1];for(let t=0;t<e.length-1;++t)n+=this.strides[t]*e[t];return this.values[n]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return Jc().makeTensor(this.values,this.shape,this.dtype)}}let Jc=null,Zc=null,Qc=null;class eu{constructor(e,t,n,o){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=Sa(e),this.strides=Fa(e),this.dataId=n,this.id=o,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return Zc.buffer(this.shape,this.dtype,e)}bufferSync(){return Zc.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Pa(this.shape,e,"complex64"===this.dtype)}arraySync(){return Pa(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=Jc().read(this.dataId);if("string"===this.dtype){const t=await e;try{return t.map((e=>zc(e)))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Jc().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=Jc().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>zc(e)))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Jc().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),Jc().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return Zc.print(this,e)}clone(){return this.throwIfDisposed(),Zc.clone(this)}toString(e=!1){return Vc(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Zc.cast(this,e)}variable(e=!0,t,n){return this.throwIfDisposed(),Jc().makeVariable(this,e,t,n)}}Object.defineProperty(eu,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),Za("Tensor",(()=>eu));class tu extends eu{constructor(e,t,n,o){super(e.shape,e.dtype,e.dataId,o),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!_a(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Jc().disposeTensor(this),this.dataId=e.dataId,Jc().incRef(this,null)}dispose(){Jc().disposeVariable(this),this.isDisposedInternal=!0}}var nu,ou,ru,au,iu;Object.defineProperty(tu,Symbol.hasInstance,{value:e=>e instanceof eu&&null!=e.assign&&e.assign instanceof Function}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(nu||(nu={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(ou||(ou={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(ru||(ru={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(au||(au={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(iu||(iu={}));const su={float32:au,int32:ou,bool:ru,complex64:iu};function lu(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return su[e][t]}function cu(e){return null!=e&&"object"==typeof e&&"texture"in e&&e.texture instanceof WebGLTexture}function uu(e){return"undefined"!=typeof GPUBuffer&&null!=e&&"object"==typeof e&&"buffer"in e&&e.buffer instanceof GPUBuffer}function pu(e,t){if(e.dtype===t.dtype)return[e,t];const n=lu(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function du(e){const t=[];return mu(e,t,new Set),t}function mu(e,t,n){if(null==e)return;if(e instanceof eu)return void t.push(e);if(o=e,!Array.isArray(o)&&"object"!=typeof o)return;var o;const r=e;for(const e in r){const o=r[e];n.has(o)||(n.add(o),mu(o,t,n))}}function fu(e){return null!=e.kernelName}class hu{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class yu{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new hu}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t,n=1){return e in this.registryFactory?(cc(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new Lc(this.backendInstance),!0}setupRegisteredKernels(){fc(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){fc(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const n=t.factory();if(!n||n instanceof ya||"function"!=typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,o=n.then((n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0))).catch((n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,cc(`Initialization of backend ${e} failed`),cc(n.stack||n.message)),!1)));return this.pendingBackendInit=o,{success:o,asyncInit:!0}}}catch(t){return cc(`Initialization of backend ${e} failed`),cc(t.stack||t.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:o,asyncInit:r}=this.initializeBackend(n);if(r||o)return{name:n,asyncInit:r}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),o=n.backend,r=this.readSync(t),a=o.refCount(t);o.disposeData(t,!0),n.backend=e,e.move(t,r,n.shape,n.dtype,a),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,o=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");o=e}return this.scopedRun((()=>this.startScope(o)),(()=>this.endScope(n)),(()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(e){throw t(),e}}nextTensorId(){return yu.nextTensorId++}nextVariableId(){return yu.nextVariableId++}clone(e){const t=bu.runKernel(ms,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e},n={dtype:"float32"};return bu.runKernel(xi,t,n)}})),[],{}),t}runKernel(e,t,n){null==this.backendName&&this.backend;if(!(null!=dc(e,this.backendName)))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const o=this.backend.numDataIds();let r=0;n.forEach((e=>{r+="complex64"===e.dtype?3:1}));const a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],i=o-t-r-a;if(i>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${i} data ids) after running '${e}'`)}runKernelFunc(e){let t,n=[];const o=this.isTapeOn(),r=this.state.numBytes,a=this.state.numTensors;let i,s;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const l=fu(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(fu(e)){const{kernelName:t,inputs:r,attrs:a}=e;null==this.backendName&&this.backend;const l=dc(t,this.backendName);wa(null!=l,(()=>`Cannot find registered kernel '${t}' for backend '${this.backendName}'`)),i=()=>{const e=this.backend.numDataIds();s=l.kernelFunc({inputs:r,attrs:a,backend:this.backend});const i=Array.isArray(s)?s:[s];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,i);const c=i.map((e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e)));if(o){const e=this.getTensorsForGradient(t,r,c);n=this.saveTensorsForBackwardMode(e)}return c}}else{const{forwardFunc:t}=e,r=e=>{o&&(n=e.map((e=>this.keep(this.clone(e)))))};i=()=>{const e=this.backend.numDataIds();s=this.tidy((()=>t(this.backend,r)));const n=Array.isArray(s)?s:[s];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,e,n),n}}const{inputs:c,attrs:u}=e,p=fu(e)?null:e.backwardsFunc;let d;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(d=this.profiler.profileKernel(l,c,(()=>i())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(d),t=d.outputs):t=i()})),o&&this.addTapeNode(l,c,t,p,n,u),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-r,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-a,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map((e=>null!=c[e]?c[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:d.timeMs,extraInfo:d.extraInfo}),Array.isArray(s)?t:t[0]}saveTensorsForBackwardMode(e){const t=e.map((e=>this.keep(this.clone(e))));return t}getTensorsForGradient(e,t,n){const o=mc(e);if(null!=o){const e=o.inputsToSave||[],r=o.outputsToSave||[];let a;o.saveAllInputs?(wa(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),a=Object.keys(t).map((e=>t[e]))):a=e.map((e=>t[e]));const i=n.filter(((e,t)=>r[t]));return a.concat(i)}return[]}makeTensor(e,t,n,o){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",o=o||this.backend;let r=e;"string"===n&&Oa(e[0])&&(r=e.map((e=>Fc(e))));const a=o.write(r,t,n),i=new eu(t,n,a,this.nextTensorId());if(this.trackTensor(i,o),"string"===n){const e=this.state.tensorInfo.get(a),t=function(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}(r);this.state.numBytes+=t-e.bytes,e.bytes=t}return i}makeTensorFromDataId(e,t,n,o){const r={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(r,o)}makeTensorFromTensorInfo(e,t){const{dataId:n,shape:o,dtype:r}=e,a=new eu(o,r,n,this.nextTensorId());return this.trackTensor(a,t),a}makeVariable(e,t=!0,n,o){n=n||this.nextVariableId().toString(),null!=o&&o!==e.dtype&&(e=e.cast(o));const r=new tu(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[r.name])throw new Error(`Variable with name ${r.name} was already registered`);return this.state.registeredVariables[r.name]=r,this.incRef(r,this.backend),r}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*Ma(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof tu||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*Ma(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const e of this.state.activeProfile.kernels)e.kernelTimeMs=await e.kernelTimeMs,e.extraInfo=await e.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,o,r,a){const i={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:r},s=mc(e);null!=s&&(o=s.gradFunc),null!=o&&(i.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],o=La(e.size,e.dtype);return this.makeTensor(o,e.shape,e.dtype)}return e})),o(e.length>1?e:e[0],r,a))),this.state.activeTape.push(i)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=du(e),n=new Set(t.map((e=>e.id)));for(let e=0;e<this.state.activeScope.track.length;e++){const t=this.state.activeScope.track[e];t.kept||n.has(t.id)||t.dispose()}const o=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==o.id||this.track(e)}))}gradients(e,t,n,o=!1){if(wa(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const r=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));wa(r instanceof eu,(()=>"The result y returned by f() must be a tensor."));const a=function(e,t,n){const o={},r={};for(let e=0;e<t.length;e++)o[t[e].id]=!0;for(let n=0;n<e.length;n++){const a=e[n],i=a.inputs;for(const e in i){const n=i[e];let s=!1;for(let e=0;e<t.length;e++)if(o[n.id]){a.outputs.forEach((e=>o[e.id]=!0)),s=!0,r[a.id]=!0;break}if(s)break}}const a={};a[n.id]=!0;const i={};for(let t=e.length-1;t>=0;t--){const n=e[t],o=n.inputs;for(let e=0;e<n.outputs.length;e++)if(a[n.outputs[e].id]){for(const e in o)a[o[e].id]=!0,i[n.id]=!0;break}}const s=[];for(let t=0;t<e.length;t++){const n=e[t];if(r[n.id]&&i[n.id]){const e={};for(const t in n.inputs){const r=n.inputs[t];o[r.id]&&(e[t]=r)}const t=Object.assign({},n);t.inputs=e,t.outputs=n.outputs,s.push(t)}}return s}(this.state.activeTape,t,r);if(!o&&0===a.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[r.id]=null==n?function(e){const t=$a(Sa(e),"float32");return bu.makeTensor(t,e,"float32")}(r.shape):n,function(e,t,n,o){for(let r=t.length-1;r>=0;r--){const a=t[r],i=[];if(a.outputs.forEach((t=>{const n=e[t.id];null!=n?i.push(n):i.push(null)})),null==a.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${a.kernelName}.`);const s=a.gradient(i);for(const t in a.inputs){if(!(t in s))throw new Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(s)}.`);const r=n((()=>s[t]()));if("float32"!==r.dtype)throw new Error(`Error in gradient for op ${a.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${r.dtype}'`);const i=a.inputs[t];if(!_a(r.shape,i.shape))throw new Error(`Error in gradient for op ${a.kernelName}. The gradient of input '${t}' has shape '${r.shape}', which does not match the shape of the input '${i.shape}'`);if(null==e[i.id])e[i.id]=r;else{const t=e[i.id];e[i.id]=o(t,r),t.dispose()}}}}(e,a,(e=>this.tidy(e)),vu);const o=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:r,grads:o}}))}customGrad(e){return wa(Ra(e),(()=>"The f passed in customGrad(f) must be a function.")),(...t)=>{let n;wa(t.every((e=>e instanceof eu)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const o={};t.forEach(((e,t)=>{o[t]=e}));return this.runKernelFunc({forwardFunc:(o,r)=>(n=e(...t,r),wa(n.value instanceof eu,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),wa(Ra(n.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),n.value),backwardsFunc:(e,o)=>{const r=n.gradFunc(e,o),a=Array.isArray(r)?r:[r];wa(a.length===t.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),wa(a.every((e=>e instanceof eu)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const i={};return a.forEach(((e,t)=>{i[t]=()=>e})),i},inputs:o})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=Rc(),n=await this.backend.time(e);return n.wallMs=Rc()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new hu;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function gu(){const e=Ja();if(null==e._tfengine){const t=new qa(e);e._tfengine=new yu(t)}var t;return t=e._tfengine.ENV,Xa=t,Jc=()=>e._tfengine,e._tfengine}yu.nextTensorId=0,yu.nextVariableId=0;const bu=gu();function vu(e,t){const n={a:e,b:t};return bu.runKernel(ni,n)}const wu=Ka();function ku(e,t){let n=e;if(Pc(e))return"string"===t?[]:[e.length];if(cu(e)){const t=e.channels||"RGBA";return[e.height,e.width*t.length]}if(uu(e))return[e.buffer.size/(null==t?4:Ma(t))];if(!Array.isArray(e))return[];const o=[];for(;Array.isArray(n)||Pc(n)&&"string"!==t;)o.push(n.length),n=n[0];return Array.isArray(e)&&Ka().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&xu(e,o,[]),o}function xu(e,t,n){if(n=n||[],!Array.isArray(e)&&!Pc(e))return void wa(0===t.length,(()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`));wa(t.length>0,(()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`)),wa(e.length===t[0],(()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`));const o=t.slice(1);for(let t=0;t<e.length;++t)xu(e[t],o,n.concat(t))}function Su(e,t,n,o){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error(`Argument '${n}' passed to '${o}' must be ${e} tensor, but got ${t} tensor`)}}function _u(e,t,n,o="numeric"){if(e instanceof eu)return Su(o,e.dtype,t,n),e;let r=Da(e);if("string"!==r&&["bool","int32","float32"].indexOf(o)>=0&&(r=o),Su(o,r,t,n),null==e||!Pc(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){const o=null==e?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${o}'`)}const a=ku(e,r);Pc(e)||Array.isArray(e)||(e=[e]);const i="string"!==r?Dc(e,r):$c(e,[],!0);return bu.makeTensor(i,a,r)}function Iu(e,t,n,o="numeric"){if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map(((e,r)=>_u(e,`${t}[${r}]`,n,o)))}wu.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),wu.registerFlag("IS_BROWSER",(()=>"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope)),wu.registerFlag("IS_NODE",(()=>"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node)),wu.registerFlag("IS_CHROME",(()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),wu.registerFlag("IS_SAFARI",(()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor))),wu.registerFlag("PROD",(()=>!1)),wu.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>wu.getBool("DEBUG"))),wu.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),wu.registerFlag("IS_TEST",(()=>!1)),wu.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>wu.getBool("DEBUG"))),wu.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),wu.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(()=>!1)),wu.registerFlag("USE_SETTIMEOUTCUSTOM",(()=>!1));const Tu="__op";function Eu(e){const t=Object.keys(e);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const o=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=Tu;const r=(...e)=>{bu.startScope(n);try{const t=o(...e);return Ha(t)&&console.error("Cannot return a Promise inside of tidy."),bu.endScope(t),t}catch(e){throw bu.endScope(null),e}};return Object.defineProperty(r,"name",{value:n,configurable:!0}),r}const Nu=Eu({complex_:function(e,t){const n=_u(e,"real","complex"),o=_u(t,"imag","complex");ka(n.shape,o.shape,`real and imag shapes, ${n.shape} and ${o.shape}, must match in call to tf.complex().`);const r={real:n,imag:o};return bu.runKernel(Ii,r)}});function Cu(e,t,n,o){if(null==o)o=Da(e);else if("complex64"===o)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(uu(e)||cu(e)){if("float32"!==o&&"int32"!==o)throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${o}.`);return bu.backend.createTensorFromGPUData(e,t||n,o)}if(!Pc(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){ja(t);const e=Sa(t),o=Sa(n);wa(e===o,(()=>`Based on the provided shape, [${t}], the tensor should have ${e} values but has ${o}`));for(let e=0;e<n.length;++e){const o=n[e],r=e!==n.length-1||o!==Sa(t.slice(e));wa(n[e]===t[e]||!r,(()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `))}}return Pc(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==o?Dc(e,o):$c(e,[],!0),bu.makeTensor(e,t,o)}function Au(e,t,n){return Cu(e,t,ku(e,n),n)}const Mu={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class Ou{static join(e){return new Ou(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,null==e)return;if(e instanceof Array||(e=[e]),0===(e=e.map((e=>Pc(e)?e.buffer:e))).length)return;this.bufferUniformSize=e[0].byteLength;let t=0;for(let n=0;n<e.length;n++){const o=e[n];n!==e.length-1&&o.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const r=t+o.byteLength;this.shards.push({buffer:o,start:t,end:r}),t=r}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,t=this.byteLength){if(0===this.shards.length)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),(t=Math.min(this.byteLength,t))<=e)return new ArrayBuffer(0);const n=this.findShardForByte(e);if(-1===n)throw new Error(`Could not find start shard for byte ${e}`);const o=new ArrayBuffer(t-e),r=new Uint8Array(o);let a=0;for(let o=n;o<this.shards.length;o++){const n=this.shards[o],i=e+a-n.start,s=a,l=Math.min(t,n.end)-n.start,c=new Uint8Array(n.buffer,i,l-i);if(r.set(c,s),a+=c.length,t<n.end)break}return o}findShardForByte(e){if(0===this.shards.length||e<0||e>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function t(t){return e<t.start?-1:e>=t.end?1:0}if(0===t(this.shards[this.previousShardIndex]))return this.previousShardIndex;const n=function(e,t){let n=0,o=e.length;for(;n<=o;){const r=Math.floor((o-n)/2)+n,a=t(e[r]);if(0===a)return r;a<0?o=r:n=r+1}return-1}(this.shards,t);return-1===n?-1:(this.previousShardIndex=n,this.previousShardIndex)}}const Du=4;async function Ru(e,t){const n=[],o=[],r=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let a=0;a<r.length;++a){const i=r[a],s=Array.isArray(e)?e[a].tensor:e[i];if("float32"!==s.dtype&&"int32"!==s.dtype&&"bool"!==s.dtype&&"string"!==s.dtype&&"complex64"!==s.dtype)throw new Error(`Unsupported dtype in weight '${i}': ${s.dtype}`);const l={name:i,shape:s.shape,dtype:s.dtype};if("string"===s.dtype){const e=new Promise((async e=>{const t=await s.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+Du*t.length,o=new Uint8Array(n);let r=0;for(let e=0;e<t.length;e++){const n=t[e],a=new Uint8Array(new Uint32Array([n.length]).buffer);o.set(a,r),r+=Du,o.set(n,r),r+=n.length}e(o)}));o.push(e)}else o.push(s.data());null!=t&&(l.group=t),n.push(l)}return{data:zu(await Promise.all(o)),specs:n}}function Fu(e,t){const n=new Ou(e),o={};let r,a=0;for(const e of t){const t=e.name,i=e.dtype,s=e.shape,l=Sa(s);let c;if("quantization"in e){const o=e.quantization;if("uint8"===o.dtype||"uint16"===o.dtype){if(!("min"in o)||!("scale"in o))throw new Error(`Weight ${e.name} with quantization ${o.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==o.dtype)throw new Error(`Weight ${e.name} has unknown quantization dtype ${o.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==i)throw new Error(`Weight ${e.name} is quantized with ${o.dtype} which only supports weights of type float32 not ${i}.`)}const s=Mu[o.dtype],u=n.slice(a,a+l*s),p="uint8"===o.dtype?new Uint8Array(u):new Uint16Array(u);if("float32"===i)if("uint8"===o.dtype||"uint16"===o.dtype){c=new Float32Array(p.length);for(let e=0;e<p.length;e++){const t=p[e];c[e]=t*o.scale+o.min}}else{if("float16"!==o.dtype)throw new Error(`Unsupported quantization type ${o.dtype} for weight type float32.`);void 0===r&&(r=qu()),c=r(p)}else{if("int32"!==i)throw new Error(`Unsupported dtype in weight '${t}': ${i}`);if("uint8"!==o.dtype&&"uint16"!==o.dtype)throw new Error(`Unsupported quantization type ${o.dtype} for weight type int32.`);c=new Int32Array(p.length);for(let e=0;e<p.length;e++){const t=p[e];c[e]=Math.round(t*o.scale+o.min)}}a+=l*s}else if("string"===i){const t=Sa(e.shape);c=[];for(let e=0;e<t;e++){const e=new Uint32Array(n.slice(a,a+Du))[0];a+=Du;const t=new Uint8Array(n.slice(a,a+e));c.push(t),a+=e}}else{const e=Mu[i],r=n.slice(a,a+l*e);if("float32"===i)c=new Float32Array(r);else if("int32"===i)c=new Int32Array(r);else if("bool"===i)c=new Uint8Array(r);else{if("complex64"!==i)throw new Error(`Unsupported dtype in weight '${t}': ${i}`);{c=new Float32Array(r);const e=new Float32Array(c.length/2),n=new Float32Array(c.length/2);for(let t=0;t<e.length;t++)e[t]=c[2*t],n[t]=c[2*t+1];const a=Au(e,s,"float32"),i=Au(n,s,"float32");o[t]=Nu(a,i),a.dispose(),i.dispose()}}a+=l*e}"complex64"!==i&&(o[t]=Au(c,s,i))}return o}function zu(e){if(null===e)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)}));const o=new Uint8Array(t);let r=0;return n.forEach((e=>{o.set(new Uint8Array(e.buffer),r),r+=e.byteLength})),o.buffer}const Pu="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function $u(e){return Pu?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function Lu(e){return Ou.join(e)}function Bu(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const t=e.split("/");return t[t.length-1]}function ju(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(n.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function Wu(e,t,n){const o={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(o.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");o.weightSpecs=t,o.weightData=n}return null!=e.signature&&(o.signature=e.signature),null!=e.userDefinedMetadata&&(o.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(o.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(o.initializerSignature=e.initializerSignature),o}async function Uu(e,t){let n,o;return null!=e.weightsManifest&&([n,o]=await t(e.weightsManifest)),Wu(e,n,o)}function Hu(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:$u(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:$u(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:new Ou(e.weightData).byteLength}}function Vu(e){const t=[];for(const n of e)t.push(...n.weights);return t}function qu(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;!(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let e=1024;e<2048;e++)t[e]=939524096+(e-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return o=>{const r=new ArrayBuffer(4*o.length),a=new Uint32Array(r);for(let r=0;r<o.length;r++){const i=o[r],s=e[n[i>>10]+(1023&i)]+t[i>>10];a[r]=s}return new Float32Array(r)}}class Gu{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==Gu.instance&&(Gu.instance=new Gu),Gu.instance}static registerSaveRouter(e){Gu.getInstance().saveRouters.push(e)}static registerLoadRouter(e){Gu.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return Gu.getHandlers(e,"save")}static getLoadHandlers(e,t){return Gu.getHandlers(e,"load",t)}static getHandlers(e,t,n){const o=[];return("load"===t?Gu.getInstance().loadRouters:Gu.getInstance().saveRouters).forEach((t=>{const r=t(e,n);null!==r&&o.push(r)})),o}}const Ku=e=>Gu.registerSaveRouter(e),Yu=e=>Gu.registerLoadRouter(e),Xu=e=>Gu.getSaveHandlers(e),Ju=(e,t)=>Gu.getLoadHandlers(e,t),Zu="tensorflowjs",Qu="models_store",ep="model_info_store";function tp(){if(!Ka().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"==typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function np(e){const t=e.result;t.createObjectStore(Qu,{keyPath:"modelPath"}),t.createObjectStore(ep,{keyPath:"modelPath"})}class op{constructor(e){if(this.indexedDB=tp(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const o=this.indexedDB.open(Zu,1);o.onupgradeneeded=()=>np(o),o.onsuccess=()=>{const r=o.result;if(null==t){const t=r.transaction(Qu,"readonly"),o=t.objectStore(Qu).get(this.modelPath);o.onsuccess=()=>{if(null==o.result)return r.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(o.result.modelArtifacts)},o.onerror=e=>(r.close(),n(o.error)),t.oncomplete=()=>r.close()}else{t.weightData=Ou.join(t.weightData);const o=Hu(t),a=r.transaction(ep,"readwrite");let i,s,l=a.objectStore(ep);try{i=l.put({modelPath:this.modelPath,modelArtifactsInfo:o})}catch(e){return n(e)}i.onsuccess=()=>{s=r.transaction(Qu,"readwrite");const i=s.objectStore(Qu);let c;try{c=i.put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:o})}catch(e){return n(e)}c.onsuccess=()=>e({modelArtifactsInfo:o}),c.onerror=e=>{l=a.objectStore(ep);const t=l.delete(this.modelPath);t.onsuccess=()=>(r.close(),n(c.error)),t.onerror=e=>(r.close(),n(c.error))}},i.onerror=e=>(r.close(),n(i.error)),a.oncomplete=()=>{null==s?r.close():s.oncomplete=()=>r.close()}}},o.onerror=e=>n(o.error)}))}}op.URL_SCHEME="indexeddb://";const rp=e=>{return Ka().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(op.URL_SCHEME)?(t=e.slice(op.URL_SCHEME.length),new op(t)):null;var t};Gu.registerSaveRouter(rp),Gu.registerLoadRouter(rp);class ap{constructor(){this.indexedDB=tp()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(Zu,1);n.onupgradeneeded=()=>np(n),n.onsuccess=()=>{const o=n.result,r=o.transaction(ep,"readonly"),a=r.objectStore(ep).getAll();a.onsuccess=()=>{const t={};for(const e of a.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},a.onerror=e=>(o.close(),t(a.error)),r.oncomplete=()=>o.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(op.URL_SCHEME)?t.slice(op.URL_SCHEME.length):t,new Promise(((t,n)=>{const o=this.indexedDB.open(Zu,1);o.onupgradeneeded=()=>np(o),o.onsuccess=()=>{const r=o.result,a=r.transaction(ep,"readwrite"),i=a.objectStore(ep),s=i.get(e);let l;s.onsuccess=()=>{if(null==s.result)return r.close(),n(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const o=i.delete(e),a=()=>{l=r.transaction(Qu,"readwrite");const o=l.objectStore(Qu).delete(e);o.onsuccess=()=>t(s.result.modelArtifactsInfo),o.onerror=e=>n(s.error)};o.onsuccess=a,o.onerror=e=>(a(),r.close(),n(s.error))}},s.onerror=e=>(r.close(),n(s.error)),a.oncomplete=()=>{null==l?r.close():l.oncomplete=()=>r.close()}},o.onerror=e=>n(o.error)}))}}const ip="/",sp="tensorflowjs_models",lp="info",cp="model_topology",up="weight_specs",pp="weight_data",dp="model_metadata";function mp(e){return{info:[sp,e,lp].join(ip),topology:[sp,e,cp].join(ip),weightSpecs:[sp,e,up].join(ip),weightData:[sp,e,pp].join(ip),modelMetadata:[sp,e,dp].join(ip)}}function fp(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function hp(e){const t=e.split(ip);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(ip)}class yp{constructor(e){if(!Ka().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=mp(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),o=Hu(e),r=Ou.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(o)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(Pu)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let e=0,o=t.length;e<o;e++)n+=String.fromCharCode(t[e]);return btoa(n)}(r));const a={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(a)),{modelArtifactsInfo:o}}catch(e){throw fp(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${o.modelTopologyBytes}, weightSpecsBytes=${o.weightSpecsBytes}, weightDataBytes=${o.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=n;const o=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==o)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=o;const r=this.LS.getItem(this.keys.modelMetadata);if(null!=r){const e=JSON.parse(r);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(t.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const a=this.LS.getItem(this.keys.weightData);if(null==a)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=function(e){if(Pu){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n.set([t.charCodeAt(e)],e);return n.buffer}(a),t}}yp.URL_SCHEME="localstorage://";const gp=e=>{return Ka().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(yp.URL_SCHEME)?(t=e.slice(yp.URL_SCHEME.length),new yp(t)):null;var t};Gu.registerSaveRouter(gp),Gu.registerLoadRouter(gp);class bp{constructor(){wa(Ka().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),wa("undefined"==typeof window||void 0!==window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=sp+ip,n=ip+lp;for(let o=0;o<this.LS.length;++o){const r=this.LS.key(o);if(r.startsWith(t)&&r.endsWith(n)){e[hp(r)]=JSON.parse(this.LS.getItem(r))}}return e}async removeModel(e){var t;const n=mp(e=(t=e).startsWith(yp.URL_SCHEME)?t.slice(yp.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${e}'`);const o=JSON.parse(this.LS.getItem(n.info));return fp(n),o}}const vp="://";class wp{constructor(){this.managers={}}static getInstance(){return null==wp.instance&&(wp.instance=new wp),wp.instance}static registerManager(e,t){wa(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(vp)&&(e=e.slice(0,e.indexOf(vp))),wa(e.length>0,(()=>"scheme must not be an empty string."));const n=wp.getInstance();wa(null==n.managers[e],(()=>`A model store manager is already registered for scheme '${e}'.`)),n.managers[e]=t}static getManager(e){const t=wp.getInstance().managers[e];if(null==t)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(wp.getInstance().managers)}}function kp(e){if(-1===e.indexOf(vp))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${wp.getSchemes().join(",")}`);return{scheme:e.split(vp)[0],path:e.split(vp)[1]}}async function xp(e,t,n=!1){wa(e!==t,(()=>`Old path and new path are the same: '${e}'`));const o=Gu.getLoadHandlers(e);wa(o.length>0,(()=>`Copying failed because no load handler is found for source URL ${e}.`)),wa(o.length<2,(()=>`Copying failed because more than one (${o.length}) load handlers for source URL ${e}.`));const r=o[0],a=Gu.getSaveHandlers(t);wa(a.length>0,(()=>`Copying failed because no save handler is found for destination URL ${t}.`)),wa(a.length<2,(()=>`Copying failed because more than one (${o.length}) save handlers for destination URL ${t}.`));const i=a[0],s=kp(e).scheme,l=kp(e).path,c=s===kp(e).scheme,u=await r.load();n&&c&&await wp.getManager(s).removeModel(l);const p=await i.save(u);return n&&!c&&await wp.getManager(s).removeModel(l),p.modelArtifactsInfo}async function Sp(){const e=wp.getSchemes(),t={};for(const n of e){const e=await wp.getManager(n).listModels();for(const o in e){t[n+vp+o]=e[o]}}return t}async function _p(e){const t=kp(e);return wp.getManager(t.scheme).removeModel(t.path)}async function Ip(e,t){return xp(e,t,!1)}async function Tp(e,t){return xp(e,t,!0)}class Ep{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}setTimeoutCustom(e,t){"undefined"!=typeof window&&Ka().getBool("USE_SETTIMEOUTCUSTOM")?(this.functionRefs.push(e),setTimeout((()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")}),t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",(e=>{if(e.source===window&&e.data.name===this.messageName){e.stopPropagation();(0,this.functionRefs[e.data.index])(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}}),!0))):setTimeout(e,t)}isTypedArray(e){return gc(e)}}if(Ka().get("IS_BROWSER")){Ka().setPlatform("browser",new Ep);try{wp.registerManager(yp.URL_SCHEME,new bp)}catch(e){}try{wp.registerManager(op.URL_SCHEME,new ap)}catch(e){}}const Np=()=>i(5817);let Cp;class Ap{constructor(){this.util=i(8590),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=Ka().global.fetch?Ka().global.fetch(e,t):(null==Cp&&(Cp=Np()),Cp(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}function Mp(e,t="float32",n){return t=t||"float32",ja(e),new Xc(e,t,n)}Ka().get("IS_NODE")&&!Ka().get("IS_BROWSER")&&Ka().setPlatform("node",new Ap);const Op=Eu({cast_:function(e,t){const n=_u(e,"x","cast");if(!function(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const o={x:n},r={dtype:t};return bu.runKernel(xi,o,r)}});const Dp=Eu({clone_:function(e){const t={x:_u(e,"x","clone","string_or_numeric")};return bu.runKernel(ms,t)}});function Rp(e,t=!1){console.log(e.toString(t))}gu();function Fp(){return bu}function zp(e,t){return bu.tidy(e,t)}function Pp(e){du(e).forEach((e=>e.dispose()))}function $p(e){return bu.keep(e)}function Lp(e){return bu.setBackend(e)}function Bp(e,t,n=1){return bu.registerBackend(e,t,n)}Zc={buffer:Mp,cast:Op,clone:Dp,print:Rp},Qc=function(e){Ka().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")};const jp=Eu({add_:function(e,t){let n=_u(e,"a","add"),o=_u(t,"b","add");[n,o]=pu(n,o);const r={a:n,b:o};return bu.runKernel(ni,r)}});const Wp=Eu({floorDiv_:function(e,t){let n=_u(e,"a","floorDiv"),o=_u(t,"b","floorDiv");[n,o]=pu(n,o);const r={a:n,b:o};return bu.runKernel(ss,r)}});const Up=Eu({div_:function(e,t){let n=_u(e,"a","div"),o=_u(t,"b","div");if([n,o]=pu(n,o),"int32"===n.dtype&&"int32"===o.dtype)return Wp(n,o);const r={a:n,b:o};return bu.runKernel(Yi,r,{})}});const Hp=Eu({mul_:function(e,t){let n=_u(e,"a","mul"),o=_u(t,"b","mul");[n,o]=pu(n,o);const r={a:n,b:o};return bu.runKernel(Us,r)}});const Vp=Eu({sqrt_:function(e){const t={x:_u(e,"x","sqrt","float32")};return bu.runKernel(Cl,t)}});const qp=Eu({square_:function(e){const t=_u(e,"x","square");return bu.runKernel("Square",{x:t},{})}});const Gp=Eu({zerosLike_:function(e){const t={x:_u(e,"x","zerosLike")};return bu.runKernel(nc,t)}});function Kp(e){return bu.customGrad(e)}function Yp(e,t){if((Pc(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&Pc(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Cu(e,[],[],t)}const Xp=new Map,Jp=new Map;class Zp{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class Qp{constructor(){this.classNameMap={}}static getMap(){return null==Qp.instance&&(Qp.instance=new Qp),Qp.instance}static register(e){Qp.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function ed(e,t,n){wa(null!=e.className,(()=>"Class being registered does not have the static className property defined.")),wa("string"==typeof e.className,(()=>"className is required to be a string, but got type "+typeof e.className)),wa(e.className.length>0,(()=>"Class being registered has an empty-string as its className, which is disallowed.")),void 0===t&&(t="Custom"),void 0===n&&(n=e.className);const o=t+">"+n;return Qp.register(e),Xp.set(o,e),Jp.set(e,o),e}class td extends Zp{minimize(e,t=!1,n){const{value:o,grads:r}=this.computeGradients(e,n);if(null!=n){const e=n.map((e=>({name:e.name,tensor:r[e.name]})));this.applyGradients(e)}else this.applyGradients(r);return Pp(r),t?o:(o.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return function(e,t){wa(Ra(e),(()=>"The f passed in variableGrads(f) must be a function")),wa(null==t||Array.isArray(t)&&t.every((e=>e instanceof tu)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const n=null!=t;if(!n){t=[];for(const e in bu.registeredVariables)t.push(bu.registeredVariables[e])}const o=n?t.filter((e=>!e.trainable)):null,r=t.length;t=t.filter((e=>e.trainable)),wa(t.length>0,(()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${r} variables is trainable.`));const{value:a,grads:i}=bu.gradients(e,t,null,!0);wa(i.some((e=>null!=e)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),wa(0===a.rank,(()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${a.rank} tensor`));const s={};return t.forEach(((e,t)=>{null!=i[t]&&(s[e.name]=i[t])})),null!=o&&o.forEach((e=>s[e.name]=null)),{value:a,grads:s}}(e,t)}dispose(){null!=this.iterations_&&Pp(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:Yp(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(td,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});function nd(e,t,n){ja(e);const o={shape:e,value:t,dtype:n=n||Da(t)};return bu.runKernel(rs,{},o)}const od=Eu({pow_:function(e,t){let n=_u(e,"base","pow"),o=_u(t,"exp","pow");[n,o]=pu(n,o);const r={a:n,b:o};return bu.runKernel(Qs,r)}});const rd=Eu({sub_:function(e,t){let n=_u(e,"a","sub"),o=_u(t,"b","sub");[n,o]=pu(n,o);const r={a:n,b:o};return bu.runKernel(ql,r)}});const ad=Eu({abs_:function(e){const t=_u(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return bu.runKernel(Ti,e)}{const e={x:t};return bu.runKernel(Qa,e)}}});function id(e,t){const n=e.length,o=[];for(let r=0;r<n;r++){const a=n-1-r,i=e[a]||1;(t[t.length-1-r]||1)>1&&1===i&&o.unshift(a)}return o}function sd(e,t){const n=Math.max(e.length,t.length),o=new Array(n);for(let r=0;r<n;r++){let a=e[e.length-r-1];null==a&&(a=1);let i=t[t.length-r-1];if(null==i&&(i=1),1===a)o[n-r-1]=i;else if(1===i)o[n-r-1]=a;else{if(a!==i){throw Error(`Operands could not be broadcast together with shapes ${e} and ${t}.`)}o[n-r-1]=a}}return o}const ld=Eu({maximum_:function(e,t){let n=_u(e,"a","maximum"),o=_u(t,"b","maximum");[n,o]=pu(n,o),"bool"===n.dtype&&(n=Op(n,"int32"),o=Op(o,"int32")),sd(n.shape,o.shape);const r={a:n,b:o};return bu.runKernel(Ms,r)}});class cd extends td{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const o=Array.isArray(e)?e[n].tensor:e[t];if(null==o)return;const r=bu.registeredVariables[t];zp((()=>{const e=jp(Hp(this.c,o),r);r.assign(e)}))})),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=$p(Yp(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}const ud=[class extends td{static get className(){return"Adadelta"}constructor(e,t,n=null){super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=bu.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const o=bu.registeredVariables[t],r=!1;null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:`${t}/accum_grad`,variable:zp((()=>Gp(o).variable(r)))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:`${t}/accum_var`,variable:zp((()=>Gp(o).variable(r)))});const a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;const i=this.accumulatedGrads[n].variable,s=this.accumulatedUpdates[n].variable;zp((()=>{const e=jp(Hp(i,this.rho),Hp(qp(a),1-this.rho)),t=Hp(Up(Vp(jp(s,this.epsilon)),Vp(jp(i,this.epsilon))),a),n=jp(Hp(s,this.rho),Hp(qp(t),1-this.rho));i.assign(e),s.assign(n);const r=jp(Hp(t,-this.learningRate),o);o.assign(r)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(Pp(this.accumulatedGrads.map((e=>e.variable))),Pp(this.accumulatedUpdates.map((e=>e.variable))))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){const t=(e=await this.extractIterations(e)).length/2,n=!1;this.accumulatedGrads=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedUpdates=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}},class extends td{static get className(){return"Adagrad"}constructor(e,t=.1){super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const o=bu.registeredVariables[t];if(null==this.accumulatedGrads[n]){const e=!1;this.accumulatedGrads[n]={originalName:`${t}/accumulator`,variable:zp((()=>nd(o.shape,this.initialAccumulatorValue).variable(e)))}}const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const a=this.accumulatedGrads[n].variable;zp((()=>{const e=jp(a,qp(r));a.assign(e);const t=jp(Hp(Up(r,Vp(jp(e,bu.backend.epsilon()))),-this.learningRate),o);o.assign(t)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&Pp(this.accumulatedGrads.map((e=>e.variable)))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulatedGrads=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}},class extends td{static get className(){return"Adam"}constructor(e,t,n,o=null){super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=o,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],zp((()=>{this.accBeta1=Yp(t).variable(),this.accBeta2=Yp(n).variable()})),null==o&&(this.epsilon=bu.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);zp((()=>{const n=rd(1,this.accBeta1),o=rd(1,this.accBeta2);t.forEach(((t,r)=>{const a=bu.registeredVariables[t],i=!1;null==this.accumulatedFirstMoment[r]&&(this.accumulatedFirstMoment[r]={originalName:`${t}/m`,variable:zp((()=>Gp(a).variable(i)))}),null==this.accumulatedSecondMoment[r]&&(this.accumulatedSecondMoment[r]={originalName:`${t}/v`,variable:zp((()=>Gp(a).variable(i)))});const s=Array.isArray(e)?e[r].tensor:e[t];if(null==s)return;const l=this.accumulatedFirstMoment[r].variable,c=this.accumulatedSecondMoment[r].variable,u=jp(Hp(l,this.beta1),Hp(s,1-this.beta1)),p=jp(Hp(c,this.beta2),Hp(qp(s),1-this.beta2)),d=Up(u,n),m=Up(p,o);l.assign(u),c.assign(p);const f=jp(Hp(Up(d,jp(Vp(m),this.epsilon)),-this.learningRate),a);a.assign(f)})),this.accBeta1.assign(Hp(this.accBeta1,this.beta1)),this.accBeta2.assign(Hp(this.accBeta2,this.beta2))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Pp(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedSecondMoment&&Pp(this.accumulatedSecondMoment.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),zp((()=>{this.accBeta1.assign(od(this.beta1,this.iterations_+1)),this.accBeta2.assign(od(this.beta2,this.iterations_+1))}));const t=e.length/2,n=!1;this.accumulatedFirstMoment=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedSecondMoment=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}},class extends td{static get className(){return"Adamax"}constructor(e,t,n,o=null,r=0){super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=o,this.decay=r,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],zp((()=>{this.iteration=Yp(0).variable(),this.accBeta1=Yp(t).variable()})),null==o&&(this.epsilon=bu.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);zp((()=>{const n=rd(1,this.accBeta1),o=Up(-this.learningRate,jp(Hp(this.iteration,this.decay),1));t.forEach(((t,r)=>{const a=bu.registeredVariables[t],i=!1;null==this.accumulatedFirstMoment[r]&&(this.accumulatedFirstMoment[r]={originalName:`${t}/m`,variable:Gp(a).variable(i)}),null==this.accumulatedWeightedInfNorm[r]&&(this.accumulatedWeightedInfNorm[r]={originalName:`${t}/v`,variable:Gp(a).variable(i)});const s=Array.isArray(e)?e[r].tensor:e[t];if(null==s)return;const l=this.accumulatedFirstMoment[r].variable,c=this.accumulatedWeightedInfNorm[r].variable,u=jp(Hp(l,this.beta1),Hp(s,1-this.beta1)),p=Hp(c,this.beta2),d=ad(s),m=ld(p,d);l.assign(u),c.assign(m);const f=jp(Hp(Up(o,n),Up(u,jp(m,this.epsilon))),a);a.assign(f)})),this.iteration.assign(jp(this.iteration,1)),this.accBeta1.assign(Hp(this.accBeta1,this.beta1))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Pp(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedWeightedInfNorm&&Pp(this.accumulatedWeightedInfNorm.map((e=>e.variable)))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}},class extends cd{static get className(){return"Momentum"}constructor(e,t,n=!1){super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=Yp(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const o=bu.registeredVariables[t];if(null==this.accumulations[n]){const e=!1;this.accumulations[n]={originalName:`${t}/momentum`,variable:zp((()=>Gp(o).variable(e)))}}const r=this.accumulations[n].variable,a=Array.isArray(e)?e[n].tensor:e[t];null!=a&&zp((()=>{let e;const t=jp(Hp(this.m,r),a);e=this.useNesterov?jp(Hp(this.c,jp(a,Hp(t,this.m))),o):jp(Hp(this.c,t),o),r.assign(t),o.assign(e)}))})),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&Pp(this.accumulations.map((e=>e.variable)))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulations=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}},class extends td{static get className(){return"RMSProp"}constructor(e,t=.9,n=0,o=null,r=!1){if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=o,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=r,null==o&&(this.epsilon=bu.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const o=bu.registeredVariables[t],r=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:`${t}/rms`,variable:zp((()=>Gp(o).variable(r)))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:`${t}/momentum`,variable:zp((()=>Gp(o).variable(r)))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:`${t}/mg`,variable:zp((()=>Gp(o).variable(r)))});const a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;const i=this.accumulatedMeanSquares[n].variable,s=this.accumulatedMoments[n].variable;zp((()=>{const e=jp(Hp(i,this.decay),Hp(qp(a),1-this.decay));if(this.centered){const t=this.accumulatedMeanGrads[n].variable,r=jp(Hp(t,this.decay),Hp(a,1-this.decay)),l=Up(Hp(a,this.learningRate),Vp(rd(e,jp(qp(r),this.epsilon)))),c=jp(Hp(s,this.momentum),l);i.assign(e),t.assign(r),s.assign(c);const u=rd(o,c);o.assign(u)}else{const e=jp(Hp(i,this.decay),Hp(qp(a),1-this.decay)),t=jp(Hp(s,this.momentum),Up(Hp(a,this.learningRate),Vp(jp(e,this.epsilon))));i.assign(e),s.assign(t);const n=rd(o,t);o.assign(n)}}))})),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&Pp(this.accumulatedMeanSquares.map((e=>e.variable))),null!=this.accumulatedMeanGrads&&this.centered&&Pp(this.accumulatedMeanGrads.map((e=>e.variable))),null!=this.accumulatedMoments&&Pp(this.accumulatedMoments.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedMoments=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}},cd];function pd(e){return new Promise((e=>setTimeout(e))).then(e)}class dd{constructor(e){if(!Ka().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(dd.URL_SCHEME)&&(e=e.slice(dd.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=Ou.join(e.weightData),n=window.URL.createObjectURL(new Blob([t],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const t=ju(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),o=window.URL.createObjectURL(new Blob([JSON.stringify(t)],{type:"application/json"})),r=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(r.download=this.modelJsonFileName,r.href=o,await pd((()=>r.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=n,await pd((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:Hu(e)}}}}dd.URL_SCHEME="downloads://";class md{constructor(e){if(null==e||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise(((e,t)=>{const n=new FileReader;n.onload=n=>{const o=JSON.parse(n.target.result),r=o.modelTopology;if(null==r)return void t(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));if(null==o.weightsManifest)return void t(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));if(0===this.weightsFiles.length)return void e({modelTopology:r});const a=Uu(o,(e=>this.loadWeights(e)));e(a)},n.onerror=e=>t(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),n.readAsText(this.jsonFile)}))}loadWeights(e){const t=[],n=[];for(const o of e)t.push(...o.weights),n.push(...o.paths);const o=this.checkManifestAndWeightFiles(e),r=n.map((e=>this.loadWeightsFile(e,o[e])));return Promise.all(r).then((e=>[t,e]))}loadWeightsFile(e,t){return new Promise(((n,o)=>{const r=new FileReader;r.onload=e=>{const t=e.target.result;n(t)},r.onerror=t=>o(`Failed to weights data from file of path '${e}'.`),r.readAsArrayBuffer(t)}))}checkManifestAndWeightFiles(e){const t=[],n=this.weightsFiles.map((e=>Bu(e.name))),o={};for(const r of e)r.paths.forEach((e=>{const r=Bu(e);if(-1!==t.indexOf(r))throw new Error(`Duplicate file basename found in weights manifest: '${r}'`);if(t.push(r),-1===n.indexOf(r))throw new Error(`Weight file with basename '${r}' is not provided.`);o[e]=this.weightsFiles[n.indexOf(r)]}));if(t.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${t.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return o}}function fd(e){return new md(e)}function hd(e,t,n,o){!function(e){wa(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){wa(e>=0&&e<=1,(()=>`Progress fraction must be in range [0, 1], but got startFraction ${e}`)),wa(t>=0&&t<=1,(()=>`Progress fraction must be in range [0, 1], but got endFraction ${t}`)),wa(t>=e,(()=>`startFraction must be no more than endFraction, but got startFraction ${e} and endFraction ${t}`))}(n=null==n?0:n,o=null==o?1:o);let r=0;return Promise.all(e.map((a=>(a.then((a=>{const i=n+ ++r/e.length*(o-n);return t(i),a})),a))))}async function yd(e,t){null==t&&(t={});const n=null==t.fetchFunc?Ka().platform.fetch:t.fetchFunc,o=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),r=(null==t.onProgress?await Promise.all(o):await hd(o,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(r):await hd(r,t.onProgress,.5,1)}async function gd(e,t="",n,o){return bd((e=>yd(e,{requestInit:o})))(e,t,n)}function bd(e){return async(t,n="",o)=>{const r=t.map((()=>!1)),a={},i=null!=o?o.map((()=>!1)):[],s=[];if(t.forEach(((e,t)=>{let n=0;e.weights.forEach((e=>{const l="quantization"in e?e.quantization.dtype:e.dtype,c=Mu[l]*Sa(e.shape),u=()=>{r[t]=!0,null==a[t]&&(a[t]=[]),a[t].push({manifestEntry:e,groupOffset:n,sizeBytes:c})};null!=o?o.forEach(((t,n)=>{t===e.name&&(u(),i[n]=!0)})):u(),s.push(e.name),n+=c}))})),!i.every((e=>e))){const e=o.filter(((e,t)=>!i[t]));throw new Error(`Could not find weights in manifest with names: ${e.join(", ")}. \nManifest JSON has weights with names: ${s.join(", ")}.`)}const l=r.reduce(((e,t,n)=>(t&&e.push(n),e)),[]),c=[];l.forEach((e=>{t[e].paths.forEach((e=>{const t=n+(n.endsWith("/")?"":"/")+e;c.push(t)}))}));const u=await e(c),p={};let d=0;return l.forEach((e=>{const n=t[e].paths.length,o=new Ou(u.slice(d,d+n));a[e].forEach((e=>{const t=Fu(o.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(const e in t)p[e]=t[e]})),d+=n})),p}}Gu.registerSaveRouter((e=>Ka().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(dd.URL_SCHEME)?function(e="model"){return new dd(e)}(e.slice(dd.URL_SCHEME.length)):null));class vd{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(wa("function"==typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=Ka().platform.fetch,wa(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&wa(2===e.length,(()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`)),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=ju(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);if(t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData){const n=Ou.join(e.weightData);t.body.append("model.weights.bin",new Blob([n],{type:"application/octet-stream"}),"model.weights.bin")}const o=await this.fetch(this.path,t);if(o.ok)return{modelArtifactsInfo:Hu(e),responses:[o]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${o.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch(e){let t=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,o=t.weightsManifest;if(null==n&&null==o)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return Uu(t,(e=>this.loadWeights(e)))}async loadWeights(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,o]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),o=e.substring(0,t),r=n>t?e.substring(n):"";return[o+"/",r]}(t),r=this.weightPathPrefix||n,a=Vu(e),i=[],s=[];for(const t of e)for(const e of t.paths)null!=this.weightUrlConverter?s.push(this.weightUrlConverter(e)):i.push(r+e+o);this.weightUrlConverter&&i.push(...await Promise.all(s));return[a,await yd(i,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})]}}function wd(e){return null!=e.match(vd.URL_SCHEME_REGEX)}vd.URL_SCHEME_REGEX=/^https?:\/\//;const kd=(e,t)=>{if("undefined"==typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>wd(e))):wd(e),n)return xd(e,t)}return null};function xd(e,t){return new vd(e,t)}function Sd(e,t){return xd(e,t)}Gu.registerSaveRouter(kd),Gu.registerLoadRouter(kd);class _d{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class Id{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class Td{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=t=>Promise.resolve(e.save(t)))}}function Ed(e,t,n,o){return new Td(Nd(...arguments))}function Nd(e,t,n,o){if(1===arguments.length){return null!=e.modelTopology||null!=e.weightSpecs?new _d(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new _d({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new _d({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:o})}function Cd(e){return new Id(e)}function Ad(e){return new Id(e)}function Md(e,t,n){if(xa(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const o=ku(e,n);if(3!==o.length&&1!==o.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Cu(e,t,o,n)}let Od,Dd=!1;function Rd(e,t=3){if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,o=!1,r=!1,a=!1,i=!1,s=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)o=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)r=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)a=!0;else if(null!=e.getContext)i=!0;else{if(!("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${e.constructor.name}`);s=!0}if(null!=dc(rc,bu.backendName)){const n={pixels:e},o={numChannels:t};return bu.runKernel(rc,n,o)}const[l,c]=r?[e.videoWidth,e.videoHeight]:[e.width,e.height];let u,p;if(i)u=e.getContext("2d").getImageData(0,0,l,c).data;else if(o||n)u=e.data;else if(a||r||s){if(null==Od)if("undefined"==typeof document){if("undefined"==typeof OffscreenCanvas||"undefined"==typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");Od=new OffscreenCanvas(1,1).getContext("2d")}else Od=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Od.canvas.width=l,Od.canvas.height=c,Od.drawImage(e,0,0,l,c),u=Od.getImageData(0,0,l,c).data}if(4===t)p=new Int32Array(u);else{const e=l*c;p=new Int32Array(e*t);for(let n=0;n<e;n++)for(let e=0;e<t;++e)p[n*t+e]=u[4*n+e]}return Md(p,[c,l,t],"int32")}function Fd(e){if(2!==e.rank&&3!==e.rank)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${e.rank}.`);const t=2===e.rank?1:e.shape[2];if(t>4||2===t)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${t}`);if("float32"!==e.dtype&&"int32"!==e.dtype)throw new Error(`Unsupported type for toPixels: ${e.dtype}. Please use float32 or int32 tensors.`)}async function zd(e,t){let n=_u(e,"img","toPixels");if(!(e instanceof eu)){const e=n;n=Op(e,"int32"),e.dispose()}Fd(n);const[o,r]=n.shape.slice(0,2),a=2===n.rank?1:n.shape[2],i=await n.data(),s="float32"===n.dtype?255:1,l=new Uint8ClampedArray(r*o*4);for(let e=0;e<o*r;++e){const t=[0,0,0,255];for(let o=0;o<a;o++){const r=i[e*a+o];if("float32"===n.dtype){if(r<0||r>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${r}.`)}else if("int32"===n.dtype&&(r<0||r>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${r}.`);1===a?(t[0]=r*s,t[1]=r*s,t[2]=r*s):t[o]=r*s}const o=4*e;l[o+0]=Math.round(t[0]),l[o+1]=Math.round(t[1]),l[o+2]=Math.round(t[2]),l[o+3]=Math.round(t[3])}if(null!=t){if(!Dd){null!=dc(Ki,bu.backendName)&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),Dd=!0)}t.width=r,t.height=o;const e=t.getContext("2d"),n=new ImageData(l,r,o);e.putImageData(n,0,0)}return n!==e&&n.dispose(),l}const Pd=Eu({fromPixels_:Rd});function $d(e,t){const n=e.shape.length,o=t.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(o<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${o}.`);if("int32"!==t.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[o-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[o-1]} vs. ${n}`);if(0===Sa(e.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);const r=t.shape,a=r[r.length-1];let i=1;for(let e=0;e<r.length-1;++e)i*=r[e];const s=e.shape,l=r.slice();l.pop();let c=1;for(let e=a;e<n;++e)c*=s[e],l.push(s[e]);const u=[...Fa(e.shape).map((e=>e/c)),1].slice(0,a);return[l,i,c,u]}function Ld(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(0===n.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}!function(e,t,n){const o=t.rank>1?t.shape[t.rank-1]:1,r=t.rank>1?t.rank-1:1,a=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${o}, and batchDim: ${r}.`;if(n.rank<r)throw new Error(a+` update.rank < ${r}. `);if(e.length<o+(n.rank-r))throw new Error(a+` Output shape length < ${o+(n.rank-r)}`);if(n.rank!==r+e.length-o)throw new Error(a+" update.rank != "+(r+e.length-o));for(let e=0;e<r;++e)if(n.shape[e]!==t.shape[e])throw new Error(a+` updates.shape[${e}] (${n.shape[e]}) != indices.shape[${e}] (${t.shape[e]}).`);for(let t=0;t<n.rank-r;++t)if(n.shape[t+r]!==e[t+o])throw new Error(a+` updates.shape[${t+r}] (${n.shape[t+r]}) != shape[${t+r}] (${e[t+r]})`)}(n,t,e)}function Bd(e,t,n){const o=t.shape.length,r=o>1?t.shape[o-1]:1,a=n.length;let i=1;for(let e=r;e<a;++e)i*=n[e];const s=r<1?1:r;return{sliceRank:r,numUpdates:Sa(t.shape)/s,sliceSize:i,strides:[...Fa(n.slice(0,r)),1],outputSize:Sa(n)}}const jd=-2,Wd=-1;function Ud(e,t,n){const o=[];for(let r=0;r<e.length;r++)o[r]=Math.ceil((t[r]-e[r])/n[r]);return o}function Hd(e,t,n){let o=n.length;for(let e=0;e<n.length;e++)if(n[e]>1){o=e;break}for(let r=o+1;r<n.length;r++)if(t[r]>0||n[r]!==e[r])return!1;return!0}function Vd(e,t){let n=e.length>0?e[e.length-1]:1;for(let o=0;o<e.length-1;o++)n+=e[o]*t[o];return n}function qd(e,t,n){let o;const r=e.shape.length;let a;return o="number"==typeof t?[t,...new Array(r-1).fill(0)]:t.length<r?t.concat(new Array(r-t.length).fill(0)):t.slice(),o.forEach((e=>{wa(-1!==e,(()=>"slice() does not support negative begin indexing."))})),a=null==n?new Array(r).fill(-1):"number"==typeof n?[n,...new Array(r-1).fill(-1)]:n.length<r?n.concat(new Array(r-n.length).fill(-1)):n,a=a.map(((t,n)=>t>=0?t:(wa(-1===t,(()=>`Negative size values should be exactly -1 but got ${t} for the slice() size at index ${n}.`)),e.shape[n]-o[n]))),[o,a]}function Gd(e,t,n,o,r,a,i,s,l){let c;if(null==o?(c=new Array(t.length),c.fill(1)):c=o,null!=i&&i&i-1)throw new Error("Multiple ellipses in slice is not allowed.");let u=!1;const p={dims:c.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:c.slice(),beginMask:r,endMask:a,ellipsisMask:i,newAxisMask:s,shrinkAxisMask:l};for(let e=0;e<p.dims;e++)u&&1<<e&s&&p.numAddAxisAfterEllipsis++,1<<e&i&&(u=!0);u||(p.ellipsisMask|=1<<p.dims,p.dims++);const d={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let o=0;o<e.dims;o++)if(1<<o&e.ellipsisMask){const r=Math.min(t.dims-(e.dims-o)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<r;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=o}else if(1<<o&e.newAxisMask)t.finalShapeGatherIndices.push(jd),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${t.dims} dims, ${t.begin.length}.`);null!=e.begin&&(t.begin[n]=e.begin[o]),null!=e.end&&(t.end[n]=e.end[o]),t.strides[n]=e.strides[o],e.beginMask&1<<o&&(t.beginMask|=1<<n),e.endMask&1<<o&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<o?(t.finalShapeGatherIndices.push(Wd),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(o)),t.inputShapeGatherIndicesSparse[n]=o,n++}}(p,d);let m=!0,f=!0,h=!0;const y=[],g=[];for(let t=0;t<e.length;++t){if(0===d.strides[t])throw Error(`strides[${t}] must be non-zero`);const n=!!(d.shrinkAxisMask&1<<t),o=e[t];if(-1===o){y.push(n?1:-1);continue}const r=[d.beginMask&1<<t,d.endMask&1<<t],a=[d.strides[t]>0?0:-1,d.strides[t]>0?o:o-1];if(n&&d.strides[t]<=0)throw Error("only stride 1 allowed on non-range indexing.");h=h&&1===d.strides[t];const i=!!(d.beginMask&1<<t&&d.endMask&1<<t);if(d.beginValid&&d.endValid){if(n){const e=d.begin[t]<0?o+d.begin[t]:d.begin[t];if(d.begin[t]=e,d.end[t]=d.begin[t]+1,e<0||e>=o)throw Error(`slice index ${d.begin[t]} of dimension ${t} out of bounds.`)}else d.begin[t]=Kd(d.begin[t],0,d.strides[t],o,r,a),d.end[t]=Kd(d.end[t],1,d.strides[t],o,r,a);const e=1===d.strides[t]&&0===d.begin[t]&&d.end[t]===o;m=m&&e,f=f&&(0===t&&1===d.strides[t]||e)}else m=m&&1===d.strides[t]&&i,f=f&&(0===t&&1===d.strides[t]||i);let s,l=!1;if(d.beginValid&&d.endValid?(s=d.end[t]-d.begin[t],l=!0):n?(s=1,l=!0):i&&o>=0&&(s=d.strides[t]<0?-o:o,l=!0),l){let e;e=0===s||s<0!=d.strides[t]<0?0:Math.trunc(s/d.strides[t])+(s%d.strides[t]!=0?1:0),y.push(e)}else y.push(-1)}for(let e=0;e<d.finalShapeGatherIndices.length;++e){const t=d.finalShapeGatherIndices[e];t>=0?g.push(y[t]):t===jd&&g.push(1)}const b=g.filter(((e,t)=>d.finalShapeGatherIndices[t]!==jd));return{finalShapeSparse:b,finalShape:g,isIdentity:m,sliceDim0:f,isSimpleSlice:h,begin:d.begin,end:d.end,strides:d.strides}}function Kd(e,t,n,o,r,a){if(r[t])return n>0?a[t]:a[t+1&1];{const t=e<0?o+e:e;return t<a[0]?a[0]:t>a[1]?a[1]:t}}const Yd=Eu({acos_:function(e){const t={x:_u(e,"x","acos")};return bu.runKernel(ei,t)}});const Xd=Eu({acosh_:function(e){const t={x:_u(e,"x","acosh")};return bu.runKernel(ti,t)}});const Jd=Eu({addN_:function(e){wa(Array.isArray(e),(()=>"The argument passed to tf.addN() must be a list of tensors")),wa(e.length>=1,(()=>`Must pass at least one tensor to tf.addN(), but got ${e.length}`));const t=e.map(((e,t)=>_u(e,`tensors${t}`,"addN"))),n=t[0];t.forEach((e=>{if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((e=>{if(!_a(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));const o=t;return bu.runKernel(oi,o)}});const Zd=Eu({all_:function(e,t=null,n=!1){const o={x:_u(e,"x","all","bool")},r={axis:t,keepDims:n};return bu.runKernel(ri,o,r)}});const Qd=Eu({any_:function(e,t=null,n=!1){const o={x:_u(e,"x","any","bool")},r={axis:t,keepDims:n};return bu.runKernel(ai,o,r)}});const em=Eu({argMax_:function(e,t=0){const n={x:_u(e,"x","argMax")},o={axis:t};return bu.runKernel(ii,n,o)}});const tm=Eu({argMin_:function(e,t=0){const n={x:_u(e,"x","argMin")},o={axis:t};return bu.runKernel(si,n,o)}});const nm=Eu({asin_:function(e){const t={x:_u(e,"x","asin")};return bu.runKernel(li,t)}});const om=Eu({asinh_:function(e){const t={x:_u(e,"x","asinh")};return bu.runKernel(ci,t)}});const rm=Eu({atan_:function(e){const t={x:_u(e,"x","atan")};return bu.runKernel(ui,t)}});const am=Eu({atan2_:function(e,t){let n=_u(e,"a","atan2"),o=_u(t,"b","atan2");[n,o]=pu(n,o);const r={a:n,b:o};return bu.runKernel(di,r)}});const im=Eu({atanh_:function(e){const t={x:_u(e,"x","atanh")};return bu.runKernel(pi,t)}});function sm(e,t,n,o,r="NHWC",a){return um(e,[...t,e[3]],n,a,o,null,null,wm(r))}function lm(e,t,n,o,r,a,i="channelsLast"){const[s,l]=mm(t);let c;if("channelsLast"===i)c=[s,l,e[3],e[3]];else{if("channelsFirst"!==i)throw new Error(`Unknown dataFormat ${i}`);c=[s,l,e[1],e[1]]}return um(e,c,n,o,r,a,!1,i)}function cm(e,t,n,o,r,a,i="NDHWC"){const[s,l,c]=fm(t);let u,p;if("NDHWC"===i)p="channelsLast",u=[s,l,c,e[4],e[4]];else{if("NCDHW"!==i)throw new Error(`Unknown dataFormat ${i}`);p="channelsFirst",u=[s,l,c,e[1],e[1]]}return pm(e,u,n,o,r,!1,p,a)}function um(e,t,n,o,r,a,i=!1,s="channelsLast"){let[l,c,u,p]=[-1,-1,-1,-1];if("channelsLast"===s)[l,c,u,p]=e;else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);[l,p,c,u]=e}const[d,m,,f]=t,[h,y]=mm(n),[g,b]=mm(o),v=hm(d,g),w=hm(m,b),{padInfo:k,outHeight:x,outWidth:S}=function(e,t,n,o,r,a,i,s,l){let c,u,p;if("number"==typeof e){c={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const r=function(e,t,n,o,r){null==o&&(o=dm(e,t,n));const a=e[0],i=e[1],s=ym((a-t+2*o)/n+1,r),l=ym((i-t+2*o)/n+1,r);return[s,l]}([t,n],a,o,e,s);u=r[0],p=r[1]}else if("same"===e){u=Math.ceil(t/o),p=Math.ceil(n/r);const e=Math.max(0,(u-1)*o+a-t),s=Math.max(0,(p-1)*r+i-n),l=Math.floor(e/2),d=e-l,m=Math.floor(s/2);c={top:l,bottom:d,left:m,right:s-m,type:"SAME"}}else if("valid"===e)c={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((t-a+1)/o),p=Math.ceil((n-i+1)/r);else{if("object"!=typeof e)throw Error(`Unknown padding parameter: ${e}`);{const d="channelsLast"===l?e[1][0]:e[2][0],m="channelsLast"===l?e[1][1]:e[2][1],f="channelsLast"===l?e[2][0]:e[3][0],h="channelsLast"===l?e[2][1]:e[3][1];c={top:d,bottom:m,left:f,right:h,type:0===d&&0===m&&0===f&&0===h?"VALID":"EXPLICIT"},u=ym((t-a+d+m)/o+1,s),p=ym((n-i+f+h)/r+1,s)}}return{padInfo:c,outHeight:u,outWidth:p}}(r,c,u,h,y,v,w,a,s),_=i?f*p:f;let I;return"channelsFirst"===s?I=[l,_,x,S]:"channelsLast"===s&&(I=[l,x,S,_]),{batchSize:l,dataFormat:s,inHeight:c,inWidth:u,inChannels:p,outHeight:x,outWidth:S,outChannels:_,padInfo:k,strideHeight:h,strideWidth:y,filterHeight:d,filterWidth:m,effectiveFilterHeight:v,effectiveFilterWidth:w,dilationHeight:g,dilationWidth:b,inShape:e,outShape:I,filterShape:t}}function pm(e,t,n,o,r,a=!1,i="channelsLast",s){let[l,c,u,p,d]=[-1,-1,-1,-1,-1];if("channelsLast"===i)[l,c,u,p,d]=e;else{if("channelsFirst"!==i)throw new Error(`Unknown dataFormat ${i}`);[l,d,c,u,p]=e}const[m,f,h,,y]=t,[g,b,v]=fm(n),[w,k,x]=fm(o),S=hm(m,w),_=hm(f,k),I=hm(h,x),{padInfo:T,outDepth:E,outHeight:N,outWidth:C}=function(e,t,n,o,r,a,i,s,l,c,u){let p,d,m,f;"valid"===e&&(e=0);if("number"==typeof e){p={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const h=function(e,t,n,o,r,a){null==r&&(r=dm(e,t[0],o[0]));const i=[0,0,0,n];for(let n=0;n<3;n++)e[n]+2*r>=t[n]&&(i[n]=ym((e[n]-t[n]+2*r)/o[n]+1,a));return i}([t,n,o,1],[s,l,c],1,[r,a,i],e,u);d=h[0],m=h[1],f=h[2]}else{if("same"!==e)throw Error(`Unknown padding parameter: ${e}`);{d=Math.ceil(t/r),m=Math.ceil(n/a),f=Math.ceil(o/i);const e=(d-1)*r+s-t,u=(m-1)*a+l-n,h=(f-1)*i+c-o,y=Math.floor(e/2),g=e-y,b=Math.floor(u/2),v=u-b,w=Math.floor(h/2);p={top:b,bottom:v,left:w,right:h-w,front:y,back:g,type:"SAME"}}}return{padInfo:p,outDepth:d,outHeight:m,outWidth:f}}(r,c,u,p,g,b,v,S,_,I,s),A=a?y*d:y;let M;return"channelsFirst"===i?M=[l,A,E,N,C]:"channelsLast"===i&&(M=[l,E,N,C,A]),{batchSize:l,dataFormat:i,inDepth:c,inHeight:u,inWidth:p,inChannels:d,outDepth:E,outHeight:N,outWidth:C,outChannels:A,padInfo:T,strideDepth:g,strideHeight:b,strideWidth:v,filterDepth:m,filterHeight:f,filterWidth:h,effectiveFilterDepth:S,effectiveFilterHeight:_,effectiveFilterWidth:I,dilationDepth:w,dilationHeight:k,dilationWidth:x,inShape:e,outShape:M,filterShape:t}}function dm(e,t,n,o=1){const r=hm(t,o);return Math.floor((e[0]*(n-1)-n+r)/2)}function mm(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function fm(e){return"number"==typeof e?[e,e,e]:e}function hm(e,t){return t<=1?e:e+(e-1)*(t-1)}function ym(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function gm(e){const[t,n,o]=mm(e);return 1===t&&1===n&&1===o}function bm(e,t){return gm(e)||gm(t)}function vm(e){return mm(e).every((e=>e>0))}function wm(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function km(e,t,n){if(null!=n){if("string"==typeof t)throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if("number"==typeof t)wa(Ia(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`));else{if("object"!=typeof t)throw Error(`Error in ${e}: Unknown padding parameter: ${t}`);t.forEach((t=>{t.forEach((t=>{wa(Ia(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`))}))}))}}}const xm=Eu({reshape_:function(e,t){const n={x:_u(e,"x","reshape","string_or_numeric")},o={shape:t};return bu.runKernel(cl,n,o)}});const Sm=Eu({avgPool_:function(e,t,n,o,r){const a=_u(e,"x","avgPool","float32");wa(bm(n,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`));let i=a,s=!1;3===a.rank&&(s=!0,i=xm(a,[1,a.shape[0],a.shape[1],a.shape[2]])),wa(4===i.rank,(()=>`Error in avgPool: x must be rank 4 but got rank ${i.rank}.`)),km("avgPool",o,r);const l={x:i},c={filterSize:t,strides:n,pad:o,dimRoundingMode:r};let u=bu.runKernel(mi,l,c);return u=Op(u,a.dtype),s?xm(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const _m=Eu({avgPool3d_:function(e,t,n,o,r,a="NDHWC"){const i=_u(e,"x","avgPool3d","float32");let s=i,l=!1;4===i.rank&&(l=!0,s=xm(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),wa(5===s.rank,(()=>`Error in avgPool3d: x must be rank 5 but got rank ${s.rank}.`)),wa("NDHWC"===a,(()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${a}`)),wa("number"==typeof n&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,(()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`)),km("avgPool3d",o,r);const c={x:s},u={filterSize:t,strides:n,pad:o,dimRoundingMode:r,dataFormat:a};let p=bu.runKernel(hi,c,u);return p=Op(p,s.dtype),l?xm(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});const Im=Eu({concat_:function(e,t=0){wa(e.length>=1,(()=>"Pass at least one tensor to concat"));const n=Iu(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${e.dtype}. `)})),1===n.length)return Dp(n[0]);const o=n,r={axis:t};return bu.runKernel(Ei,o,r)}});const Tm=Eu({matMul_:function(e,t,n=!1,o=!1){let r=_u(e,"a","matMul"),a=_u(t,"b","matMul");[r,a]=pu(r,a);const i={a:r,b:a},s={transposeA:n,transposeB:o};return bu.runKernel(gi,i,s)}});const Em=Eu({sigmoid_:function(e){const t={x:_u(e,"x","sigmoid","float32")};return bu.runKernel(El,t)}});const Nm=Eu({slice_:function(e,t,n){const o=_u(e,"x","slice","string_or_numeric");if(0===o.rank)throw new Error("Slicing scalar is not possible");const r={x:o},a={begin:t,size:n};return bu.runKernel(Sl,r,a)}});const Cm=Eu({tanh_:function(e){const t={x:_u(e,"x","tanh","float32")};return bu.runKernel(Kl,t)}});const Am=Eu({basicLSTMCell_:function(e,t,n,o,r,a){const i=_u(e,"forgetBias","basicLSTMCell"),s=_u(t,"lstmKernel","basicLSTMCell"),l=_u(n,"lstmBias","basicLSTMCell"),c=_u(o,"data","basicLSTMCell"),u=_u(r,"c","basicLSTMCell"),p=_u(a,"h","basicLSTMCell"),d=Im([c,p],1),m=Tm(d,s),f=jp(m,l),h=f.shape[0],y=f.shape[1]/4,g=[h,y],b=Nm(f,[0,0],g),v=Nm(f,[0,y],g),w=Nm(f,[0,2*y],g),k=Nm(f,[0,3*y],g),x=jp(Hp(Em(b),Cm(v)),Hp(u,Em(jp(i,w))));return[x,Hp(Cm(x),Em(k))]}});const Mm=Eu({batchToSpaceND_:function(e,t,n){const o=_u(e,"x","batchToSpaceND"),r=t.reduce(((e,t)=>e*t));wa(o.rank>=1+t.length,(()=>`input rank is ${o.rank} but should be > than blockShape.length ${t.length}`)),wa(n.length===t.length,(()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`)),wa(o.shape[0]%r==0,(()=>`input tensor batch is ${o.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${r}`));const a={x:o},i={blockShape:t,crops:n};return bu.runKernel(bi,a,i)}});const Om=Eu({batchNorm_:function(e,t,n,o,r,a){null==a&&(a=.001);const i=_u(e,"x","batchNorm"),s=_u(t,"mean","batchNorm"),l=_u(n,"variance","batchNorm");let c,u;null!=r&&(c=_u(r,"scale","batchNorm")),null!=o&&(u=_u(o,"offset","batchNorm")),wa(s.rank===l.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),wa(null==u||s.rank===u.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),wa(null==c||s.rank===c.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const p={x:function(e){let t;return t=0===e.rank||1===e.rank?xm(e,[1,1,1,e.size]):2===e.rank?xm(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?xm(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(i),scale:c,offset:u,mean:s,variance:l},d={varianceEpsilon:a},m=bu.runKernel(ls,p,d);return xm(m,i.shape)}});const Dm=Eu({batchNorm2d_:function(e,t,n,o,r,a){const i=_u(e,"x","batchNorm"),s=_u(t,"mean","batchNorm"),l=_u(n,"variance","batchNorm");let c,u;return null!=r&&(c=_u(r,"scale","batchNorm")),null!=o&&(u=_u(o,"offset","batchNorm")),wa(2===i.rank,(()=>`Error in batchNorm2D: x must be rank 2 but got rank ${i.rank}.`)),wa(2===s.rank||1===s.rank,(()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${s.rank}.`)),wa(2===l.rank||1===l.rank,(()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`)),null!=c&&wa(2===c.rank||1===c.rank,(()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${c.rank}.`)),null!=u&&wa(2===u.rank||1===u.rank,(()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${u.rank}.`)),Om(i,s,l,u,c,a)}});const Rm=Eu({batchNorm3d_:function(e,t,n,o,r,a){const i=_u(e,"x","batchNorm"),s=_u(t,"mean","batchNorm"),l=_u(n,"variance","batchNorm");let c,u;return null!=r&&(c=_u(r,"scale","batchNorm")),null!=o&&(u=_u(o,"offset","batchNorm")),wa(3===i.rank,(()=>`Error in batchNorm3D: x must be rank 3 but got rank ${i.rank}.`)),wa(3===s.rank||1===s.rank,(()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${s.rank}.`)),wa(3===l.rank||1===l.rank,(()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`)),null!=c&&wa(3===c.rank||1===c.rank,(()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${c.rank}.`)),null!=u&&wa(3===u.rank||1===u.rank,(()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${u.rank}.`)),Om(i,s,l,u,c,a)}});const Fm=Eu({batchNorm4d_:function(e,t,n,o,r,a){const i=_u(e,"x","batchNorm"),s=_u(t,"mean","batchNorm"),l=_u(n,"variance","batchNorm");let c,u;return null!=r&&(c=_u(r,"scale","batchNorm")),null!=o&&(u=_u(o,"offset","batchNorm")),wa(4===i.rank,(()=>`Error in batchNorm4D: x must be rank 4 but got rank ${i.rank}.`)),wa(4===s.rank||1===s.rank,(()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${s.rank}.`)),wa(4===l.rank||1===l.rank,(()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`)),null!=c&&wa(4===c.rank||1===c.rank,(()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${c.rank}.`)),null!=u&&wa(4===u.rank||1===u.rank,(()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${u.rank}.`)),Om(i,s,l,u,c,a)}});const zm=Eu({bincount_:function(e,t,n){const o=_u(e,"x","bincount"),r=_u(t,"weights","bincount");wa("int32"===o.dtype,(()=>`Error in bincount: input dtype must be int32, but got ${o.dtype}`)),wa(n>=0,(()=>`size must be non-negative, but got ${n}.`)),wa(r.size===o.size||0===r.size,(()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${o.shape}, weights shape: ${r.shape}.`));const a={x:o,weights:r},i={size:n};return bu.runKernel(vi,a,i)}});const Pm=Eu({bitwiseAnd_:function(e,t){const n=_u(e,"x","bitwiseAnd"),o=_u(t,"y","bitwiseAnd");if(!_a(n.shape,o.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${o.shape}`);if("int32"!==n.dtype||"int32"!==o.dtype)throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${o.dtype}`);const r={a:n,b:o};return bu.runKernel(wi,r)}});const $m=Eu({broadcastArgs_:function(e,t){const n=_u(e,"s0","broadcastArgs","int32"),o=_u(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(1!==o.rank)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${o.rank}`);const r={s0:n,s1:o};return bu.runKernel(ki,r)}});const Lm=Eu({broadcastTo_:function(e,t){let n=_u(e,"broadcastTo","x");const o=n.shape;if(ja(t),t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=xm(n,e)}const r=n.shape,a=Array.from(t);for(let e=t.length-1;e>=0;e--)if(r[e]===t[e])a[e]=1;else if(1!==n.shape[e])throw new Error(`broadcastTo(): [${o}] cannot be broadcast to [${t}].`);const i=a.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0));if(0===i.length)return Dp(n);const s={x:n},l={reps:a};return bu.runKernel(Yl,s,l)}});const Bm=Eu({ceil_:function(e){const t={x:_u(e,"x","ceil","float32")};return bu.runKernel(Si,t)}});const jm=Eu({clipByValue_:function(e,t,n){const o=_u(e,"x","clipByValue");if(wa(t<=n,(()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`)),t===n)return nd(o.shape,t,o.dtype);const r={x:o},a={clipValueMin:t,clipValueMax:n};return bu.runKernel(_i,r,a)}});const Wm=Eu({concat1d_:function(e){return Im(e,0)}});const Um=Eu({concat2d_:function(e,t){return Im(e,t)}});const Hm=Eu({concat3d_:function(e,t){return Im(e,t)}});const Vm=Eu({concat4d_:function(e,t){return Im(e,t)}});const qm=Eu({conv2d_:function(e,t,n,o,r="NHWC",a=[1,1],i){const s=_u(e,"x","conv2d","float32"),l=_u(t,"filter","conv2d","float32");let c=s,u=!1;3===s.rank&&(u=!0,c=xm(s,[1,s.shape[0],s.shape[1],s.shape[2]])),wa(4===c.rank,(()=>`Error in conv2d: input must be rank 4, but got rank ${c.rank}.`)),wa(4===l.rank,(()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`)),km("conv2d",o,i);const p="NHWC"===r?c.shape[3]:c.shape[1];wa(p===l.shape[2],(()=>`Error in conv2d: depth of input (${p}) must match input depth for filter ${l.shape[2]}.`)),wa(bm(n,a),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`)),wa(vm(a),(()=>"Error in conv2D: Dilated rates should be larger than 0.")),wa(vm(n),(()=>"Error in conv2D: Strides should be larger than 0."));const d={x:c,filter:l},m={strides:n,pad:o,dataFormat:r,dilations:a,dimRoundingMode:i},f=bu.runKernel(Ni,d,m);return u?xm(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const Gm=Eu({conv1d_:function(e,t,n,o,r="NWC",a=1,i){const s=_u(e,"x","conv1d"),l=_u(t,"filter","conv1d");let c=s,u=!1;2===s.rank&&(u=!0,c=xm(s,[1,s.shape[0],s.shape[1]])),wa(3===c.rank,(()=>`Error in conv1d: input must be rank 3, but got rank ${c.rank}.`)),wa(3===l.rank,(()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`)),km("conv1d",o,i),wa(c.shape[2]===l.shape[1],(()=>`Error in conv1d: depth of input (${c.shape[2]}) must match input depth for filter ${l.shape[1]}.`)),wa(bm(n,a),(()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${a}'`)),wa(vm(a),(()=>"Error in conv1D: Dilated rates should be larger than 0.")),wa(vm(n),(()=>"Error in conv1D: Stride should be larger than 0.")),wa("NWC"===r,(()=>`Error in conv1d: got dataFormat of ${r} but only NWC is currently supported.`));const p=xm(l,[1,l.shape[0],l.shape[1],l.shape[2]]),d=xm(c,[c.shape[0],1,c.shape[1],c.shape[2]]),m=qm(d,p,[1,n],o,"NHWC",[1,a],i);return xm(m,u?[m.shape[2],m.shape[3]]:[m.shape[0],m.shape[2],m.shape[3]])}});const Km=Eu({conv2DBackpropInput_:function(e,t,n,o,r,a="NHWC",i){wa(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let s=e,l=t,c=!1;3===t.rank&&(c=!0,l=xm(t,[1,t.shape[0],t.shape[1],t.shape[2]]),s=[1,e[0],e[1],e[2]]),wa(4===s.length,(()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${s.length}.`)),wa(4===l.rank,(()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`)),wa(4===n.rank,(()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`));const u="NHWC"===a?s[3]:s[1],p="NHWC"===a?l.shape[3]:l.shape[1];wa(u===n.shape[2],(()=>`Error in conv2dDerInput: depth of input (${u}) must match input depth for filter ${n.shape[2]}.`)),wa(p===n.shape[3],(()=>`Error in conv2dDerInput: depth of output (${p}) must match output depth for filter ${n.shape[3]}.`)),km("conv2dDerInput",r,i);const d={dy:l,filter:n},m={strides:o,pad:r,dataFormat:a,dimRoundingMode:i,inputShape:s},f=bu.runKernel(Ai,d,m);return c?xm(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const Ym=Eu({conv2dTranspose_:function(e,t,n,o,r,a){const i=_u(e,"x","conv2dTranspose"),s=_u(t,"filter","conv2dTranspose");return Km(n,i,s,o,r,"NHWC",a)}});const Xm=Eu({conv3d_:function(e,t,n,o,r="NDHWC",a=[1,1,1]){const i=_u(e,"x","conv3d"),s=_u(t,"filter","conv3d");let l=i,c=!1;4===i.rank&&(c=!0,l=xm(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),wa(5===l.rank,(()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`)),wa(5===s.rank,(()=>`Error in conv3d: filter must be rank 5, but got rank ${s.rank}.`)),wa(l.shape[4]===s.shape[3],(()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${s.shape[3]}.`)),wa(bm(n,a),(()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`)),wa("NDHWC"===r,(()=>`Error in conv3d: got dataFormat of ${r} but only NDHWC is currently supported.`)),wa(vm(a),(()=>"Error in conv3D: Dilated rates should be larger than 0.")),wa(vm(n),(()=>"Error in conv3D: Strides should be larger than 0."));const u={x:l,filter:s},p={strides:n,pad:o,dataFormat:r,dilations:a},d=bu.runKernel(Mi,u,p);return c?xm(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const Jm=Eu({conv3DBackpropInput_:function(e,t,n,o,r){wa(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let a=e,i=t,s=!1;4===t.rank&&(s=!0,i=xm(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),a=[1,e[0],e[1],e[2],e[3]]);const l=a[4],c=i.shape[4];wa(5===a.length,(()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${a.length}.`)),wa(5===i.rank,(()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${i.rank}`)),wa(5===n.rank,(()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`)),wa(l===n.shape[3],(()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`)),wa(c===n.shape[4],(()=>`Error in conv3dDerInput: depth of output (${c}) must match output depth for filter ${n.shape[4]}.`));const u={dy:i,filter:n},p={pad:r,strides:o,inputShape:a},d=bu.runKernel(Di,u,p);return s?xm(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const Zm=Eu({conv3dTranspose_:function(e,t,n,o,r){const a=_u(e,"x","conv3dTranspose"),i=_u(t,"filter","conv3dTranspose");return Jm(n,a,i,o,r)}});const Qm=Eu({cos_:function(e){const t={x:_u(e,"x","cos","float32")};return bu.runKernel(Ri,t)}});const ef=Eu({cosh_:function(e){const t={x:_u(e,"x","cosh","float32")};return bu.runKernel(Fi,t)}});const tf=Eu({cumprod_:function(e,t=0,n=!1,o=!1){const r={x:_u(e,"x","cumprod")},a={axis:t,exclusive:n,reverse:o};return bu.runKernel(zi,r,a)}});const nf=Eu({cumsum_:function(e,t=0,n=!1,o=!1){const r={x:_u(e,"x","cumsum")},a={axis:t,exclusive:n,reverse:o};return bu.runKernel(Pi,r,a)}});const of=Eu({denseBincount_:function(e,t,n,o=!1){const r=_u(e,"x","denseBincount"),a=_u(t,"weights","denseBincount");wa("int32"===r.dtype,(()=>`Error in denseBincount: input dtype must be int32, but got ${r.dtype}`)),wa(r.rank<=2,(()=>`Error in denseBincount: input must be at most rank 2, but got rank ${r.rank}.`)),wa(n>=0,(()=>`size must be non-negative, but got ${n}.`)),wa(a.size===r.size||0===a.size,(()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${r.shape}, weights shape: ${a.shape}.`));const i={x:r,weights:a},s={size:n,binaryOutput:o};return bu.runKernel(Li,i,s)}});const rf=Eu({depthToSpace_:function(e,t,n="NHWC"){const o=_u(e,"x","depthToSpace","float32"),r="NHWC"===n?o.shape[1]:o.shape[2],a="NHWC"===n?o.shape[2]:o.shape[3],i="NHWC"===n?o.shape[3]:o.shape[1];wa(t>1,(()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`)),wa(r*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${r} and ${t}  for depthToSpace with input shape\n    ${o.shape}`)),wa(a*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${a} and ${t} for depthToSpace with input shape\n        ${o.shape}`)),wa(i%(t*t)==0,(()=>`Dimension size must be evenly divisible by ${t*t} but is ${i} for depthToSpace with input shape ${o.shape}`));const s={x:o},l={blockSize:t,dataFormat:n};return bu.runKernel(Bi,s,l)}});const af=Eu({depthwiseConv2d_:function(e,t,n,o,r="NHWC",a=[1,1],i){const s=_u(e,"x","depthwiseConv2d","float32"),l=_u(t,"filter","depthwiseConv2d","float32");let c=s,u=!1;3===s.rank&&(u=!0,c=xm(s,[1,s.shape[0],s.shape[1],s.shape[2]])),wa(4===c.rank,(()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${c.rank}.`)),wa(4===l.rank,(()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`));const p="NHWC"===r?c.shape[3]:c.shape[1];wa(p===l.shape[2],(()=>`Error in depthwiseConv2d: number of input channels (${p}) must match the inChannels dimension in filter ${l.shape[2]}.`)),km("depthwiseConv2d",o,i);const d={x:c,filter:l},m={strides:n,pad:o,dataFormat:r,dilations:a,dimRoundingMode:i},f=bu.runKernel(ji,d,m);return u?xm(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const sf=Eu({diag_:function(e){const t={x:_u(e,"x","diag")};return bu.runKernel(Hi,t)}});const lf=Eu({dilation2d_:function(e,t,n,o,r=[1,1],a="NHWC"){const i=_u(e,"x","dilation2d"),s=_u(t,"filter","dilation2d");wa(3===i.rank||4===i.rank,(()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${i.rank}.`)),wa(3===s.rank,(()=>`Error in dilation2d: filter must be rank 3, but got rank ${s.rank}.`)),wa("NHWC"===a,(()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${a}`));let l=i,c=!1;3===i.rank&&(l=xm(i,[1,i.shape[0],i.shape[1],i.shape[2]]),c=!0),wa(l.shape[3]===s.shape[2],(()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${s.shape[2]}`));const u={x:l,filter:s},p={strides:n,pad:o,dilations:r},d=bu.runKernel(Vi,u,p);return c?xm(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});const cf=Eu({equal_:function(e,t){let n=_u(e,"a","equal","string_or_numeric"),o=_u(t,"b","equal","string_or_numeric");[n,o]=pu(n,o),sd(n.shape,o.shape);const r={a:n,b:o};return bu.runKernel(es,r)}});const uf=Eu({where_:function(e,t,n){const o=_u(t,"a","where"),r=_u(n,"b","where"),a=_u(e,"condition","where","bool"),i=sd(sd(a.shape,o.shape),r.shape),s={condition:Lm(a,i),t:Lm(o,i),e:Lm(r,i)};return bu.runKernel(kl,s)}});const pf=Eu({divNoNan_:function(e,t){let n=_u(e,"a","div"),o=_u(t,"b","div");[n,o]=pu(n,o);const r=Up(n,o),a=Gp(r),i=cf(o,a);return uf(i,a,r)}});const df=Eu({dot_:function(e,t){const n=_u(e,"t1","dot"),o=_u(t,"t2","dot");wa(!(1!==n.rank&&2!==n.rank||1!==o.rank&&2!==o.rank),(()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${o.rank}.`));const r=1===n.rank?n.size:n.shape[1],a=1===o.rank?o.size:o.shape[0];if(wa(r===a,(()=>`Error in dot: inner dimensions of inputs must match, but got ${r} and ${a}.`)),1===n.rank&&1===o.rank){const e=xm(n,[1,-1]),t=xm(o,[-1,1]),r=Tm(e,t);return xm(r,[])}if(1===n.rank&&2===o.rank){const e=xm(n,[1,-1]),t=xm(o,[o.shape[0],o.shape[1]]),r=Tm(e,t);return xm(r,[r.size])}if(2===n.rank&&1===o.rank){const e=xm(o,[-1,1]),t=Tm(n,e);return xm(t,[t.size])}{const e=xm(o,[o.shape[0],o.shape[1]]);return Tm(n,e)}}});const mf=Eu({einsum_:function(e,...t){const n=t.map(((e,t)=>_u(e,`tensors${t}`,"einsum"))),o={equation:e};return bu.runKernel(Xi,n,o)}});const ff=Eu({elu_:function(e){const t={x:_u(e,"x","elu","float32")};return bu.runKernel(Ji,t)}});const hf=Eu({ensureShape_:function(e,t){const n=_u(e,"x","ensureShape","string_or_numeric");if(!function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(null!==e[n]&&null!==t[n]&&e[n]!==t[n])return!1;return!0}(n.shape,t))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${t}`);return e}});const yf=Eu({erf_:function(e){let t=_u(e,"x","erf");wa("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=Op(t,"float32"));const n={x:t};return bu.runKernel(Qi,n)}});function gf(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function bf(e,t){const n=[],o=e.length;for(let r=0;r<o;r++)-1===t.indexOf(r)&&n.push(e[r]);return[n,t.map((t=>e[t]))]}function vf(e,t){return function(e,t,n){const o=e.length+t.length,r=[];let a=0,i=0;for(let s=0;s<o;s++)-1===n.indexOf(s)?r.push(e[a++]):r.push(t[i++]);return r}(e,t.map((e=>1)),t)}function wf(e,t,n){wa(gf(t,n),(()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`))}function kf(e,t){if(gf(e,t))return null;const n=[];for(let o=0;o<t;++o)-1===e.indexOf(o)&&n.push(o);return e.forEach((e=>n.push(e))),n}function xf(e){return e.map(((e,t)=>[t,e])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}function Sf(e,t){const n=[];for(let o=t-e;o<t;++o)n.push(o);return n}const _f=Eu({max_:function(e,t=null,n=!1){const o={x:_u(e,"x","max")},r={reductionIndices:t,keepDims:n};return bu.runKernel(As,o,r)}});const If=Eu({min_:function(e,t=null,n=!1){const o={x:_u(e,"x","min")},r={axis:t,keepDims:n};return bu.runKernel($s,o,r)}});const Tf=Eu({sum_:function(e,t=null,n=!1){let o=_u(e,"x","sum");"bool"===o.dtype&&(o=Op(o,"int32"));const r={x:o},a={axis:t,keepDims:n};return bu.runKernel(Al,r,a)}});function Ef(e,t,n=null){if(0===e.rank)return ad(e);if(1!==e.rank&&null===n)return Ef(xm(e,[-1]),t,n);if(1===e.rank||"number"==typeof n||Array.isArray(n)&&1===n.length){if(1===t)return Tf(ad(e),n);if(t===1/0)return _f(ad(e),n);if(t===-1/0)return If(ad(e),n);if("euclidean"===t||2===t)return Vp(Tf(od(ad(e),Yp(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&2===n.length){if(1===t)return _f(Tf(ad(e),n[0]),n[1]-1);if(t===1/0)return _f(Tf(ad(e),n[1]),n[0]);if(t===-1/0)return If(Tf(ad(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return Vp(Tf(qp(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const Nf=Eu({norm_:function(e,t="euclidean",n=null,o=!1){const r=Ef(e=_u(e,"x","norm"),t,n);let a=r.shape;if(o){const t=Na(n,e.shape);a=vf(r.shape,t)}return xm(r,a)}});const Cf=Eu({euclideanNorm_:function(e,t=null,n=!1){return Nf(e,"euclidean",t,n)}});const Af=Eu({exp_:function(e){const t={x:_u(e,"x","exp")};return bu.runKernel(ts,t)}});const Mf=Eu({expandDims_:function(e,t=0){const n=_u(e,"x","expandDims","string_or_numeric");wa(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const o={input:n},r={dim:t};return bu.runKernel(ns,o,r)}});const Of=Eu({expm1_:function(e){const t={x:_u(e,"x","expm1")};return bu.runKernel(os,t)}});const Df=Eu({tile_:function(e,t){const n=_u(e,"x","tile","string_or_numeric");wa(n.rank===t.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`));const o={x:n},r={reps:t};return bu.runKernel(Yl,o,r)}});const Rf=Eu({eye_:function(e,t,n,o="float32"){null==t&&(t=e);const r=Mp([e,t],o),a=e<=t?e:t;for(let e=0;e<a;++e)r.set(1,e,e);const i=xm(r.toTensor(),[e,t]);if(null==n)return i;if(1===n.length)return Df(Mf(i,0),[n[0],1,1]);if(2===n.length)return Df(Mf(Mf(i,0),0),[n[0],n[1],1,1]);if(3===n.length)return Df(Mf(Mf(Mf(i,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}});const Ff=Eu({floor_:function(e){const t={x:_u(e,"x","floor","float32")};return bu.runKernel(is,t)}});const zf=Eu({gather_:function(e,t,n=0,o=0){const r={x:_u(e,"x","gather"),indices:_u(t,"indices","gather","int32")},a={axis:n,batchDims:o};return bu.runKernel(cs,r,a)}});const Pf=Eu({greater_:function(e,t){let n=_u(e,"a","greater","string_or_numeric"),o=_u(t,"b","greater","string_or_numeric");[n,o]=pu(n,o),sd(n.shape,o.shape);const r={a:n,b:o};return bu.runKernel(ps,r)}});const $f=Eu({greaterEqual_:function(e,t){let n=_u(e,"a","greaterEqual","string_or_numeric"),o=_u(t,"b","greaterEqual","string_or_numeric");[n,o]=pu(n,o),sd(n.shape,o.shape);const r={a:n,b:o};return bu.runKernel(ds,r)}});const Lf=Eu({imag_:function(e){const t={input:_u(e,"input","imag")};return bu.runKernel(hs,t)}});const Bf=Eu({isFinite_:function(e){const t={x:_u(e,"x","isFinite")};return bu.runKernel(ys,t)}});const jf=Eu({isInf_:function(e){const t={x:_u(e,"x","isInf")};return bu.runKernel(gs,t)}});const Wf=Eu({isNaN_:function(e){const t={x:_u(e,"x","isNaN")};return bu.runKernel(bs,t)}});const Uf=Eu({leakyRelu_:function(e,t=.2){const n={x:_u(e,"x","leakyRelu")},o={alpha:t};return bu.runKernel(vs,n,o)}});const Hf=Eu({less_:function(e,t){let n=_u(e,"a","less","string_or_numeric"),o=_u(t,"b","less","string_or_numeric");[n,o]=pu(n,o),sd(n.shape,o.shape);const r={a:n,b:o};return bu.runKernel(ws,r)}});const Vf=Eu({lessEqual_:function(e,t){let n=_u(e,"a","lessEqual","string_or_numeric"),o=_u(t,"b","lessEqual","string_or_numeric");[n,o]=pu(n,o),sd(n.shape,o.shape);const r={a:n,b:o};return bu.runKernel(ks,r)}});function qf(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const o={start:e,stop:t,num:n};return bu.runKernel(xs,{},o)}const Gf=Eu({localResponseNormalization_:function(e,t=5,n=1,o=1,r=.5){const a=_u(e,"x","localResponseNormalization");wa(4===a.rank||3===a.rank,(()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${a.rank}.`)),wa(Ia(t),(()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`));let i=a,s=!1;3===a.rank&&(s=!0,i=xm(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const l={x:i},c={depthRadius:t,bias:n,alpha:o,beta:r},u=bu.runKernel(Ns,l,c);return s?xm(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const Kf=Eu({log_:function(e){const t={x:_u(e,"x","log","float32")};return bu.runKernel(Ss,t)}});const Yf=Eu({log1p_:function(e){const t={x:_u(e,"x","log1p")};return bu.runKernel(_s,t)}});const Xf=Eu({neg_:function(e){const t={x:_u(e,"x","neg")};return bu.runKernel(Hs,t)}});const Jf=Eu({softplus_:function(e){const t={x:_u(e,"x","softplus")};return bu.runKernel(Nl,t)}});const Zf=Eu({logSigmoid_:function(e){const t=_u(e,"x","logSigmoid");return Kp((e=>({value:Xf(Jf(Xf(e))),gradFunc:t=>Hp(t,Em(Xf(e)))})))(t)}});const Qf=Eu({logSoftmax_:function(e,t=-1){const n=_u(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);const o=Kp(((e,n)=>{const o=_f(e,t,!0),r=rd(e,o),a=rd(Op(r,"float32"),Kf(Tf(Af(r),t,!0)));n([a]);return{value:a,gradFunc:(e,n)=>{const[o]=n,r=Af(o);return rd(e,Hp(Tf(e,t,!0),r))}}}));return o(n)}});const eh=Eu({logSumExp_:function(e,t=null,n=!1){const o=_u(e,"x","logSumExp"),r=Na(t,o.shape),a=_f(o,r,!0),i=rd(o,a),s=Af(i),l=Tf(s,r),c=Kf(l),u=jp(xm(a,c.shape),c);if(n){const e=vf(u.shape,r);return xm(u,e)}return u}});const th=Eu({logicalAnd_:function(e,t){const n=_u(e,"a","logicalAnd","bool"),o=_u(t,"b","logicalAnd","bool");sd(n.shape,o.shape);const r={a:n,b:o};return bu.runKernel(Is,r)}});const nh=Eu({logicalNot_:function(e){const t={x:_u(e,"x","logicalNot","bool")};return bu.runKernel(Ts,t)}});const oh=Eu({logicalOr_:function(e,t){const n=_u(e,"a","logicalOr","bool"),o=_u(t,"b","logicalOr","bool");sd(n.shape,o.shape);const r={a:n,b:o};return bu.runKernel(Es,r)}});const rh=Eu({logicalXor_:function(e,t){const n=_u(e,"a","logicalXor","bool"),o=_u(t,"b","logicalXor","bool");return sd(n.shape,o.shape),th(oh(e,t),nh(th(e,t)))}}),ah=2147483648;const ih=Eu({searchSorted_:function(e,t,n="left"){const o=_u(e,"sortedSequence","searchSorted"),r=_u(t,"values","searchSorted"),a=o.shape[o.shape.length-1],i=r.shape[r.shape.length-1],s=xm(o,[-1,a]),l=xm(r,[-1,i]);if(s.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(s.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(Sa(l.shape)>=ah)throw new Error("values tensor size must less than 2147483648");if(s.shape[1]>=ah)throw new Error(`trailing dim_size must less than 2147483648 for int32 output type, was ${s.shape[1]}`);const c={sortedSequence:s,values:l},u={side:n};return bu.runKernel(wl,c,u)}});function sh(e,t){return ih(e,t,"left")}const lh=Eu({maxPool_:function(e,t,n,o,r){const a=_u(e,"x","maxPool");let i=a,s=!1;3===a.rank&&(s=!0,i=xm(a,[1,a.shape[0],a.shape[1],a.shape[2]])),wa(4===i.rank,(()=>`Error in maxPool: input must be rank 4 but got rank ${i.rank}.`)),wa(bm(n,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`)),km("maxPool",o,r);const l={x:i},c={filterSize:t,strides:n,pad:o,dimRoundingMode:r},u=bu.runKernel(Os,l,c);return s?xm(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const ch=Eu({maxPool3d_:function(e,t=[1,1,1],n,o,r,a="NDHWC"){const i=_u(e,"x","maxPool3d");let s=i,l=!1;4===i.rank&&(l=!0,s=xm(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),wa(5===s.rank,(()=>`Error in maxPool3d: x must be rank 5 but got rank ${s.rank}.`)),wa("NDHWC"===a,(()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${a}`)),km("maxPool3d",o,r);const c={x:s},u={filterSize:t,strides:n,pad:o,dimRoundingMode:r,dataFormat:a},p=bu.runKernel(Rs,c,u);return l?xm(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});const uh=Eu({maxPoolWithArgmax_:function(e,t,n,o,r=!1){const a={x:_u(e,"x","maxPoolWithArgmax")},i={filterSize:t,strides:n,pad:o,includeBatchInIndex:r},s=bu.runKernel(zs,a,i);return{result:s[0],indexes:s[1]}}});const ph=Eu({mean_:function(e,t=null,n=!1){const o={x:_u(e,"x","mean")},r={axis:t,keepDims:n};return bu.runKernel(Ps,o,r)}});function dh(e,t="float32"){if(ja(e),"complex64"===t){const t=dh(e,"float32"),n=dh(e,"float32");return Nu(t,n)}const n=La(Sa(e),t);return bu.makeTensor(n,e,t)}function mh(e,t="float32"){if(ja(e),"complex64"===t){const t=mh(e,"float32"),n=dh(e,"float32");return Nu(t,n)}const n=$a(Sa(e),t);return bu.makeTensor(n,e,t)}function fh(e,t,{indexing:n="xy"}={}){if("xy"!==n&&"ij"!==n)throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(void 0===e)return[];let o=_u(e,"x","meshgrid",e instanceof eu?e.dtype:"float32");if(void 0===t)return[o];let r=_u(t,"y","meshgrid",t instanceof eu?t.dtype:"float32");const a=Sa(o.shape),i=Sa(r.shape);return"xy"===n?(o=xm(o,[1,-1]),r=xm(r,[-1,1]),[Tm(mh([i,1],o.dtype),o),Tm(r,mh([1,a],r.dtype))]):(o=xm(o,[-1,1]),r=xm(r,[1,-1]),[Tm(o,mh([1,i],o.dtype)),Tm(mh([a,1],r.dtype),r)])}const hh=Eu({minimum_:function(e,t){let n=_u(e,"a","minimum"),o=_u(t,"b","minimum");[n,o]=pu(n,o),"bool"===n.dtype&&(n=Op(n,"int32"),o=Op(o,"int32")),sd(n.shape,o.shape);const r={a:n,b:o};return bu.runKernel(Ls,r)}});const yh=Eu({mirrorPad_:function(e,t,n){wa("reflect"===n||"symmetric"===n,(()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`));const o=_u(e,"x","mirrorPad");if(0===o.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");wa(t.length===o.rank,(()=>`Padding doesn't match input. Must be ${o.rank}. Got ${t.length}.`));const r="reflect"===n?1:0;for(let e=0;e<o.rank;e++)wa(2===t[e].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),wa(t[e][0]>=0&&t[e][0]<=o.shape[e]-r&&t[e][1]>=0&&t[e][1]<=o.shape[e]-r,(()=>`Padding in dimension ${e} cannot be greater than or equal to ${o.shape[e]-r} or less than 0 for input of shape ${o.shape}`));const a={paddings:t,mode:n},i={x:o};return bu.runKernel(Bs,i,a)}});const gh=Eu({mod_:function(e,t){let n=_u(e,"a","mod"),o=_u(t,"b","mod");[n,o]=pu(n,o);const r={a:n,b:o};return bu.runKernel(js,r)}});const bh=Eu({moments_:function(e,t=null,n=!1){const o=Na(t,(e=_u(e,"x","moments")).shape),r=ph(e,o,n);let a=r.shape;n||(a=vf(r.shape,o));const i=qp(rd(Op(e,"float32"),xm(r,a)));return{mean:r,variance:ph(i,o,n)}}});const vh=Eu({multiRNNCell_:function(e,t,n,o){const r=_u(t,"data","multiRNNCell"),a=Iu(n,"c","multiRNNCell"),i=Iu(o,"h","multiRNNCell");let s=r;const l=[];for(let t=0;t<e.length;t++){const n=e[t](s,a[t],i[t]);l.push(n[0]),l.push(n[1]),s=n[1]}const c=[],u=[];for(let e=0;e<l.length;e+=2)c.push(l[e]),u.push(l[e+1]);return[c,u]}});const wh=Eu({multinomial_:function(e,t,n,o=!1){const r=_u(e,"logits","multinomial"),a=r.size,i=r.rank;if(a<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${a}.`);if(i>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${i}`);n=n||Math.random();const s={logits:1===i?xm(r,[1,-1]):r},l={numSamples:t,seed:n,normalized:o},c=bu.runKernel(Ws,s,l);return 1===i?xm(c,[c.size]):c}});const kh=Eu({notEqual_:function(e,t){let n=_u(e,"a","notEqual","string_or_numeric"),o=_u(t,"b","notEqual","string_or_numeric");[n,o]=pu(n,o),sd(n.shape,o.shape);const r={a:n,b:o};return bu.runKernel(Vs,r)}});const xh=Eu({oneHot_:function(e,t,n=1,o=0,r="int32"){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const a={indices:_u(e,"indices","oneHot","int32")},i={dtype:r,depth:t,onValue:n,offValue:o};return bu.runKernel(Xs,a,i)}});const Sh=Eu({onesLike_:function(e){const t={x:_u(e,"x","onesLike")};return bu.runKernel(Ys,t)}});const _h=Eu({outerProduct_:function(e,t){const n=_u(e,"v1","outerProduct"),o=_u(t,"v2","outerProduct");wa(1===n.rank&&1===o.rank,(()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${o.rank}.`));const r=xm(n,[-1,1]),a=xm(o,[1,-1]);return Tm(r,a)}});const Ih=Eu({pad_:function(e,t,n=0){const o=_u(e,"x","pad");if(0===o.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const r={paddings:t,constantValue:n},a={x:o};return bu.runKernel(Zs,a,r)}});const Th=Eu({pad1d_:function(e,t,n=0){return wa(2===t.length,(()=>"Invalid number of paddings. Must be length of 2.")),Ih(e,[t],n)}});const Eh=Eu({pad2d_:function(e,t,n=0){return wa(2===t.length&&2===t[0].length&&2===t[1].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Ih(e,t,n)}});const Nh=Eu({pad3d_:function(e,t,n=0){return wa(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Ih(e,t,n)}});const Ch=Eu({pad4d_:function(e,t,n=0){return wa(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Ih(e,t,n)}});const Ah=Eu({spaceToBatchND_:function(e,t,n){const o=_u(e,"x","spaceToBatchND");wa(o.rank>=1+t.length,(()=>`input rank ${o.rank} should be > than [blockShape] ${t.length}`)),wa(n.length===t.length,(()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`)),wa(o.shape.reduce(((e,o,r)=>r>0&&r<=t.length?e&&(o+n[r-1][0]+n[r-1][1])%t[r-1]==0:e),!0),(()=>`input spatial dimensions ${o.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`));const r={x:o},a={blockShape:t,paddings:n};return bu.runKernel(Ml,r,a)}});const Mh=Eu({pool_:function(e,t,n,o,r,a,i){null==r&&(r=[1,1]),null==a&&(a=1),0===o&&(o="valid");const s=_u(e,"x","maxPool");let l=s,c=!1;3===s.rank&&(c=!0,l=xm(s,[1,s.shape[0],s.shape[1],s.shape[2]])),wa(bm(a,r),(()=>`Error in pool: Either strides or dilations must be 1. Got strides ${a} and dilations '${r}'`));const u=lm(l.shape,t,a,r,o),p=[u.dilationHeight,u.dilationWidth];let d;d="same"===o?function(e,t){const n=e.map(((e,n)=>e+(e-1)*(t[n]-1))),o=n.map((e=>e-1)),r=o.map((e=>Math.floor(e/2))),a=o.map(((e,t)=>e-r[t]));return o.map(((e,t)=>[r[t],a[t]]))}([u.filterHeight,u.filterWidth],p):[[0,0],[0,0]];const m=1===p[0]&&1===p[1],[f,h]=function(e,t,n){const o=n.map((e=>e[0])),r=n.map((e=>e[1])),a=e.concat(o,r),i=t.map(((e,t)=>(e-a[t]%e)%e)),s=r.map(((e,t)=>e+i[t])),l=t.map(((e,t)=>[o[t],s[t]])),c=t.map(((e,t)=>[0,i[t]]));return[l,c]}([u.inHeight,u.inWidth],p,d),y=m?o:"valid",g=m?l:Ah(l,p,f),b=("avg"===n?()=>Sm(g,t,a,y,i):()=>lh(g,t,a,y,i))(),v=m?b:Mm(b,p,h);return c?xm(v,[v.shape[1],v.shape[2],v.shape[3]]):v}});const Oh=Eu({prelu_:function(e,t){const n={x:_u(e,"x","prelu"),alpha:_u(t,"alpha","prelu")};return bu.runKernel(el,n)}});const Dh=Eu({prod_:function(e,t=null,n=!1){let o=_u(e,"x","prod");"bool"===o.dtype&&(o=Op(o,"int32"));const r={x:o},a={axis:t,keepDims:n};return bu.runKernel(tl,r,a)}});const Rh=Eu({raggedGather_:function(e,t,n,o){const r=e.map(((e,t)=>_u(e,`tensors${t}`,"raggedGather","int32"))),a={paramsNestedSplits:r,paramsDenseValues:_u(t,"paramsDenseValues","raggedGather"),indices:_u(n,"indices","raggedGather","int32")},i={outputRaggedRank:o},s=bu.runKernel(nl,a,i);return{outputNestedSplits:s.slice(0,s.length-1),outputDenseValues:s[s.length-1]}}});const Fh=Eu({raggedRange_:function(e,t,n){const o=_u(e,"starts","raggedRange"),r={starts:o,limits:_u(t,"limits","raggedRange",o.dtype),deltas:_u(n,"deltas","raggedRange",o.dtype)},a=bu.runKernel(ol,r);return{rtNestedSplits:a[0],rtDenseValues:a[1]}}});const zh=Eu({raggedTensorToTensor_:function(e,t,n,o,r){const a=_u(e,"shape","raggedTensorToTensor","int32"),i=_u(t,"values","raggedTensorToTensor"),s=_u(n,"defaultValue","raggedTensorToTensor",i.dtype),l=o.map(((e,t)=>_u(e,`tensors${t}`,"raggedTensorToTensor","int32"))),c={shape:a,values:i,defaultValue:s,rowPartitionTensors:l},u={rowPartitionTypes:r};return bu.runKernel(rl,c,u)}});const Ph=Eu({rand_:function(e,t,n){ja(e);const o=Sa(e);let r=null;if(null==n||"float32"===n)r=new Float32Array(o);else if("int32"===n)r=new Int32Array(o);else{if("bool"!==n)throw new Error(`Unknown data type ${n}`);r=new Uint8Array(o)}for(let e=0;e<o;e++)r[e]=t();return bu.makeTensor(r,e,n)}});var $h=i(7391);class Lh{constructor(e,t,n,o,r){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=o,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const a=r||Math.random();this.random=$h.alea(a.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let o,r,a;do{o=2*this.random()-1,r=2*this.random()-1,a=o*o+r*r}while(a>=1||0===a);const i=Math.sqrt(-2*Math.log(a)/a);e=this.mean+this.stdDev*o*i,t=this.mean+this.stdDev*r*i,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class Bh{constructor(e,t,n,o){this.alpha=e,this.beta=1/t,this.dtype=n;const r=o||Math.random();this.randu=$h.alea(r.toString()),this.randn=new Lh(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,t,n,o,r,a;for(;;){do{o=this.randn.nextValue(),a=1+this.c*o}while(a<=0);if(a*=a*a,e=o*o,t=1-.331*e*e,n=.5*e+this.d*(1-a+Math.log(a)),r=this.randu(),r<t||Math.log(r)<n)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)}convertValue(e){return"float32"===this.dtype?e:Math.round(e)}}class jh{constructor(e=0,t=1,n,o){if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==o&&(o=Math.random()),"number"==typeof o&&(o=o.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=$h.alea(o)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const Wh=Eu({randomGamma_:function(e,t,n=1,o="float32",r){if(ja(e),null==n&&(n=1),null==o&&(o="float32"),"float32"!==o&&"int32"!==o)throw new Error(`Unsupported data type ${o}`);const a=new Bh(t,n,o,r),i=Mp(e,o);for(let e=0;e<i.values.length;e++)i.values[e]=a.nextValue();return i.toTensor()}});const Uh=Eu({randomNormal_:function(e,t=0,n=1,o,r){if(ja(e),null!=o&&"bool"===o)throw new Error(`Unsupported data type ${o}`);const a=new Lh(t,n,o,!1,r),i=Mp(e,o);for(let e=0;e<i.values.length;e++)i.values[e]=a.nextValue();return i.toTensor()}});const Hh=Eu({randomStandardNormal_:function(e,t,n){if(null!=t&&"bool"===t)throw new Error(`Unsupported data type ${t}`);return Uh(e,0,1,t,n)}});const Vh=Eu({randomUniform_:function(e,t=0,n=1,o="float32",r){ja(e);const a=Mp(e,o),i=new jh(t,n,null,r);for(let e=0;e<a.values.length;e++)a.values[e]=i.nextValue();return a.toTensor()}});const qh=Eu({randomUniformInt_:function(e,t,n,o){return Vh(e,t,n,"int32",o)}});function Gh(e,t,n=1,o="float32"){if(0===n)throw new Error("Cannot have a step of zero");const r={start:e,stop:t,step:n,dtype:o};return bu.runKernel(al,{},r)}const Kh=Eu({real_:function(e){const t={input:_u(e,"input","real")};return bu.runKernel(il,t)}});const Yh=Eu({reciprocal_:function(e){const t={x:_u(e,"x","reciprocal")};return bu.runKernel(sl,t)}});const Xh=Eu({relu_:function(e){const t={x:_u(e,"x","relu")};return bu.runKernel(ll,t)}});const Jh=Eu({relu6_:function(e){const t={x:_u(e,"x","relu6")};return bu.runKernel(fl,t)}});const Zh=Eu({reverse_:function(e,t){const n={x:_u(e,"x","reverse")},o={dims:t};return bu.runKernel(hl,n,o)}});const Qh=Eu({reverse1d_:function(e){const t=_u(e,"x","reverse");return wa(1===t.rank,(()=>`Error in reverse1D: x must be rank 1 but got rank ${t.rank}.`)),Zh(t,0)}});const ey=Eu({reverse2d_:function(e,t){const n=_u(e,"x","reverse");return wa(2===n.rank,(()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`)),Zh(n,t)}});const ty=Eu({reverse3d_:function(e,t){const n=_u(e,"x","reverse");return wa(3===n.rank,(()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`)),Zh(n,t)}});const ny=Eu({reverse4d_:function(e,t){const n=_u(e,"x","reverse");return wa(4===n.rank,(()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`)),Zh(n,t)}});const oy=Eu({round_:function(e){const t={x:_u(e,"x","round")};return bu.runKernel(yl,t)}});const ry=Eu({rsqrt_:function(e){const t={x:_u(e,"x","rsqrt","float32")};return bu.runKernel(gl,t)}});const ay=Eu({selu_:function(e){const t={x:_u(e,"x","selu")};return bu.runKernel(xl,t)}});const iy=Eu({separableConv2d_:function(e,t,n,o,r,a=[1,1],i="NHWC"){const s=_u(e,"x","separableConv2d"),l=_u(t,"depthwiseFilter","separableConv2d"),c=_u(n,"pointwiseFilter","separableConv2d");let u=s,p=!1;if(3===s.rank&&(p=!0,u=xm(s,[1,s.shape[0],s.shape[1],s.shape[2]])),"NCHW"===i)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");wa(4===u.rank,(()=>`Error in separableConv2d: input must be rank 4, but got rank ${u.rank}.`)),wa(4===l.rank,(()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`)),wa(4===c.rank,(()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`)),wa(1===c.shape[0],(()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${c.shape[0]}.`)),wa(1===c.shape[1],(()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${c.shape[1]}.`));const d=l.shape[2],m=l.shape[3];wa(c.shape[2]===d*m,(()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${d*m}, but got ${c.shape[2]}.`));const f=af(u,l,o,r,i,a),h=qm(f,c,1,"valid",i);return p?xm(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});const sy=async function(e,t){const n=_u(e,"x","setdiff1d"),o=_u(t,"y","setdiff1d");wa(n.dtype===o.dtype,(()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${o.dtype}).`)),wa(1===n.rank,(()=>`x should be 1D tensor, but got x (${n.shape}).`)),wa(1===o.rank,(()=>`y should be 1D tensor, but got y (${o.shape}).`));const r=await n.data(),a=await o.data(),i=new Set(a);let s=0;for(let e=0;e<r.length;e++)i.has(r[e])||s++;const l=new Xc([s],n.dtype),c=new Xc([s],"int32");for(let e=0,t=0;e<r.length;e++)i.has(r[e])||(l.values[t]=r[e],c.values[t]=e,t++);return[l.toTensor(),c.toTensor()]};const ly=Eu({sign_:function(e){const t={x:_u(e,"x","sign")};return bu.runKernel(Tl,t)}});const cy=Eu({sin_:function(e){const t={x:_u(e,"x","sin","float32")};return bu.runKernel(_l,t)}});const uy=Eu({sinh_:function(e){const t={x:_u(e,"x","sinh")};return bu.runKernel(Il,t)}});const py=Eu({slice1d_:function(e,t,n){const o=_u(e,"x","slice1d");return wa(1===o.rank,(()=>`slice1d expects a rank-1 tensor, but got a rank-${o.rank} tensor`)),Nm(o,[t],[n])}});const dy=Eu({slice2d_:function(e,t,n){const o=_u(e,"x","slice2d");return wa(2===o.rank,(()=>`slice2d expects a rank-2 tensor, but got a rank-${o.rank} tensor`)),Nm(o,t,n)}});const my=Eu({slice3d_:function(e,t,n){const o=_u(e,"x","slice3d");return wa(3===o.rank,(()=>`slice3d expects a rank-3 tensor, but got a rank-${o.rank} tensor`)),Nm(o,t,n)}});const fy=Eu({slice4d_:function(e,t,n){const o=_u(e,"x","slice4d");return wa(4===o.rank,(()=>`slice4d expects a rank-4 tensor, but got a rank-${o.rank} tensor`)),Nm(o,t,n)}});const hy=Eu({softmax_:function(e,t=-1){const n=_u(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const o={logits:n},r={dim:t};return bu.runKernel(Dl,o,r)}});const yy=Eu({fft_:function(e){wa("complex64"===e.dtype,(()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`));const t={input:e};return bu.runKernel("FFT",t)}});const gy=Eu({ifft_:function(e){wa("complex64"===e.dtype,(()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`));const t={input:e};return bu.runKernel(fs,t)}});const by=Eu({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let o;if(t<=2){const r=xm(e,[n,t]);o=gy(r)}else{const r=[n,2*(t-1)],a=xm(Kh(e),[n,t]),i=xm(Lf(e),[n,t]),s=Zh(Nm(a,[0,1],[n,t-2]),1),l=Hp(Zh(Nm(i,[0,1],[n,t-2]),1),Yp(-1)),c=Im([a,s],1),u=Im([i,l],1),p=xm(Nu(c,u),[r[0],r[1]]);o=gy(p)}if(o=Kh(o),3===e.rank&&0!==e.shape[0]){const t=o,n=e.shape[0];o=xm(o,[n,o.shape[0]/n,o.shape[1]]),t.dispose()}return o}});const vy=Eu({split_:function(e,t,n=0){const o={x:_u(e,"x","split")},r={numOrSizeSplits:t,axis:n};return bu.runKernel(Ol,o,r)}});const wy=Eu({rfft_:function(e,t){wa("float32"===e.dtype,(()=>`The dtype for rfft() must be real value but got ${e.dtype}`));let n=e.shape[e.shape.length-1];const o=e.size/n;let r;if(null!=t&&t<n){const o=e.shape.map((e=>0)),a=e.shape.map((e=>e));a[e.shape.length-1]=t,r=Nm(e,o,a),n=t}else if(null!=t&&t>n){const o=e.shape.map((e=>e));o[e.shape.length-1]=t-n,r=Im([e,dh(o)],e.shape.length-1),n=t}else r=e;const a=Gp(r),i=xm(Nu(r,a),[o,n]),s=yy(i),l=Math.floor(n/2)+1,c=Kh(s),u=Lf(s),p=vy(c,[l,n-l],c.shape.length-1),d=vy(u,[l,n-l],u.shape.length-1),m=r.shape.slice();return m[r.shape.length-1]=l,xm(Nu(p[0],d[0]),m)}});const ky=Eu({squaredDifference_:function(e,t){let n=_u(e,"a","squaredDifference"),o=_u(t,"b","squaredDifference");[n,o]=pu(n,o),sd(n.shape,o.shape);const r={a:n,b:o};return bu.runKernel(Ll,r,{})}});const xy=Eu({squeeze_:function(e,t){const n=_u(e,"x","squeeze","string_or_numeric");return xm(n,function(e,t){const n=[],o=[],r=null!=t&&Array.isArray(t)&&0===t.length,a=null==t||r?null:Na(t,e).sort();let i=0;for(let t=0;t<e.length;++t){if(null!=a){if(a[i]===t&&1!==e[t])throw new Error(`Can't squeeze axis ${t} since its dim '${e[t]}' is not 1`);(null==a[i]||a[i]>t)&&1===e[t]&&(n.push(e[t]),o.push(t)),a[i]<=t&&i++}1!==e[t]&&(n.push(e[t]),o.push(t))}return{newShape:n,keptDims:o}}(n.shape,t).newShape)}});const Sy=Eu({stack_:function(e,t=0){const n=Iu(e,"tensors","stack","string_or_numeric");wa(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&wa(t<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const o=n,r={axis:t};return bu.runKernel(Js,o,r)}});const _y=Eu({step_:function(e,t=0){const n={x:_u(e,"x","step")},o={alpha:t};return bu.runKernel(oc,n,o)}});const Iy=Eu({stridedSlice_:function(e,t,n,o,r=0,a=0,i=0,s=0,l=0){const c={x:_u(e,"x","stridedSlice","string_or_numeric")},u={begin:t,end:n,strides:o,beginMask:r,endMask:a,ellipsisMask:i,newAxisMask:s,shrinkAxisMask:l};return bu.runKernel(Wl,c,u)}});const Ty=Eu({tan_:function(e){const t={x:_u(e,"x","tan","float32")};return bu.runKernel(Gl,t)}});function Ey(e,t){xa(e);const n=ku(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Cu(e,null,n,t)}function Ny(e,t,n){if(xa(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const o=ku(e,n);if(2!==o.length&&1!==o.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Cu(e,t,o,n)}function Cy(e,t,n){if(xa(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");const o=ku(e,n);if(4!==o.length&&1!==o.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Cu(e,t,o,n)}function Ay(e,t,n){if(xa(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");const o=ku(e,n);if(5!==o.length&&1!==o.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Cu(e,t,o,n)}function My(e,t,n){if(xa(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");const o=ku(e,n);if(6!==o.length&&1!==o.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Cu(e,t=t||o,o,n)}const Oy=Eu({tensorScatterUpdate_:function(e,t,n){const o=_u(e,"tensor","tensorScatterupdate"),r=_u(t,"indices","tensorScatterupdate","int32"),a=_u(n,"updates","tensorScatterupdate");if(Ld(a,r,o.shape),o.dtype!==a.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${o.dtype} and ${a.dtype}.`);const i={tensor:o,indices:r,updates:a};return bu.runKernel(vl,i,{})}});const Dy=Eu({topk_:function(e,t=1,n=!0){const o=_u(e,"x","topk");if(0===o.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const r=o.shape[o.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>r)throw new Error(`'k' passed to topk() must be <= the last dimension (${r}) but got ${t}`);const a={x:o},i={k:t,sorted:n},[s,l]=bu.runKernel(Xl,a,i);return{values:s,indices:l}}});const Ry=Eu({truncatedNormal_:function(e,t=0,n=1,o,r){if(ja(e),null!=o&&"bool"===o)throw new Error("Unsupported data type $ { dtype }");const a=new Lh(t,n,o,!0,r),i=Mp(e,o);for(let e=0;e<i.values.length;e++)i.values[e]=a.nextValue();return i.toTensor()}});const Fy=Eu({unique_:function(e,t=0){const n=_u(e,"x","unique","string_or_numeric");wa(n.rank>0,(()=>"The input tensor must be at least 1D"));const o={x:n},r={axis:t},[a,i]=bu.runKernel(Ql,o,r);return{values:a,indices:i}}});const zy=Eu({unsortedSegmentSum_:function(e,t,n){const o=_u(e,"x","unsortedSegmentSum"),r=_u(t,"segmentIds","unsortedSegmentSum","int32");wa(Ia(n),(()=>"numSegments must be of dtype int"));const a={x:o,segmentIds:r},i={numSegments:n};return bu.runKernel(tc,a,i)}});const Py=Eu({unstack_:function(e,t=0){const n=_u(e,"x","unstack","string_or_numeric");wa(t>=-n.shape.length&&t<n.shape.length,(()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`));const o={value:n},r={axis:t};return bu.runKernel(ec,o,r)}});function $y(e,t){return ih(e,t,"right")}function Ly(e,t=!0,n,o){return bu.makeVariable(e,t,n,o)}function By(e,t){const n=[];for(let e=0;e<t.length;e++)t[e]&&n.push(e);const o=Mp(e,"int32"),r=Mp([n.length,e.length],"int32");for(let t=0;t<n.length;t++){const a=o.indexToLoc(n[t]),i=t*e.length;r.values.set(a,i)}return r.toTensor()}const jy=async function(e){const t=_u(e,"condition","whereAsync","bool"),n=await t.data(),o=By(t.shape,n);return e!==t&&t.dispose(),o};const Wy=async function(e,t,n){const o=_u(e,"tensor","boolMask"),r=_u(t,"mask","boolMask","bool"),a=null==n?0:n,i=r.rank,s=o.shape;wa(i>0,(()=>"mask cannot be scalar")),ka(s.slice(a,a+i),r.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let e=a;e<a+i;e++)l*=s[e];const c=s.slice(0,a).concat([l],s.slice(a+i)),u=xm(o,c),p=xm(r,[-1]),d=await jy(p),m=xy(d,[1]),f=zf(u,m,a);return e!==o&&o.dispose(),t!==r&&r.dispose(),m.dispose(),u.dispose(),p.dispose(),d.dispose(),f};const Uy=Eu({transpose_:function(e,t,n){const o=_u(e,"x","transpose");if(null==t&&(t=o.shape.map(((e,t)=>t)).reverse()),wa(o.rank===t.length,(()=>`Error in transpose: rank of input ${o.rank} must match length of perm ${t}.`)),t.forEach((e=>{wa(e>=0&&e<o.rank,(()=>"All entries in 'perm' must be between 0 and "+(o.rank-1)+` but got ${t}`))})),o.rank<=1)return o.clone();const r={x:o},a={perm:t};return"complex64"===o.dtype?zp((()=>{let e=Kh(o),t=Lf(o);return e=bu.runKernel(Zl,{x:e},a),t=bu.runKernel(Zl,{x:t},a),n&&(t=Xf(t)),Nu(e,t)})):bu.runKernel(Zl,r,a)}});const Hy=Eu({movingAverage_:function(e,t,n,o,r=!0){const a=_u(e,"v","movingAverage"),i=_u(t,"x","movingAverage"),s=_u(n,"decay","movingAverage");!function(e,t){wa(e.dtype===t.dtype,(()=>`The dtypes of the first(${e.dtype}) and second(${t.dtype}) input must match`))}(a,i),wa(_a(a.shape,i.shape),(()=>"Shape mismatch in v and x"));const l=Yp(1),c=rd(l,s);let u=Hp(rd(i,a),c);if(r){wa(null!=o,(()=>"When using zeroDebias: true, step is required."));const e=_u(o,"step","movingAverage");u=Up(u,rd(l,od(s,e)))}return jp(a,u)}});const Vy=Eu({scatterND_:function(e,t,n){ja(n);const o=_u(e,"indices","scatterND","int32"),r=_u(t,"updates","scatterND");Ld(r,o,n);const a={indices:o,updates:r},i={shape:n};return bu.runKernel(bl,a,i)}});const qy=Eu({sparseToDense_:function(e,t,n,o=0){ja(n);const r=_u(e,"sparseIndices","sparseToDense","int32"),a=_u(t,"sparseValues","sparseToDense","string_or_numeric"),i=_u(o,"defaultValue","sparseToDense",a.dtype);!function(e,t,n,o){if("int32"!==e.dtype)throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${e.shape}.`);const r=e.rank>0?e.shape[0]:1,a=e.rank>1?e.shape[1]:1;if(n.length!==a)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${a}.`);const i=t.size;if(0!==t.rank&&(1!==t.rank||i!==r))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${r}]`);if(t.dtype!==o.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(r,a,n,i);const s={sparseIndices:r,sparseValues:a,defaultValue:i},l={outputShape:n};return bu.runKernel($l,s,l)}});const Gy=Eu({gatherND_:function(e,t){const n=_u(t,"indices","gatherND","int32"),o={params:_u(e,"x","gatherND","string_or_numeric"),indices:n};return bu.runKernel(us,o)}});const Ky=Eu({dropout_:function(e,t,n,o){const r=_u(e,"x","dropout");if(wa("float32"===r.dtype,(()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${r.dtype} tensor instead.`)),wa(t>=0&&t<1,(()=>`rate must be a float in the range [0, 1), but got ${t}.`)),0===t)return e instanceof eu?r.clone():r;const a=function(e,t){if(null==t)return e.shape.slice();if(_a(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let o=0;o<e.shape.length;o++)null==t[o]&&null!=e.shape[o]?n.push(e.shape[o]):n.push(t[o]);return n}return t}(r,n),i=1-t,s=Up(Ff(jp(Vh(a,0,1,"float32",o),i)),i);return Hp(r,s)}});function Yy(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function Xy(e,t,n){const o=1-e%2,r=new Float32Array(e);for(let a=0;a<e;++a){const i=2*Math.PI*a/(e+o-1);r[a]=t-n*Math.cos(i)}return Ey(r,"float32")}const Jy=async function(e,t,n=1){const o=_u(e,"predictions","inTopK"),r=_u(t,"targets","inTopK");wa(o.rank>1,(()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${o.rank}`)),wa(o.rank-1===r.rank,(()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${o.rank} and targets rank ${r.rank}`)),ka(o.shape.slice(0,o.shape.length-1),r.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const a=o.shape[o.shape.length-1];wa(n>0&&n<=a,(()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${a}), but got ${n}`));const i=await o.data(),s=await r.data(),[l,c]=[i.length/a,a],u=Ca("bool",l);for(let e=0;e<l;e++){const t=e*c,o=i.subarray(t,t+c),r=[];for(let e=0;e<o.length;e++)r.push({value:o[e],index:e});r.sort(((e,t)=>t.value-e.value)),u[e]=0;for(let t=0;t<n;t++)if(r[t].index===s[e]){u[e]=1;break}}return e!==o&&o.dispose(),t!==r&&r.dispose(),Au(u,r.shape,"bool")};const Zy=Eu({conv2DBackpropFilter_:function(e,t,n,o,r,a="NHWC",i){let s=e;3===e.rank&&(s=xm(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=xm(t,[1,t.shape[0],t.shape[1],t.shape[2]])),wa(4===s.rank,(()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${s.shape}.`)),wa(4===l.rank,(()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`)),wa(4===n.length,(()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`));const c="NHWC"===a?s.shape[3]:s.shape[1],u="NHWC"===a?l.shape[3]:l.shape[1];wa(c===n[2],(()=>`Error in conv2dDerFilter: depth of input ${c}) must match input depth in filter (${n[2]}.`)),wa(u===n[3],(()=>`Error in conv2dDerFilter: depth of dy (${u}) must match output depth for filter (${n[3]}).`)),km("conv2dDerFilter",r,i);const p={x:s,dy:l},d={strides:o,pad:r,dataFormat:a,dimRoundingMode:i,filterShape:n};return bu.runKernel(Ci,p,d)}});function Qy(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return Hp(e,_y(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function eg(e,t){let n=t;const o=function(e,t){const n=[];for(let o=0;o<t.length;o++){const r=e[e.length-o-1],a=t.length-o-1,i=t[a];(null==r||1===r&&i>1)&&n.unshift(a)}return n}(e.shape,t.shape);return o.length>0&&(n=Tf(n,o)),xm(n,e.shape)}function tg(e,t,n,o){if("linear"===t)return e;if("relu"===t)return Xh(e);if("elu"===t)return ff(e);if("relu6"===t)return Jh(e);if("prelu"===t)return Oh(e,n);if("leakyrelu"===t)return Uf(e,o);if("sigmoid"===t)return Em(e);throw new Error(`Unknown fused activation ${t}.`)}const ng=(e,t)=>!(e>0)||"linear"===t;const og=Eu({fusedConv2d_:function({x:e,filter:t,strides:n,pad:o,dataFormat:r="NHWC",dilations:a=[1,1],dimRoundingMode:i,bias:s,activation:l="linear",preluActivationWeights:c,leakyreluAlpha:u}){if(l=l||"linear",!1===ng(bu.state.gradientDepth,l)){wa("NHWC"===r,(()=>`Error in fused conv2d: got dataFormat of ${r} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`));let p=qm(e,t,n,o,r,a,i);return null!=s&&(p=jp(p,s)),tg(p,l,c,u)}const p=_u(e,"x","conv2d","float32"),d=_u(t,"filter","conv2d","float32");let m=p,f=!1;3===p.rank&&(f=!0,m=xm(p,[1,p.shape[0],p.shape[1],p.shape[2]])),wa(4===m.rank,(()=>`Error in fused conv2d: input must be rank 4, but got rank ${m.rank}.`)),wa(4===d.rank,(()=>`Error in fused conv2d: filter must be rank 4, but got rank ${d.rank}.`)),km("fused conv2d",o,i);const h="NHWC"===r?m.shape[3]:m.shape[1];wa(d.shape[2]===h,(()=>`Error in conv2d: depth of input (${h}) must match input depth for filter ${d.shape[2]}.`)),wa(bm(n,a),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`));const y=um(m.shape,d.shape,n,a,o,i);let g,b;if(null!=s&&(g=_u(s,"bias","fused conv2d"),[g]=pu(g,p),"NHWC"===r?sd(y.outShape,g.shape):(wa(g.shape.length<=1,(()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${g.shape.length}.`)),wa(0===g.shape.length||g.shape[0]===y.outChannels||1===g.shape[0],(()=>`Error in fused conv2d: bias shape (${g.shape}) is not compatible with the number of output channels (${y.outChannels})`)))),null!=c){const e=c.shape;if(wa(e.length<=1||3===e.length,(()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${e.length}.`)),1===e.length)wa(1===e[0]||e[0]===y.outChannels,(()=>`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the number of output channels (${y.outChannels}).`));else if(3===e.length)try{sd(e,y.outShape)}catch(t){const n=`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the output shape of the conv2d (${y.outShape}).`;throw Error(n)}b=_u(c,"prelu weights","fused conv2d")}const v=(e,t)=>{wa("NHWC"===r,(()=>`Error in gradient of fused conv2D: got dataFormat of ${r} but only NHWC is currently supported.`));const[i,s,c,u]=t,p=Qy(e,c,l);wa(gm(a),(()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${a}'`));const d=[Km(s.shape,p,i,n,o),Zy(s,p,i.shape,n,o)];if(null!=u){const e=eg(u,p);d.push(e)}return d},w={x:m,filter:d,bias:g,preluActivationWeights:b},k={strides:n,pad:o,dataFormat:r,dilations:a,dimRoundingMode:i,activation:l,leakyreluAlpha:u};if(null==s){const e=Kp(((e,t,n)=>{let o=bu.runKernel(sc,w,k);return n([t,e,o]),f&&(o=xm(o,[o.shape[1],o.shape[2],o.shape[3]])),{value:o,gradFunc:v}}));return e(m,d)}{const e=Kp(((e,t,n,o)=>{let r=bu.runKernel(sc,w,k);return o([t,e,r,n]),f&&(r=xm(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:v}}));return e(m,d,g)}}});const rg=Eu({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,o,r,a=[1,1],i){let s=e;3===e.rank&&(s=xm(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=xm(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const c={x:s,dy:l},u={strides:o,pad:r,dimRoundingMode:i,dilations:a,filterShape:n};return bu.runKernel(Wi,c,u)}});const ag=Eu({depthwiseConv2dNativeBackpropInput_:function(e,t,n,o,r,a=[1,1],i){let s=t,l=!1;3===t.rank&&(l=!0,s=xm(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const c={dy:s,filter:n},u={strides:o,pad:r,dimRoundingMode:i,dilations:a,inputShape:e},p=bu.runKernel(Ui,c,u);return l?xm(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});const ig=Eu({fusedDepthwiseConv2d_:function({x:e,filter:t,strides:n,pad:o,dataFormat:r="NHWC",dilations:a=[1,1],dimRoundingMode:i,bias:s,activation:l="linear",preluActivationWeights:c,leakyreluAlpha:u}){if(!1===ng(bu.state.gradientDepth,l)){let p=af(e,t,n,o,r,a,i);return null!=s&&(p=jp(p,s)),tg(p,l,c,u)}const p=_u(e,"x","depthwiseConv2d","float32"),d=_u(t,"filter","depthwiseConv2d","float32");let m=p,f=!1;3===p.rank&&(f=!0,m=xm(p,[1,p.shape[0],p.shape[1],p.shape[2]])),wa(4===m.rank,(()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${m.rank}.`)),wa(4===d.rank,(()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${d.rank}.`)),wa(m.shape[3]===d.shape[2],(()=>`Error in fused depthwiseConv2d: number of input channels (${m.shape[3]}) must match the inChannels dimension in filter ${d.shape[2]}.`)),null==a&&(a=[1,1]),wa(bm(n,a),(()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`)),km("fused depthwiseConv2d",o,i);const h=um(m.shape,d.shape,n,a,o,i,!0);let y,g;null!=s&&(y=_u(s,"bias","fused conv2d"),[y]=pu(y,p),sd(h.outShape,y.shape)),null!=c&&(g=_u(c,"prelu weights","fused depthwiseConv2d"));const b=(e,t)=>{wa(gm(a),(()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${a}'`));const[r,s,c,u]=t,p=Qy(e,c,l),d=ag(s.shape,p,r,n,o,a,i),m=rg(s,p,r.shape,n,o,a,i);if(null!=u){return[d,m,eg(y,p)]}return[d,m]},v={x:m,filter:d,bias:y,preluActivationWeights:g},w={strides:n,pad:o,dataFormat:r,dilations:a,dimRoundingMode:i,activation:l,leakyreluAlpha:u};if(null==s){const e=Kp(((e,t,n)=>{let o=bu.runKernel(lc,v,w);return n([t,e,o]),f&&(o=xm(o,[o.shape[1],o.shape[2],o.shape[3]])),{value:o,gradFunc:b}}));return e(m,d)}{const e=Kp(((e,t,n,o)=>{let r=bu.runKernel(lc,v,w);return o([t,e,r,n]),f&&(r=xm(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:b}}));return e(m,d,y)}}});const sg=Eu({fusedMatMul_:function({a:e,b:t,transposeA:n=!1,transposeB:o=!1,bias:r,activation:a="linear",preluActivationWeights:i,leakyreluAlpha:s=.2}){if(!1===ng(bu.state.gradientDepth,a)){let l=Tm(e,t,n,o);return null!=r&&(l=jp(l,r)),tg(l,a,i,s)}let l=_u(e,"a","fused matMul"),c=_u(t,"b","fused matMul");[l,c]=pu(l,c);const u=n?l.shape[l.rank-2]:l.shape[l.rank-1],p=o?c.shape[c.rank-1]:c.shape[c.rank-2],d=n?l.shape[l.rank-1]:l.shape[l.rank-2],m=o?c.shape[c.rank-2]:c.shape[c.rank-1],f=l.shape.slice(0,-2),h=c.shape.slice(0,-2),y=Sa(f),g=Sa(h);wa(u===p,(()=>`Error in fused matMul: inner shapes (${u}) and (${p}) of Tensors with shapes ${l.shape} and ${c.shape} and transposeA=${n} and transposeB=${o} must match.`));const b=sd(l.shape.slice(0,-2),c.shape.slice(0,-2)).concat([d,m]),v=xm(l,n?[y,u,d]:[y,d,u]),w=xm(c,o?[g,m,p]:[g,p,m]);let k,x;null!=r&&(k=_u(r,"bias","fused matMul"),[k]=pu(k,l),sd(b,k.shape)),null!=i&&(x=_u(i,"prelu weights","fused matMul"));const S=(e,t)=>{const[i,s,l,c]=t,u=Qy(xm(e,l.shape),l,a);let p,d;if(n||o?!n&&o?(p=Tm(u,s,!1,!1),d=Tm(u,i,!0,!1)):n&&!o?(p=Tm(s,u,!1,!0),d=Tm(i,u,!1,!1)):(p=Tm(s,u,!0,!0),d=Tm(u,i,!0,!0)):(p=Tm(u,s,!1,!0),d=Tm(i,u,!0,!1)),null!=r){return[p,d,eg(c,u)]}return[p,d]},_={a:v,b:w,bias:k,preluActivationWeights:x},I={transposeA:n,transposeB:o,activation:a,leakyreluAlpha:s};if(null==r){const e=Kp(((e,t,n)=>{const o=bu.runKernel(ic,_,I);return n([e,t,o]),{value:xm(o,b),gradFunc:S}}));return e(v,w)}{const e=Kp(((e,t,n,o)=>{const r=bu.runKernel(ic,_,I);return o([e,t,r,n]),{value:xm(r,b),gradFunc:S}}));return e(v,w,k)}}});const lg=Eu({hammingWindow_:function(e){return Xy(e,.54,.46)}});const cg=Eu({hannWindow_:function(e){return Xy(e,.5,.5)}});const ug=Eu({frame_:function(e,t,n,o=!1,r=0){let a=0;const i=[];for(;a+t<=e.size;)i.push(Nm(e,a,t)),a+=n;if(o)for(;a<e.size;){const o=a+t-e.size,s=Im([Nm(e,a,t-o),nd([o],r)]);i.push(s),a+=n}return 0===i.length?Ny([],[0,t]):xm(Im(i),[i.length,t])}});const pg=Eu({stft_:function(e,t,n,o,r=cg){null==o&&(o=Yy(t));const a=ug(e,t,n),i=Hp(a,r(t));return wy(i,o)}});const dg=Eu({cropAndResize_:function(e,t,n,o,r="bilinear",a=0){const i=_u(e,"image","cropAndResize"),s=_u(t,"boxes","cropAndResize","float32"),l=_u(n,"boxInd","cropAndResize","int32"),c=s.shape[0];wa(4===i.rank,(()=>`Error in cropAndResize: image must be rank 4,but got rank ${i.rank}.`)),wa(2===s.rank&&4===s.shape[1],(()=>`Error in cropAndResize: boxes must be have size [${c},4] but had shape ${s.shape}.`)),wa(1===l.rank&&l.shape[0]===c,(()=>`Error in cropAndResize: boxInd must be have size [${c}] but had shape ${s.shape}.`)),wa(2===o.length,(()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${o.length}.`)),wa(o[0]>=1&&o[1]>=1,(()=>`cropSize must be atleast [1,1], but was ${o}`)),wa("bilinear"===r||"nearest"===r,(()=>`method must be bilinear or nearest, but was ${r}`));const u={image:i,boxes:s,boxInd:l},p={method:r,extrapolationValue:a,cropSize:o};return bu.runKernel($i,u,p)}});const mg=Eu({flipLeftRight_:function(e){const t=_u(e,"image","flipLeftRight","float32");wa(4===t.rank,(()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`));const n={image:t};return bu.runKernel(as,n,{})}});const fg=Eu({grayscaleToRGB_:function(e){const t=_u(e,"image","grayscaleToRGB"),n=t.rank-1,o=t.shape[n];wa(t.rank>=2,(()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`)),wa(1===o,(()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${o}.`));const r=new Array(t.rank);return r.fill(1,0,n),r[n]=3,Df(t,r)}});const hg=Eu({rgbToGrayscale_:function(e){const t=_u(e,"image","RGBToGrayscale"),n=t.rank-1,o=t.shape[n];wa(t.rank>=2,(()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${t.rank}.`)),wa(3===o,(()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${o}.`));const r=t.dtype,a=Op(t,"float32"),i=Ey([.2989,.587,.114]);let s;switch(t.rank){case 2:s=mf("ij,j->i",a,i);break;case 3:s=mf("ijk,k->ij",a,i);break;case 4:s=mf("ijkl,l->ijk",a,i);break;case 5:s=mf("ijklm,m->ijkl",a,i);break;case 6:s=mf("ijklmn,n->ijklm",a,i);break;default:throw new Error("Not a valid tensor rank.")}return s=Mf(s,-1),Op(s,r)}});const yg=Eu({rotateWithOffset_:function(e,t,n=0,o=.5){const r=_u(e,"image","rotateWithOffset","float32");wa(4===r.rank,(()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${r.rank}.`));const a={image:r},i={radians:t,fillValue:n,center:o};return bu.runKernel(ac,a,i)}});function gg(e,t,n,o,r,a){null==o&&(o=.5),null==r&&(r=Number.NEGATIVE_INFINITY),null==a&&(a=0);const i=e.shape[0];return n=Math.min(n,i),wa(0<=o&&o<=1,(()=>`iouThreshold must be in [0, 1], but was '${o}'`)),wa(2===e.rank,(()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`)),wa(4===e.shape[1],(()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`)),wa(1===t.rank,(()=>"scores must be a 1D tensor")),wa(t.shape[0]===i,(()=>`scores has incompatible shape with boxes. Expected ${i}, but was ${t.shape[0]}`)),wa(0<=a&&a<=1,(()=>`softNmsSigma must be in [0, 1], but was '${a}'`)),{maxOutputSize:n,iouThreshold:o,scoreThreshold:r,softNmsSigma:a}}const bg=Eu({nonMaxSuppression_:function(e,t,n,o=.5,r=Number.NEGATIVE_INFINITY){const a=_u(e,"boxes","nonMaxSuppression","float32"),i=_u(t,"scores","nonMaxSuppression","float32"),s=gg(a,i,n,o,r),l={maxOutputSize:n=s.maxOutputSize,iouThreshold:o=s.iouThreshold,scoreThreshold:r=s.scoreThreshold};return bu.runKernel(qs,{boxes:a,scores:i},l)}});function vg(e,t,n){const o=function(e,t,n){return function(e,t,n){let o=0,r=e.length,a=0,i=!1;for(;o<r;){a=o+(r-o>>>1);const s=n(t,e[a]);s>0?o=a+1:(r=a,i=!s)}return i?o:-o-1}(e,t,n||wg)}(e,t,n),r=o<0?-(o+1):o;e.splice(r,0,t)}function wg(e,t){return e>t?1:e<t?-1:0}function kg(e,t,n,o,r){return _g(e,t,n,o,r,0)}function xg(e,t,n,o,r,a){return _g(e,t,n,o,r,0,!1,a,!0)}function Sg(e,t,n,o,r,a){return _g(e,t,n,o,r,a,!0)}function _g(e,t,n,o,r,a,i=!1,s=!1,l=!1){const c=[];for(let e=0;e<t.length;e++)t[e]>r&&c.push({score:t[e],boxIndex:e,suppressBeginIndex:0});c.sort(Eg);const u=a>0?-.5/a:0,p=[],d=[];for(;p.length<n&&c.length>0;){const t=c.pop(),{score:n,boxIndex:a,suppressBeginIndex:i}=t;if(n<r)break;let s=!1;for(let n=p.length-1;n>=i;--n){const i=Ig(e,a,p[n]);if(i>=o){s=!0;break}if(t.score=t.score*Tg(o,u,i),t.score<=r)break}t.suppressBeginIndex=p.length,s||(t.score===n?(p.push(a),d.push(t.score)):t.score>r&&vg(c,t,Eg))}const m=p.length,f=n-m;s&&f>0&&(p.push(...new Array(f).fill(0)),d.push(...new Array(f).fill(0)));const h={selectedIndices:p};return i&&(h.selectedScores=d),l&&(h.validOutputs=m),h}function Ig(e,t,n){const o=e.subarray(4*t,4*t+4),r=e.subarray(4*n,4*n+4),a=Math.min(o[0],o[2]),i=Math.min(o[1],o[3]),s=Math.max(o[0],o[2]),l=Math.max(o[1],o[3]),c=Math.min(r[0],r[2]),u=Math.min(r[1],r[3]),p=Math.max(r[0],r[2]),d=Math.max(r[1],r[3]),m=(s-a)*(l-i),f=(p-c)*(d-u);if(m<=0||f<=0)return 0;const h=Math.max(a,c),y=Math.max(i,u),g=Math.min(s,p),b=Math.min(l,d),v=Math.max(g-h,0)*Math.max(b-y,0);return v/(m+f-v)}function Tg(e,t,n){const o=Math.exp(t*n*n);return n<=e?o:0}function Eg(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}const Ng=async function(e,t,n,o=.5,r=Number.NEGATIVE_INFINITY){const a=_u(e,"boxes","nonMaxSuppressionAsync"),i=_u(t,"scores","nonMaxSuppressionAsync"),s=gg(a,i,n,o,r);n=s.maxOutputSize,o=s.iouThreshold,r=s.scoreThreshold;const l=await Promise.all([a.data(),i.data()]),c=l[0],u=l[1],{selectedIndices:p}=kg(c,u,n,o,r);return a!==e&&a.dispose(),i!==t&&i.dispose(),Ey(p,"int32")};const Cg=Eu({nonMaxSuppressionWithScore_:function(e,t,n,o=.5,r=Number.NEGATIVE_INFINITY,a=0){const i=_u(e,"boxes","nonMaxSuppression"),s=_u(t,"scores","nonMaxSuppression"),l=gg(i,s,n,o,r,a),c={boxes:i,scores:s},u={maxOutputSize:n=l.maxOutputSize,iouThreshold:o=l.iouThreshold,scoreThreshold:r=l.scoreThreshold,softNmsSigma:a=l.softNmsSigma},p=bu.runKernel(Ks,c,u);return{selectedIndices:p[0],selectedScores:p[1]}}});const Ag=async function(e,t,n,o=.5,r=Number.NEGATIVE_INFINITY,a=0){const i=_u(e,"boxes","nonMaxSuppressionAsync"),s=_u(t,"scores","nonMaxSuppressionAsync"),l=gg(i,s,n,o,r,a);n=l.maxOutputSize,o=l.iouThreshold,r=l.scoreThreshold,a=l.softNmsSigma;const c=await Promise.all([i.data(),s.data()]),u=c[0],p=c[1],{selectedIndices:d,selectedScores:m}=Sg(u,p,n,o,r,a);return i!==e&&i.dispose(),s!==t&&s.dispose(),{selectedIndices:Ey(d,"int32"),selectedScores:Ey(m)}};const Mg=Eu({nonMaxSuppressionPadded_:function(e,t,n,o=.5,r=Number.NEGATIVE_INFINITY,a=!1){const i=_u(e,"boxes","nonMaxSuppression"),s=_u(t,"scores","nonMaxSuppression"),l=gg(i,s,n,o,r,null),c={boxes:i,scores:s},u={maxOutputSize:l.maxOutputSize,iouThreshold:l.iouThreshold,scoreThreshold:l.scoreThreshold,padToMaxOutputSize:a},p=bu.runKernel(Gs,c,u);return{selectedIndices:p[0],validOutputs:p[1]}}});const Og=async function(e,t,n,o=.5,r=Number.NEGATIVE_INFINITY,a=!1){const i=_u(e,"boxes","nonMaxSuppressionAsync"),s=_u(t,"scores","nonMaxSuppressionAsync"),l=gg(i,s,n,o,r,null),c=l.maxOutputSize,u=l.iouThreshold,p=l.scoreThreshold,[d,m]=await Promise.all([i.data(),s.data()]),{selectedIndices:f,validOutputs:h}=xg(d,m,c,u,p,a);return i!==e&&i.dispose(),s!==t&&s.dispose(),{selectedIndices:Ey(f,"int32"),validOutputs:Yp(h,"int32")}};const Dg=Eu({resizeBilinear_:function(e,t,n=!1,o=!1){const r=_u(e,"images","resizeBilinear");wa(3===r.rank||4===r.rank,(()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${r.rank}.`)),wa(2===t.length,(()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`)),wa(!1===o||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let a=r,i=!1;3===r.rank&&(i=!0,a=xm(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const[]=t,s={images:a},l={alignCorners:n,halfPixelCenters:o,size:t},c=bu.runKernel(dl,s,l);return i?xm(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const Rg=Eu({resizeNearestNeighbor_:function(e,t,n=!1,o=!1){const r=_u(e,"images","resizeNearestNeighbor");wa(3===r.rank||4===r.rank,(()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${r.rank}.`)),wa(2===t.length,(()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`)),wa("float32"===r.dtype||"int32"===r.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),wa(!1===o||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let a=r,i=!1;3===r.rank&&(i=!0,a=xm(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const[]=t,s={images:a},l={alignCorners:n,halfPixelCenters:o,size:t},c=bu.runKernel(ul,s,l);return i?xm(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const Fg=Eu({threshold_:function(e,t="binary",n=!1,o=.5){const r=_u(e,"image","threshold"),a=r.shape[0]*r.shape[1];let i,s,l,c,u=Hp(Ey([o]),255);if(wa(3===r.rank,(()=>`Error in threshold: image must be rank 3,but got rank ${r.rank}.`)),wa(3===r.shape[2]||1===r.shape[2],(()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${r.shape[2]}.`)),wa("int32"===r.dtype||"float32"===r.dtype,(()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${r.dtype}.`)),wa("otsu"===t||"binary"===t,(()=>`Method must be binary or otsu, but was ${t}`)),3===r.shape[2]){[i,s,l]=vy(r,[1,1,1],-1);const e=Hp(i,.2989),t=Hp(s,.587),n=Hp(l,.114);c=jp(jp(e,t),n)}else c=e;if("otsu"===t){u=function(e,t){let n,o,r,a,i,s,l=Ey([-1]),c=Ey([0]),u=Ey([0]);for(let p=0;p<e.size-1;p++){n=Nm(e,0,p+1),o=Nm(e,p+1),i=Up(Tf(n),t),s=Up(Tf(o),t);const d=Tf(Hp(n,Gh(0,n.size)));r=Up(d,Tf(n));const m=nd(o.shape,n.size),f=jp(Gh(0,o.size),m),h=Hp(o,f);a=Up(Tf(h),Tf(o));const y=rd(r,a),g=rd(r,a),b=Hp(i,s);u=Hp(Hp(b,y),g);const v=Pf(u,c);c=uf(v,u,c),l=uf(v,Ey([p]),l)}return l}(zm(Op(oy(c),"int32"),Au([]),256),a)}const p=n?Vf(c,u):Pf(c,u);return Op(Hp(p,255),"int32")}});const zg=Eu({transform_:function(e,t,n="nearest",o="constant",r=0,a){const i=_u(e,"image","transform","float32"),s=_u(t,"transforms","transform","float32");wa(4===i.rank,(()=>`Error in transform: image must be rank 4,but got rank ${i.rank}.`)),wa(2===s.rank&&(s.shape[0]===i.shape[0]||1===s.shape[0])&&8===s.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),wa(null==a||2===a.length,(()=>`Error in transform: outputShape must be [height, width] or null, but got ${a}.`));const l={image:i,transforms:s},c={interpolation:n,fillMode:o,fillValue:r,outputShape:a};return bu.runKernel(Jl,l,c)}});const Pg=Eu({bandPart_:function(e,t,n){const o=_u(e,"a","bandPart");wa(o.rank>=2,(()=>`bandPart(): Rank must be at least 2, got ${o.rank}.`));const r=o.shape,[a,i]=o.shape.slice(-2);let s,l;"number"==typeof t?(wa(t%1==0,(()=>`bandPart(): numLower must be an integer, got ${t}.`)),wa(t<=a,(()=>`bandPart(): numLower (${t}) must not be greater than the number of rows (${a}).`)),s=_u(t<0?a:t,"numLower","bandPart")):(wa("int32"===t.dtype,(()=>"bandPart(): numLower's dtype must be an int32.")),s=uf(Hf(t,0),a,hh(t,a))),"number"==typeof n?(wa(n%1==0,(()=>`bandPart(): numUpper must be an integer, got ${n}.`)),wa(n<=i,(()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${i}).`)),l=_u(n<0?i:n,"numUpper","bandPart")):(wa("int32"===n.dtype,(()=>"bandPart(): numUpper's dtype must be an int32.")),l=uf(Hf(n,0),i,hh(n,i)));const c=xm(Gh(0,a,1,"int32"),[-1,1]),u=Gh(0,i,1,"int32"),p=rd(c,u),d=th(Vf(p,s),$f(p,Xf(l))),m=dh([a,i],o.dtype);return xm(Sy(Py(xm(o,[-1,a,i])).map((e=>uf(d,e,m)))),r)}});const $g=Eu({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,wa(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)wa(e[t].shape[0]===n,(()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[t].shape[0]} vs. ${n})`))}else t=!0,e=vy(e,e.shape[0],0).map((e=>xy(e,[0])));wa(e.length<=e[0].shape[0],(()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`));const n=[],o=e;for(let t=0;t<e.length;++t)n.push(bu.tidy((()=>{let e=o[t];if(t>0)for(let o=0;o<t;++o){const t=Hp(Tf(Hp(n[o],e)),n[o]);e=rd(e,t)}return Up(e,Nf(e,"euclidean"))})));return t?Sy(n,0):n}});function Lg(e,t=!1){return bu.tidy((()=>{wa(2===e.shape.length,(()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`));const n=e.shape[0],o=e.shape[1];let r=Rf(n),a=Dp(e);const i=Ny([[1]],[1,1]);let s=Dp(i);const l=n>=o?o:n;for(let e=0;e<l;++e){const t=a,l=s,c=r;[s,a,r]=bu.tidy((()=>{const t=Nm(a,[e,e],[n-e,1]),l=Nf(t),c=Nm(a,[e,e],[1,1]),u=uf(Pf(c,0),Ny([[-1]]),Ny([[1]])),p=rd(c,Hp(u,l)),d=Up(t,p);s=1===d.shape[0]?Dp(i):Im([i,Nm(d,[1,0],[d.shape[0]-1,d.shape[1]])],0);const m=Xf(Up(Tm(u,p),l)),f=Nm(a,[e,0],[n-e,o]),h=Hp(m,s),y=Uy(s);if(0===e)a=rd(f,Tm(h,Tm(y,f)));else{const t=rd(f,Tm(h,Tm(y,f)));a=Im([Nm(a,[0,0],[e,o]),t],0)}const g=Uy(h),b=Nm(r,[0,e],[n,r.shape[1]-e]);if(0===e)r=rd(b,Tm(Tm(b,s),g));else{const t=rd(b,Tm(Tm(b,s),g));r=Im([Nm(r,[0,0],[n,e]),t],1)}return[s,a,r]})),Pp([t,l,c])}return!t&&n>o&&(r=Nm(r,[0,0],[n,o]),a=Nm(a,[0,0],[o,o])),[r,a]}))}const Bg=Eu({qr_:function(e,t=!1){if(wa(e.rank>=2,(()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`)),2===e.rank)return Lg(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),o=Py(xm(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),r=[],a=[];o.forEach((e=>{const[n,o]=Lg(e,t);r.push(n),a.push(o)}));return[xm(Sy(r,0),e.shape),xm(Sy(a,0),e.shape)]}}});var jg;!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(jg||(jg={}));const Wg=Eu({computeWeightedLoss_:function(e,t,n=jg.SUM_BY_NONZERO_WEIGHTS){const o=_u(e,"losses","computeWeightedLoss");let r=null;null!=t&&(r=_u(t,"weights","computeWeightedLoss"));const a=null==r?o:Hp(o,r);if(n===jg.NONE)return a;if(n===jg.SUM)return Tf(a);if(n===jg.MEAN){if(null==r)return ph(a);{const e=o.size/r.size,t=Up(Tf(a),Tf(r));return e>1?Up(t,Yp(e)):t}}if(n===jg.SUM_BY_NONZERO_WEIGHTS){if(null==r)return Up(Tf(a),Yp(o.size));{const e=Hp(r,mh(o.shape)),t=Op(Tf(kh(e,Yp(0))),"float32");return Up(Tf(a),t)}}throw Error(`Unknown reduction: ${n}`)}});const Ug=Eu({absoluteDifference_:function(e,t,n,o=jg.SUM_BY_NONZERO_WEIGHTS){const r=_u(e,"labels","absoluteDifference"),a=_u(t,"predictions","absoluteDifference");let i=null;null!=n&&(i=_u(n,"weights","absoluteDifference")),ka(r.shape,a.shape,"Error in absoluteDifference: ");const s=ad(rd(r,a));return Wg(s,i,o)}});const Hg=Eu({cosineDistance_:function(e,t,n,o,r=jg.SUM_BY_NONZERO_WEIGHTS){const a=_u(e,"labels","cosineDistance"),i=_u(t,"predictions","cosineDistance");let s=null;null!=o&&(s=_u(o,"weights","cosineDistance")),ka(a.shape,i.shape,"Error in cosineDistance: ");const l=Yp(1),c=rd(l,Tf(Hp(a,i),n,!0));return Wg(c,s,r)}});const Vg=Eu({hingeLoss_:function(e,t,n,o=jg.SUM_BY_NONZERO_WEIGHTS){let r=_u(e,"labels","hingeLoss");const a=_u(t,"predictions","hingeLoss");let i=null;null!=n&&(i=_u(n,"weights","hingeLoss")),ka(r.shape,a.shape,"Error in hingeLoss: ");const s=Yp(1);r=rd(Hp(Yp(2),r),s);const l=Xh(rd(s,Hp(r,a)));return Wg(l,i,o)}});const qg=Eu({huberLoss_:function(e,t,n,o=1,r=jg.SUM_BY_NONZERO_WEIGHTS){const a=_u(e,"labels","huberLoss"),i=_u(t,"predictions","huberLoss");let s=null;null!=n&&(s=_u(n,"weights","huberLoss")),ka(a.shape,i.shape,"Error in huberLoss: ");const l=Yp(o),c=ad(rd(i,a)),u=hh(c,l),p=rd(c,u),d=jp(Hp(Yp(.5),qp(u)),Hp(l,p));return Wg(d,s,r)}});const Gg=Eu({logLoss_:function(e,t,n,o=1e-7,r=jg.SUM_BY_NONZERO_WEIGHTS){const a=_u(e,"labels","logLoss"),i=_u(t,"predictions","logLoss");let s=null;null!=n&&(s=_u(n,"weights","logLoss")),ka(a.shape,i.shape,"Error in logLoss: ");const l=Yp(1),c=Yp(o),u=Xf(Hp(a,Kf(jp(i,c)))),p=Hp(rd(l,a),Kf(jp(rd(l,i),c))),d=rd(u,p);return Wg(d,s,r)}});const Kg=Eu({meanSquaredError_:function(e,t,n,o=jg.SUM_BY_NONZERO_WEIGHTS){const r=_u(e,"labels","meanSquaredError"),a=_u(t,"predictions","meanSquaredError");let i=null;null!=n&&(i=_u(n,"weights","meanSquaredError")),ka(r.shape,a.shape,"Error in meanSquaredError: ");const s=ky(r,a);return Wg(s,i,o)}});const Yg=Eu({sigmoidCrossEntropy_:function(e,t,n,o=0,r=jg.SUM_BY_NONZERO_WEIGHTS){let a=_u(e,"multiClassLabels","sigmoidCrossEntropy");const i=_u(t,"logits","sigmoidCrossEntropy");let s=null;if(null!=n&&(s=_u(n,"weights","sigmoidCrossEntropy")),ka(a.shape,i.shape,"Error in sigmoidCrossEntropy: "),o>0){const e=Yp(o),t=Yp(1),n=Yp(.5);a=jp(Hp(a,rd(t,e)),Hp(n,e))}const l=function(e,t){const n=_u(e,"labels","sigmoidCrossEntropyWithLogits"),o=_u(t,"logits","sigmoidCrossEntropyWithLogits");ka(n.shape,o.shape,"Error in sigmoidCrossEntropyWithLogits: ");const r=Xh(o),a=Hp(o,n),i=Yf(Af(Xf(ad(o))));return jp(rd(r,a),i)}(a,i);return Wg(l,s,r)}});const Xg=Eu({softmaxCrossEntropy_:function(e,t,n,o=0,r=jg.SUM_BY_NONZERO_WEIGHTS){let a=_u(e,"onehotLabels","softmaxCrossEntropy");const i=_u(t,"logits","softmaxCrossEntropy");let s=null;if(null!=n&&(s=_u(n,"weights","softmaxCrossEntropy")),ka(a.shape,i.shape,"Error in softmaxCrossEntropy: "),o>0){const e=Yp(o),t=Yp(1),n=Yp(a.shape[1]);a=jp(Hp(a,rd(t,e)),Up(e,n))}const l=function(e,t,n=-1){if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${n}`);const o=Kp(((e,t,o)=>{const r=eh(t,[n],!0),a=rd(Op(t,"float32"),r);o([e,a]);const i=Xf(Hp(a,e));return{value:Tf(i,[n]),gradFunc:(e,t)=>{const[o,r]=t,a=vf(e.shape,[n]);return[Hp(xm(e,a),rd(Op(o,"float32"),Af(r))),Hp(xm(e,a),rd(Af(r),Op(o,"float32")))]}}}));return o(e,t)}(a,i);return Wg(l,s,r)}});const Jg=Eu({sparseFillEmptyRows_:function(e,t,n,o){const r=_u(e,"indices","sparseFillEmptyRows","int32"),a=_u(t,"values","sparseFillEmptyRows"),i=_u(n,"denseShape","sparseFillEmptyRows","int32"),s=_u(o,"defaultValue","sparseFillEmptyRows",a.dtype);if(2!==r.rank)throw new Error(`Indices should be Tensor2D but received shape\n        ${r.shape}`);if(1!==a.rank)throw new Error(`Values should be Tensor1D but received shape ${a.shape}`);if(1!==i.rank)throw new Error(`Dense shape should be Tensor1D but received shape ${i.shape}`);if(0!==s.rank)throw new Error(`Default value should be a scalar but received shape ${s.shape}`);const l={indices:r,values:a,denseShape:i,defaultValue:s},c=bu.runKernel(Rl,l);return{outputIndices:c[0],outputValues:c[1],emptyRowIndicator:c[2],reverseIndexMap:c[3]}}});const Zg=Eu({sparseReshape_:function(e,t,n){const o=_u(e,"inputIndices","sparseReshape","int32"),r=_u(t,"inputShape","sparseReshape","int32"),a=_u(n,"newShape","sparseReshape","int32");if(2!==o.rank)throw new Error(`Input indices should be Tensor2D but received shape\n        ${o.shape}`);if(1!==r.rank)throw new Error(`Input shape should be Tensor1D but received shape ${r.shape}`);if(1!==a.rank)throw new Error(`New shape should be Tensor1D but received shape ${a.shape}`);const i={inputIndices:o,inputShape:r,newShape:a},s=bu.runKernel(Fl,i);return{outputIndices:s[0],outputShape:s[1]}}});const Qg=Eu({sparseSegmentMean_:function(e,t,n){const o=_u(e,"data","sparseSegmentMean"),r=_u(t,"indices","sparseSegmentMean","int32"),a=_u(n,"segmentIds","sparseSegmentMean","int32");if(o.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.rank)throw new Error(`Indices should be Tensor1D but received shape\n          ${r.shape}`);if(1!==a.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n          ${a.shape}`);const i={data:o,indices:r,segmentIds:a};return bu.runKernel(zl,i)}});const eb=Eu({sparseSegmentSum_:function(e,t,n){const o=_u(e,"data","sparseSegmentSum"),r=_u(t,"indices","sparseSegmentSum","int32"),a=_u(n,"segmentIds","sparseSegmentSum","int32");if(o.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.rank)throw new Error(`Indices should be Tensor1D but received shape\n         ${r.shape}`);if(1!==a.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n         ${a.shape}`);const i={data:o,indices:r,segmentIds:a};return bu.runKernel(Pl,i)}});const tb=Eu({stringNGrams_:function(e,t,n,o,r,a,i,s){const l=_u(e,"data","stringNGrams","string");if("string"!==l.dtype)throw new Error("Data must be of datatype string");if(1!==l.shape.length)throw new Error(`Data must be a vector, saw: ${l.shape}`);const c=_u(t,"dataSplits","stringNGrams");if("int32"!==c.dtype)throw new Error("Data splits must be of datatype int32");const u={separator:n,nGramWidths:o,leftPad:r,rightPad:a,padWidth:i,preserveShortSequences:s},p={data:l,dataSplits:c},d=bu.runKernel(Ul,p,u);return{nGrams:d[0],nGramsSplits:d[1]}}});const nb=Eu({stringSplit_:function(e,t,n=!0){const o=_u(e,"input","stringSplit","string"),r=_u(t,"delimiter","stringSplit","string");if(1!==o.rank)throw new Error(`Input should be Tensor1D but received shape ${o.shape}`);if(0!==r.rank)throw new Error(`Delimiter should be a scalar but received shape ${r.shape}`);const a={skipEmpty:n},i={input:o,delimiter:r},s=bu.runKernel(Hl,i,a);return{indices:s[0],values:s[1],shape:s[2]}}});const ob=Eu({stringToHashBucketFast_:function(e,t){const n=_u(e,"input","stringToHashBucketFast","string"),o={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const r={input:n};return bu.runKernel(Vl,r,o)}});const rb=Eu({staticRegexReplace_:function(e,t,n,o=!0){const r=_u(e,"input","staticRegexReplace","string"),a={pattern:t,rewrite:n,replaceGlobal:o};return bu.runKernel(jl,{x:r},a)}}),ab={fft:yy,ifft:gy,rfft:wy,irfft:by},ib={hammingWindow:lg,hannWindow:cg,frame:ug,stft:pg},sb={flipLeftRight:mg,grayscaleToRGB:fg,resizeNearestNeighbor:Rg,resizeBilinear:Dg,rgbToGrayscale:hg,rotateWithOffset:yg,cropAndResize:dg,nonMaxSuppression:bg,nonMaxSuppressionAsync:Ng,nonMaxSuppressionWithScore:Cg,nonMaxSuppressionWithScoreAsync:Ag,nonMaxSuppressionPadded:Mg,nonMaxSuppressionPaddedAsync:Og,threshold:Fg,transform:zg},lb={bandPart:Pg,gramSchmidt:$g,qr:Bg},cb={absoluteDifference:Ug,computeWeightedLoss:Wg,cosineDistance:Hg,hingeLoss:Vg,huberLoss:qg,logLoss:Gg,meanSquaredError:Kg,sigmoidCrossEntropy:Yg,softmaxCrossEntropy:Xg},ub={sparseFillEmptyRows:Jg,sparseReshape:Zg,sparseSegmentMean:Qg,sparseSegmentSum:eb},pb={stringNGrams:tb,stringSplit:nb,stringToHashBucketFast:ob,staticRegexReplace:rb};function db(e,t){const n=e[0].length;e.forEach(((e,t)=>{wa(e.length===n,(()=>`Error in concat${n}D: rank of tensors[${t}] must be the same as the rank of the rest (${n})`))})),wa(t>=0&&t<n,(()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`));const o=e[0];e.forEach(((e,r)=>{for(let a=0;a<n;a++)wa(a===t||e[a]===o[a],(()=>`Error in concat${n}D: Shape of tensors[${r}] (${e}) does not match the shape of the rest (${o}) along the non-concatenated axis ${r}.`))}))}function mb(e,t){const n=e[0].slice();for(let o=1;o<e.length;o++)n[t]+=e[o][t];return n}var fb;!function(e){e[e.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",e[e.VALUE_ROWIDS=1]="VALUE_ROWIDS",e[e.ROW_LENGTHS=2]="ROW_LENGTHS",e[e.ROW_SPLITS=3]="ROW_SPLITS",e[e.ROW_LIMITS=4]="ROW_LIMITS",e[e.ROW_STARTS=5]="ROW_STARTS"}(fb||(fb={}));function hb(e,t,n){return[n*("number"==typeof e?e:e[0]),t*("number"==typeof e?e:e[1])]}function yb(e,t,n,o=!0){let r=[];if(o)r=r.concat(t.slice(0)),r.push(e[0]/n),r=r.concat(e.slice(1));else{r=r.concat(e[0]);const n=t.length;for(let o=0;o<n;++o)r=r.concat([e[o+1]/t[o],t[o]]);r=r.concat(e.slice(n+1))}return r}function gb(e,t,n=!0){const o=[];if(n){o.push(t);for(let n=t+1;n<e;++n)n<=2*t?(o.push(n),o.push(n-(t+1))):o.push(n)}else{const n=[],r=[];for(let o=1;o<e;++o)o>=2*t+1||o%2==1?r.push(o):n.push(o);o.push(...n),o.push(0),o.push(...r)}return o}function bb(e,t,n,o=!0){const r=[];o?r.push(e[0]/n):r.push(e[0]*n);for(let n=1;n<e.length;++n)n<=t.length?o?r.push(t[n-1]*e[n]):r.push(e[n]/t[n-1]):r.push(e[n]);return r}function vb(e,t){const n=[0];for(let o=0;o<t;++o)n.push(e[o][0]);return n}function wb(e,t,n){const o=e.slice(0,1);for(let r=0;r<n;++r)o.push(e[r+1]-t[r][0]-t[r][1]);return o}function kb(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);const n=new Float32Array(2*e.length);for(let o=0;o<n.length;o+=2)n[o]=e[o/2],n[o+1]=t[o/2];return n}function xb(e,t){return{real:e[2*t],imag:e[2*t+1]}}function Sb(e,t,n,o){e[2*o]=t,e[2*o+1]=n}function _b(e,t,n){const o=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(o),imag:Math.sin(o)}}const Ib="->",Tb=/->/g,Eb=",",Nb="...";function Cb(e,t){let n=new Array(e);n.fill(-1);for(let e=0;e<t.length;++e)n[t[e]]=e;const o=[];for(let t=0;t<e;++t)-1===n[t]&&o.push(t);return n=n.filter((e=>-1!==e)),{permutationIndices:n,expandDims:o}}function Ab(e){return e.every(((e,t)=>e===t))}function Mb(e,t){const n=[];for(let o=0;o<e.length;++o)0!==e[o].length&&-1===e[o].indexOf(t)&&-1!==t||n.push(o);return n}function Ob(e,t,n=0){let o=[];if("number"==typeof t)wa(e.shape[n]%t==0,(()=>"Number of splits must evenly divide the axis.")),o=new Array(t).fill(e.shape[n]/t);else{const r=t.reduce(((e,t)=>(-1===t&&(e+=1),e)),0);wa(r<=1,(()=>"There should be only one negative value in split array."));const a=t.indexOf(-1);if(-1!==a){const o=t.reduce(((e,t)=>t>0?e+t:e));t[a]=e.shape[n]-o}wa(e.shape[n]===t.reduce(((e,t)=>e+t)),(()=>"The sum of sizes must match the size of the axis dimension.")),o=t}return o}function Db(e){return`Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ${e}`}function Rb(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function Fb(e,t,n){return`indices(${e}, 0) is invalid: ${t} >= ${n}`}function zb(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function Pb(e,t){return`size ${e} must be non-negative, not ${t}`}function $b(e,t){return`Input to reshape is a SparseTensor with ${Sa(e)}\n  dense values, but the requested shape requires a multiple of ${Sa(t)}. inputShape=${e} outputShape= ${t}`}function Lb(e,t){return`Input to reshape is a tensor with ${Sa(e)} dense values, but the requested shape has ${Sa(t)}. inputShape=${e} outputShape=${t}`}function Bb(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function jb(e,t,n){return`Bad: indices[${e}] == ${t} out of range [0, ${n})`}function Wb(e,t,n,o){const r=t.shape.length,a=e.shape.length;if(0!==o&&(o<-r||o>r))throw new Error(`Expect batchDims in the range of [-${r}, ${r}], but got ${o}`);if(o<0&&(o+=r),o>a)throw new Error(`batchDims (${o}) must be less than rank(x) (\n    ${a}).`);if(n<o)throw new Error(`batchDims (${o}) must be less than or equal to axis (${n}).`);for(let n=0;n<o;++n)if(e.shape[n]!==t.shape[n])throw new Error(`x.shape[${n}]: ${e.shape[n]} should be equal to indices.shape[${n}]: ${t.shape[n]}.`);const i=e.shape[n],s=[];let l=1,c=1,u=1;for(let t=0;t<o;++t)s.push(e.shape[t]),l*=e.shape[t];for(let t=o;t<n;t++)s.push(e.shape[t]),c*=e.shape[t];for(let e=o;e<r;e++)s.push(t.shape[e]);for(let t=n+1;t<a;t++)s.push(e.shape[t]),u*=e.shape[t];return{batchSize:l,sliceSize:u,outerSize:c,dimSize:i,outputShape:s}}function Ub(e){try{return e.map((e=>zc(e)))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function Hb(e){return e.map((e=>Fc(e)))}!function(){for(const e of ud)ed(e)}();var Vb=i(8610);var qb,Gb;Ka().registerFlag("KEEP_INTERMEDIATE_TENSORS",(()=>!1),(e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(qb||(qb={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(Gb||(Gb={}));const Kb={};function Yb(e){return Kb[e]}function Xb(e,t,n,o,r){const a=t.inputParams[e];if(a&&void 0!==a.inputIndexStart){const e=a.inputIndexStart,i=0===a.inputIndexEnd?void 0:void 0===a.inputIndexEnd?e+1:a.inputIndexEnd,s=e<0?t.inputNames.length+e:e;if("tensor"===a.type)return Jb(t.inputNames[s],n,o,r);if("tensors"===a.type){const a=t.inputs.slice(e,i),s=t.inputNames.slice(e,i).filter(((e,t)=>{var n;return"NoOp"!==(null===(n=a[t])||void 0===n?void 0:n.op)}));return s.map((e=>Jb(e,n,o,r)))}const l=Jb(t.inputNames[s],n,o,r),c=l.dataSync();return"number"===a.type?c[0]:Pa(l.shape,c)}const i=t.attrParams[e];return i&&i.value}function Jb(e,t,n,o){const[r,a]=tv(e,n);if(null!=o){const e=o.getHashTableHandleByName(r);if(null!=e)return e}const i=n.currentContextIds.find((e=>!!t[ev(r,e)]));return void 0!==i?t[ev(r,i)][a]:void 0}function Zb(e,t,n){return t[ev(e,n.currentContextId)]}function Qb(e,t){const[n,o,r]=tv(e,t);return[ev(n,t&&t.currentContextId),o,r]}function ev(e,t){return t?`${e}-${t}`:e}function tv(e,t){if(""===e)return["",0,void 0];const n=null!=t&&null!=t.parseNodeNameCache;if(n){const n=t.parseNodeNameCache.get(e);if(null!=n)return n}const o=e.split(":");let r;if(1===o.length)r=[e,0,void 0];else{const e=o[0],t=3===o.length?o[1]:void 0;r=[e,Number(o[o.length-1]),t]}return n&&t.parseNodeNameCache.set(e,r),r}function nv(e,t,n){let o=Xb("pad",e,t,n);if("explicit"===o){o=Xb("explicitPaddings",e,t,n);const r=[[0,0],[0,0],[0,0],[0,0]];for(let e=0;e<4;e++)r[e][0]=o[2*e],r[e][1]=o[2*e+1];return r}return o}function ov(e){return e.kept?e:Dp(e)}const rv=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],av=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],iv=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],sv=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],lv=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],cv=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],uv=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],pv=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],dv=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],mv=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],fv=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],hv=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],yv=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],gv=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],bv=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],vv=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],wv=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],kv=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],xv=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];class Sv{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[n,o,r,a,l,c,u,p,d,m,f,h,y,g,b,v,w,k,x].map((e=>e.json)));this.opMappers=e.reduce(((e,t)=>(e[t.tfOpName]=t,e)),{})}transformGraph(e,t={}){const n=e.node,o=[],r=[],a=[],i=n.reduce(((e,t)=>(e[t.name]=this.mapNode(t),t.op.startsWith("Placeholder")?o.push(e[t.name]):"Const"===t.op?r.push(e[t.name]):null!=t.input&&0!==t.input.length||a.push(e[t.name]),e)),{});let s=[];const l=[];let c={},u={};null!=t&&(c=this.mapSignatureEntries(t.inputs),u=this.mapSignatureEntries(t.outputs));const p=Object.keys(i);p.forEach((e=>{const t=i[e];t.inputNames.forEach(((e,n)=>{const[o,,r]=Qb(e),a=i[o];if(null!=a.outputs){const e=a.outputs.indexOf(r);if(-1!==e){const r=`${o}:${e}`;t.inputNames[n]=r}}t.inputs.push(a),a.children.push(t)}))})),0===Object.keys(u).length?p.forEach((e=>{const t=i[e];0===t.children.length&&l.push(t)})):Object.keys(u).forEach((e=>{const[t]=Qb(e),n=i[t];null!=n&&(n.signatureKey=u[e],l.push(n))})),Object.keys(c).length>0?Object.keys(c).forEach((e=>{const[t]=Qb(e),n=i[t];n&&(n.signatureKey=c[e],s.push(n))})):s=o;let d={};null!=e.library&&null!=e.library.function&&(d=e.library.function.reduce(((e,t)=>(e[t.signature.name]=this.mapFunction(t),e)),{}));const m={nodes:i,inputs:s,outputs:l,weights:r,placeholders:o,signature:t,functions:d};return a.length>0&&(m.initNodes=a),m}mapSignatureEntries(e){return Object.keys(e||{}).reduce(((t,n)=>(t[e[n].name]=n,t)),{})}mapNode(e){const t=Yb(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((e=>e.startsWith("^")?e.slice(1):e)),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce(((e,t)=>(e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e)),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce(((t,n)=>{const o=n.type;let r;switch(n.type){case"string":r=Iv(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=Iv(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":r=Fv(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=Fv(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":r=Ev(e.attr,n.tfName,n.defaultValue||0),void 0===r&&n.tfDeprecatedName&&(r=Ev(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":r=Rv(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=Rv(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":r=Tv(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=Tv(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":r=Pv(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=Pv(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":r=Dv(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=Dv(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":r=zv(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=zv(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":r=Av(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=Av(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":r=Mv(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=Mv(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":r=Cv(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=Cv(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${n.type} for op: ${e.op}`)}return t[n.name]={value:r,type:o},t}),{})),n}mapFunction(e){const t=e.nodeDef,n=[];let o={};null!=t&&(o=t.reduce(((e,t)=>(e[t.name]=this.mapNode(t),"Const"===t.op&&n.push(e[t.name]),e)),{}));const r=[],a=[];e.signature.inputArg.forEach((e=>{const[t]=Qb(e.name),n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:Nv(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,r.push(n),o[t]=n}));Object.keys(o).forEach((e=>{const t=o[e];t.inputNames.forEach(((e,n)=>{const[r,,a]=Qb(e),i=o[r];if(null!=i.outputs){const e=i.outputs.indexOf(a);if(-1!==e){const o=`${r}:${e}`;t.inputNames[n]=o}}t.inputs.push(i),i.children.push(t)}))}));const i=e.ret;e.signature.outputArg.forEach((e=>{const[t,n]=Qb(i[e.name]),r=o[t];null!=r&&(r.defaultOutput=n,a.push(r))}));const s=this.mapArgsToSignature(e);return{nodes:o,inputs:r,outputs:a,weights:n,placeholders:[],signature:s}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(((e,t)=>(e[t.name]=this.mapArgToTensorInfo(t),e)),{}),outputs:e.signature.outputArg.reduce(((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t)),{})}}mapArgToTensorInfo(e,t){let n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}function _v(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){const global=Ka().global;if(void 0!==global.atob)return global.atob(e);if("undefined"!=typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function Iv(e,t,n,o=!1){const r=e[t];return null!=r?_v(r.s,o):n}function Tv(e,t,n){const o=e[t];return o?o.b:n}function Ev(e,t,n){const o=e[t]||{},r=null!=o.i?o.i:null!=o.f?o.f:n;return"number"==typeof r?r:parseInt(r,10)}function Nv(e){switch("string"==typeof e&&(e=qb[e]),e){case qb.DT_FLOAT:case qb.DT_HALF:return"float32";case qb.DT_INT32:case qb.DT_INT64:case qb.DT_INT8:case qb.DT_UINT8:return"int32";case qb.DT_BOOL:return"bool";case qb.DT_DOUBLE:return"float32";case qb.DT_STRING:return"string";default:return null}}function Cv(e,t,n){const o=e[t];return o&&o.func?o.func.name:n}function Av(e,t,n){const o=e[t];return o&&o.type?Nv(o.type):n}function Mv(e,t,n){const o=e[t];return o&&o.list&&o.list.type?o.list.type.map((e=>Nv(e))):n}function Ov(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((e=>"number"==typeof e.size?e.size:parseInt(e.size,10))):[]}function Dv(e,t,n){const o=e[t];return o&&o.shape?Ov(o.shape):n}function Rv(e,t,n){const o=e[t];return o?((o.list.f&&o.list.f.length?o.list.f:o.list.i)||[]).map((e=>"number"==typeof e?e:parseInt(e,10))):n}function Fv(e,t,n,o=!1){const r=e[t];return r&&r.list&&r.list.s?r.list.s.map((e=>_v(e,o))):n}function zv(e,t,n){const o=e[t];return o&&o.list&&o.list.shape?o.list.shape.map((e=>Ov(e))):n}function Pv(e,t,n){const o=e[t];return o&&o.list&&o.list.b?o.list.b:n}class $v{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map((e=>this.getInput(e))),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce(((e,t)=>(e[t]=this.getAttr(t),e)),{}))}getInput(e){return Jb(e,this.tensorMap,this.context)}getAttr(e,t){const n=this.node.rawAttrs[e];if(null!=n.tensor)return Jb(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return Ev(this.node.rawAttrs,e,t);if(null!=n.s)return Iv(this.node.rawAttrs,e,t);if(null!=n.b)return Tv(this.node.rawAttrs,e,t);if(null!=n.shape)return Dv(this.node.rawAttrs,e,t);if(null!=n.type)return Av(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return Rv(this.node.rawAttrs,e,t);if(null!=n.list.s)return Fv(this.node.rawAttrs,e,t);if(null!=n.list.shape)return zv(this.node.rawAttrs,e,t);if(null!=n.list.b)return Pv(this.node.rawAttrs,e,t);if(null!=n.list.type)return Mv(this.node.rawAttrs,e,t)}return t}}function Lv(e,t,n=""){if("number"!=typeof e&&"number"!=typeof t){wa(e.length===t.length,(()=>n+` Shapes ${e} and ${t} must match`));for(let o=0;o<e.length;o++){const r=e[o],a=t[o];wa(r<0||a<0||r===a,(()=>n+` Shapes ${e} and ${t} must match`))}}}function Bv(e){return"number"!=typeof e&&!e.some((e=>e<0))}function jv(e,t,n){let o=Wv(e,n);const r=!Bv(o);if(r&&0===t.length)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${o}`);if(r&&t.forEach((e=>{o=Wv(e.shape,o)})),!Bv(o))throw new Error(`Non-fully-defined elementShape: ${o}`);return o}function Wv(e,t){if("number"==typeof e)return t;if("number"==typeof t)return e;if(e.length!==t.length)throw new Error(`Incompatible ranks during merge: ${e} vs. ${t}`);const n=[];for(let o=0;o<e.length;++o){const r=e[o],a=t[o];if(r>=0&&a>=0&&r!==a)throw new Error(`Incompatible shape during merge: ${e} vs. ${t}`);n[o]=r>=0?r:a}return n}class Uv{constructor(e,t,n,o,r,a,i){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=o,this.identicalElementShapes=r,this.dynamicSize=a,this.clearAfterRead=i,this.tensors=[],this.closed_=!1,this.idTensor=Yp(0),$p(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const t=this.tensors[e];if(t.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map((e=>this.read(e)))}write(e,t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},\n          because the value dtype is ${t.dtype}, but TensorArray dtype is ${this.dtype}.`);if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),Lv(this.elementShape,t.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),n.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(n.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);n.tensor=t,$p(t),n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${t.length}.`);e.forEach(((e,n)=>this.write(e,t[n])))}gather(e,t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${t}`);if(e)e=e.slice(0,this.size());else{e=[];for(let t=0;t<this.size();t++)e.push(t)}if(0===e.length)return Au([],[0].concat(this.elementShape));const n=this.readMany(e);return Lv(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),Sy(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(0===this.size())return Au([],[0].concat(this.elementShape));const t=[];for(let e=0;e<this.size();e++)t.push(e);const n=this.readMany(t);return Lv(this.elementShape,n[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${n[0].shape})`),Im(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error(`Max index must be < array size (${n}  vs. ${this.maxSize})`);this.writeMany(e,Py(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);let n=0;const o=e.map((e=>(n+=e,n)));if(n!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${n}, and tensor's shape is: ${t.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const r=0===n?0:t.size/n,a=[];zp((()=>{t=xm(t,[1,n,r]);for(let n=0;n<e.length;++n){const i=[0,0===n?0:o[n-1],0],s=[1,e[n],r];a[n]=xm(Nm(t,i,s),this.elementShape)}return a}));const i=[];for(let t=0;t<e.length;t++)i[t]=t;this.writeMany(i,a)}}class Hv{get id(){return this.idTensor.id}constructor(e,t,n,o=-1){this.tensors=e,this.elementShape=t,this.elementDtype=n,null!=e&&e.forEach((e=>{if(n!==e.dtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${e.dtype}`);Lv(t,e.shape,"TensorList shape mismatch: "),$p(e)})),this.idTensor=Yp(0),this.maxNumElements=o,$p(this.idTensor)}copy(){return new Hv([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t,n=-1){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(-1!==n&&this.tensors.length!==n)throw new Error(`Operation expected a list with ${n} elements but got a list with ${this.tensors.length} elements.`);Lv(e,this.elementShape,"TensorList shape mismatch: ");const o=jv(this.elementShape,this.tensors,e);return zp((()=>{const e=this.tensors.map((e=>xm(e,o)));return Sy(e,0)}))}popBack(e,t){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(0===this.size())throw new Error("Trying to pop from an empty list.");const n=jv(this.elementShape,this.tensors,e),o=this.tensors.pop();return o.kept=!1,Lv(o.shape,e,"TensorList shape mismatch: "),xm(o,n)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(Lv(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");$p(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const t=new Hv([],this.elementShape,this.elementDtype,this.maxNumElements);t.tensors.length=e;for(let n=0;n<Math.min(this.tensors.length,e);++n)t.tensors[n]=this.tensors[n];return t}getItem(e,t,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(null==this.tensors[e])throw new Error(`element at index ${e} is null.`);Lv(this.tensors[e].shape,t,"TensorList shape mismatch: ");const o=jv(this.elementShape,this.tensors,t);return xm(this.tensors[e],o)}setItem(e,t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);Lv(this.elementShape,t.shape,"TensorList shape mismatch: "),$p(t),null!=this.tensors[e]&&(this.tensors[e].kept=!1),this.tensors[e]=t}gather(e,t,n){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);Lv(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());const o=jv(this.elementShape,this.tensors,n);return 0===e.length?Au([],[0].concat(o)):zp((()=>{const t=e.map((e=>xm(this.tensors[e],o)));return Sy(t,0)}))}concat(e,t){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);Lv(this.elementShape,t,"TensorList shape mismatch: ");const n=jv(this.elementShape,this.tensors,t);return 0===this.size()?Au([],[0].concat(n)):zp((()=>{const e=this.tensors.map((e=>xm(e,n)));return Im(e,0)}))}}const Vv=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const o=Xb("thenBranch",e,t,n),r=Xb("elseBranch",e,t,n),a=Xb("cond",e,t,n),i=Xb("args",e,t,n);return(await a.data())[0]?n.functionMap[o].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap):n.functionMap[r].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const o=Xb("body",e,t,n),r=Xb("cond",e,t,n),a=Xb("args",e,t,n),i=await n.functionMap[r].executeFunctionAsync(a,n.tensorArrayMap,n.tensorListMap),s=a.map((e=>e.id));let l=await i[0].data();i.forEach((e=>{e.kept||-1!==s.indexOf(e.id)||e.dispose()}));let c=a;for(;l[0];){const e=c;c=await n.functionMap[o].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);const t=c.map((e=>e.id));e.forEach((e=>{e.kept||-1!==s.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}));const a=await n.functionMap[r].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);l=await a[0].data(),a.forEach((e=>{e.kept||-1!==s.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}))}return c}case"LoopCond":return[ov(Xb("pred",e,t,n))];case"Switch":{const o=Xb("pred",e,t,n);let r=Xb("data",e,t,n);return r.kept||(r=ov(r)),(await o.data())[0]?[void 0,r]:[r,void 0]}case"Merge":{const o=e.inputNames.find((e=>void 0!==Jb(e,t,n)));if(o){return[ov(Jb(o,t,n))]}return}case"Enter":{const o=Xb("frameName",e,t,n),r=Xb("tensor",e,t,n);return n.enterFrame(o),[ov(r)]}case"Exit":{const o=Xb("tensor",e,t,n);return n.exitFrame(),[ov(o)]}case"NextIteration":{const o=Xb("tensor",e,t,n);return n.nextIteration(),[ov(o)]}case"TensorArrayV3":{const o=Xb("size",e,t,n),r=Xb("dtype",e,t,n),a=Xb("elementShape",e,t,n),i=Xb("dynamicSize",e,t,n),s=Xb("clearAfterRead",e,t,n),l=Xb("identicalElementShapes",e,t,n),c=Xb("name",e,t,n),u=new Uv(c,r,o,a,l,i,s);return n.addTensorArray(u),[u.idTensor,Yp(1)]}case"TensorArrayWriteV3":{const o=Xb("tensorArrayId",e,t,n),r=Xb("index",e,t,n),a=Xb("tensor",e,t,n),i=n.getTensorArray(o.id);return i.write(r,a),[i.idTensor]}case"TensorArrayReadV3":{const o=Xb("tensorArrayId",e,t,n),r=Xb("index",e,t,n);return[n.getTensorArray(o.id).read(r)]}case"TensorArrayGatherV3":{const o=Xb("tensorArrayId",e,t,n),r=Xb("indices",e,t,n),a=Xb("dtype",e,t,n);return[n.getTensorArray(o.id).gather(r,a)]}case"TensorArrayScatterV3":{const o=Xb("tensorArrayId",e,t,n),r=Xb("indices",e,t,n),a=Xb("tensor",e,t,n),i=n.getTensorArray(o.id);return i.scatter(r,a),[i.idTensor]}case"TensorArrayConcatV3":{const o=Xb("tensorArrayId",e,t,n),r=n.getTensorArray(o.id),a=Xb("dtype",e,t,n);return[r.concat(a)]}case"TensorArraySplitV3":{const o=Xb("tensorArrayId",e,t,n),r=Xb("tensor",e,t,n),a=Xb("lengths",e,t,n),i=n.getTensorArray(o.id);return i.split(a,r),[i.idTensor]}case"TensorArraySizeV3":{const o=Xb("tensorArrayId",e,t,n);return[Yp(n.getTensorArray(o.id).size(),"int32")]}case"TensorArrayCloseV3":{const o=Xb("tensorArrayId",e,t,n),r=n.getTensorArray(o.id);return r.clearAndClose(),[r.idTensor]}case"TensorListSetItem":{const o=Xb("tensorListId",e,t,n),r=Xb("index",e,t,n),a=Xb("tensor",e,t,n),i=n.getTensorList(o.id);return i.setItem(r,a),[i.idTensor]}case"TensorListGetItem":{const o=Xb("tensorListId",e,t,n),r=Xb("index",e,t,n),a=Xb("elementShape",e,t,n),i=Xb("elementDType",e,t,n);return[n.getTensorList(o.id).getItem(r,a,i)]}case"TensorListScatterV2":case"TensorListScatter":{const o=Xb("indices",e,t,n),r=function(e,t,n,o){if(t.length!==e.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${e.shape[0]}`);const r=Math.max(...t);if(null!=o&&-1!==o&&r>=o)throw new Error(`Max index must be < array size (${r}  vs. ${o})`);const a=new Hv([],n,e.dtype,o),i=Py(e,0);return t.forEach(((e,t)=>{a.setItem(e,i[t])})),a}(Xb("tensor",e,t,n),o,Xb("elementShape",e,t,n),Xb("numElements",e,t,n));return n.addTensorList(r),[r.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const o=Xb("elementShape",e,t,n),r=Xb("elementDType",e,t,n);let a;a="TensorListReserve"===e.op?"numElements":"maxNumElements";const i=Xb(a,e,t,n),s=function(e,t,n,o){return new Hv([],e,t,o)}(o,r,0,"TensorListReserve"===e.op?-1:i);return n.addTensorList(s),[s.idTensor]}case"TensorListGather":{const o=Xb("tensorListId",e,t,n),r=Xb("indices",e,t,n),a=Xb("elementShape",e,t,n),i=Xb("elementDType",e,t,n);return[n.getTensorList(o.id).gather(r,i,a)]}case"TensorListStack":{const o=Xb("tensorListId",e,t,n),r=Xb("elementShape",e,t,n),a=Xb("elementDType",e,t,n),i=Xb("numElements",e,t,n);return[n.getTensorList(o.id).stack(r,a,i)]}case"TensorListFromTensor":{const o=function(e,t,n){const o=e.dtype;if(e.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${e.shape}`);if(e.dtype!==n)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${n}`);Lv(e.shape.slice(1),t,"TensorList shape mismatch: ");const r=Py(e);return new Hv(r,t,o)}(Xb("tensor",e,t,n),Xb("elementShape",e,t,n),Xb("elementDType",e,t,n));return n.addTensorList(o),[o.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const o=Xb("tensorListId",e,t,n),r=n.getTensorList(o.id),a=Xb("dtype",e,t,n),i=Xb("elementShape",e,t,n);return[r.concat(a,i)]}case"TensorListPushBack":{const o=Xb("tensorListId",e,t,n),r=Xb("tensor",e,t,n),a=n.getTensorList(o.id);return a.pushBack(r),[a.idTensor]}case"TensorListPopBack":{const o=Xb("tensorListId",e,t,n),r=Xb("elementShape",e,t,n),a=Xb("elementDType",e,t,n);return[n.getTensorList(o.id).popBack(r,a)]}case"TensorListSplit":{const o=Xb("tensor",e,t,n),r=Xb("elementShape",e,t,n),a=function(e,t,n){let o=0;const r=t.map((e=>(o+=e,o)));if(o!==e.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${o}, and tensor's shape is: ${e.shape}`);const a=Wv(e.shape.slice(1),n),i=0===o?0:e.size/o,s=zp((()=>{const n=[];e=xm(e,[1,o,i]);for(let o=0;o<t.length;++o){const s=[0,0===o?0:r[o-1],0],l=[1,t[o],i];n[o]=xm(Nm(e,s,l),a)}return e.dispose(),n})),l=new Hv([],n,e.dtype,t.length);for(let e=0;e<s.length;e++)l.setItem(e,s[e]);return l}(o,Xb("lengths",e,t,n),r);return n.addTensorList(a),[a.idTensor]}case"TensorListLength":{const o=Xb("tensorListId",e,t,n);return[Yp(n.getTensorList(o.id).size(),"int32")]}case"TensorListResize":{const o=Xb("tensorListId",e,t,n),r=Xb("size",e,t,n),a=n.getTensorList(o.id).resize(r);return n.addTensorList(a),[a.idTensor]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};function qv(e,t,n){const[o,r]=Xb("fusedOps",e,t,n),a="biasadd"===o,i=!a,s="prelu"===r,l="fusedbatchnorm"===o,c=Xb("numArgs",e,t,n);if(a){if(s&&2!==c)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!s&&a&&1!==c)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const u=Xb("strides",e,t,n),p=nv(e,t,n),d=Xb("dataFormat",e,t,n).toUpperCase(),m=Xb("dilations",e,t,n);let[f,h]=Xb("args",e,t,n);i&&(h=f,f=void 0);return{stride:u,pad:p,dataFormat:d,dilations:m,biasArg:f,preluArg:h,activationFunc:r,leakyreluAlpha:Xb("leakyreluAlpha",e,t,n)}}function Gv(e,t,n){return{boxes:Xb("boxes",e,t,n),scores:Xb("scores",e,t,n),maxOutputSize:Xb("maxOutputSize",e,t,n),iouThreshold:Xb("iouThreshold",e,t,n),scoreThreshold:Xb("scoreThreshold",e,t,n),softNmsSigma:Xb("softNmsSigma",e,t,n)}}class Kv{get id(){return this.handle.id}constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=Yp(0),this.tensorMap=new Map,$p(this.handle)}clearAndClose(){this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return Yp(this.size(),"int32")}async import(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),zp((()=>{const e=Py(t),o=n.length,r=e.length;wa(o===r,(()=>`The number of elements doesn't match, keys has ${o} elements, the values has ${r} elements.`));for(let t=0;t<o;t++){const o=n[t],r=e[t];$p(r),this.tensorMap.set(o,r)}return this.handle}))}async find(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return zp((()=>{const e=[];for(let o=0;o<n.length;o++){const r=n[o],a=this.findWithDefault(r,t);e.push(a)}return Sy(e)}))}findWithDefault(e,t){const n=this.tensorMap.get(e);return null!=n?n:t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(t.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${t.dtype}`)}}function Yv(e,t,n,o,r=zp){const a=((e,t,n)=>{switch(e.category){case"arithmetic":return r((()=>((e,t,n,o=S)=>{switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[o.add(Xb("a",e,t,n),Xb("b",e,t,n))];case"AddN":return[o.addN(Xb("tensors",e,t,n))];case"FloorMod":case"Mod":return[o.mod(Xb("a",e,t,n),Xb("b",e,t,n))];case"Mul":return[o.mul(Xb("a",e,t,n),Xb("b",e,t,n))];case"RealDiv":case"Div":return[o.div(Xb("a",e,t,n),Xb("b",e,t,n))];case"DivNoNan":return[o.divNoNan(Xb("a",e,t,n),Xb("b",e,t,n))];case"FloorDiv":return[o.floorDiv(Xb("a",e,t,n),Xb("b",e,t,n))];case"Sub":return[o.sub(Xb("a",e,t,n),Xb("b",e,t,n))];case"Minimum":return[o.minimum(Xb("a",e,t,n),Xb("b",e,t,n))];case"Maximum":return[o.maximum(Xb("a",e,t,n),Xb("b",e,t,n))];case"Pow":return[o.pow(Xb("a",e,t,n),Xb("b",e,t,n))];case"SquaredDifference":return[o.squaredDifference(Xb("a",e,t,n),Xb("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"basic_math":return r((()=>((e,t,n,o=S)=>{switch(e.op){case"Abs":case"ComplexAbs":return[o.abs(Xb("x",e,t,n))];case"Acos":return[o.acos(Xb("x",e,t,n))];case"Acosh":return[o.acosh(Xb("x",e,t,n))];case"Asin":return[o.asin(Xb("x",e,t,n))];case"Asinh":return[o.asinh(Xb("x",e,t,n))];case"Atan":return[o.atan(Xb("x",e,t,n))];case"Atan2":return[o.atan2(Xb("x",e,t,n),Xb("y",e,t,n))];case"Atanh":return[o.atanh(Xb("x",e,t,n))];case"Ceil":return[o.ceil(Xb("x",e,t,n))];case"Complex":return[o.complex(Xb("real",e,t,n),Xb("imag",e,t,n))];case"Cos":return[o.cos(Xb("x",e,t,n))];case"Cosh":return[o.cosh(Xb("x",e,t,n))];case"Elu":return[o.elu(Xb("x",e,t,n))];case"Erf":return[o.erf(Xb("x",e,t,n))];case"Exp":return[o.exp(Xb("x",e,t,n))];case"Expm1":return[o.expm1(Xb("x",e,t,n))];case"Floor":return[o.floor(Xb("x",e,t,n))];case"Log":return[o.log(Xb("x",e,t,n))];case"Log1p":return[o.log1p(Xb("x",e,t,n))];case"Imag":return[o.imag(Xb("x",e,t,n))];case"Neg":return[o.neg(Xb("x",e,t,n))];case"Reciprocal":return[o.reciprocal(Xb("x",e,t,n))];case"Real":return[o.real(Xb("x",e,t,n))];case"Relu":return[o.relu(Xb("x",e,t,n))];case"Round":return[o.round(Xb("x",e,t,n))];case"Selu":return[o.selu(Xb("x",e,t,n))];case"Sigmoid":return[o.sigmoid(Xb("x",e,t,n))];case"Sin":return[o.sin(Xb("x",e,t,n))];case"Sign":return[o.sign(Xb("x",e,t,n))];case"Sinh":return[o.sinh(Xb("x",e,t,n))];case"Softplus":return[o.softplus(Xb("x",e,t,n))];case"Sqrt":return[o.sqrt(Xb("x",e,t,n))];case"Square":return[o.square(Xb("x",e,t,n))];case"Tanh":return[o.tanh(Xb("x",e,t,n))];case"Tan":return[o.tan(Xb("x",e,t,n))];case"ClipByValue":return[o.clipByValue(Xb("x",e,t,n),Xb("clipValueMin",e,t,n),Xb("clipValueMax",e,t,n))];case"Relu6":return[o.relu6(Xb("x",e,t,n))];case"Rsqrt":return[o.rsqrt(Jb(e.inputNames[0],t,n))];case"LeakyRelu":return[o.leakyRelu(Xb("x",e,t,n),Xb("alpha",e,t,n))];case"Prelu":return[o.prelu(Xb("x",e,t,n),Xb("alpha",e,t,n))];case"IsNan":return[o.isNaN(Jb(e.inputNames[0],t,n))];case"IsInf":return[o.isInf(Jb(e.inputNames[0],t,n))];case"IsFinite":return[o.isFinite(Jb(e.inputNames[0],t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"control":return Vv(e,t,n);case"convolution":return r((()=>((e,t,n,o=S)=>{switch(e.op){case"Conv1D":{const r=Xb("stride",e,t,n),a=Xb("pad",e,t,n),i=Xb("dataFormat",e,t,n).toUpperCase(),s=Xb("dilation",e,t,n);return[o.conv1d(Xb("x",e,t,n),Xb("filter",e,t,n),r,a,i,s)]}case"Conv2D":{const r=Xb("strides",e,t,n),a=nv(e,t,n),i=Xb("dataFormat",e,t,n).toUpperCase(),s=Xb("dilations",e,t,n);return[o.conv2d(Xb("x",e,t,n),Xb("filter",e,t,n),[r[1],r[2]],a,i,[s[1],s[2]])]}case"_FusedConv2D":{const{stride:r,pad:a,dataFormat:i,dilations:s,biasArg:l,preluArg:c,activationFunc:u,leakyreluAlpha:p}=qv(e,t,n);return[o.fused.conv2d({x:Xb("x",e,t,n),filter:Xb("filter",e,t,n),strides:[r[1],r[2]],pad:a,dataFormat:i,dilations:[s[1],s[2]],bias:l,activation:u,preluActivationWeights:c,leakyreluAlpha:p})]}case"FusedDepthwiseConv2dNative":{const{stride:r,pad:a,dataFormat:i,dilations:s,biasArg:l,preluArg:c,activationFunc:u,leakyreluAlpha:p}=qv(e,t,n);return[o.fused.depthwiseConv2d({x:Xb("x",e,t,n),filter:Xb("filter",e,t,n),strides:[r[1],r[2]],pad:a,dataFormat:i,dilations:[s[1],s[2]],bias:l,activation:u,preluActivationWeights:c,leakyreluAlpha:p})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const r=Xb("outputShape",e,t,n),a=Xb("strides",e,t,n),i=nv(e,t,n);return[o.conv2dTranspose(Xb("x",e,t,n),Xb("filter",e,t,n),r,[a[1],a[2]],i)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const r=Xb("strides",e,t,n),a=nv(e,t,n),i=Xb("dilations",e,t,n),s=Xb("dataFormat",e,t,n).toUpperCase();return[o.depthwiseConv2d(Xb("input",e,t,n),Xb("filter",e,t,n),[r[1],r[2]],a,s,[i[1],i[2]])]}case"Conv3D":{const r=Xb("strides",e,t,n),a=Xb("pad",e,t,n),i=Xb("dataFormat",e,t,n).toUpperCase(),s=Xb("dilations",e,t,n);return[o.conv3d(Xb("x",e,t,n),Xb("filter",e,t,n),[r[1],r[2],r[3]],a,i,[s[1],s[2],s[3]])]}case"AvgPool":{const r=Xb("strides",e,t,n),a=Xb("pad",e,t,n),i=Xb("kernelSize",e,t,n);return[o.avgPool(Xb("x",e,t,n),[i[1],i[2]],[r[1],r[2]],a)]}case"MaxPool":{const r=Xb("strides",e,t,n),a=Xb("pad",e,t,n),i=Xb("kernelSize",e,t,n);return[o.maxPool(Xb("x",e,t,n),[i[1],i[2]],[r[1],r[2]],a)]}case"MaxPoolWithArgmax":{const r=Xb("strides",e,t,n),a=Xb("pad",e,t,n),i=Xb("kernelSize",e,t,n),s=Xb("includeBatchInIndex",e,t,n),{result:l,indexes:c}=o.maxPoolWithArgmax(Xb("x",e,t,n),[i[1],i[2]],[r[1],r[2]],a,s);return[l,c]}case"AvgPool3D":{const r=Xb("strides",e,t,n),a=Xb("pad",e,t,n),i=Xb("kernelSize",e,t,n);return[o.avgPool3d(Xb("x",e,t,n),[i[1],i[2],i[3]],[r[1],r[2],r[3]],a)]}case"MaxPool3D":{const r=Xb("strides",e,t,n),a=Xb("pad",e,t,n),i=Xb("kernelSize",e,t,n);return[o.maxPool3d(Xb("x",e,t,n),[i[1],i[2],i[3]],[r[1],r[2],r[3]],a)]}case"Dilation2D":{const r=Xb("strides",e,t,n),a=Xb("pad",e,t,n),i=Xb("dilations",e,t,n),s=r[1],l=r[2],c=i[1],u=i[2];return[o.dilation2d(Xb("x",e,t,n),Xb("filter",e,t,n),[s,l],a,[c,u],"NHWC")]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"creation":return r((()=>((e,t,n,o=S)=>{switch(e.op){case"Fill":{const r=Xb("shape",e,t,n),a=Xb("dtype",e,t,n),i=Xb("value",e,t,n);return[o.fill(r,i,a)]}case"LinSpace":{const r=Xb("start",e,t,n),a=Xb("stop",e,t,n),i=Xb("num",e,t,n);return[o.linspace(r,a,i)]}case"Multinomial":{const r=Xb("logits",e,t,n),a=Xb("numSamples",e,t,n),i=Xb("seed",e,t,n);return[o.multinomial(r,a,i)]}case"OneHot":{const r=Xb("indices",e,t,n),a=Xb("depth",e,t,n),i=Xb("onValue",e,t,n),s=Xb("offValue",e,t,n),l=Xb("dtype",e,t,n);return[o.oneHot(r,a,i,s,l)]}case"Ones":return[o.ones(Xb("shape",e,t,n),Xb("dtype",e,t,n))];case"OnesLike":return[o.onesLike(Xb("x",e,t,n))];case"RandomStandardNormal":return[o.randomStandardNormal(Xb("shape",e,t,n),Xb("dtype",e,t,n),Xb("seed",e,t,n))];case"RandomUniform":return[o.randomUniform(Xb("shape",e,t,n),Xb("minval",e,t,n),Xb("maxval",e,t,n),Xb("dtype",e,t,n))];case"RandomUniformInt":return[o.randomUniformInt(Xb("shape",e,t,n),Xb("minval",e,t,n),Xb("maxval",e,t,n),Xb("seed",e,t,n))];case"Range":{const r=Xb("start",e,t,n),a=Xb("stop",e,t,n),i=Xb("step",e,t,n);return[o.range(r,a,i,Xb("dtype",e,t,n))]}case"TruncatedNormal":{const r=Xb("shape",e,t,n),a=Xb("mean",e,t,n),i=Xb("stdDev",e,t,n),s=Xb("seed",e,t,n);return[o.truncatedNormal(r,a,i,Xb("dtype",e,t,n),s)]}case"Zeros":return[o.zeros(Xb("shape",e,t,n),Xb("dtype",e,t,n))];case"ZerosLike":return[o.zerosLike(Xb("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"dynamic":return(async(e,t,n,o,r=S)=>{switch(e.op){case"NonMaxSuppressionV5":{const{boxes:o,scores:a,maxOutputSize:i,iouThreshold:s,scoreThreshold:l,softNmsSigma:c}=Gv(e,t,n),u=await r.image.nonMaxSuppressionWithScoreAsync(o,a,i,s,l,c);return[u.selectedIndices,u.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:o,scores:a,maxOutputSize:i,iouThreshold:s,scoreThreshold:l}=Gv(e,t,n),c=Xb("padToMaxOutputSize",e,t,n),u=await r.image.nonMaxSuppressionPaddedAsync(o,a,i,s,l,c);return[u.selectedIndices,u.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:o,scores:a,maxOutputSize:i,iouThreshold:s,scoreThreshold:l}=Gv(e,t,n);return[await r.image.nonMaxSuppressionAsync(o,a,i,s,l)]}case"Where":{const o=r.cast(Xb("condition",e,t,n),"bool"),a=[await r.whereAsync(o)];return o.dispose(),a}case"ListDiff":return r.setdiff1dAsync(Xb("x",e,t,n),Xb("y",e,t,n));default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n);case"evaluation":return r((()=>((e,t,n,o=S)=>{switch(e.op){case"LowerBound":{const r=Xb("sortedSequence",e,t,n),a=Xb("values",e,t,n);return[o.lowerBound(r,a)]}case"TopKV2":{const r=Xb("x",e,t,n),a=Xb("k",e,t,n),i=Xb("sorted",e,t,n),s=o.topk(r,a,i);return[s.values,s.indices]}case"UpperBound":{const r=Xb("sortedSequence",e,t,n),a=Xb("values",e,t,n);return[o.upperBound(r,a)]}case"Unique":{const r=Xb("x",e,t,n),a=o.unique(r);return[a.values,a.indices]}case"UniqueV2":{const r=Xb("x",e,t,n),a=Xb("axis",e,t,n),i=o.unique(r,a);return[i.values,i.indices]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"image":return r((()=>((e,t,n,o=S)=>{switch(e.op){case"ResizeBilinear":{const r=Xb("images",e,t,n),a=Xb("size",e,t,n),i=Xb("alignCorners",e,t,n),s=Xb("halfPixelCenters",e,t,n);return[o.image.resizeBilinear(r,[a[0],a[1]],i,s)]}case"ResizeNearestNeighbor":{const r=Xb("images",e,t,n),a=Xb("size",e,t,n),i=Xb("alignCorners",e,t,n),s=Xb("halfPixelCenters",e,t,n);return[o.image.resizeNearestNeighbor(r,[a[0],a[1]],i,s)]}case"CropAndResize":{const r=Xb("image",e,t,n),a=Xb("boxes",e,t,n),i=Xb("boxInd",e,t,n),s=Xb("cropSize",e,t,n),l=Xb("method",e,t,n),c=Xb("extrapolationValue",e,t,n);return[o.image.cropAndResize(r,a,i,s,l,c)]}case"ImageProjectiveTransformV3":{const r=Xb("images",e,t,n),a=Xb("transforms",e,t,n),i=Xb("outputShape",e,t,n),s=Xb("fillValue",e,t,n),l=Xb("interpolation",e,t,n),c=Xb("fillMode",e,t,n);return[o.image.transform(r,a,l.toLowerCase(),c.toLowerCase(),s,i)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"graph":return r((()=>((e,t,n,o=S)=>{switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const r=Xb("default",e,t,n);return[Jb(e.name,t,n)||r];case"Placeholder":return[Jb(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[ov(Xb("x",e,t,n))];case"IdentityN":return Xb("x",e,t,n).map((e=>ov(e)));case"Shape":return[o.tensor1d(Xb("x",e,t,n).shape,"int32")];case"ShapeN":return Xb("x",e,t,n).map((e=>o.tensor1d(e.shape)));case"Size":return[o.scalar(Xb("x",e,t,n).size,"int32")];case"Rank":return[o.scalar(Xb("x",e,t,n).rank,"int32")];case"NoOp":return[o.scalar(1)];case"Print":const a=Xb("x",e,t,n),i=Xb("data",e,t,n),s=Xb("message",e,t,n),l=Xb("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(s);for(let e=0;e<i.length;e++)console.log(Array.prototype.slice.call(i[e].dataSync()).slice(0,l));return[a];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"logical":return r((()=>((e,t,n,o=S)=>{switch(e.op){case"Equal":return[o.equal(Xb("a",e,t,n),Xb("b",e,t,n))];case"NotEqual":return[o.notEqual(Xb("a",e,t,n),Xb("b",e,t,n))];case"Greater":return[o.greater(Xb("a",e,t,n),Xb("b",e,t,n))];case"GreaterEqual":return[o.greaterEqual(Xb("a",e,t,n),Xb("b",e,t,n))];case"Less":return[o.less(Xb("a",e,t,n),Xb("b",e,t,n))];case"LessEqual":return[o.lessEqual(Xb("a",e,t,n),Xb("b",e,t,n))];case"LogicalAnd":return[o.logicalAnd(Xb("a",e,t,n),Xb("b",e,t,n))];case"LogicalNot":return[o.logicalNot(Xb("a",e,t,n))];case"LogicalOr":return[o.logicalOr(Xb("a",e,t,n),Xb("b",e,t,n))];case"Select":case"SelectV2":return[o.where(Xb("condition",e,t,n),Xb("a",e,t,n),Xb("b",e,t,n))];case"BitwiseAnd":return[o.bitwiseAnd(Xb("a",e,t,n),Xb("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"matrices":return r((()=>((e,t,n,o=S)=>{switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[o.matMul(Xb("a",e,t,n),Xb("b",e,t,n),Xb("transposeA",e,t,n),Xb("transposeB",e,t,n))];case"Einsum":return[o.einsum(Xb("equation",e,t,n),...Xb("tensors",e,t,n))];case"Transpose":return[o.transpose(Xb("x",e,t,n),Xb("perm",e,t,n))];case"_FusedMatMul":const[r,a]=Xb("fusedOps",e,t,n),i="biasadd"===r,s="prelu"===a,l=Xb("numArgs",e,t,n),c=Xb("leakyreluAlpha",e,t,n);if(i){if(s&&2!==l)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!s&&1!==l)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[u,p]=Xb("args",e,t,n);return[o.fused.matMul({a:Xb("a",e,t,n),b:Xb("b",e,t,n),transposeA:Xb("transposeA",e,t,n),transposeB:Xb("transposeB",e,t,n),bias:u,activation:a,preluActivationWeights:p,leakyreluAlpha:c})];case"MatrixBandPart":return[o.linalg.bandPart(Xb("a",e,t,n),Xb("numLower",e,t,n),Xb("numUpper",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"normalization":return r((()=>((e,t,n,o=S)=>{switch(e.op){case"EuclideanNorm":return[o.euclideanNorm(Xb("x",e,t,n),Xb("axis",e,t,n),Xb("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[o.batchNorm(Xb("x",e,t,n),Xb("mean",e,t,n),Xb("variance",e,t,n),Xb("offset",e,t,n),Xb("scale",e,t,n),Xb("epsilon",e,t,n))];case"LRN":return[o.localResponseNormalization(Xb("x",e,t,n),Xb("radius",e,t,n),Xb("bias",e,t,n),Xb("alpha",e,t,n),Xb("beta",e,t,n))];case"Softmax":return[o.softmax(Xb("x",e,t,n))];case"LogSoftmax":return[o.logSoftmax(Xb("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"ragged":return r((()=>((e,t,n,o=S)=>{switch(e.op){case"RaggedGather":{const{outputNestedSplits:r,outputDenseValues:a}=o.raggedGather(Xb("paramsNestedSplits",e,t,n),Xb("paramsDenseValues",e,t,n),Xb("indices",e,t,n),Xb("outputRaggedRank",e,t,n));return r.concat(a)}case"RaggedRange":{const{rtNestedSplits:r,rtDenseValues:a}=o.raggedRange(Xb("starts",e,t,n),Xb("limits",e,t,n),Xb("splits",e,t,n));return[r,a]}case"RaggedTensorToTensor":return[o.raggedTensorToTensor(Xb("shape",e,t,n),Xb("values",e,t,n),Xb("defaultValue",e,t,n),Xb("rowPartitionTensors",e,t,n),Xb("rowPartitionTypes",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"reduction":return r((()=>((e,t,n,o=S)=>{switch(e.op){case"Max":{const r=Xb("axis",e,t,n),a=Xb("keepDims",e,t,n);return[o.max(Xb("x",e,t,n),r,a)]}case"Mean":{const r=Xb("axis",e,t,n),a=Xb("keepDims",e,t,n);return[o.mean(Xb("x",e,t,n),r,a)]}case"Min":{const r=Xb("axis",e,t,n),a=Xb("keepDims",e,t,n);return[o.min(Xb("x",e,t,n),r,a)]}case"Sum":{const r=Xb("axis",e,t,n),a=Xb("keepDims",e,t,n);return[o.sum(Xb("x",e,t,n),r,a)]}case"All":{const r=Xb("axis",e,t,n),a=Xb("keepDims",e,t,n);return[o.all(Xb("x",e,t,n),r,a)]}case"Any":{const r=Xb("axis",e,t,n),a=Xb("keepDims",e,t,n);return[o.any(Xb("x",e,t,n),r,a)]}case"ArgMax":{const r=Xb("axis",e,t,n);return[o.argMax(Xb("x",e,t,n),r)]}case"ArgMin":{const r=Xb("axis",e,t,n);return[o.argMin(Xb("x",e,t,n),r)]}case"Prod":{const r=Xb("axis",e,t,n),a=Xb("keepDims",e,t,n);return[o.prod(Xb("x",e,t,n),r,a)]}case"Cumprod":{const r=Xb("axis",e,t,n),a=Xb("exclusive",e,t,n),i=Xb("reverse",e,t,n);return[o.cumprod(Xb("x",e,t,n),r,a,i)]}case"Cumsum":{const r=Xb("axis",e,t,n),a=Xb("exclusive",e,t,n),i=Xb("reverse",e,t,n);return[o.cumsum(Xb("x",e,t,n),r,a,i)]}case"Bincount":const r=Xb("x",e,t,n),a=Xb("weights",e,t,n),i=Xb("size",e,t,n);return[o.bincount(r,a,i)];case"DenseBincount":{const r=Xb("x",e,t,n),a=Xb("weights",e,t,n),i=Xb("size",e,t,n),s=Xb("binaryOutput",e,t,n);return[o.denseBincount(r,a,i,s)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"slice_join":return r((()=>((e,t,n,o=S)=>{switch(e.op){case"ConcatV2":case"Concat":{const r=Xb("n",e,t,n),a=Xb("axis",e,t,n);let i=Xb("tensors",e,t,n);return i=i.slice(0,r),[o.concat(i,a)]}case"Gather":{const r=Xb("x",e,t,n),a=Xb("indices",e,t,n);return[o.gather(r,o.cast(a,"int32"),0)]}case"GatherV2":{const r=Xb("axis",e,t,n),a=Xb("batchDims",e,t,n),i=Xb("x",e,t,n),s=Xb("indices",e,t,n);return[o.gather(i,o.cast(s,"int32"),r,a)]}case"Reverse":{const r=Xb("dims",e,t,n),a=[];for(let e=0;e<r.length;e++)r[e]&&a.push(e);const i=Xb("x",e,t,n);return[o.reverse(i,a)]}case"ReverseV2":{const r=Xb("axis",e,t,n),a=Xb("x",e,t,n);return[o.reverse(a,r)]}case"Slice":{const r=Xb("begin",e,t,n),a=Xb("size",e,t,n);return[o.slice(Xb("x",e,t,n),r,a)]}case"StridedSlice":{const r=Xb("begin",e,t,n),a=Xb("end",e,t,n),i=Xb("strides",e,t,n),s=Xb("beginMask",e,t,n),l=Xb("endMask",e,t,n),c=Xb("ellipsisMask",e,t,n),u=Xb("newAxisMask",e,t,n),p=Xb("shrinkAxisMask",e,t,n),d=Xb("x",e,t,n);return[o.stridedSlice(d,r,a,i,s,l,c,u,p)]}case"Pack":return zp((()=>{const r=Xb("axis",e,t,n),a=Xb("tensors",e,t,n),i=a[0].shape,s=o.squeeze(a[0]).shape,l=a.map((e=>{const t=_a(e.shape,i);if(!t&&!_a(o.squeeze(e).shape,s))throw new Error("the input tensors shape does not match");return t?e:o.reshape(e,i)}));return[o.stack(l,r)]}));case"Unpack":{const r=Xb("axis",e,t,n),a=Xb("tensor",e,t,n);return o.unstack(a,r)}case"Tile":{const r=Xb("reps",e,t,n);return[o.tile(Xb("x",e,t,n),r)]}case"Split":case"SplitV":{const r=Xb("axis",e,t,n),a=Xb("numOrSizeSplits",e,t,n),i=Xb("x",e,t,n);return o.split(i,a,r)}case"ScatterNd":{const r=Xb("indices",e,t,n),a=Xb("values",e,t,n),i=Xb("shape",e,t,n);return[o.scatterND(r,a,i)]}case"GatherNd":{const r=Xb("x",e,t,n),a=Xb("indices",e,t,n);return[o.gatherND(r,a)]}case"SparseToDense":{const r=Xb("sparseIndices",e,t,n),a=Xb("outputShape",e,t,n),i=Xb("sparseValues",e,t,n),s=Xb("defaultValue",e,t,n);return[o.sparseToDense(r,i,a,i.dtype===s.dtype?s:o.cast(s,i.dtype))]}case"TensorScatterUpdate":{const r=Xb("indices",e,t,n),a=Xb("values",e,t,n),i=Xb("tensor",e,t,n);return[o.tensorScatterUpdate(i,r,a)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"sparse":return r((()=>((e,t,n,o=S)=>{switch(e.op){case"SparseFillEmptyRows":{const{outputIndices:r,outputValues:a,emptyRowIndicator:i,reverseIndexMap:s}=o.sparse.sparseFillEmptyRows(Xb("indices",e,t,n),Xb("values",e,t,n),Xb("denseShape",e,t,n),Xb("defaultValue",e,t,n));return[r,a,i,s]}case"SparseReshape":{const{outputIndices:r,outputShape:a}=o.sparse.sparseReshape(Xb("inputIndices",e,t,n),Xb("inputShape",e,t,n),Xb("newShape",e,t,n));return[r,a]}case"SparseSegmentMean":return[o.sparse.sparseSegmentMean(Xb("data",e,t,n),Xb("indices",e,t,n),Xb("segmentIds",e,t,n))];case"SparseSegmentSum":return[o.sparse.sparseSegmentSum(Xb("data",e,t,n),Xb("indices",e,t,n),Xb("segmentIds",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"spectral":return r((()=>((e,t,n,o=S)=>{switch(e.op){case"FFT":return[o.fft(Xb("x",e,t,n))];case"IFFT":return[o.ifft(Xb("x",e,t,n))];case"RFFT":return[o.rfft(Xb("x",e,t,n))];case"IRFFT":return[o.irfft(Xb("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"string":return r((()=>((e,t,n,o=S)=>{switch(e.op){case"StaticRegexReplace":return[o.string.staticRegexReplace(Xb("input",e,t,n),Xb("pattern",e,t,n),Xb("rewrite",e,t,n),Xb("replaceGlobal",e,t,n))];case"StringNGrams":{const{nGrams:r,nGramsSplits:a}=o.string.stringNGrams(Xb("data",e,t,n),Xb("dataSplits",e,t,n),Xb("separator",e,t,n),Xb("nGramWidths",e,t,n),Xb("leftPad",e,t,n),Xb("rightPad",e,t,n),Xb("padWidth",e,t,n),Xb("preserveShortSequences",e,t,n));return[r,a]}case"StringSplit":{const{indices:r,values:a,shape:i}=o.string.stringSplit(Xb("input",e,t,n),Xb("delimiter",e,t,n),Xb("skipEmpty",e,t,n));return[r,a,i]}case"StringToHashBucketFast":return[o.string.stringToHashBucketFast(Xb("input",e,t,n),Xb("numBuckets",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"transformation":return r((()=>((e,t,n,o=S)=>{switch(e.op){case"Cast":return[o.cast(Xb("x",e,t,n),Xb("dtype",e,t,n))];case"ExpandDims":{const r=Xb("axis",e,t,n);return[o.expandDims(Xb("x",e,t,n),r)]}case"Squeeze":{const r=Xb("axis",e,t,n);return[o.squeeze(Xb("x",e,t,n),r)]}case"Reshape":return[o.reshape(Xb("x",e,t,n),Xb("shape",e,t,n))];case"EnsureShape":return[o.ensureShape(Xb("x",e,t,n),Xb("shape",e,t,n))];case"MirrorPad":return[o.mirrorPad(Xb("x",e,t,n),Xb("padding",e,t,n),Xb("mode",e,t,n))];case"PadV2":case"Pad":return[o.pad(Xb("x",e,t,n),Xb("padding",e,t,n),Xb("constantValue",e,t,n))];case"SpaceToBatchND":{const r=Xb("blockShape",e,t,n),a=Xb("paddings",e,t,n);return[o.spaceToBatchND(Xb("x",e,t,n),r,a)]}case"BatchToSpaceND":{const r=Xb("blockShape",e,t,n),a=Xb("crops",e,t,n);return[o.batchToSpaceND(Xb("x",e,t,n),r,a)]}case"DepthToSpace":{const r=Xb("blockSize",e,t,n),a=Xb("dataFormat",e,t,n).toUpperCase();return[o.depthToSpace(Xb("x",e,t,n),r,a)]}case"BroadcastTo":return[o.broadcastTo(Xb("x",e,t,n),Xb("shape",e,t,n))];case"BroadcastArgs":return[o.broadcastArgs(Xb("s0",e,t,n),Xb("s1",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"hash_table":return(async(e,t,n,o)=>{switch(e.op){case"HashTable":case"HashTableV2":{const r=o.getHashTableHandleByName(e.name);if(null!=r)return[r];{const r=Xb("keyDType",e,t,n),a=Xb("valueDType",e,t,n),i=new Kv(r,a);return o.addHashTable(e.name,i),[i.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const r=Xb("tableHandle",e,t,n,o),a=Xb("keys",e,t,n),i=Xb("values",e,t,n),s=o.getHashTableById(r.id);return[await s.import(a,i)]}case"LookupTableFind":case"LookupTableFindV2":{const r=Xb("tableHandle",e,t,n,o),a=Xb("keys",e,t,n),i=Xb("defaultValue",e,t,n),s=o.getHashTableById(r.id);return[await s.find(a,i)]}case"LookupTableSize":case"LookupTableSizeV2":{const r=Xb("tableHandle",e,t,n,o);return[o.getHashTableById(r.id).tensorSize()]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n,o);case"custom":const a=Yb(e.op);if(a&&a.customExecutor)return a.customExecutor(new $v(e,t,n));throw TypeError(`Custom op ${e.op} is not registered.`);default:throw TypeError(`Unknown op '${e.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(e,t,n);return Ha(a)?a.then((e=>[].concat(e))):[].concat(a)}class Xv{constructor(e={},t={},n={},o={},r){this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=n,this.functionMap=o,this.parseNodeNameCache=r,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let t=0;t<this.contexts.length-1;t++){const n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map((e=>0===e.id&&0===e.iterationId?"":`${e.frameName}-${e.iterationId}`)).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(const t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}}function Jv(e,t,n,o){const r=new Set,a=[];let i=null,s=null;const l=new Set,c=new Set(Object.keys(e).map((e=>tv(e)[0])));o=o||[];const u=new Set(o.map((e=>tv(e.name)[0]))),p=[...t];for(;p.length>0;){const e=p.pop();(ow(e)||rw(e)||aw(e))&&null==i&&(i=e,s=i.children.map((e=>e.name)).filter((e=>r.has(e)))),r.add(e.name),null==n[e.name]&&(c.has(e.name)||u.has(e.name)||(0!==e.inputs.length?e.inputs.forEach((e=>{l.has(e.name)||(l.add(e.name),p.push(e))})):a.push(e.name)))}return{inputs:e,outputs:t,usedNodes:r,missingInputs:a,dynamicNode:i,syncInputs:s}}function Zv(e,t){const{usedNodes:n,inputs:o}=t,r=Object.keys(o).map((e=>tv(e)[0])).map((t=>e.nodes[t])),a=e.initNodes||[],i=e=>n.has("string"==typeof e?e:e.name);function s(e){return[...new Map(e.map((e=>[e.name,e]))).values()]}const l=s([...r,...e.weights,...a]).filter(i),c=s([...l,...Object.values(e.nodes)]).filter(i),u=new Map(c.map((e=>[e.name,e]))),p={};for(const e of c){p[e.name]=p[e.name]||0;for(const t of e.children)i(t)||(p[t.name]=Number.POSITIVE_INFINITY),p[t.name]=(p[t.name]||0)+1}const d=Object.entries(p).filter((([,e])=>0===e)).map((([e])=>e)),m=[...d];for(;d.length>0;){const e=d.pop(),t=u.get(e);for(const e of t.children.filter(i))0==--p[e.name]&&(m.push(e.name),d.push(e.name))}const f=function(e,t){const n=new Map(e.map((e=>[e.name,e]))),o=t.map((e=>e.name)),r=new Set(o);for(;o.length>0;){const e=o.pop(),t=n.get(e);for(const e of t.children)n.has(e.name)&&!r.has(e.name)&&(r.add(e.name),o.push(e.name))}const a=e.filter((e=>r.has(e.name)));return a}(m.map((e=>u.get(e))),l);return function(e,t){const n=new Map(e.map(((e,t)=>[e.name,t]))),o=new Set(t.map((e=>e.name))),r=e=>o.has("string"==typeof e?e:e.name),a=new Set(e.map((e=>e.name))),i=e=>a.has("string"==typeof e?e:e.name);for(const t of e){for(const e of t.children.filter(i)){if(!n.has(e.name))throw new Qv(`Child ${e.name} of node ${t.name} is unreachable.`);if(n.get(t.name)>n.get(e.name))throw new Qv(`Node ${t.name} is scheduled to run after its child ${e.name}.`)}if(!r(t))for(const e of t.inputs){if(!n.has(e.name))throw new Qv(`Input ${e.name} of node ${t.name} is unreachable.`);if(n.get(e.name)>n.get(t.name))throw new Qv(`Node ${t.name} is scheduled to run before its input ${e.name}.`)}}}(f,l),f}class Qv extends Error{constructor(e){super(`NodesExecutionOrderError: ${e}`)}}const ew=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),tw=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),nw=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function ow(e){return ew.has(e.op)}function rw(e){return tw.has(e.op)}function aw(e){return nw.has(e.op)}class iw{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const t=Object.keys(e).map((t=>e[t].map((e=>e.id))));this._weightIds=[].concat(...t),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get outputs(){return this._outputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get inputNodes(){return this._inputs.map((e=>e.signatureKey||e.name))}get outputNodes(){return this._outputs.map((e=>{const t=e.signatureKey||e.name;return e.defaultOutput?`${t}:${e.defaultOutput}`:t}))}get functions(){return Object.keys(this._functions).reduce(((e,t)=>(e[t]=this._functions[t].signature,e)),{})}constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach((t=>{this._functionExecutorMap[t]=new iw(e.functions[t],this)}))}getCompilationKey(e,t){const n=e.map((e=>e.name)).sort(),o=t.map((e=>e.name)).sort();return n.join(this.SEPARATOR)+"--"+o.join(this.SEPARATOR)}compile(e,t){const n=Jv(e,t,this.weightMap,this._initNodes),{missingInputs:o,dynamicNode:r,syncInputs:a}=n;if(null!=r)throw new Error(`This execution contains the node '${r.name}', which has the dynamic op '${r.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${a}]`);if(o.length>0){const n=t.map((e=>e.name)),r=Object.keys(e);throw new Error(`Cannot compute the outputs [${n}] from the provided inputs [${r}]. Missing the following inputs: [${o}]`)}const i=Zv(this.graph,n),s=function(e){const t=new Map(e.map(((e,t)=>[e.name,t]))),n=Number.MAX_SAFE_INTEGER,o=e.map(((e,t)=>ow(e)?n:t)),r=e=>{const n=o[t.get(e.name)];return null==n?-1:n},a=e.map(((e,t)=>e.children.map(r).reduce(((e,t)=>Math.max(e,t)),o[t]))),i=new Map;for(let t=0;t<e.length;++t){const o=a[t];if(o===n)continue;const r=e[t],s=e[o];i.has(s.name)||i.set(s.name,[]),i.get(s.name).push(r)}return i}(i);return{orderedNodes:i,nodeLiveUntilMap:s}}cloneAndKeepTensor(e){if(null==e)return null;const t=e.clone();return $p(t),t}cloneTensorList(e){if(!e)return null;const t=e.map((e=>this.cloneAndKeepTensor(e)));return t}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map((([e,t])=>[e,this.cloneTensorList(t)])))}execute(e,t){this.disposeIntermediateTensors(),e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const o=n.map((e=>this.graph.nodes[tv(e)[0]])),r=t.map((e=>tv(e)[0])),a=new Set(r);let i=r.map((e=>this.graph.nodes[e]));0===i.length&&(i=this._outputs);const s=this.getCompilationKey(o,i);let l=this.compiledMap.get(s);null==l&&(l=this.compile(e,i),this.compiledMap.set(s,l));try{this.keepIntermediateTensors=Ka().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(e){this.keepIntermediateTensors=!1,console.warn(e.message)}const c={},u={};return zp((()=>{const n=new Xv(this.weightMap,c,u,this.functionExecutorMap,this.parseNodeNameCache),o=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach((t=>{const[r,a]=tv(t,n),i=[];i[a]=e[t],o[r]=i,this.keepIntermediateTensors&&(this.clonedTensorsMap[r]=this.cloneTensorList(i))}));const r=this.getFrozenTensorIds(o),{orderedNodes:i,nodeLiveUntilMap:s}=l;for(const e of i){if(o[e.name])continue;const t=Yv(e,o,n,this._resourceManager);if(Ha(t))throw new Error(`The execution of the op '${e.op}' returned a promise. Please use model.executeAsync() instead.`);o[e.name]=t,this.keepIntermediateTensors&&(this.clonedTensorsMap[e.name]=this.cloneTensorList(t)),this.checkTensorForDisposalWithNodeLiveUntilInfo(e,o,n,r,a,s.get(e.name))}return null==this.parent&&n.dispose(r),t.map((e=>Jb(e,o,n)))}))}getFrozenTensorIds(e){const t=[].concat.apply([],Object.keys(e).map((t=>e[t])).map((e=>e.map((e=>e.id)))));return new Set(t)}checkTensorForDisposal(e,t,n,o,r,a,i){if(!ow(t)&&!a.has(e)){for(const o of n[e])null!=o&&(i[o.id]=(i[o.id]||0)+t.children.length);for(const e of t.inputs){if(ow(e))continue;const t=Zb(e.name,n,o);if(null!=t)for(const e of t){if(!e||e.kept||r.has(e.id))continue;const t=i[e.id];1===t?(e.dispose(),delete i[e.id]):null!=t&&i[e.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,t,n,o,r,a){function i(e){return ow(e)||r.has(e.name)}if(!ow(e)&&null!=a)for(const e of a){if(i(e))continue;const r=Zb(e.name,t,n);for(const e of r)!e||e.kept||o.has(e.id)||e.dispose()}}async executeAsync(e,t){return this._executeAsync(e,t)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach((e=>{for(const t of e)t&&!t.isDisposed&&t.dispose()})),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,t,n=!1,o={},r={}){this.disposeIntermediateTensors(),n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));try{this.keepIntermediateTensors=Ka().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(e){this.keepIntermediateTensors=!1,console.warn(e.message)}const a=new Xv(this.weightMap,o,r,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const i=await this.executeWithControlFlow(e,a,t,n),s=t.map((e=>Jb(e,i,a))),l=s.map((e=>e.id)),c=Object.keys(e).map((t=>e[t].id)),u=new Set([...l,...c,...this.weightIds]);return Object.values(i).forEach((e=>{e.forEach((e=>{!e||e.isDisposed||u.has(e.id)||e.dispose()}))})),null==this.parent&&a.dispose(u),s}async executeFunctionAsync(e,t,n){const o=e.reduce(((e,t,n)=>(e[this.inputs[n].name]=t,e)),{});return this._executeAsync(o,this.outputNodes,!0,t,n)}async executeWithControlFlow(e,t,n,o){const r=Object.keys(e),a=r.map((e=>this.graph.nodes[tv(e)[0]])),i=n.map((e=>tv(e)[0])),s=new Set(i);let l=i.map((e=>this.graph.nodes[e]));0===l.length&&(l=this._outputs);const{usedNodes:c,missingInputs:u,dynamicNode:p,syncInputs:d}=Jv(e,l,this.weightMap,this._initNodes),m=[...a,...this.graph.weights,...this._initNodes||[]].map((e=>({node:e,contexts:t.currentContext}))),f=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,o]=tv(t),r=[];r[o]=e[t],f[n]=r}));const h={},y=this.getFrozenTensorIds(f),g={};for(;m.length>0;){const e=this.processStack(a,m,t,f,g,y,s,h,c);await Promise.all(e)}null!=p||o||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const b=l.filter((e=>!ow(e)&&!Jb(e.name,f,t))).map((e=>e.name));if(b.length>0){let e="";throw null!=p&&(e=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${d}]`),new Error(`Cannot compute the outputs [${b}] from the provided inputs [${r}]. Consider providing the following inputs: [${u}]. ${e}`)}return f}processStack(e,t,n,o,r,a,i,s,l){const c=[];for(;t.length>0;){const e=t.pop();n.currentContext=e.contexts;let u="";if("Enter"===e.node.op&&Xb("isConstant",e.node,o,n)&&([u]=Qb(e.node.name,n)),null==o[e.node.name]){const p=Yv(e.node,o,n,this._resourceManager);u||([u]=Qb(e.node.name,n));const d=n.currentContext;Ha(p)?c.push(p.then((c=>(o[u]=c,this.keepIntermediateTensors&&(this.clonedTensorsMap[u]=this.cloneTensorList(c)),n.currentContext=d,this.checkTensorForDisposal(u,e.node,o,n,a,i,s),this.processChildNodes(e.node,t,n,o,r,l),c)))):(o[u]=p,this.keepIntermediateTensors&&(this.clonedTensorsMap[u]=this.cloneTensorList(p)),this.checkTensorForDisposal(u,e.node,o,n,a,i,s),this.processChildNodes(e.node,t,n,o,r,l))}else this.processChildNodes(e.node,t,n,o,r,l)}return c}processChildNodes(e,t,n,o,r,a){e.children.forEach((e=>{const[i]=Qb(e.name,n);!r[i]&&a.has(e.name)&&("Merge"===e.op?e.inputNames.some((e=>!!Jb(e,o,n)))&&(r[i]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((e=>!!Jb(e,o,n)))&&(r[i]=!0,t.push({contexts:n.currentContext,node:e})))}))}dispose(){Object.keys(this.weightMap).forEach((e=>this.weightMap[e].forEach((e=>e.dispose()))))}checkInputShapeAndType(e){Object.keys(e).forEach((t=>{const n=e[t],[o]=tv(t),r=this.graph.nodes[o];if(r.attrParams.shape&&r.attrParams.shape.value){const e=r.attrParams.shape.value,t=e.length===n.shape.length&&n.shape.every(((t,n)=>-1===e[n]||e[n]===t));wa(t,(()=>`The shape of dict['${r.name}'] provided in model.execute(dict) must be [${e}], but was [${n.shape}]`))}r.attrParams.dtype&&r.attrParams.dtype.value&&wa(n.dtype===r.attrParams.dtype.value,(()=>`The dtype of dict['${r.name}'] provided in model.execute(dict) must be ${r.attrParams.dtype.value}, but was ${n.dtype}`))}))}mapInputs(e){var t,n;const o={};for(const r in e){const a=null===(n=null===(t=this._signature)||void 0===t?void 0:t.inputs)||void 0===n?void 0:n[r];null!=a?o[a.name]=e[r]:o[r]=e[r]}return o}checkInputs(e){const t=Object.keys(e).filter((e=>{const[t]=tv(e);return null==this.graph.nodes[t]}));if(t.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${t}] that are not part of graph`)}mapOutputs(e){return e.map((e=>{var t,n;const o=null===(n=null===(t=this._signature)||void 0===t?void 0:t.outputs)||void 0===n?void 0:n[e];return null!=o?o.name:e}),{})}checkOutputs(e){e.forEach((e=>{const[t]=tv(e);if(!this.graph.nodes[t])throw new Error(`The output '${e}' is not found in the graph`)}))}}class sw{constructor(e={},t={}){this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}const lw="?tfjs-format=file",cw="model.json";class uw{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(t,n={},o=e){this.modelUrl=t,this.loadOptions=n,this.version="n/a",this.io=o,null==n&&(this.loadOptions={}),this.resourceManager=new sw}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const t=this.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error(`Found more than one (${t.length}) load handlers for URL '${[e]}'`);this.handler=t[0]}}load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return Ha(e)?e.then((e=>this.loadSync(e))):this.loadSync(e)}loadSync(e){this.artifacts=e;const t=this.artifacts.modelTopology;let n=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){const e=this.artifacts.userDefinedMetadata;null!=e.signature&&(n=e.signature),null!=e.structuredOutputKeys&&(this.structuredOutputKeys=e.structuredOutputKeys)}this.signature=n,this.version=`${t.versions.producer}.${t.versions.minConsumer}`;const o=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new iw(Sv.Instance.transformGraph(t,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(o),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){const t=Sv.Instance.transformGraph(e.modelInitializer);this.initializer=new iw(t),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,t){if("string"==typeof e){const t=this.io.getSaveHandlers(e);if(0===t.length)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new Error(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const t={};return(e instanceof eu?[e]:e).forEach(((e,n)=>t[this.structuredOutputKeys[n]]=e)),t}return e}predict(e,t){const n=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(n)}async predictAsync(e,t){const n=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(n)}normalizeInputs(e){var t;if(!(e instanceof eu||Array.isArray(e))){const n=null===(t=this.signature)||void 0===t?void 0:t.inputs;if(null!=n)for(const t in n){const o=n[t];null!=o.resourceId&&(e[t]=this.resourceIdToCapturedInput[o.resourceId])}return e}e=Array.isArray(e)?e:[e];const n=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+n!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-n} non-resource placeholders, while there are ${e.length} input tensors provided.`);let o=0;return this.inputNodes.reduce(((t,n)=>{var r,a,i;const s=null===(i=null===(a=null===(r=this.signature)||void 0===r?void 0:r.inputs)||void 0===a?void 0:a[n])||void 0===i?void 0:i.resourceId;return t[n]=null!=s?this.resourceIdToCapturedInput[s]:e[o++],t}),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const t=this.initializerSignature.outputs,n=Object.keys(t);for(let o=0;o<n.length;o++){const r=t[n[o]];this.resourceIdToCapturedInput[r.resourceId]=e[o]}}}execute(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce(((t,n)=>(t[n]=[e[n]],t)),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&Pp(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function pw(t,n={},o=e){if(null==t)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==n&&(n={}),n.fromTFHub&&"string"==typeof t&&(t=function(e){e.endsWith("/")||(e+="/");return`${e}${cw}${lw}`}(t));const r=new uw(t,n,o);return await r.load(),r}var dw=function(){return dw=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},dw.apply(this,arguments)};function mw(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))}function fw(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var hw=["rightEye","leftEye","noseTip","mouthCenter","rightEarTragion","leftEarTragion"],yw={modelType:"short",runtime:"mediapipe",maxFaces:1},gw=function(){function e(e){var t=this;this.width=0,this.height=0,this.selfieMode=!1,this.faceDetectorSolution=new Vb.FaceDetection({locateFile:function(t,n){if(e.solutionPath){var o=e.solutionPath.replace(/\/+$/,"");return"".concat(o,"/").concat(t)}return"".concat(n,"/").concat(t)}}),this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode,model:e.modelType}),this.faceDetectorSolution.onResults((function(e){if(t.height=e.image.height,t.width=e.image.width,t.faces=[],null!==e.detections)for(var n=0,o=e.detections;n<o.length;n++){var r=o[n];t.faces.push(t.normalizedToAbsolute(r.landmarks,(void 0,void 0,{xMin:i=(a=r.boundingBox).xCenter-a.width/2,xMax:i+a.width,yMin:s=a.yCenter-a.height/2,yMax:s+a.height,width:a.width,height:a.height})))}var a,i,s}))}return e.prototype.normalizedToAbsolute=function(e,t){var n=this;return{keypoints:e.map((function(e,t){return{x:e.x*n.width,y:e.y*n.height,name:hw[t]}})),box:{xMin:t.xMin*this.width,yMin:t.yMin*this.height,xMax:t.xMax*this.width,yMax:t.yMax*this.height,width:t.width*this.width,height:t.height*this.height}}},e.prototype.estimateFaces=function(e,t){return mw(this,void 0,void 0,(function(){var n,o;return fw(this,(function(r){switch(r.label){case 0:return t&&t.flipHorizontal&&t.flipHorizontal!==this.selfieMode&&(this.selfieMode=t.flipHorizontal,this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode})),e instanceof eu?(o=ImageData.bind,[4,zd(e)]):[3,2];case 1:return n=new(o.apply(ImageData,[void 0,r.sent(),e.shape[1],e.shape[0]])),[3,3];case 2:n=e,r.label=3;case 3:return e=n,[4,this.faceDetectorSolution.send({image:e})];case 4:return r.sent(),[2,this.faces]}}))}))},e.prototype.dispose=function(){this.faceDetectorSolution.close()},e.prototype.reset=function(){this.faceDetectorSolution.reset(),this.width=0,this.height=0,this.faces=null,this.selfieMode=!1},e.prototype.initialize=function(){return this.faceDetectorSolution.initialize()},e}();function bw(e){return mw(this,void 0,void 0,(function(){var t,n;return fw(this,(function(o){switch(o.label){case 0:return t=function(e){if(null==e)return dw({},yw);var t=dw({},e);return t.runtime="mediapipe",null==t.modelType&&(t.modelType=yw.modelType),null==t.maxFaces&&(t.maxFaces=yw.maxFaces),t}(e),[4,(n=new gw(t)).initialize()];case 1:return o.sent(),[2,n]}}))}))}function vw(e){return e instanceof eu?{height:e.shape[0],width:e.shape[1]}:{height:e.height,width:e.width}}function ww(e){return e instanceof eu?e:Pd(e)}function kw(e,t){wa(0!==e.width,(function(){return"".concat(t," width cannot be 0.")})),wa(0!==e.height,(function(){return"".concat(t," height cannot be 0.")}))}function xw(e,t,n){var o=t.outputTensorSize,r=t.keepAspectRatio,a=t.borderMode,i=t.outputTensorFloatRange,s=vw(e),l=function(e,t){return t?{xCenter:t.xCenter*e.width,yCenter:t.yCenter*e.height,width:t.width*e.width,height:t.height*e.height,rotation:t.rotation}:{xCenter:.5*e.width,yCenter:.5*e.height,width:e.width,height:e.height,rotation:0}}(s,n),c=function(e,t,n){if(void 0===n&&(n=!1),!n)return{top:0,left:0,right:0,bottom:0};var o=t.height,r=t.width;kw(t,"targetSize"),kw(e,"roi");var a,i,s=o/r,l=e.height/e.width,c=0,u=0;return s>l?(a=e.width,i=e.width*s,u=(1-l/s)/2):(a=e.height/s,i=e.height,c=(1-s/l)/2),e.width=a,e.height=i,{top:u,left:c,right:c,bottom:u}}(l,o,r),u=function(e,t,n,o){var r=e.width,a=e.height,i=o?-1:1,s=Math.cos(e.rotation),l=Math.sin(e.rotation),c=e.xCenter,u=e.yCenter,p=1/t,d=1/n,m=new Array(16);return m[0]=r*s*i*p,m[1]=-a*l*p,m[2]=0,m[3]=(-.5*r*s*i+.5*a*l+c)*p,m[4]=r*l*i*d,m[5]=a*s*d,m[6]=0,m[7]=(-.5*a*s-.5*r*l*i+u)*d,m[8]=0,m[9]=0,m[10]=r*p,m[11]=0,m[12]=0,m[13]=0,m[14]=0,m[15]=1,function(e){if(16!==e.length)throw new Error("Array length must be 16 but got ".concat(e.length));return[[e[0],e[1],e[2],e[3]],[e[4],e[5],e[6],e[7]],[e[8],e[9],e[10],e[11]],[e[12],e[13],e[14],e[15]]]}(m)}(l,s.width,s.height,!1),p=zp((function(){var t=ww(e),n=Ny(function(e,t,n){return kw(n,"inputResolution"),[1/n.width*e[0][0]*t.width,1/n.height*e[0][1]*t.width,e[0][3]*t.width,1/n.width*e[1][0]*t.height,1/n.height*e[1][1]*t.height,e[1][3]*t.height,0,0]}(u,s,o),[1,8]),r="zero"===a?"constant":"nearest",l=sb.transform(Mf(Op(t,"float32")),n,"bilinear",r,0,[o.height,o.width]);return null!=i?function(e,t){var n=function(e,t,n,o){var r=(o-n)/255;return{scale:r,offset:n-0*r}}(0,0,t[0],t[1]);return zp((function(){return jp(Hp(e,n.scale),n.offset)}))}(l,i):l}));return{imageTensor:p,padding:c,transformationMatrix:u}}function Sw(e){null==e.reduceBoxesInLowestLayer&&(e.reduceBoxesInLowestLayer=!1),null==e.interpolatedScaleAspectRatio&&(e.interpolatedScaleAspectRatio=1),null==e.fixedAnchorSize&&(e.fixedAnchorSize=!1);for(var t=[],n=0;n<e.numLayers;){for(var o=[],r=[],a=[],i=[],s=n;s<e.strides.length&&e.strides[s]===e.strides[n];){var l=_w(e.minScale,e.maxScale,s,e.strides.length);if(0===s&&e.reduceBoxesInLowestLayer)a.push(1),a.push(2),a.push(.5),i.push(.1),i.push(l),i.push(l);else{for(var c=0;c<e.aspectRatios.length;++c)a.push(e.aspectRatios[c]),i.push(l);if(e.interpolatedScaleAspectRatio>0){var u=s===e.strides.length-1?1:_w(e.minScale,e.maxScale,s+1,e.strides.length);i.push(Math.sqrt(l*u)),a.push(e.interpolatedScaleAspectRatio)}}s++}for(var p=0;p<a.length;++p){var d=Math.sqrt(a[p]);o.push(i[p]/d),r.push(i[p]*d)}var m=0,f=0;if(e.featureMapHeight.length>0)m=e.featureMapHeight[n],f=e.featureMapWidth[n];else{var h=e.strides[n];m=Math.ceil(e.inputSizeHeight/h),f=Math.ceil(e.inputSizeWidth/h)}for(var y=0;y<m;++y)for(var g=0;g<f;++g)for(var b=0;b<o.length;++b){var v={xCenter:(g+e.anchorOffsetX)/f,yCenter:(y+e.anchorOffsetY)/m,width:0,height:0};e.fixedAnchorSize?(v.width=1,v.height=1):(v.width=r[b],v.height=o[b]),t.push(v)}n=s}return t}function _w(e,t,n,o){return 1===o?.5*(e+t):e+(t-e)*n/(o-1)}function Iw(e,t){var n=t[0],o=t[1];return[n*e[0]+o*e[1]+e[3],n*e[4]+o*e[5]+e[7]]}function Tw(e,t,n,o){return mw(this,void 0,void 0,(function(){var o,r,a,i,s;return fw(this,(function(l){switch(l.label){case 0:return e.sort((function(e,t){return Math.max.apply(Math,t.score)-Math.max.apply(Math,e.score)})),o=Ny(e.map((function(e){return[e.locationData.relativeBoundingBox.yMin,e.locationData.relativeBoundingBox.xMin,e.locationData.relativeBoundingBox.yMax,e.locationData.relativeBoundingBox.xMax]}))),r=Ey(e.map((function(e){return e.score[0]}))),[4,sb.nonMaxSuppressionAsync(o,r,t,n)];case 1:return[4,(a=l.sent()).array()];case 2:return i=l.sent(),s=e.filter((function(e,t){return i.indexOf(t)>-1})),Pp([o,r,a]),[2,s]}}))}))}function Ew(e,t,n){return mw(this,void 0,void 0,(function(){var o,r,a,i,s;return fw(this,(function(l){switch(l.label){case 0:return o=e[0],r=e[1],a=function(e,t,n){return zp((function(){var o,r,a,i;n.reverseOutputOrder?(r=xy(Nm(e,[0,n.boxCoordOffset+0],[-1,1])),o=xy(Nm(e,[0,n.boxCoordOffset+1],[-1,1])),i=xy(Nm(e,[0,n.boxCoordOffset+2],[-1,1])),a=xy(Nm(e,[0,n.boxCoordOffset+3],[-1,1]))):(o=xy(Nm(e,[0,n.boxCoordOffset+0],[-1,1])),r=xy(Nm(e,[0,n.boxCoordOffset+1],[-1,1])),a=xy(Nm(e,[0,n.boxCoordOffset+2],[-1,1])),i=xy(Nm(e,[0,n.boxCoordOffset+3],[-1,1]))),r=jp(Hp(Up(r,n.xScale),t.w),t.x),o=jp(Hp(Up(o,n.yScale),t.h),t.y),n.applyExponentialOnBoxSize?(a=Hp(Af(Up(a,n.hScale)),t.h),i=Hp(Af(Up(i,n.wScale)),t.w)):(a=Hp(Up(a,n.hScale),t.h),i=Hp(Up(i,n.wScale),t.h));var s=rd(o,Up(a,2)),l=rd(r,Up(i,2)),c=jp(o,Up(a,2)),u=jp(r,Up(i,2)),p=Im([xm(s,[n.numBoxes,1]),xm(l,[n.numBoxes,1]),xm(c,[n.numBoxes,1]),xm(u,[n.numBoxes,1])],1);if(n.numKeypoints)for(var d=0;d<n.numKeypoints;++d){var m=n.keypointCoordOffset+d*n.numValuesPerKeypoint,f=void 0,h=void 0;n.reverseOutputOrder?(f=xy(Nm(e,[0,m],[-1,1])),h=xy(Nm(e,[0,m+1],[-1,1]))):(h=xy(Nm(e,[0,m],[-1,1])),f=xy(Nm(e,[0,m+1],[-1,1])));var y=jp(Hp(Up(f,n.xScale),t.w),t.x),g=jp(Hp(Up(h,n.yScale),t.h),t.y);p=Im([p,xm(y,[n.numBoxes,1]),xm(g,[n.numBoxes,1])],1)}return p}))}(r,t,n),i=zp((function(){var e=o;return n.sigmoidScore?(null!=n.scoreClippingThresh&&(e=jm(o,-n.scoreClippingThresh,n.scoreClippingThresh)),e=Em(e)):e})),[4,Nw(a,i,n)];case 1:return s=l.sent(),Pp([a,i]),[2,s]}}))}))}function Nw(e,t,n){return mw(this,void 0,void 0,(function(){var o,r,a,i,s,l,c,u,p,d,m,f;return fw(this,(function(h){switch(h.label){case 0:return o=[],[4,e.data()];case 1:return r=h.sent(),[4,t.data()];case 2:for(a=h.sent(),i=0;i<n.numBoxes;++i)if(!(null!=n.minScoreThresh&&a[i]<n.minScoreThresh||(s=i*n.numCoords,l=Cw(r[s+0],r[s+1],r[s+2],r[s+3],a[i],n.flipVertically,i),(c=l.locationData.relativeBoundingBox).width<0||c.height<0))){if(n.numKeypoints>0)for((u=l.locationData).relativeKeypoints=[],p=n.numKeypoints*n.numValuesPerKeypoint,d=0;d<p;d+=n.numValuesPerKeypoint)m=s+n.keypointCoordOffset+d,f={x:r[m+0],y:n.flipVertically?1-r[m+1]:r[m+1]},u.relativeKeypoints.push(f);o.push(l)}return[2,o]}}))}))}function Cw(e,t,n,o,r,a,i){return{score:[r],ind:i,locationData:{relativeBoundingBox:{xMin:t,yMin:a?1-n:e,xMax:o,yMax:a?1-e:n,width:o-t,height:n-e}}}}var Aw,Mw,Ow,Dw={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:1,featureMapHeight:[],featureMapWidth:[],numLayers:4,minScale:.1484375,maxScale:.75,inputSizeHeight:128,inputSizeWidth:128,anchorOffsetX:.5,anchorOffsetY:.5,strides:[8,16,16,16],aspectRatios:[1],fixedAnchorSize:!0},Rw={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:0,featureMapHeight:[],featureMapWidth:[],numLayers:1,minScale:.1484375,maxScale:.75,inputSizeHeight:192,inputSizeWidth:192,anchorOffsetX:.5,anchorOffsetY:.5,strides:[4],aspectRatios:[1],fixedAnchorSize:!0},Fw={runtime:"tfjs",modelType:"short",maxFaces:1,detectorModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"},zw={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:896,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:128,yScale:128,hScale:128,wScale:128,minScoreThresh:.5},Pw={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:2304,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:192,yScale:192,hScale:192,wScale:192,minScoreThresh:.6},$w={outputTensorSize:{width:128,height:128},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},Lw={outputTensorSize:{width:192,height:192},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},Bw=function(){function e(e,t,n){this.detectorModel=t,this.maxFaces=n,"full"===e?(this.imageToTensorConfig=Lw,this.tensorsToDetectionConfig=Pw,this.anchors=Sw(Rw)):(this.imageToTensorConfig=$w,this.tensorsToDetectionConfig=zw,this.anchors=Sw(Dw));var o=Ey(this.anchors.map((function(e){return e.width}))),r=Ey(this.anchors.map((function(e){return e.height}))),a=Ey(this.anchors.map((function(e){return e.xCenter}))),i=Ey(this.anchors.map((function(e){return e.yCenter})));this.anchorTensor={x:a,y:i,w:o,h:r}}return e.prototype.dispose=function(){this.detectorModel.dispose(),Pp([this.anchorTensor.x,this.anchorTensor.y,this.anchorTensor.w,this.anchorTensor.h])},e.prototype.reset=function(){},e.prototype.detectFaces=function(e,t){return void 0===t&&(t=!1),mw(this,void 0,void 0,(function(){var n,o,r,a,i,s,l,c,u,p,d;return fw(this,(function(m){switch(m.label){case 0:return null==e?(this.reset(),[2,[]]):(n=zp((function(){var n=Op(ww(e),"float32");return t&&(n=xy(sb.flipLeftRight(Mf(n,0)),[0])),n})),o=xw(n,this.imageToTensorConfig),r=o.imageTensor,a=o.transformationMatrix,i=this.detectorModel.execute(r,"Identity:0"),s=function(e){return zp((function(){var t=function(e){return zp((function(){return[Nm(e,[0,0,0],[1,-1,1]),Nm(e,[0,0,1],[1,-1,-1])]}))}(e),n=t[0],o=t[1];return{boxes:xy(o),logits:xy(n)}}))}(i),l=s.boxes,[4,Ew([c=s.logits,l],this.anchorTensor,this.tensorsToDetectionConfig)]);case 1:return 0===(u=m.sent()).length?(Pp([n,r,i,c,l]),[2,u]):[4,Tw(u,this.maxFaces,.3)];case 2:return p=m.sent(),d=function(e,t){void 0===e&&(e=[]);var n,o=(n=t,[].concat.apply([],n));return e.forEach((function(e){var t=e.locationData;t.relativeKeypoints.forEach((function(e){var t=Iw(o,[e.x,e.y]),n=t[0],r=t[1];e.x=n,e.y=r}));var n=t.relativeBoundingBox,r=Number.MAX_VALUE,a=Number.MAX_VALUE,i=Number.MIN_VALUE,s=Number.MIN_VALUE;[[n.xMin,n.yMin],[n.xMin+n.width,n.yMin],[n.xMin+n.width,n.yMin+n.height],[n.xMin,n.yMin+n.height]].forEach((function(e){var t=Iw(o,e),n=t[0],l=t[1];r=Math.min(r,n),i=Math.max(i,n),a=Math.min(a,l),s=Math.max(s,l)})),t.relativeBoundingBox={xMin:r,xMax:i,yMin:a,yMax:s,width:i-r,height:s-a}})),e}(p,a),Pp([n,r,i,c,l]),[2,d]}}))}))},e.prototype.estimateFaces=function(e,t){return mw(this,void 0,void 0,(function(){var n,o;return fw(this,(function(r){return n=vw(e),o=!!t&&t.flipHorizontal,[2,this.detectFaces(e,o).then((function(e){return e.map((function(e){for(var t=e.locationData.relativeKeypoints.map((function(e,t){return dw(dw({},e),{x:e.x*n.width,y:e.y*n.height,name:hw[t]})})),o=e.locationData.relativeBoundingBox,r=0,a=["width","xMax","xMin"];r<a.length;r++)o[a[r]]*=n.width;for(var i=0,s=["height","yMax","yMin"];i<s.length;i++)o[s[i]]*=n.height;return{keypoints:t,box:o}}))}))]}))}))},e}();function jw(e){return mw(this,void 0,void 0,(function(){var t,n,o;return fw(this,(function(r){switch(r.label){case 0:return t=function(e){if(null==e)return dw({},Fw);var t=dw({},e);return null==t.modelType&&(t.modelType=Fw.modelType),null==t.maxFaces&&(t.maxFaces=Fw.maxFaces),null==t.detectorModelUrl&&("full"===t.modelType?t.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/full/1":t.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"),t}(e),n="string"==typeof t.detectorModelUrl&&t.detectorModelUrl.indexOf("https://tfhub.dev")>-1,[4,pw(t.detectorModelUrl,{fromTFHub:n})];case 1:return o=r.sent(),[2,new Bw(t.modelType,o,t.maxFaces)]}}))}))}let Ww;!function(e){e.MediaPipeFaceDetector="MediaPipeFaceDetector"}(Aw||(Aw={})),function(e){e[e.float32=0]="float32",e[e.int32=1]="int32",e[e.bool=2]="bool",e[e.string=3]="string",e[e.complex64=4]="complex64"}(Mw||(Mw={})),function(e){e[e.linear=0]="linear",e[e.relu=1]="relu",e[e.relu6=2]="relu6",e[e.prelu=3]="prelu",e[e.leakyrelu=4]="leakyrelu",e[e.sigmoid=5]="sigmoid",e[e.elu=6]="elu"}(Ow||(Ow={}));const Uw={kernelName:ic,backendName:"wasm",setupFunc:function(e){Ww=e.wasm.cwrap(ic,null,["number","array","number","number","array","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{a:r,b:a,bias:i,preluActivationWeights:s}=t;if("float32"!==r.dtype||"float32"!==a.dtype)throw new Error("_FusedMatMul for non non-float32 tensors not yet supported.");const{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:p}=o,d=n.dataIdMap.get(r.dataId).id,m=n.dataIdMap.get(a.dataId).id;let f=0;if(null!=i){const e=n.dataIdMap.get(i.dataId);if(1!==e.shape.length)throw new Error(`_FusedMatMul only supports rank-1 bias but got rank ${e.shape.length}.`);f=e.id}const h=null==s?0:n.dataIdMap.get(s.dataId).id,y=Ow[u];if(null==y)throw new Error(`${u} activation not yet supported for FusedConv2D in the wasm backend.`);const g=l?r.shape[2]:r.shape[1],b=c?a.shape[1]:a.shape[2],v=sd(r.shape.slice(0,-2),a.shape.slice(0,-2)),w=n.makeOutput([...v,g,b],r.dtype),k=n.dataIdMap.get(w.dataId).id,x=new Uint8Array(new Int32Array(r.shape).buffer),S=new Uint8Array(new Int32Array(a.shape).buffer);return Ww(d,x,r.shape.length,m,S,a.shape.length,l,c,y,f,h,p||0,k),w}};function Hw(e,t){let n;return{kernelName:e,backendName:"wasm",setupFunc:function(t){n=t.wasm.cwrap(e,null,["number","number","number"])},kernelFunc:function(e){const{backend:o,inputs:{x:r}}=e,a=o.dataIdMap.get(r.dataId).id,i=o.makeOutput(r.shape,t||r.dtype),s=o.dataIdMap.get(i.dataId).id;return 0===Sa(i.shape)||n(a,Mw[r.dtype],s),i}}}const Vw=Hw(Qa),qw=Hw(ei),Gw=Hw(ti);function Kw(e,t,n){let o;return{kernelName:e,backendName:"wasm",setupFunc:function(t){o=t.wasm.cwrap(e,null,["number","array","number","number","array","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:r}=e,{a,b:i}=r,s=t.dataIdMap.get(a.dataId).id,l=t.dataIdMap.get(i.dataId).id,c=null!=n?n:a.dtype,u=sd(a.shape,i.shape),p=t.makeOutput(u,c);if(0===Sa(u))return p;const d=new Uint8Array(new Int32Array(a.shape).buffer),m=new Uint8Array(new Int32Array(i.shape).buffer),f=t.dataIdMap.get(p.dataId).id;return o(s,d,a.shape.length,l,m,i.shape.length,Mw[a.dtype],f),p}}}const Yw=Kw(ni);let Xw;const Jw={kernelName:oi,backendName:"wasm",setupFunc:function(e){Xw=e.wasm.cwrap(oi,null,["array","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,o=n.makeOutput(t[0].shape,t[0].dtype);if(0===Sa(o.shape))return o;const r=t.map((e=>n.dataIdMap.get(e.dataId).id)),a=new Uint8Array(new Int32Array(r).buffer),i=n.dataIdMap.get(o.dataId).id;return Xw(a,r.length,Mw[o.dtype],i),o}};function Zw(e){const{inputs:{x:t},backend:n}=e;if("string"===t.dtype)return Au(n.readSync(t.dataId),t.shape,t.dtype);const o=n.makeOutput(t.shape,t.dtype),r=n.typedArrayFromHeap(t);return n.typedArrayFromHeap(o).set(r),o}const Qw={kernelName:ms,backendName:"wasm",kernelFunc:Zw};let ek;function tk(e){const{inputs:t,backend:n,attrs:o}=e,[r,a]=function(e,t){const n=[],o=[];for(let r=0;r<e.length;++r)1!==e[r]&&n.push(e[r]),1!==e[t[r]]&&o.push(t[r]);for(let e=0;e<o.length;++e){let t=-1;for(let n=0;n<o.length;++n)o[n]>=e&&(-1===t||o[t]>o[n])&&(t=n);o[t]=e}return[n,o]}(t.x.shape,o.perm);let i=!0;for(let e=0;e<a.length;e++)a[e]!==e&&(i=!1);const s=function(e,t){const n=new Array(e.length);for(let o=0;o<n.length;o++)n[o]=e[t[o]];return n}(t.x.shape,o.perm),l={dataId:t.x.dataId,shape:r,dtype:t.x.dtype};if(i){const e=Zw({inputs:t,backend:n});return e.shape=s,e}const c=n.makeOutput(s,l.dtype),u=n.dataIdMap.get(l.dataId).id,p=n.dataIdMap.get(c.dataId).id,d=new Uint8Array(new Int32Array(a).buffer),m=new Uint8Array(new Int32Array(l.shape).buffer);return ek(u,m,l.shape.length,Mw[l.dtype],p,d,a.length),c}const nk={kernelName:Zl,backendName:"wasm",kernelFunc:tk,setupFunc:function(e){ek=e.wasm.cwrap(Zl,null,["number","array","number","number","number","array","number"])}};function ok(e,t,n){const o=e.shape,r=e.shape.length,a=Na(t,o);let i=a;const s=kf(i,r);let l=null,c=!1;if(null!=s){const t=new Array(r);for(let e=0;e<t.length;e++)t[e]=o[s[e]];i=Sf(i.length,r),l=tk({inputs:{x:e},attrs:{perm:s},backend:n});const a=n.dataIdMap.get(e.dataId).id;n.dataIdMap.get(l.dataId).id!==a&&(c=!0)}return{transposed:l,originalAxes:a,axes:i,inputWasTransposed:c}}let rk;const ak={kernelName:ri,backendName:"wasm",setupFunc:function(e){rk=e.wasm.cwrap(ri,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{axis:r,keepDims:a}=o,{x:i}=n;let s=t.dataIdMap.get(i.dataId).id,l=i;const{transposed:c,axes:u,originalAxes:p,inputWasTransposed:d}=ok(i,r,t);if(d){l=c,s=t.dataIdMap.get(c.dataId).id}wf("all",u,l.shape.length);const[m,f]=bf(l.shape,u),h=Sa(f),y=t.makeOutput(m,i.dtype);if(0!==Sa(l.shape)){const e=t.dataIdMap.get(y.dataId).id;rk(s,h,e)}if(d&&t.disposeData(c.dataId),a){const e=vf(y.shape,p);y.shape=e}return y}};let ik;const sk={kernelName:ai,backendName:"wasm",setupFunc:function(e){ik=e.wasm.cwrap(ai,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{axis:r,keepDims:a}=o,{x:i}=n;let s=t.dataIdMap.get(i.dataId).id,l=i;const{transposed:c,axes:u,originalAxes:p,inputWasTransposed:d}=ok(i,r,t);if(d){l=c,s=t.dataIdMap.get(c.dataId).id}wf("any",u,l.shape.length);const[m,f]=bf(l.shape,u),h=Sa(f),y=t.makeOutput(m,i.dtype);if(0!==Sa(l.shape)){const e=t.dataIdMap.get(y.dataId).id;ik(s,h,e)}if(d&&t.disposeData(c.dataId),a){const e=vf(y.shape,p);y.shape=e}return y}};function lk(e){let t;return{kernelName:e,backendName:"wasm",setupFunc:function(n){t=n.wasm.cwrap(e,null,["number","number","number","number","number"])},kernelFunc:function(e){const{backend:n,inputs:o,attrs:r}=e,{axis:a}=r,{x:i}=o,s=n.dataIdMap.get(i.dataId).id;let l=s,c=i;const{transposed:u,axes:p,inputWasTransposed:d}=ok(i,a,n);if(d){const e=n.dataIdMap.get(u.dataId).id;e!==s&&(c=u,l=e)}const m=c.shape.slice(0,-1),f=n.makeOutput(m,"int32"),h=n.dataIdMap.get(f.dataId).id,y=Sa(f.shape),g=c.shape[p[0]];return t(l,Mw[c.dtype],y,g,h),d&&n.disposeData(u.dataId),f}}}const ck=lk(ii),uk=lk(si),pk=Hw(li),dk=Hw(ci),mk=Hw(ui),fk=Kw(di),hk=Hw(pi);let yk;const gk={kernelName:mi,backendName:"wasm",setupFunc:function(e){yk=e.wasm.cwrap(mi,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:o}=e,r=t.x,a=o.dataIdMap.get(r.dataId).id,{filterSize:i,strides:s,pad:l,dimRoundingMode:c}=n,u=lm(r.shape,i,s,1,l,c),p=u.filterHeight,d=u.filterWidth,m=u.padInfo.top,f=u.padInfo.right,h=u.padInfo.bottom,y=u.padInfo.left,g=u.strideHeight,b=u.strideWidth,v=u.inChannels;if("channelsLast"!==u.dataFormat)throw new Error(`wasm backend does not support dataFormat:'${u.dataFormat}'. Please use 'channelsLast'.`);if(1!==u.dilationWidth||1!==u.dilationHeight)throw new Error(`was backend only supports average pooling with dilation = [1, 1], got [${u.dilationHeight}, ${u.dilationWidth}].`);const w=o.makeOutput(u.outShape,"float32"),k=o.dataIdMap.get(w.dataId).id;return yk(a,r.shape[0],r.shape[1],r.shape[2],p,d,m,f,h,y,g,b,v,k),w}};let bk;const vk={kernelName:hi,backendName:"wasm",setupFunc:function(e){bk=e.wasm.cwrap("AvgPool3D",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{filterSize:a,strides:i,pad:s,dimRoundingMode:l,dataFormat:c}=o,u=cm(r.shape,a,i,1,s,l,c),p=n.makeOutput(u.outShape,r.dtype);return bk(n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(p.dataId).id,u.batchSize,u.inChannels,u.inDepth,u.inHeight,u.inWidth,u.outDepth,u.outHeight,u.outWidth,u.strideDepth,u.strideHeight,u.strideWidth,u.dilationDepth,u.dilationHeight,u.dilationWidth,u.effectiveFilterDepth,u.effectiveFilterHeight,u.effectiveFilterWidth,u.padInfo.front,u.padInfo.top,u.padInfo.left),p}};let wk;const kk={kernelName:yi,backendName:"wasm",setupFunc:function(e){wk=e.wasm.cwrap("AvgPool3DGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{dy:r,input:a}=t,{filterSize:i,strides:s,pad:l,dimRoundingMode:c}=o,u=cm(a.shape,i,s,1,l,c),p=n.makeOutput(a.shape,a.dtype);return wk(n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(p.dataId).id,u.batchSize,u.inChannels,u.inDepth,u.inHeight,u.inWidth,u.outDepth,u.outHeight,u.outWidth,u.strideDepth,u.strideHeight,u.strideWidth,u.dilationDepth,u.dilationHeight,u.dilationWidth,u.effectiveFilterDepth,u.effectiveFilterHeight,u.effectiveFilterWidth,u.padInfo.front,u.padInfo.top,u.padInfo.left,u.filterDepth,u.filterHeight,u.filterWidth),p}};let xk;const Sk={kernelName:fi,backendName:"wasm",setupFunc:function(e){xk=e.wasm.cwrap("AvgPoolGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{dy:r,input:a}=t,{filterSize:i,strides:s,pad:l}=o,c=lm(a.shape,i,s,1,l),u=n.makeOutput(a.shape,a.dtype);return xk(n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(u.dataId).id,c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.top,c.padInfo.left,c.filterHeight,c.filterWidth),u}};function _k(e){const{inputs:t,attrs:n}=e,{x:o}=t,{shape:r}=n,a=Sa(o.shape),i=Ea(r,a);return wa(a===Sa(i),(()=>`new shape: ${i}, old shape: ${o.shape}. New shape and old shape must have the same number of elements.`)),e.backend.incRef(o.dataId),{dataId:o.dataId,shape:i,dtype:o.dtype}}const Ik={kernelName:cl,backendName:"wasm",kernelFunc:_k};let Tk;const Ek={kernelName:gi,backendName:"wasm",setupFunc:function(e){Tk=e.wasm.cwrap(gi,null,["number","array","number","number","array","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{a:r,b:a}=t,{transposeA:i,transposeB:s}=o;if("float32"!==r.dtype||"float32"!==a.dtype)throw new Error("BatchMatMul for non non-float32 tensors not yet supported.");const l=r.shape.length,c=a.shape.length,u=i?r.shape[l-2]:r.shape[l-1],p=s?a.shape[c-1]:a.shape[c-2],d=i?r.shape[l-1]:r.shape[l-2],m=s?a.shape[c-2]:a.shape[c-1],f=r.shape.slice(0,-2),h=a.shape.slice(0,-2),y=Sa(f),g=Sa(h),b=sd(r.shape.slice(0,-2),a.shape.slice(0,-2)).concat([d,m]);wa(u===p,(()=>`Error in matMul: inner shapes (${u}) and (${p}) of Tensors with shapes ${r.shape} and ${a.shape} and transposeA=${i} and transposeB=${s} must match.`));const v=s?[g,m,p]:[g,p,m],w=_k({inputs:{x:r},backend:n,attrs:{shape:i?[y,u,d]:[y,d,u]}}),k=_k({inputs:{x:a},backend:n,attrs:{shape:v}}),x=n.dataIdMap.get(w.dataId).id,S=n.dataIdMap.get(k.dataId).id,_=i?w.shape[2]:w.shape[1],I=s?k.shape[1]:k.shape[2],T=Math.max(y,g),E=n.makeOutput([T,_,I],w.dtype),N=n.dataIdMap.get(E.dataId).id,C=new Uint8Array(new Int32Array(w.shape).buffer),A=new Uint8Array(new Int32Array(k.shape).buffer);return Tk(x,C,w.shape.length,S,A,k.shape.length,i,s,N),n.disposeData(w.dataId),n.disposeData(k.dataId),E.shape=b,E}};function Nk(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&wa("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the CPU backend.`))}))}function Ck(e,t,n,o,r){const a=Hd(o,t,n),i=Sa(n),s=Fa(o);if(a){const n=Vd(t,s);return"string"===r?e.slice(n,n+i):e.subarray(n,n+i)}const l=Mp(o,r,"string"===r?Ub(e):e),c=Mp(n,r);for(let e=0;e<c.size;++e){const n=c.indexToLoc(e),o=n.map(((e,n)=>e+t[n]));c.set(l.get(...o),...n)}return"string"===r?Hb(c.values):c.values}function Ak(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{begin:a,size:i}=o;Nk(r,"slice");const[s,l]=qd(r,a,i);!function(e,t,n){const o=e.shape.length;wa(o===t.length,(()=>`Error in slice${o}D: Length of begin ${t} must match the rank of the array (${o}).`)),wa(o===n.length,(()=>`Error in slice${o}D: Length of size ${n} must match the rank of the array (${o}).`));for(let r=0;r<o;++r)wa(t[r]+n[r]<=e.shape[r],(()=>`Error in slice${o}D: begin[${r}] + size[${r}] (${t[r]+n[r]}) would overflow input.shape[${r}] (${e.shape[r]})`))}(r,s,l);const c=Ck(n.data.get(r.dataId).values,s,l,r.shape,r.dtype);return n.makeTensorInfo(l,r.dtype,c)}const Mk={kernelName:Sl,backendName:"cpu",kernelFunc:Ak};function Ok(e){const{inputs:{x:t},attrs:{begin:n,size:o},backend:r}=e,[a,i]=qd(t,n,o),s=Hd(t.shape,a,i),l=r.readSync(t.dataId),c=r.makeOutput(i,t.dtype),u=Fa(t.shape),p=r.dataIdMap.get(c.dataId);if(s){const e=Vd(a,u);if("string"===t.dtype)p.stringBytes=l.slice(e,e+Sa(i));else{r.typedArrayFromHeap(c).set(l.subarray(e,e+Sa(i)))}return c}if("string"===t.dtype){const e=Ck(l,a,i,t.shape,t.dtype);return p.stringBytes=e,c}const d=r.typedArrayFromHeap(c),m=t.shape.length;if(2===m)!function(e,t,n,o,r){let a=0;const i=o[0],s=o[1],l=i+r[0];for(let o=i;o<l;o++){const i=o*t+s;n.set(e.subarray(i,i+r[1]),a),a+=r[1]}}(l,u[0],d,a,i);else if(3===m)!function(e,t,n,o,r,a){let i=0;const s=r[0],l=r[1],c=r[2],u=s+a[0],p=l+a[1];for(let r=s;r<u;r++)for(let s=l;s<p;s++){const l=r*t+s*n+c;o.set(e.subarray(l,l+a[2]),i),i+=a[2]}}(l,u[0],u[1],d,a,i);else if(4===m)!function(e,t,n,o,r,a,i){let s=0;const l=a[0],c=a[1],u=a[2],p=l+i[0],d=c+i[1],m=u+i[2],f=a[3];for(let a=l;a<p;a++)for(let l=c;l<d;l++)for(let c=u;c<m;c++){const u=a*t+l*n+c*o+f;r.set(e.subarray(u,u+i[3]),s),s+=i[3]}}(l,u[0],u[1],u[2],d,a,i);else{const e=Ck(l,a,i,t.shape,t.dtype);d.set(e)}return c}const Dk={kernelName:Sl,backendName:"wasm",kernelFunc:Ok};const Rk={kernelName:bi,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{blockShape:a,crops:i}=o,s=a.reduce(((e,t)=>e*t)),l=yb(r.shape,a,s),c=gb(l.length,a.length),u=bb(r.shape,a,s),p=vb(i,a.length),d=wb(u,i,a.length),m=_k({inputs:{x:r},backend:n,attrs:{shape:l}}),f=tk({inputs:{x:m},backend:n,attrs:{perm:c}}),h=_k({inputs:{x:f},backend:n,attrs:{shape:u}}),y=Ok({inputs:{x:h},backend:n,attrs:{begin:p,size:d}});return n.disposeData(m.dataId),n.disposeData(f.dataId),n.disposeData(h.dataId),y}};let Fk;const zk={kernelName:vi,backendName:"wasm",setupFunc:function(e){Fk=e.wasm.cwrap(vi,null,["number","number","boolean","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{x:r,weights:a}=n,{size:i}=o,s=0!==a.shape.reduce(((e,t)=>e*t),1),l=1===r.shape.length?[i]:[r.shape[0],i],c=t.makeOutput(l,a.dtype);function u(e){return t.dataIdMap.get(e.dataId).id}return Fk(u(r),i,s,u(a),Mw[a.dtype],u(c)),c}},Pk=Kw(wi);const $k={kernelName:ki,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:o,s1:r}=t,a=n.typedArrayFromHeap(o),i=n.typedArrayFromHeap(r),s=sd(Array.from(a),Array.from(i));return n.makeOutput([s.length],"int32",void 0,new Int32Array(s))}};function Lk(e){const{inputs:{x:t},attrs:{dtype:n},backend:o}=e,r=o.makeOutput(t.shape,n),a=o.typedArrayFromHeap(t);return o.typedArrayFromHeap(r).set(a),r}const Bk={kernelName:xi,backendName:"wasm",kernelFunc:Lk},jk=Hw(Si);let Wk;const Uk={kernelName:_i,backendName:"wasm",setupFunc:function(e){Wk=e.wasm.cwrap(_i,null,["number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{clipValueMin:a,clipValueMax:i}=o,s=n.dataIdMap.get(r.dataId).id,l=n.makeOutput(r.shape,r.dtype),c=n.dataIdMap.get(l.dataId).id;return Wk(s,a,i,c),l}};function Hk(e,t,n,o){const r=Aa(n,Sa(t));if(o&&"string"!==n){let t=0;e.forEach((e=>{const n=Sa(e.shape);r.set(e.vals,t),t+=n}))}else{let o=0;e.forEach((e=>{const a="string"===n?Ub(e.vals):e.vals;let i=0;for(let n=0;n<e.shape[0];++n){const s=n*t[1]+o;for(let t=0;t<e.shape[1];++t)r[s+t]=a[i++]}o+=e.shape[1]}))}return r}function Vk(e){const{inputs:t,backend:n}=e,o=Na(e.attrs.axis,t[0].shape)[0],r=t.map((e=>e.shape));db(r,o);let a=mb(t.map((e=>e.shape)),o);const i=t.filter((e=>Sa(e.shape)>0));if(1===i.length)return Zw({inputs:{x:i[0]},backend:n});const s=n.makeOutput(a,t[0].dtype);if(0===Sa(a))return s;if("string"===i[0].dtype){const e=i.map((e=>{const t=Sa(e.shape.slice(o));return _k({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),r=e.map((e=>({vals:n.readSync(e.dataId),shape:e.shape})));a=mb(e.map((e=>e.shape)),1);const l=1===e[0].shape[0],c=Hk(r,a,t[0].dtype,l),u=mb(i.map((e=>e.shape)),o);s.shape=u;return n.dataIdMap.get(s.dataId).stringBytes=Hb(c),e.forEach((e=>n.disposeData(e.dataId))),s}const l=Sa(i[0].shape.slice(0,o));let c=0;const u=i.map((e=>{const t=Sa(e.shape.slice(o));return c+=t,t})),p=i.map((e=>n.typedArrayFromHeap(e))),d=n.typedArrayFromHeap(s);for(let e=0;e<l;e++){let t=e*c;for(let n=0;n<p.length;n++){const o=u[n],r=e*o,a=p[n].subarray(r,r+o);d.set(a,t),t+=o}}return s}const qk={kernelName:Ei,backendName:"wasm",kernelFunc:Vk};let Gk;const Kk={kernelName:Ni,backendName:"wasm",setupFunc:function(e){Gk=e.wasm.cwrap(Ni,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:o}=e,{x:r,filter:a}=t,i=o.dataIdMap.get(r.dataId).id,s=o.dataIdMap.get(a.dataId).id,{strides:l,dilations:c,pad:u,dimRoundingMode:p,dataFormat:d}=n,m=wm(d),f=um(r.shape,a.shape,l,c,u,p,!1,m),h=f.filterHeight,y=f.filterWidth,g=f.padInfo.top,b=f.padInfo.right,v=f.padInfo.bottom,w=f.padInfo.left,k=f.dilationHeight,x=f.dilationWidth,S=f.strideHeight,_=f.strideWidth,I=f.inChannels,T=f.outChannels,E="SAME"===f.padInfo.type?1:0;if("channelsLast"!==f.dataFormat)throw new Error(`wasm backend Conv2D does not support dataFormat:'${f.dataFormat}'. Please use 'channelsLast'.`);const N=o.makeOutput(f.outShape,"float32"),C=o.dataIdMap.get(N.dataId).id;return Gk(i,r.shape[0],r.shape[1],r.shape[2],s,h,y,g,b,v,w,E,k,x,S,_,I,T,C),N}};let Yk;const Xk={kernelName:Ai,backendName:"wasm",setupFunc:function(e){Yk=e.wasm.cwrap(Ai,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{dy:r,filter:a}=n,{strides:i,pad:s,dataFormat:l,dimRoundingMode:c,inputShape:u}=o,p=wm(l),d=um(u,a.shape,i,1,s,c,!1,p),{batchSize:m,filterHeight:f,filterWidth:h,inChannels:y,inHeight:g,inWidth:b,outChannels:v,outHeight:w,outWidth:k,strideHeight:x,strideWidth:S}=d,_=f-1-d.padInfo.top,I=h-1-d.padInfo.left,T="channelsLast"===d.dataFormat,E=Fa(d.inShape),N=Fa(r.shape),[C,A,M]=Fa(a.shape),O=E[0],D=T?E[1]:E[2],R=T?E[2]:1,F=T?1:E[1],z=N[0],P=T?N[1]:N[2],$=T?N[2]:1,L=T?1:N[1],B=t.makeOutput(d.inShape,"float32"),j=t.dataIdMap.get(B.dataId).id,W=t.dataIdMap.get(r.dataId).id,U=t.dataIdMap.get(a.dataId).id;return Yk(W,U,m,f,h,g,b,y,w,k,v,x,S,_,I,C,A,M,O,D,R,F,z,P,$,L,j),B}};let Jk;const Zk={kernelName:Mi,backendName:"wasm",setupFunc:function(e){Jk=e.wasm.cwrap(Mi,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r,filter:a}=t,{strides:i,pad:s,dilations:l}=o;if("float32"!==r.dtype)throw new Error(`Tensor x must have dtype float32, got ${r.dtype}`);if("float32"!==a.dtype)throw new Error(`Tensor filter must have dtype float32, got ${a.dtype}`);const c=pm(r.shape,a.shape,i,l,s),u=n.makeOutput(c.outShape,r.dtype);return Jk(n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(u.dataId).id,c.batchSize,c.inDepth,c.inHeight,c.inWidth,c.inChannels,c.outDepth,c.outHeight,c.outWidth,c.outChannels,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.filterDepth,c.filterHeight,c.filterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left),u}};let Qk;const ex={kernelName:Oi,backendName:"wasm",setupFunc:function(e){Qk=e.wasm.cwrap(Oi,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r,dy:a}=t,{strides:i,pad:s,filterShape:l}=o;if("float32"!==r.dtype)throw new Error(`Tensor dy must have dtype float32, got ${r.dtype}`);if("float32"!==a.dtype)throw new Error(`Tensor filter must have dtype float32, got ${a.dtype}`);const c=pm(r.shape,l,i,1,s),u=n.makeOutput(c.filterShape,a.dtype);return Qk(n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(u.dataId).id,c.batchSize,c.inDepth,c.inHeight,c.inWidth,c.inChannels,c.outDepth,c.outHeight,c.outWidth,c.outChannels,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.filterDepth,c.filterHeight,c.filterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left),u}};let tx;const nx={kernelName:Di,backendName:"wasm",setupFunc:function(e){tx=e.wasm.cwrap(Di,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{dy:r,filter:a}=t,{pad:i,strides:s,inputShape:l}=o;if("float32"!==r.dtype)throw new Error(`Tensor dy must have dtype float32, got ${r.dtype}`);if("float32"!==a.dtype)throw new Error(`Tensor filter must have dtype float32, got ${a.dtype}`);const c=pm(l,a.shape,s,1,i),u=n.makeOutput(c.inShape,r.dtype);return tx(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(u.dataId).id,c.batchSize,c.inDepth,c.inHeight,c.inWidth,c.inChannels,c.outDepth,c.outHeight,c.outWidth,c.outChannels,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.filterDepth,c.filterHeight,c.filterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left),u}},ox=Hw(Ri),rx=Hw(Fi);var ax;let ix;!function(e){e[e.bilinear=0]="bilinear",e[e.nearest=1]="nearest"}(ax||(ax={}));const sx={kernelName:$i,backendName:"wasm",setupFunc:function(e){ix=e.wasm.cwrap($i,null,["number","number","number","number","array","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{method:r,extrapolationValue:a,cropSize:i}=o,{image:s,boxes:l,boxInd:c}=n,u=l.shape[0],[p,d]=i,m=[u,p,d,s.shape[3]];let f,h=t.dataIdMap.get(s.dataId);"float32"!==s.dtype&&(f=Lk({backend:t,inputs:{x:s},attrs:{dtype:"float32"}}),h=t.dataIdMap.get(f.dataId));const y=h.id,g=t.dataIdMap.get(l.dataId).id,b=t.dataIdMap.get(c.dataId).id,v=t.makeOutput(m,"float32"),w=t.dataIdMap.get(v.dataId).id,k=new Uint8Array(new Int32Array(s.shape).buffer);return ix(y,g,b,u,k,p,d,ax[r],a,w),null!=f&&t.disposeData(f.dataId),v}};let lx;const cx={kernelName:zi,backendName:"wasm",setupFunc:function(e){lx=e.wasm.cwrap(zi,null,["number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{axis:a,exclusive:i,reverse:s}=o,l=r.shape.length;wa("float32"===r.dtype||"int32"===r.dtype,(()=>`cumprod does not support ${r.dtype} tensors in the WASM backend`));const c=kf([a],l);let u=r;null!==c&&(u=tk({inputs:{x:r},attrs:{perm:c},backend:n}));const p=Sf(1,l)[0];wf("cumprod",[p],l);const d=n.makeOutput(u.shape,u.dtype),m=u.shape[p],f=n.dataIdMap.get(u.dataId).id,h=n.dataIdMap.get(d.dataId).id;lx(f,i?1:0,s?1:0,m,h,Mw[r.dtype]);let y=d;if(null!==c){y=tk({inputs:{x:d},attrs:{perm:xf(c)},backend:n}),n.disposeData(u.dataId),n.disposeData(d.dataId)}return y}};let ux;const px={kernelName:Pi,backendName:"wasm",setupFunc:function(e){ux=e.wasm.cwrap(Pi,null,["number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{axis:a,exclusive:i,reverse:s}=o,l=r.shape.length;wa("float32"===r.dtype||"int32"===r.dtype,(()=>`cumsum does not support ${r.dtype} tensors in the WASM backend`));const c=kf([a],l);let u=r;null!==c&&(u=tk({inputs:{x:r},attrs:{perm:c},backend:n}));const p=Sf(1,l)[0];wf("cumsum",[p],l);const d=n.makeOutput(u.shape,u.dtype),m=u.shape[p],f=n.dataIdMap.get(u.dataId).id,h=n.dataIdMap.get(d.dataId).id;ux(f,i?1:0,s?1:0,m,h,Mw[r.dtype]);let y=d;if(null!==c){y=tk({inputs:{x:d},attrs:{perm:xf(c)},backend:n}),n.disposeData(u.dataId),n.disposeData(d.dataId)}return y}};let dx;const mx={kernelName:Li,backendName:"wasm",setupFunc:function(e){dx=e.wasm.cwrap("DenseBincount",null,["number","array","number","number","boolean","number","number","boolean","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{x:r,weights:a}=n,{size:i,binaryOutput:s}=o,l=0!==a.shape.reduce(((e,t)=>e*t),1),c=1===r.shape.length?[i]:[r.shape[0],i],u=t.makeOutput(c,a.dtype);function p(e){return t.dataIdMap.get(e.dataId).id}return dx(p(r),new Uint8Array(new Int32Array(r.shape).buffer),r.shape.length,i,l,p(a),Mw[a.dtype],s,p(u)),u}};let fx;const hx={kernelName:Bi,backendName:"wasm",setupFunc:function(e){fx=e.wasm.cwrap(Bi,null,["number","number","number","array","number","array","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{x:r}=n,{blockSize:a,dataFormat:i}=o,s=r.shape[0],l=("NHWC"===i?r.shape[1]:r.shape[2])*a,c=("NHWC"===i?r.shape[2]:r.shape[3])*a,u=("NHWC"===i?r.shape[3]:r.shape[1])/(a*a),p="NHWC"===i?[s,l,c,u]:[s,u,l,c],d=t.makeOutput(p,"float32"),m=t.dataIdMap.get(r.dataId).id,f=new Uint8Array(new Int32Array(Fa(r.shape)).buffer),h=new Uint8Array(new Int32Array(p).buffer),y=new Uint8Array(new Int32Array(Fa(p)).buffer),g=t.dataIdMap.get(d.dataId).id;return fx(m,a,"NHWC"===i?1:0,f,r.shape.length-1,h,y,p.length,g),d}};let yx;const gx={kernelName:ji,backendName:"wasm",setupFunc:function(e){yx=e.wasm.cwrap(ji,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:o}=e,{x:r,filter:a}=t,i=o.dataIdMap.get(r.dataId).id,s=o.dataIdMap.get(a.dataId).id,{strides:l,dilations:c,pad:u,dimRoundingMode:p}=n,d=null==c?[1,1]:c,m=um(r.shape,a.shape,l,d,u,p,!0),f=m.filterHeight,h=m.filterWidth,y=m.padInfo.top,g=m.padInfo.right,b=m.padInfo.bottom,v=m.padInfo.left,w=m.dilationHeight,k=m.dilationWidth,x=m.strideHeight,S=m.strideWidth,_=m.inChannels,I=m.outChannels,T="SAME"===m.padInfo.type?1:0;if("channelsLast"!==m.dataFormat)throw new Error(`wasm backend DepthwiseConv2dNative does not support dataFormat:'${m.dataFormat}'. Please use 'channelsLast'.`);const E=o.makeOutput(m.outShape,"float32"),N=o.dataIdMap.get(E.dataId).id;return yx(i,r.shape[0],r.shape[1],r.shape[2],s,f,h,y,g,b,v,T,w,k,x,S,_,I,N),E}};let bx;const vx={kernelName:Hi,backendName:"wasm",setupFunc:function(e){bx=e.wasm.cwrap("Diag",null,["number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:o}=t,r=Sa(o.shape),a=n.makeOutput([...o.shape,...o.shape],o.dtype);return bx(n.dataIdMap.get(o.dataId).id,Mw[o.dtype],r,n.dataIdMap.get(a.dataId).id),a}};let wx;const kx={kernelName:Vi,backendName:"wasm",setupFunc:function(e){wx=e.wasm.cwrap(Vi,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r,filter:a}=t,{strides:i,pad:s,dilations:l}=o;if(r.dtype!==a.dtype)throw new Error(`Dilation2D error: x must have the same dtype as filter. Got ${r.dtype} and ${a.dtype}`);const c=sm(r.shape,a.shape,i,s,"NHWC",l),u=n.makeOutput(c.outShape,r.dtype);return wx(n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(u.dataId).id,Mw[r.dtype],c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.filterHeight,c.filterWidth,c.padInfo.top,c.padInfo.left),u}};let xx;const Sx={kernelName:Gi,backendName:"wasm",setupFunc:function(e){xx=e.wasm.cwrap(Gi,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r,filter:a,dy:i}=t,{strides:s,pad:l,dilations:c}=o;if(r.dtype!==a.dtype||r.dtype!==i.dtype)throw new Error(`Dilation2DBackpropFilter error: x must have the same dtype as filter and dy. Got ${r.dtype}, ${a.dtype}, and ${i.dtype}`);const u=sm(r.shape,a.shape,s,l,"NHWC",c),p=n.makeOutput(a.shape,a.dtype);return xx(n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(p.dataId).id,Mw[r.dtype],u.batchSize,u.inChannels,u.inHeight,u.inWidth,u.outHeight,u.outWidth,u.strideHeight,u.strideWidth,u.dilationHeight,u.dilationWidth,u.filterHeight,u.filterWidth,u.padInfo.top,u.padInfo.left),p}};let _x;const Ix={kernelName:qi,backendName:"wasm",setupFunc:function(e){_x=e.wasm.cwrap(qi,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r,filter:a,dy:i}=t,{strides:s,pad:l,dilations:c}=o;if(r.dtype!==a.dtype||r.dtype!==i.dtype)throw new Error(`Dilation2DBackpropInput error: x must have the same dtype as filter and dy. Got ${r.dtype}, ${a.dtype}, and ${i.dtype}`);const u=sm(r.shape,a.shape,s,l,"NHWC",c),p=n.makeOutput(r.shape,r.dtype);return _x(n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(p.dataId).id,Mw[r.dtype],u.batchSize,u.inChannels,u.inHeight,u.inWidth,u.outHeight,u.outWidth,u.strideHeight,u.strideWidth,u.dilationHeight,u.dilationWidth,u.filterHeight,u.filterWidth,u.padInfo.top,u.padInfo.left),p}},Tx=Hw(Ji);let Ex;const Nx={kernelName:Zi,backendName:"wasm",setupFunc:function(e){Ex=e.wasm.cwrap(Zi,null,["number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,{dy:o,y:r}=t,a=n.makeOutput(r.shape,"float32"),i=e=>n.dataIdMap.get(e.dataId).id;return Ex(i(r),i(o),i(a)),a}},Cx=Kw(es,0,"bool"),Ax=Hw(Qi),Mx=Hw(ts,"float32");function Ox(e){const{inputs:t,attrs:n,backend:o}=e,{input:r}=t,{dim:a}=n,i=r.shape.length,s=r.shape.slice();let l=a;return a<0&&(wa(-(i+1)<=a,(()=>`Axis must be in the interval [${-(i+1)}, ${i}]`)),l=i+a+1),s.splice(l,0,1),_k({inputs:{x:r},backend:o,attrs:{shape:s}})}const Dx={kernelName:ns,backendName:"wasm",kernelFunc:Ox},Rx=Hw(os,"float32");function Fx(e){const{attrs:{shape:t,value:n,dtype:o},backend:r}=e,a=r.makeOutput(t,o);return r.typedArrayFromHeap(a).fill(n),a}const zx={kernelName:rs,backendName:"wasm",kernelFunc:Fx};let Px;const $x={kernelName:as,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n}=e,{image:o}=t,r=n.makeOutput(o.shape,o.dtype),a=n.dataIdMap.get(o.dataId).id,i=n.dataIdMap.get(r.dataId).id,[s,l,c,u]=o.shape;return Px(a,s,l,c,u,i),r},setupFunc:function(e){Px=e.wasm.cwrap(as,null,["number","number","number","number","number","number"])}},Lx=Hw(is),Bx=Kw(ss);let jx;const Wx={kernelName:ls,backendName:"wasm",setupFunc:function(e){jx=e.wasm.cwrap(ls,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{varianceEpsilon:r}=o,{x:a,mean:i,variance:s,offset:l,scale:c}=n,u=t.dataIdMap.get(a.dataId).id,p=t.dataIdMap.get(i.dataId).id,d=t.dataIdMap.get(s.dataId).id,m=null!=l?t.dataIdMap.get(l.dataId).id:0,f=null!=c?t.dataIdMap.get(c.dataId).id:0,h=t.makeOutput(a.shape,a.dtype);if(0===Sa(a.shape))return h;const y=t.dataIdMap.get(h.dataId).id;return jx(u,p,d,m,f,r,y),h}};let Ux;const Hx={kernelName:sc,backendName:"wasm",setupFunc:function(e){Ux=e.wasm.cwrap(sc,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:o}=e,{x:r,filter:a,bias:i,preluActivationWeights:s}=t,{strides:l,pad:c,dilations:u,dataFormat:p,dimRoundingMode:d,activation:m,leakyreluAlpha:f}=n,h=um(r.shape,a.shape,l,u,c,d),y=Ow[m];if(null==y)throw new Error(`${m} activation not yet supported for FusedConv2D in the wasm backend.`);const g=o.dataIdMap.get(r.dataId).id,b=o.dataIdMap.get(a.dataId).id,v=h.outChannels;let w=0;if(null!=i){const e=o.dataIdMap.get(i.dataId);if(1!==e.shape.length)throw new Error(`FusedConv2D only supports rank-1 bias but got rank ${e.shape.length}.`);if(e.shape[0]!==v)throw new Error(`FusedConv2D bias shape (${e.shape}) does not match the number of output channels (${v})`);w=e.id}const k=h.filterHeight,x=h.filterWidth,S=h.padInfo.top,_=h.padInfo.right,I=h.padInfo.bottom,T=h.padInfo.left,E=h.dilationHeight,N=h.dilationWidth,C=h.strideHeight,A=h.strideWidth,M=h.inChannels,O="SAME"===h.padInfo.type?1:0,D=h.batchSize,R=h.inHeight,F=h.inWidth;if("NHWC"!==p)throw new Error(`wasm backend FusedConv2D does not support dataFormat:'${p}'. Please use 'NHWC'.`);const z=o.makeOutput(h.outShape,"float32"),P=o.dataIdMap.get(z.dataId).id,$=null==s?0:o.dataIdMap.get(s.dataId).id;return Ux(g,D,R,F,b,k,x,w,S,_,I,T,O,E,N,C,A,M,v,y,$,f||0,P),z}};let Vx;const qx={kernelName:lc,backendName:"wasm",setupFunc:function(e){Vx=e.wasm.cwrap(lc,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:o}=e,{x:r,filter:a,bias:i,preluActivationWeights:s}=t,{strides:l,pad:c,dilations:u,dataFormat:p,dimRoundingMode:d,activation:m,leakyreluAlpha:f}=n,h=um(r.shape,a.shape,l,u,c,d,!0),y=Ow[m];if(null==y)throw new Error(`${m} activation not yet supported for FusedDepthwiseConv2D in the wasm backend.`);const g=o.dataIdMap.get(r.dataId).id,b=o.dataIdMap.get(a.dataId).id,v=h.outChannels;let w=0;if(null!=i){const e=o.dataIdMap.get(i.dataId);if(1!==e.shape.length)throw new Error(`FusedDepthwiseConv2D only supports rank-1 bias but got rank ${e.shape.length}.`);if(e.shape[0]!==v)throw new Error(`FusedDepthwiseConv2D bias shape (${e.shape}) does not match the number of output channels (${v})`);w=e.id}const k=h.filterHeight,x=h.filterWidth,S=h.padInfo.top,_=h.padInfo.right,I=h.padInfo.bottom,T=h.padInfo.left,E=h.dilationHeight,N=h.dilationWidth,C=h.strideHeight,A=h.strideWidth,M=h.inChannels,O="SAME"===h.padInfo.type?1:0,D=h.batchSize,R=h.inHeight,F=h.inWidth;if("NHWC"!==p)throw new Error(`wasm backend FusedDepthwiseConv2D does not support dataFormat:'${p}'. Please use 'NHWC'.`);const z=o.makeOutput(h.outShape,"float32"),P=o.dataIdMap.get(z.dataId).id,$=null==s?0:o.dataIdMap.get(s.dataId).id;return Vx(g,D,R,F,b,k,x,w,S,_,I,T,O,E,N,C,A,M,v,y,$,f||0,P),z}};let Gx;const Kx={kernelName:us,backendName:"wasm",setupFunc:function(e){Gx=e.wasm.cwrap(us,null,["number","number","number","number","number","number","array","number"])},kernelFunc:function(e){const{backend:t,inputs:n}=e,{params:o,indices:r}=n,[a,i,s,l]=$d(o,r),c=t.makeOutput(a,o.dtype);if(0===i)return c;const u=r.shape,p=u[u.length-1],d=t.dataIdMap.get(o.dataId).id,m=t.dataIdMap.get(r.dataId).id,f=new Uint8Array(new Int32Array(l).buffer),h=t.dataIdMap.get(c.dataId).id;return Gx(d,Mw[o.dtype],m,i,p,s,f,h),c}};let Yx;const Xx={kernelName:cs,backendName:"wasm",setupFunc:function(e){Yx=e.wasm.cwrap("Gather",null,["number","number","array","number","number","number","array","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{x:r,indices:a}=n,{axis:i,batchDims:s}=o,l=Na(i,r.shape)[0],c=t.readSync(a.dataId),u=r.shape[l];for(let e=0;e<c.length;++e){const t=c[e];wa(t<=u-1&&t>=0,(()=>`GatherV2: the index value ${t} is not in [0, ${u-1}]`))}const p=Wb(r,a,l,s),d=_k({inputs:{x:r},attrs:{shape:[p.batchSize,p.outerSize,p.dimSize,p.sliceSize]},backend:t}),m=Sa(a.shape),f=_k({inputs:{x:a},attrs:{shape:[p.batchSize,m/p.batchSize]},backend:t}),h=[p.batchSize,p.outerSize,m/p.batchSize,p.sliceSize],y=t.makeOutput(h,r.dtype);if(0===Sa(r.shape))return y;const g=d.shape.length-1,b=t.dataIdMap.get(d.dataId).id,v=t.dataIdMap.get(f.dataId).id,w=t.dataIdMap.get(y.dataId).id,k=new Uint8Array(new Int32Array(Fa(d.shape)).buffer),x=new Uint8Array(new Int32Array(Fa(h)).buffer);return Yx(b,Mw[r.dtype],k,g,v,p.batchSize,x,w),t.disposeData(d.dataId),t.disposeData(f.dataId),y.shape=p.outputShape,y}},Jx=Kw(ps,0,"bool"),Zx=Kw(ds,0,"bool"),Qx=Hw(ys,"bool"),eS=Hw(gs,"bool"),tS=Hw(bs,"bool");let nS;const oS={kernelName:vs,backendName:"wasm",setupFunc:function(e){nS=e.wasm.cwrap(vs,null,["number","number","number","number"])},kernelFunc:function(e){const{inputs:{x:t},attrs:{alpha:n},backend:o}=e,r=o.dataIdMap.get(t.dataId).id,a=o.makeOutput(t.shape,"float32");if(0!==Sa(t.shape)){const e=o.dataIdMap.get(a.dataId).id;nS(r,Mw[t.dtype],n,e)}return a}},rS=Kw(ws,0,"bool"),aS=Kw(ks,0,"bool");let iS;const sS={kernelName:xs,backendName:"wasm",setupFunc:function(e){iS=e.wasm.cwrap(xs,null,["number","number","number","number"])},kernelFunc:function(e){const{attrs:t,backend:n}=e,{start:o,stop:r,num:a}=t,i=Math.floor(a),s=n.makeOutput([i],"float32");return iS(n.dataIdMap.get(s.dataId).id,o,r,i),s}},lS=Hw(Ss),cS=Hw(_s),uS=Kw(Is,0,"bool"),pS=Hw(Ts),dS=Kw(Es,0,"bool"),mS=Kw("LogicalXor",0,"bool");let fS;const hS={kernelName:Ns,backendName:"wasm",setupFunc:function(e){fS=e.wasm.cwrap(Ns,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{depthRadius:a,bias:i,alpha:s,beta:l}=o;if("float32"!==r.dtype)throw new Error("LRN error: x must have dtype float32");const c=n.makeOutput(r.shape,r.dtype);return fS(n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(c.dataId).id,r.shape[3],a,i,s,l),c}};let yS;const gS={kernelName:Cs,backendName:"wasm",setupFunc:function(e){yS=e.wasm.cwrap(Cs,null,["number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r,y:a,dy:i}=t,{depthRadius:s,bias:l,alpha:c,beta:u}=o;if("float32"!==r.dtype||"float32"!==a.dtype||"float32"!==i.dtype)throw new Error("LRNGrad error: x, y, and dy must have dtype float32");const p=n.makeOutput(r.shape,r.dtype);return yS(n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(i.dataId).id,n.dataIdMap.get(p.dataId).id,i.shape[3],s,l,c,u),p}};let bS;const vS={kernelName:As,backendName:"wasm",setupFunc:function(e){bS=e.wasm.cwrap(As,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{reductionIndices:r,keepDims:a}=o,{x:i}=n;let s=t.dataIdMap.get(i.dataId).id,l=i;const{transposed:c,axes:u,originalAxes:p,inputWasTransposed:d}=ok(i,r,t);if(d){l=c,s=t.dataIdMap.get(c.dataId).id}wf("max",u,l.shape.length);const[m,f]=bf(l.shape,u),h=Sa(f),y=t.makeOutput(m,i.dtype);if(0!==Sa(l.shape)){const e=t.dataIdMap.get(y.dataId).id;bS(s,Mw[i.dtype],h,e)}if(d&&t.disposeData(c.dataId),a){const e=vf(y.shape,p);y.shape=e}return y}},wS=Kw(Ms);let kS;const xS={kernelName:Os,backendName:"wasm",setupFunc:function(e){kS=e.wasm.cwrap(Os,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,attrs:n,backend:o}=e,r=t.x,a=o.dataIdMap.get(r.dataId).id;wa("float32"===r.dtype,(()=>`Error in MaxPool: only float32 input is supported. Got ${r.dtype}.`));const{filterSize:i,strides:s,pad:l,dimRoundingMode:c}=n,u=lm(r.shape,i,s,1,l,c),p=u.filterHeight,d=u.filterWidth,m=u.padInfo.top,f=u.padInfo.right,h=u.padInfo.bottom,y=u.padInfo.left,g=u.dilationHeight,b=u.dilationWidth,v=u.strideHeight,w=u.strideWidth,k=u.inChannels,x=u.outChannels;if("channelsLast"!==u.dataFormat)throw new Error(`wasm backend does not support dataFormat:'${u.dataFormat}'. Please use 'channelsLast'.`);const S=o.makeOutput(u.outShape,"float32"),_=o.dataIdMap.get(S.dataId).id;return kS(a,r.shape[0],r.shape[1],r.shape[2],p,d,m,f,h,y,g,b,v,w,k,x,_),S}};let SS;const _S={kernelName:Rs,backendName:"wasm",setupFunc:function(e){SS=e.wasm.cwrap("MaxPool3D",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{filterSize:a,strides:i,pad:s,dimRoundingMode:l,dataFormat:c}=o,u=cm(r.shape,a,i,1,s,l,c),p=n.makeOutput(u.outShape,r.dtype);return SS(n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(p.dataId).id,u.batchSize,u.inChannels,u.inDepth,u.inHeight,u.inWidth,u.outDepth,u.outHeight,u.outWidth,u.strideDepth,u.strideHeight,u.strideWidth,u.dilationDepth,u.dilationHeight,u.dilationWidth,u.effectiveFilterDepth,u.effectiveFilterHeight,u.effectiveFilterWidth,u.padInfo.front,u.padInfo.top,u.padInfo.left),p}};let IS;const TS={kernelName:Fs,backendName:"wasm",setupFunc:function(e){IS=e.wasm.cwrap("MaxPool3DGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{dy:r,input:a}=t,{filterSize:i,strides:s,pad:l,dimRoundingMode:c}=o,u=cm(a.shape,i,s,1,l,c),p=n.makeOutput(a.shape,a.dtype);return IS(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(p.dataId).id,u.batchSize,u.inChannels,u.inDepth,u.inHeight,u.inWidth,u.outDepth,u.outHeight,u.outWidth,u.strideDepth,u.strideHeight,u.strideWidth,u.dilationDepth,u.dilationHeight,u.dilationWidth,u.effectiveFilterDepth,u.effectiveFilterHeight,u.effectiveFilterWidth,u.padInfo.front,u.padInfo.top,u.padInfo.left),p}};let ES;const NS={kernelName:Ds,backendName:"wasm",setupFunc:function(e){ES=e.wasm.cwrap("MaxPoolGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{dy:r,input:a}=t,{filterSize:i,strides:s,pad:l,dimRoundingMode:c}=o,u=lm(a.shape,i,s,1,l,c),p=n.makeOutput(a.shape,a.dtype);return ES(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(p.dataId).id,u.batchSize,u.inChannels,u.inHeight,u.inWidth,u.outHeight,u.outWidth,u.strideHeight,u.strideWidth,u.dilationHeight,u.dilationWidth,u.effectiveFilterHeight,u.effectiveFilterWidth,u.padInfo.top,u.padInfo.left),p}};let CS;const AS={kernelName:zs,backendName:"wasm",setupFunc:function(e){CS=e.wasm.cwrap("MaxPoolWithArgmax",null,["number","number","number","number","boolean","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{filterSize:a,strides:i,pad:s,includeBatchInIndex:l}=o;wa(4===r.shape.length,(()=>`Error in maxPool: input must be rank 4 but got rank ${r.shape.length}.`));const c=[1,1];wa(bm(i,c),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${c}'`));const u=lm(r.shape,a,i,[1,1],s),p=n.makeOutput(u.outShape,r.dtype),d=n.makeOutput(u.outShape,"int32");return CS(n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(p.dataId).id,n.dataIdMap.get(d.dataId).id,Mw[r.dtype],l,u.batchSize,u.inChannels,u.inHeight,u.inWidth,u.outHeight,u.outWidth,u.strideHeight,u.strideWidth,u.dilationHeight,u.dilationWidth,u.effectiveFilterHeight,u.effectiveFilterWidth,u.padInfo.top,u.padInfo.left),[p,d]}};let MS;const OS={kernelName:Ps,backendName:"wasm",setupFunc:function(e){MS=e.wasm.cwrap(Ps,null,["number, number, number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{axis:r,keepDims:a}=o,{x:i}=n,s=t.dataIdMap.get(i.dataId).id;let l=s,c=i;const{transposed:u,axes:p,originalAxes:d,inputWasTransposed:m}=ok(i,r,t);let f=p;if(m){const e=t.dataIdMap.get(u.dataId).id;e!==s&&(c=u,l=e,f=Sf(f.length,c.shape.length))}wf("mean",f,c.shape.length);const[h,y]=bf(c.shape,f),g=Sa(y);let b=c;"float32"!==c.dtype&&(b=Lk({backend:t,inputs:{x:c},attrs:{dtype:"float32"}}),l=t.dataIdMap.get(b.dataId).id);const v=t.makeOutput(h,"float32");if(0!==Sa(c.shape)){const e=t.dataIdMap.get(v.dataId).id;MS(l,g,e)}if(m&&t.disposeData(u.dataId),a){const e=vf(v.shape,d);v.shape=e}return"float32"!==c.dtype&&t.disposeData(b.dataId),v}};let DS;const RS={kernelName:$s,backendName:"wasm",setupFunc:function(e){DS=e.wasm.cwrap($s,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{axis:r,keepDims:a}=o,{x:i}=n,s=t.dataIdMap.get(i.dataId).id;let l=s,c=i;const{transposed:u,axes:p,originalAxes:d,inputWasTransposed:m}=ok(i,r,t);if(m){const e=t.dataIdMap.get(u.dataId).id;e!==s&&(c=u,l=e)}wf("min",p,c.shape.length);const[f,h]=bf(c.shape,p),y=Sa(h),g=t.makeOutput(f,c.dtype);if(0!==Sa(c.shape)){const e=t.dataIdMap.get(g.dataId).id;DS(l,Mw[i.dtype],y,e)}if(m&&t.disposeData(u.dataId),a){const e=vf(g.shape,d);g.shape=e}return g}},FS=Kw(Ls);var zS;let PS;!function(e){e[e.reflect=0]="reflect",e[e.symmetric=1]="symmetric"}(zS||(zS={}));const $S={kernelName:Bs,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n,attrs:{paddings:o,mode:r}}=e,a=o.map(((e,n)=>e[0]+t.shape[n]+e[1])),i=n.dataIdMap.get(t.dataId).id,s=n.makeOutput(a,t.dtype),l=n.dataIdMap.get(s.dataId).id,c=new Uint8Array(new Int32Array(t.shape).buffer),u=o.map((e=>e[0])),p=o.map((e=>e[1])),d=new Uint8Array(new Int32Array(u).buffer),m=new Uint8Array(new Int32Array(p).buffer);return PS(i,c,t.shape.length,Mw[t.dtype],d,m,zS[r],l),s},setupFunc:function(e){PS=e.wasm.cwrap(Bs,null,["number","array","number","number","array","array","number","number"])}};let LS;function BS(e){const{backend:t,inputs:{logits:n},attrs:{dim:o}}=e,r=t.dataIdMap.get(n.dataId).id,a=t.makeOutput(n.shape,n.dtype),i=t.dataIdMap.get(a.dataId).id,s=n.shape[o],l=Sa(n.shape)/s;return 0===Sa(a.shape)||LS(r,i,s,l),a}const jS={kernelName:Dl,backendName:"wasm",setupFunc:function(e){LS=e.wasm.cwrap(Dl,null,["number","number","number","number"])},kernelFunc:BS};let WS;const US={kernelName:Ws,backendName:"wasm",setupFunc:function(e){WS=e.wasm.cwrap(Ws,null,["number","number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{logits:r}=t,{numSamples:a,seed:i,normalized:s}=o;if("float32"!==r.dtype)throw new Error(`Tensor logits must have dtype float32, got ${r.dtype}`);const l=s?r:BS({inputs:{logits:r},backend:n,attrs:{dim:r.shape.length-1}}),[c,u]=l.shape,p=n.makeOutput([c,a],"int32");return WS(n.dataIdMap.get(l.dataId).id,c,u,a,i,n.dataIdMap.get(p.dataId).id),s||n.disposeData(l.dataId),p}},HS=Kw(js),VS=Kw(Us),qS=Hw(Hs);function GS(e,t){const n=new Int32Array(e.wasm.HEAPU8.buffer,t,4),o=n[0],r=n[1],a=n[2],i=n[3];return e.wasm._free(t),{pSelectedIndices:o,selectedSize:r,pSelectedScores:a,pValidOutputs:i}}let KS;const YS={kernelName:qs,backendName:"wasm",setupFunc:function(e){KS=e.wasm.cwrap(qs,"number",["number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{iouThreshold:r,maxOutputSize:a,scoreThreshold:i}=o,{boxes:s,scores:l}=n,c=t.dataIdMap.get(s.dataId).id,u=t.dataIdMap.get(l.dataId).id,p=KS(c,u,a,r,i),{pSelectedIndices:d,selectedSize:m,pSelectedScores:f,pValidOutputs:h}=GS(t,p);return t.wasm._free(f),t.wasm._free(h),t.makeOutput([m],"int32",d)}};let XS;const JS={kernelName:Gs,backendName:"wasm",setupFunc:function(e){XS=e.wasm.cwrap(Gs,"number",["number","number","number","number","number","bool"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{iouThreshold:r,maxOutputSize:a,scoreThreshold:i,padToMaxOutputSize:s}=o,{boxes:l,scores:c}=n,u=t.dataIdMap.get(l.dataId).id,p=t.dataIdMap.get(c.dataId).id,d=XS(u,p,a,r,i,s),{pSelectedIndices:m,selectedSize:f,pSelectedScores:h,pValidOutputs:y}=GS(t,d);return t.wasm._free(h),[t.makeOutput([f],"int32",m),t.makeOutput([],"int32",y)]}};let ZS;const QS={kernelName:Ks,backendName:"wasm",setupFunc:function(e){ZS=e.wasm.cwrap(Ks,"number",["number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{iouThreshold:r,maxOutputSize:a,scoreThreshold:i,softNmsSigma:s}=o,{boxes:l,scores:c}=n,u=t.dataIdMap.get(l.dataId).id,p=t.dataIdMap.get(c.dataId).id,d=ZS(u,p,a,r,i,s),{pSelectedIndices:m,selectedSize:f,pSelectedScores:h,pValidOutputs:y}=GS(t,d);return t.wasm._free(y),[t.makeOutput([f],"int32",m),t.makeOutput([f],"float32",h)]}},e_=Kw(Vs,0,"bool");let t_;const n_={kernelName:Xs,backendName:"wasm",setupFunc:function(e){t_=e.wasm.cwrap(Xs,null,["number","number","number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{indices:r}=t,{dtype:a,depth:i,onValue:s,offValue:l}=o,c=n.makeOutput([...r.shape,i],a),u=n.dataIdMap.get(c.dataId).id,p=n.dataIdMap.get(r.dataId).id;return t_(p,i,s,l,u),c}};const o_={kernelName:Ys,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n}=e,o=n.makeOutput(t.shape,t.dtype);return n.typedArrayFromHeap(o).fill(1),o}};const r_={kernelName:Js,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{axis:r}=o;if(1===t.length)return Ox({inputs:{input:t[0]},backend:n,attrs:{dim:r}});const a=t[0].shape,i=t[0].dtype;t.forEach((e=>{ka(a,e.shape,"All tensors passed to stack must have matching shapes"),wa(i===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const s=[],l=t.map((e=>{const t=Ox({inputs:{input:e},backend:n,attrs:{dim:r}});return s.push(t),t})),c=Vk({inputs:l,backend:n,attrs:{axis:r}});return s.forEach((e=>n.disposeData(e.dataId))),c}};let a_;const i_={kernelName:Zs,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n,attrs:{paddings:o,constantValue:r}}=e,a=o.map(((e,n)=>e[0]+t.shape[n]+e[1]));if(0===Sa(t.shape))return Fx({backend:n,attrs:{shape:a,value:r,dtype:t.dtype}});const i=n.dataIdMap.get(t.dataId).id,s=n.makeOutput(a,t.dtype),l=n.dataIdMap.get(s.dataId).id,c=new Uint8Array(new Int32Array(t.shape).buffer),u=o.map((e=>e[0])),p=o.map((e=>e[1])),d=new Uint8Array(new Int32Array(u).buffer),m=new Uint8Array(new Int32Array(p).buffer);return a_(i,c,t.shape.length,Mw[t.dtype],d,m,r,l),s},setupFunc:function(e){a_=e.wasm.cwrap(Zs,null,["number","array","number","number","array","array","number","number"])}},s_=Kw(Qs);let l_;const c_={kernelName:el,backendName:"wasm",setupFunc:function(e){l_=e.wasm.cwrap(el,null,["number","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:o,alpha:r}=t,a=n.dataIdMap.get(o.dataId).id,i=n.dataIdMap.get(r.dataId).id;let s=a;const l=o;let c=l;"float32"!==l.dtype&&(c=Lk({backend:n,inputs:{x:o},attrs:{dtype:"float32"}}),s=n.dataIdMap.get(c.dataId).id);const u=n.makeOutput(o.shape,"float32"),p=n.dataIdMap.get(u.dataId).id;return l_(s,i,p),"float32"!==l.dtype&&n.disposeData(c.dataId),u}};let u_;const p_={kernelName:tl,backendName:"wasm",setupFunc:function(e){u_=e.wasm.cwrap(tl,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{axis:r,keepDims:a}=o,{x:i}=n,s=t.dataIdMap.get(i.dataId).id;let l=s,c=i;const{transposed:u,axes:p,originalAxes:d,inputWasTransposed:m}=ok(i,r,t);let f=p;if(m){const e=t.dataIdMap.get(u.dataId).id;e!==s&&(c=u,l=e,f=Sf(f.length,c.shape.length))}wf("prod",f,c.shape.length);const[h,y]=bf(c.shape,f),g=Sa(y),b=t.makeOutput(h,c.dtype);if(0!==Sa(c.shape)){const e=t.dataIdMap.get(b.dataId).id;u_(l,g,Mw[b.dtype],e)}if(m&&t.disposeData(u.dataId),a){const e=vf(b.shape,d);b.shape=e}return b}};function d_(e,t,n,o){if(e===t||e<t&&n<0||t<e&&n>1)return La(0,o);const r=La(Math.abs(Math.ceil((t-e)/n)),o);t<e&&1===n&&(n=-1),r[0]=e;for(let e=1;e<r.length;e++)r[e]=r[e-1]+n;return r}const m_={kernelName:al,backendName:"wasm",kernelFunc:e=>{const{backend:t,attrs:n}=e,{start:o,stop:r,step:a,dtype:i}=n,s=d_(o,r,a,i),l=t.makeOutput([s.length],i);return t.typedArrayFromHeap(l).set(s),l}},f_=Kw(Yi),h_=Hw(sl),y_=Hw(ll),g_=Hw(fl);let b_;const v_={kernelName:dl,backendName:"wasm",setupFunc:function(e){b_=e.wasm.cwrap(dl,null,["number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{images:r}=n,{alignCorners:a,halfPixelCenters:i,size:s}=o,[l,c]=s,[u,p,d,m]=r.shape,f=[u,l,c,m];let h,y=t.dataIdMap.get(r.dataId);"float32"!==y.dtype&&(h=Lk({backend:t,inputs:{x:r},attrs:{dtype:"float32"}}),y=t.dataIdMap.get(h.dataId));const g=y.id,b=t.makeOutput(f,"float32");if(0===Sa(r.shape))return b;const v=t.dataIdMap.get(b.dataId).id;return b_(g,u,p,d,m,l,c,a?1:0,i?1:0,v),null!=h&&t.disposeData(h.dataId),b}};let w_;const k_={kernelName:ml,backendName:"wasm",setupFunc:function(e){w_=e.wasm.cwrap(ml,null,["number","number","number","array","array","boolean"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{images:r,dy:a}=t,{alignCorners:i}=o,s=n.makeOutput(r.shape,"float32");let l,c=n.dataIdMap.get(r.dataId);return"float32"!==c.dtype&&(l=Lk({backend:n,inputs:{x:r},attrs:{dtype:"float32"}}),c=n.dataIdMap.get(l.dataId)),w_(n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(s.dataId).id,new Uint8Array(new Int32Array(r.shape).buffer),new Uint8Array(new Int32Array(a.shape).buffer),i),null!=l&&n.disposeData(l.dataId),s}};let x_;const S_={kernelName:ul,backendName:"wasm",setupFunc:function(e){x_=e.wasm.cwrap(ul,null,["number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{images:r}=n,{alignCorners:a,halfPixelCenters:i,size:s}=o,[l,c]=s,[u,p,d,m]=r.shape,f=[u,l,c,m],h=t.makeOutput(f,"float32");if(0===Sa(r.shape))return h;let y,g=t.dataIdMap.get(r.dataId);"float32"!==g.dtype&&(y=Lk({backend:t,inputs:{x:r},attrs:{dtype:"float32"}}),g=t.dataIdMap.get(y.dataId));const b=g.id,v=t.dataIdMap.get(h.dataId).id;return x_(b,u,p,d,m,l,c,a?1:0,i?1:0,v),null!=y&&t.disposeData(y.dataId),h}};let __;const I_={kernelName:pl,backendName:"wasm",setupFunc:function(e){__=e.wasm.cwrap(pl,null,["number","number","number","array","array","boolean"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{images:r,dy:a}=t,{alignCorners:i}=o,s=n.makeOutput(r.shape,"float32");let l,c=n.dataIdMap.get(r.dataId);return"float32"!==c.dtype&&(l=Lk({backend:n,inputs:{x:r},attrs:{dtype:"float32"}}),c=n.dataIdMap.get(l.dataId)),__(n.dataIdMap.get(r.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(s.dataId).id,new Uint8Array(new Int32Array(r.shape).buffer),new Uint8Array(new Int32Array(a.shape).buffer),i),null!=l&&n.disposeData(l.dataId),s}};let T_;const E_={kernelName:hl,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{dims:a}=o,i=Na(a,r.shape);if(0===r.shape.length)return Zw({inputs:{x:r},backend:n});const s=n.makeOutput(r.shape,r.dtype),l=n.dataIdMap.get(r.dataId).id,c=n.dataIdMap.get(s.dataId).id,u=new Uint8Array(new Int32Array(i).buffer),p=new Uint8Array(new Int32Array(r.shape).buffer);T_(l,u,i.length,p,r.shape.length,c);const d=_k({inputs:{x:s},attrs:{shape:r.shape},backend:n});return n.disposeData(s.dataId),d},setupFunc:function(e){T_=e.wasm.cwrap(hl,null,["number","array","number","array","number","number"])}};let N_;const C_={kernelName:ac,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{image:r}=t,{radians:a,fillValue:i,center:s}=o,l=n.makeOutput(r.shape,r.dtype),c=n.dataIdMap.get(r.dataId).id,u=n.dataIdMap.get(l.dataId).id,[p,d,m,f]=r.shape,[h,y]=hb(s,d,m),g="number"==typeof i?[i,i,i,0===i?0:255]:[...i,255],b=new Uint8Array(new Int32Array(g).buffer);return N_(c,p,d,m,f,a,h,y,b,g.length,u),l},setupFunc:function(e){N_=e.wasm.cwrap(ac,null,["number","number","number","number","number","number","number","number","array","number","number"])}},A_=Hw(yl),M_=Hw(gl);let O_;const D_={kernelName:bl,backendName:"wasm",setupFunc:function(e){O_=e.wasm.cwrap(bl,null,["number","number","number","number","number","number","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{indices:r,updates:a}=n,{shape:i}=o,s=t.makeOutput(i,a.dtype);if(0===Sa(i))return s;const{sliceRank:l,numUpdates:c,sliceSize:u,strides:p,outputSize:d}=Bd(0,r,i),m=t.dataIdMap.get(r.dataId).id,f=t.dataIdMap.get(a.dataId).id,h=new Uint8Array(new Int32Array(p).buffer),y=t.dataIdMap.get(s.dataId).id;return O_(m,f,Mw[a.dtype],l,c,u,h,d,y),s}};let R_;const F_={kernelName:wl,backendName:"wasm",setupFunc:function(e){R_=e.wasm.cwrap(wl,null,["number","number","number","number","number","number","bool","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{sortedSequence:r,values:a}=t,{side:i}=o;if(r.dtype!==a.dtype)throw new Error(`SearchSorted error: sorted_sequence must have the same dtype as values. Got ${r.dtype} and ${a.dtype}`);const s=n.makeOutput(a.shape,"int32");function l(e){return n.dataIdMap.get(e.dataId).id}return R_(l(r),l(a),r.shape[0],r.shape[1],a.shape[1],Mw[r.dtype],"left"===i,l(s)),s}};let z_;const P_={kernelName:kl,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:o,t:r,e:a}=t,i=n.dataIdMap.get(o.dataId).id,s=n.dataIdMap.get(r.dataId).id,l=n.dataIdMap.get(a.dataId).id,c=n.makeOutput(r.shape,r.dtype),u=n.dataIdMap.get(c.dataId).id,p=o.shape.length,d=r.shape.length,m=0===p||p>1||1===d?1:Sa(r.shape.slice(1));return z_(i,s,l,m,u),c},setupFunc:function(e){z_=e.wasm.cwrap("SelectV2",null,["number","number","number","number","number"])}},$_=Hw(xl);let L_;const B_={kernelName:"Sigmoid",backendName:"wasm",setupFunc:function(e){L_=e.wasm.cwrap(El,null,["number","number"])},kernelFunc:function(e){const{backend:t,inputs:{x:n}}=e,o=t.dataIdMap.get(n.dataId).id,r=t.makeOutput(n.shape,n.dtype),a=t.dataIdMap.get(r.dataId).id;return 0===Sa(r.shape)||L_(o,a),r}},j_=Hw(Tl),W_=Hw(_l),U_=Hw(Il),H_=Hw(Nl);const V_={kernelName:Ml,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{blockShape:a,paddings:i}=o,s=Sa(a),l=[[0,0]];l.push(...i);for(let e=1+a.length;e<r.shape.length;++e)l.push([0,0]);const c=i_.kernelFunc({inputs:{x:r},backend:n,attrs:{paddings:l,constantValue:0}}),u=yb(c.shape,a,s,!1),p=gb(u.length,a.length,!1),d=bb(c.shape,a,s,!1),m=_k({inputs:{x:c},backend:n,attrs:{shape:u}}),f=tk({inputs:{x:m},backend:n,attrs:{perm:p}}),h=_k({inputs:{x:f},backend:n,attrs:{shape:d}});return n.disposeData(c.dataId),n.disposeData(m.dataId),n.disposeData(f.dataId),h}};let q_;const G_={kernelName:Rl,backendName:"wasm",setupFunc:function(e){q_=e.wasm.cwrap("SparseFillEmptyRows","number",["number","number","number","number","number","number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n}=e,{indices:o,values:r,denseShape:a,defaultValue:i}=n,s=o.shape[0],l=o.shape[1],c=t.readSync(a.dataId)[0],u=[s+c,l],p=t.dataIdMap.get(o.dataId).id,d=t.dataIdMap.get(r.dataId).id,m=t.dataIdMap.get(i.dataId).id,f=t.makeOutput(u,o.dtype),h=t.dataIdMap.get(f.dataId).id,y=t.makeOutput(u.slice(0,1),r.dtype),g=t.dataIdMap.get(y.dataId).id,b=t.makeOutput([c],"bool"),v=t.dataIdMap.get(b.dataId).id,w=t.makeOutput([s],o.dtype),k=t.dataIdMap.get(w.dataId).id,x=t.makeOutput([4],"int32"),S=t.dataIdMap.get(x.dataId).id,_=q_(p,d,Mw[r.dtype],s,c,l,m,h,g,v,k,S),I=t.readSync(x.dataId);let T;switch(I[0]){case 1:T=Db(I[1]);break;case 2:T=Rb(I[1],I[2]);break;case 3:T=Fb(I[1],I[2],I[3]);break;default:T=""}if(t.disposeData(x.dataId),T)throw t.disposeData(f.dataId),t.disposeData(y.dataId),t.disposeData(b.dataId),t.disposeData(w.dataId),new Error(T);let E=f,N=y;return _!==u[0]&&(E=Ok({inputs:{x:f},attrs:{begin:0,size:[_,l]},backend:t}),N=Ok({inputs:{x:y},attrs:{begin:0,size:_},backend:t}),t.disposeData(f.dataId),t.disposeData(y.dataId)),[E,N,b,w]}};let K_;const Y_={kernelName:Fl,backendName:"wasm",setupFunc:function(e){K_=e.wasm.cwrap(Fl,null,["number","number","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n}=e,{inputIndices:o,inputShape:r,newShape:a}=n;if(2!==o.shape.length)throw new Error(`Input indices should be a matrix but received shape\n        ${o.shape}`);if(1!==r.shape.length)throw new Error(`Input shape should be a vector but received shape\n        ${r.shape}`);if(1!==a.shape.length)throw new Error(`Target shape should be a vector but received shape ${a.shape}`);const i=t.dataIdMap.get(o.dataId).id,s=t.dataIdMap.get(r.dataId).id,l=t.dataIdMap.get(a.dataId).id,c=o.shape[0],u=Sa(a.shape),p=t.makeOutput([c,u],o.dtype),d=t.dataIdMap.get(p.dataId).id,m=t.makeOutput([u],a.dtype),f=t.dataIdMap.get(m.dataId).id,h=t.makeOutput([3],"int32"),y=t.dataIdMap.get(h.dataId).id;K_(i,s,l,c,d,f,y);const g=t.readSync(h.dataId);let b;switch(g[0]){case 0:b=zb(g[1],g[2]);break;case 1:b=Pb(g[1],g[2]);break;case 2:b="reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero";break;case 3:b=$b(Array.from(t.readSync(r.dataId)),Array.from(t.readSync(m.dataId)));break;case 4:b=Lb(Array.from(t.readSync(r.dataId)),Array.from(t.readSync(m.dataId)));break;default:b=""}if(t.disposeData(h.dataId),b)throw t.disposeData(p.dataId),t.disposeData(m.dataId),new Error(b);return[p,m]}};let X_;function J_(e){X_=e.wasm.cwrap("SparseSegmentReduction",null,["number","number","number","number","number","number","number","number","number"])}function Z_(e,t){const{backend:n,inputs:o}=e,{data:r,indices:a,segmentIds:i}=o,s=a.shape[0],l=n.readSync(i.dataId,s-1,s)[0],c=s>0?l+1:0;if(c<0)throw new Error("segment ids must be >= 0");const u=r.shape.slice();u[0]=c;const p=n.dataIdMap.get(r.dataId).id,d=n.dataIdMap.get(a.dataId).id,m=n.dataIdMap.get(i.dataId).id,f=n.makeOutput(u,r.dtype),h=n.dataIdMap.get(f.dataId).id,y=n.makeOutput([4],"int32"),g=n.dataIdMap.get(y.dataId).id;X_(p,Mw[r.dtype],r.shape[0],d,m,h,g,t,0);const b=n.readSync(y.dataId);let v;switch(b[0]){case 0:v="segment ids must be >= 0";break;case 1:v="segment ids are not increasing";break;case 2:v=Bb(b[1],b[2]);break;case 3:v=jb(b[1],b[2],b[3]);break;default:v=""}if(n.disposeData(y.dataId),v)throw n.disposeData(f.dataId),new Error(v);return f}const Q_={kernelName:zl,backendName:"wasm",setupFunc:J_,kernelFunc:function(e){return Z_(e,!0)}};const eI={kernelName:Pl,backendName:"wasm",setupFunc:J_,kernelFunc:function(e){return Z_(e,!1)}};let tI;const nI={kernelName:$l,backendName:"wasm",setupFunc:function(e){tI=e.wasm.cwrap($l,null,["number","number","number","number","number","number","number","number","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{sparseIndices:r,sparseValues:a,defaultValue:i}=n,{outputShape:s}=o,l=t.makeOutput(s,i.dtype);if(0===Sa(s))return l;const{sliceRank:c,numUpdates:u,sliceSize:p,strides:d,outputSize:m}=Bd(0,r,s),f=t.dataIdMap.get(r.dataId).id,h=t.dataIdMap.get(a.dataId).id,y=t.dataIdMap.get(i.dataId).id,g=new Uint8Array(new Int32Array(d).buffer),b=t.dataIdMap.get(l.dataId).id;return tI(f,h,a.shape.length,y,Mw[i.dtype],c,u,p,g,m,b),l}};const oI={kernelName:Ol,backendName:"wasm",kernelFunc:function(e){const{inputs:t,attrs:n,backend:o}=e,{x:r}=t,{numOrSizeSplits:a,axis:i}=n,s=Na(i,r.shape)[0],l=Ob(r,a,s),c=new Array(r.shape.length).fill(0),u=r.shape.slice();return l.map((e=>{const t=[...u];t[s]=e;const n=Ok({inputs:{x:r},attrs:{begin:c,size:t},backend:o});return c[s]+=e,n}))}},rI=Hw(Cl),aI=Hw(Bl),iI=Kw(Ll);let sI;const lI={kernelName:oc,backendName:"wasm",setupFunc:function(e){sI=e.wasm.cwrap(oc,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{alpha:r}=o,{x:a}=n,i=t.dataIdMap.get(a.dataId).id,s=t.makeOutput(a.shape,a.dtype),l=t.dataIdMap.get(s.dataId).id;return sI(i,r,Mw[a.dtype],l),s}};let cI;const uI={kernelName:Wl,backendName:"wasm",setupFunc:function(e){cI=e.wasm.cwrap(Wl,null,["number","array","number","array","array","array","array","array","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{x:r}=n,{begin:a,end:i,strides:s,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:p,shrinkAxisMask:d}=o,{finalShapeSparse:m,finalShape:f,isIdentity:h,sliceDim0:y,isSimpleSlice:g,begin:b,end:v,strides:w}=Gd(r.shape,a,i,s,l,c,u,p,d);let k;if(h)k=_k({inputs:{x:r},backend:t,attrs:{shape:f}});else if(y||g){wa(r.shape.length>=1,(()=>`Input must have rank at least 1, got: ${r.shape.length}`));const e=Ud(b,v,w),n=Ok({inputs:{x:r},backend:t,attrs:{begin:b,size:e}});k=_k({inputs:{x:n},backend:t,attrs:{shape:f}}),t.disposeData(n.dataId)}else{const e=t.makeOutput(m,"float32"),n=t.dataIdMap.get(r.dataId).id,o=new Uint8Array(new Int32Array(Fa(r.shape)).buffer),a=new Uint8Array(new Int32Array(b).buffer),i=new Uint8Array(new Int32Array(v).buffer),s=new Uint8Array(new Int32Array(w).buffer),l=new Uint8Array(new Int32Array(m).buffer),c=new Uint8Array(new Int32Array(Fa(m)).buffer),u=t.dataIdMap.get(e.dataId).id;cI(n,o,r.shape.length,a,i,s,l,c,m.length,u),k=_k({inputs:{x:e},backend:t,attrs:{shape:f}}),t.disposeData(e.dataId)}return k}};class pI{constructor(e,t,n,o,r,a){this.separator=Fc(e),this.nGramWidths=t,this.leftPad=Fc(n),this.rightPad=Fc(o),this.padWidth=r,this.preserveShort=a}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}createNGrams(e,t,n,o,r,a){for(let i=0;i<r;++i){const s=this.getPadWidth(a),l=Math.max(0,s-i),c=Math.max(0,s-(r-(i+1))),u=a-(l+c),p=t+(l>0?0:i-s);let d=0;d+=l*this.leftPad.length;for(let t=0;t<u;++t)d+=e[p+t].length;d+=c*this.rightPad.length;d+=(l+c+u-1)*this.separator.length,n[o+i]=new Uint8Array(d);const m=n[o+i];let f=0;const h=e=>e.forEach((e=>m[f++]=e));for(let e=0;e<l;++e)h(this.leftPad),h(this.separator);for(let t=0;t<u-1;++t)h(e[p+t]),h(this.separator);if(u>0){h(e[p+u-1]);for(let e=0;e<c;++e)h(this.separator),h(this.rightPad)}else{for(let e=0;e<c-1;++e)h(this.rightPad),h(this.separator);h(this.rightPad)}}}compute(e,t){const n=e.length,o=t.length;if(o>0){let e=t[0];if(0!==e)throw new Error(`First split value must be 0, got ${e}`);for(let r=1;r<o;++r){let o=t[r]>=e;if(o=o&&t[r]<=n,!o)throw new Error(`Invalid split value ${t[r]}, must be in [${e}, ${n}]`);e=t[r]}if(e!==n)throw new Error(`Last split value must be data size. Expected ${n}, got ${e}`)}const r=o-1,a=Aa("int32",o);if(0===n||0===o){const e=new Array(n);for(let e=0;e<=r;++e)a[e]=0;return[e,a]}a[0]=0;for(let e=1;e<=r;++e){const n=t[e]-t[e-1];let o=0;this.nGramWidths.forEach((e=>{o+=this.getNumNGrams(n,e)})),this.preserveShort&&n>0&&0===o&&(o=1),a[e]=a[e-1]+o}const i=new Array(a[r]);for(let n=0;n<r;++n){const o=t[n];let r=a[n];if(this.nGramWidths.forEach((a=>{const s=t[n+1]-t[n],l=this.getNumNGrams(s,a);this.createNGrams(e,o,i,r,l,a),r+=l})),this.preserveShort&&r===a[n]){const a=t[n+1]-t[n];if(0===a)continue;const s=a+2*this.padWidth,l=1;this.createNGrams(e,o,i,r,l,s)}}return[i,a]}}function dI(e,t,n,o,r,a,i,s){return new pI(n,o,r,a,i,s).compute(e,t)}const mI={kernelName:Ul,backendName:"wasm",kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{data:r,dataSplits:a}=n,{separator:i,nGramWidths:s,leftPad:l,rightPad:c,padWidth:u,preserveShortSequences:p}=o,d=t.readSync(r.dataId),m=t.readSync(a.dataId),[f,h]=dI(d,m,i,s,l,c,u,p),y=t.makeOutput([f.length],"string");t.dataIdMap.get(y.dataId).stringBytes=f;const g=t.makeOutput(a.shape,"int32");return t.typedArrayFromHeap(g).set(h),[y,g]}};function fI(e,t,n,o){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)o.push(e.subarray(t,t+1));return}if(1===t.length){const r=t[0];let a=e.indexOf(r);for(;-1!==a;){const t=e.subarray(0,a);n&&0===t.length||o.push(t),a=(e=e.subarray(a+1)).indexOf(r)}return void(n&&0===e.length||o.push(e))}let r=0;for(let a=0;a<e.length+1;a++)if(a===e.length||-1!==t.indexOf(e[a])){const t=e.subarray(r,a);n&&0===t.length||o.push(t),r=a+1}}function hI(e,t,n){const o=e.length,r=[];let a=0,i=0;const s=new Array(o);for(let l=0;l<o;++l){const o=r.length;fI(e[l],t,n,r);const c=r.length-o;s[l]=c,a+=c,i=Math.max(i,c)}const l=Aa("int32",2*a),c=new Array(a),u=[o,i];let p=0;for(let e=0;e<o;++e)for(let t=0;t<s[e];++t)l[2*p]=e,l[2*p+1]=t,c[p]=r[p],++p;return[l,c,u]}const yI={kernelName:Hl,backendName:"wasm",kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{input:r,delimiter:a}=n,{skipEmpty:i}=o,s=t.readSync(r.dataId),l=t.readSync(a.dataId),[c,u,p]=hI(s,l[0],i),d=u.length,m=t.makeOutput([d,2],"int32");t.typedArrayFromHeap(m).set(c);const f=t.makeOutput([d],"string");t.dataIdMap.get(f.dataId).stringBytes=u;const h=t.makeOutput([2],"int32");return t.typedArrayFromHeap(h).set(p),[m,f,h]}};function gI(e,t){const n=Aa("int32",e.length);for(let o=0;o<e.length;++o)n[o]=Mc(e[o]).modulo(t).getLowBitsUnsigned();return n}const bI={kernelName:Vl,backendName:"wasm",kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{input:r}=n,{numBuckets:a}=o,i=gI(t.readSync(r.dataId),a),s=t.makeOutput(r.shape,"int32");return t.typedArrayFromHeap(s).set(i),s}},vI=Kw(ql);let wI;const kI={kernelName:Al,backendName:"wasm",setupFunc:function(e){wI=e.wasm.cwrap(Al,null,["number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{axis:r,keepDims:a}=o,{x:i}=n,s=t.dataIdMap.get(i.dataId).id;let l=s,c=i;const{transposed:u,axes:p,originalAxes:d,inputWasTransposed:m}=ok(i,r,t);let f=p;if(m){const e=t.dataIdMap.get(u.dataId).id;e!==s&&(c=u,l=e,f=Sf(f.length,c.shape.length))}wf("sum",f,c.shape.length);const[h,y]=bf(c.shape,f),g=Sa(y),b=t.makeOutput(h,c.dtype);if(0!==Sa(c.shape)){const e=t.dataIdMap.get(b.dataId).id;wI(l,g,Mw[b.dtype],e)}if(m&&t.disposeData(u.dataId),a){const e=vf(b.shape,d);b.shape=e}return b}},xI=Hw(Gl),SI=Hw(Kl);let _I;const II={kernelName:vl,backendName:"wasm",setupFunc:function(e){_I=e.wasm.cwrap(vl,null,["number","number","number","number","number","number","array","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{tensor:r,indices:a,updates:i}=n,{}=o,s=t.makeOutput(r.shape,r.dtype);if(0===Sa(r.shape))return s;const{sliceRank:l,numUpdates:c,sliceSize:u,strides:p,outputSize:d}=Bd(0,a,r.shape),m=t.dataIdMap.get(a.dataId).id,f=t.dataIdMap.get(i.dataId).id,h=t.dataIdMap.get(r.dataId).id,y=new Uint8Array(new Int32Array(p).buffer),g=t.dataIdMap.get(s.dataId).id;return _I(m,f,Mw[i.dtype],l,c,u,y,d,g,h),s}};let TI;const EI={kernelName:Yl,backendName:"wasm",setupFunc:function(e){TI=e.wasm.cwrap(Yl,null,["number","array","number","array","number","number"])},kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,a=n.dataIdMap.get(r.dataId).id,{reps:i}=o,s=new Array(r.shape.length);for(let e=0;e<s.length;e++)s[e]=r.shape[e]*i[e];const l=new Uint8Array(new Int32Array(r.shape).buffer),c=new Uint8Array(new Int32Array(s).buffer),u=n.makeOutput(s,r.dtype),p=n.dataIdMap.get(u.dataId).id;return TI(a,l,r.shape.length,c,s.length,Mw[u.dtype],p),u}};let NI;const CI={kernelName:Xl,backendName:"wasm",setupFunc:function(e){NI=e.wasm.cwrap(Xl,null,["number","array","number","number","number","bool","number","number"])},kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:o}=e,{k:r,sorted:a}=n,i=t.dataIdMap.get(o.dataId).id,s=new Uint8Array(new Int32Array(o.shape).buffer),l=o.shape.slice();l[l.length-1]=r;const c=t.makeOutput(l,o.dtype),u=t.dataIdMap.get(c.dataId).id,p=t.makeOutput(l,"int32"),d=t.dataIdMap.get(p.dataId).id;return NI(i,s,o.shape.length,Mw[o.dtype],r,a,u,d),[c,p]}};let AI;const MI={kernelName:Jl,backendName:"wasm",setupFunc:function(e){AI=e.wasm.cwrap(Jl,null,["number","number","bool","number","number","number","number","number","number","array","number","array","number","number","number","number","number"])},kernelFunc:function(e){const{backend:t,inputs:n,attrs:o}=e,{image:r,transforms:a}=n,{interpolation:i,fillMode:s,fillValue:l,outputShape:c}=o,[u,p,d,m]=r.shape,[f,h]=null!=c?c:[p,d],y=[u,f,h,m],g=new Uint8Array(new Int32Array(Fa(r.shape)).buffer),b=new Uint8Array(new Int32Array(Fa(y)).buffer),v=t.makeOutput(y,r.dtype),w=t.dataIdMap.get(v.dataId).id,k=t.dataIdMap.get(r.dataId).id,x=t.dataIdMap.get(a.dataId).id,S="nearest"===i?1:2;let _;switch(s){case"constant":default:_=1;break;case"reflect":_=2;break;case"wrap":_=3;break;case"nearest":_=4}return AI(k,x,a.shape[0]>1,u,f,h,m,d,p,g,r.shape.length-1,b,y.length-1,S,_,l,w),v}};function OI(e,t,n,o){const r=Na(t,n)[0],a=[1,n[0],1];for(let e=0;e<r;e++)a[0]*=n[e];a[1]=n[r];for(let e=r+1;e<n.length;e++)a[2]*=n[e];const i=new Map,s=new Int32Array(n[r]),l=new Xc(a,o,e),c=[],u=1===a[0]&&1===a[2];for(let t=0;t<n[r];t++){let n;if(u)n=e[t].toString();else{const e=[];for(let n=0;n<a[0];n++)for(let o=0;o<a[2];o++)e.push(l.get(n,t,o));n=e.join(",")}const o=i.get(n);if(null!=o)s[t]=o;else{const e=i.size;i.set(n,e),s[t]=e,c.push(t)}}const p=a.slice();p[1]=i.size;const d=new Xc(p,o);c.forEach(((e,t)=>{for(let n=0;n<a[0];n++)for(let o=0;o<a[2];o++)d.set(l.get(n,e,o),n,t,o)}));const m=n.slice();return m[r]=p[1],{outputValues:d.values,outputShape:m,indices:s}}const DI={kernelName:Ql,backendName:"wasm",kernelFunc:function(e){const{inputs:t,attrs:n,backend:o}=e,{axis:r}=n,{x:a}=t,{outputValues:i,outputShape:s,indices:l}=OI(o.readSync(a.dataId),r,a.shape,a.dtype);return[o.makeOutput(s,a.dtype,void 0,i),o.makeOutput([l.length],"int32",void 0,l)]}};const RI={kernelName:ec,backendName:"wasm",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{value:r}=t;let{axis:a}=o;a<0&&(a+=r.shape.length);const i=r.shape[a],s=r.shape.length,l=new Array(s-1);let c=0;for(let e=0;e<s;e++)e!==a&&(l[c++]=r.shape[e]);const u=new Array(i),p=new Array(s).fill(0),d=r.shape.slice();d[a]=1;for(let e=0;e<u.length;e++)p[a]=e,u[e]=Ok({inputs:{x:r},attrs:{begin:p,size:d},backend:n});return u.map((({dataId:e,dtype:t})=>({dataId:e,dtype:t,shape:l})))}};const FI={kernelName:nc,backendName:"wasm",kernelFunc:function(e){const{inputs:{x:t},backend:n}=e,o=n.makeOutput(t.shape,t.dtype);return n.typedArrayFromHeap(o).fill(0),o}},zI=[Uw,Vw,qw,Gw,Yw,Jw,ak,sk,ck,uk,pk,dk,mk,fk,hk,gk,Sk,vk,kk,Ek,Rk,zk,Pk,$k,Bk,jk,Uk,qk,Kk,Xk,Zk,ex,nx,ox,rx,sx,cx,px,mx,hx,gx,vx,kx,Sx,Ix,Tx,Nx,Cx,Ax,Mx,Dx,Rx,zx,$x,Lx,Bx,Wx,Hx,qx,Kx,Xx,Jx,Zx,Qw,Qx,eS,tS,oS,rS,aS,sS,cS,lS,uS,pS,dS,mS,hS,gS,vS,wS,xS,_S,TS,NS,AS,OS,RS,FS,$S,US,HS,VS,qS,YS,JS,QS,e_,n_,o_,r_,i_,s_,c_,p_,m_,f_,h_,y_,g_,Ik,v_,k_,S_,I_,E_,C_,A_,M_,D_,F_,P_,$_,B_,j_,W_,U_,Dk,jS,H_,V_,G_,Y_,Q_,eI,nI,oI,rI,aI,iI,lI,uI,mI,yI,bI,vI,kI,xI,SI,II,EI,CI,MI,nk,DI,RI,FI];for(const e of zI)hc(e);const PI=Ka();PI.registerFlag("WASM_HAS_SIMD_SUPPORT",(async()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]))}catch(e){return!1}})),PI.registerFlag("WASM_HAS_MULTITHREAD_SUPPORT",(async()=>{if(PI.get("IS_NODE"))return!1;try{return(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch(e){return!1}}));var $I=i(8417),LI=i.n($I),BI=i(9593),jI=i(3805),WI=i.n(jI);const UI=LI()||$I,HI=WI()||jI;class VI extends ya{constructor(e){super(),this.wasm=e,this.dataIdNextNumber=1,this.wasm.tfjs.initWithThreadsCount(eT),tT=this.wasm.tfjs.getThreadsCount(),this.dataIdMap=new ha(this,Fp())}write(e,t,n){const o={id:this.dataIdNextNumber++};return this.move(o,e,t,n,1),o}numDataIds(){return this.dataIdMap.numDataIds()}async time(e){const t=Rc();e();return{kernelMs:Rc()-t}}move(e,t,n,o,r){const a=this.dataIdNextNumber++;if("string"===o){const i=t;return void this.dataIdMap.set(e,{id:a,stringBytes:i,shape:n,dtype:o,memoryOffset:null,refCount:r})}const i=Sa(n),s=i*Ma(o),l=this.wasm._malloc(s)>>>0;this.dataIdMap.set(e,{id:a,memoryOffset:l,shape:n,dtype:o,refCount:r}),this.wasm.tfjs.registerTensor(a,i,l),null!=t&&this.wasm.HEAPU8.set(new Uint8Array(t.buffer,t.byteOffset,s),l)}async read(e){return this.readSync(e)}readSync(e,t,n){const{memoryOffset:o,dtype:r,shape:a,stringBytes:i}=this.dataIdMap.get(e);if("string"===r)return null!=t&&0!==t||!(null==n||n>=i.length)?i.slice(t,n):i;t=t||0,n=n||Sa(a);const s=Ma(r);return function(e,t){switch(t){case"float32":return new Float32Array(e);case"int32":return new Int32Array(e);case"bool":return new Uint8Array(e);default:throw new Error(`Unknown dtype ${t}`)}}(this.wasm.HEAPU8.slice(o+t*s,o+n*s).buffer,r)}disposeData(e,t=!1){if(this.dataIdMap.has(e)){const n=this.dataIdMap.get(e);if(n.refCount--,!t&&n.refCount>0)return!1;this.wasm._free(n.memoryOffset),this.wasm.tfjs.disposeData(n.id),this.dataIdMap.delete(e)}return!0}refCount(e){if(this.dataIdMap.has(e)){return this.dataIdMap.get(e).refCount}return 0}incRef(e){const t=this.dataIdMap.get(e);null!=t&&t.refCount++}floatPrecision(){return 32}getMemoryOffset(e){return this.dataIdMap.get(e).memoryOffset}dispose(){this.wasm.tfjs.dispose(),"PThread"in this.wasm&&this.wasm.PThread.terminateAllThreads(),this.wasm=null}memory(){return{unreliable:!1}}makeOutput(e,t,n,o){let r;if(null==n)r=this.write(null!=o?o:null,e,t);else{const o=this.dataIdNextNumber++;r={id:o},this.dataIdMap.set(r,{id:o,memoryOffset:n,shape:e,dtype:t,refCount:1});const a=Sa(e);this.wasm.tfjs.registerTensor(o,a,n)}return{dataId:r,shape:e,dtype:t}}typedArrayFromHeap({shape:e,dtype:t,dataId:n}){const o=this.wasm.HEAPU8.buffer,{memoryOffset:r}=this.dataIdMap.get(n),a=Sa(e);switch(t){case"float32":return new Float32Array(o,r,a);case"int32":return new Int32Array(o,r,a);case"bool":return new Uint8Array(o,r,a);default:throw new Error(`Unknown dtype ${t}`)}}}function qI(e){return(t,n)=>(function(e,t){return Ka().platform.fetch(e,t)}(e,{credentials:"same-origin"}).then((o=>{o.ok||t.env.a(`failed to load wasm binary file at '${e}'`),o.arrayBuffer().then((e=>{WebAssembly.instantiate(e,t).then((e=>{n(e.instance,e.module)}))}))})),{})}function GI(e,t,n){if(null!=YI)return YI;let o="tfjs-backend-wasm.wasm";return e&&t?o="tfjs-backend-wasm-threaded-simd.wasm":e&&(o="tfjs-backend-wasm-simd.wasm"),null!=JI&&null!=JI[o]?JI[o]:n+o}const KI=["tfjs-backend-wasm.wasm","tfjs-backend-wasm-simd.wasm","tfjs-backend-wasm-threaded-simd.wasm"];let YI=null,XI=null,JI={},ZI=!1,QI=!1;let eT=-1,tT=null;Bp("wasm",(async()=>{const{wasm:e}=await async function(){const[e,t]=await Promise.all([Ka().getAsync("WASM_HAS_SIMD_SUPPORT"),Ka().getAsync("WASM_HAS_MULTITHREAD_SUPPORT")]);return new Promise(((n,o)=>{const r={locateFile:(n,o)=>{if(n.endsWith(".worker.js")){const e=BI.$.replace(/\n/g,"\\n"),t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}return n.endsWith(".wasm")?GI(e,t,null!=XI?XI:o):o+n}};QI&&(r.instantiateWasm=qI(GI(e,t,null!=XI?XI:"")));let a,i=!1;r.onAbort=()=>{i||ZI||(ZI=!0,o({message:"Make sure the server can serve the `.wasm` file relative to the bundled js file. For more details see https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/README.md#using-bundlers"}))},t&&e&&null==YI?(r.mainScriptUrlOrBlob=new Blob(["var WasmBackendModuleThreadedSimd = "+UI.toString()],{type:"text/javascript"}),a=UI(r)):a=HI(r),a.then((e=>{i=!0,ZI=!1,e.tfjs={init:e.cwrap("init",null,[]),initWithThreadsCount:e.cwrap("init_with_threads_count",null,["number"]),getThreadsCount:e.cwrap("get_threads_count","number",[]),registerTensor:e.cwrap("register_tensor",null,["number","number","number"]),disposeData:e.cwrap("dispose_data",null,["number"]),dispose:e.cwrap("dispose",null,[])},n({wasm:e})})).catch(o)}))}();return new VI(e)}),2);const nT=By;class oT extends ya{nextDataId(){return oT.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new ha(this,Fp())}write(e,t,n){this.firstUse&&(this.firstUse=!1,Ka().get("IS_NODE")&&cc("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));const o={id:this.nextDataId()};return this.data.set(o,{values:e,dtype:n,refCount:1}),o}makeTensorInfo(e,t,n){let o;if("string"===t&&null!=n&&n.length>0&&Oa(n[0])){const r=n.map((e=>Fc(e)));o=this.write(r,e,t)}else o=this.write(n,e,t);return{dataId:o,shape:e,dtype:t}}refCount(e){if(this.data.has(e)){return this.data.get(e).refCount}return 0}incRef(e){this.data.get(e).refCount++}decRef(e){if(this.data.has(e)){this.data.get(e).refCount--}}move(e,t,n,o,r){this.data.set(e,{values:t,dtype:o,refCount:r})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:t,complexTensorInfos:n}=this.data.get(e);if("complex64"===t){return kb(this.readSync(n.real.dataId),this.readSync(n.imag.dataId))}return function(e,t){if(Array.isArray(e))return e;if("float32"===t)return e instanceof Float32Array?e:new Float32Array(e);if("int32"===t)return e instanceof Int32Array?e:new Int32Array(e);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(e));throw new Error(`Unknown dtype ${t}`)}(this.data.get(e).values,t)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>zc(e)));return Mp(e.shape,e.dtype,n)}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return Mp(e.shape,e.dtype,t)}makeOutput(e,t,n){return Fp().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}disposeData(e,t=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:n}=this.data.get(e);null!=n&&(this.disposeData(n.real.dataId,!0),this.disposeData(n.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const t=Rc();e();return{kernelMs:Rc()-t}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){Nk([e],"where");const t=this.readSync(e.dataId);return nT(e.shape,t)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}function rT(e){return(t,n,o)=>{const r=Aa(n,t.length);for(let n=0;n<t.length;++n)r[n]=e(t[n],o);return r}}function aT(e,t,n){return iT(e,rT(t),n)}function iT(e,t,n){return({inputs:o,attrs:r,backend:a})=>{const{x:i}=o;Nk(i,e);const s=a,l=s.data.get(i.dataId).values;let c;if("string"===i.dtype){if(!Array.isArray(l))throw new Error("String tensor's value was not an instance of Array");c=Ub(l)}else c=l;const u=n||i.dtype,p=t(c,u,r);return s.makeTensorInfo(i.shape,u,p)}}oT.nextDataId=0,Bp("cpu",(()=>new oT),1);const sT=aT(Ji,(e=>e>=0?e:Math.exp(e)-1)),lT={kernelName:Ji,backendName:"cpu",kernelFunc:sT};function cT(e){const{inputs:t,backend:n}=e,{x:o}=t;return n.incRef(o.dataId),{dataId:o.dataId,shape:o.shape,dtype:o.dtype}}const uT={kernelName:ms,backendName:"cpu",kernelFunc:cT};function pT(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{alpha:a}=o;Nk([r],"leakyRelu");const i=Sa(r.shape),s=n.data.get(r.dataId).values,l=Ca("float32",i);for(let e=0;e<s.length;e++)l[e]=s[e]<0?a*s[e]:s[e];return n.makeTensorInfo(r.shape,"float32",l)}const dT={kernelName:vs,backendName:"cpu",kernelFunc:pT};function mT(e){return(t,n,o,r,a)=>{const i=sd(t,n),s=i.length,l=Fa(i),c=Ca(a,Sa(i)),u=t.length,p=n.length,d=Fa(t),m=Fa(n),f=id(t,i),h=id(n,i);if(f.length+h.length===0)for(let t=0;t<c.length;++t)c[t]=e(o[t%o.length],r[t%r.length]);else for(let t=0;t<c.length;++t){const n=Ua(t,s,l),a=n.slice(-u);f.forEach((e=>a[e]=0));const i=Wa(a,u,d),y=n.slice(-p);h.forEach((e=>y[e]=0));const g=Wa(y,p,m);c[t]=e(o[i],r[g])}return[c,i]}}const fT=mT(((e,t)=>e<0?t*e:e));function hT(e){const{inputs:t,backend:n}=e,{x:o,alpha:r}=t;Nk([o,r],"prelu");const a=n.data.get(o.dataId).values,i=n.data.get(r.dataId).values,[s,l]=fT(o.shape,r.shape,a,i,"float32");return n.makeTensorInfo(l,"float32",s)}const yT={kernelName:el,backendName:"cpu",kernelFunc:hT},gT=aT(ll,(e=>Math.max(0,e))),bT={kernelName:ll,backendName:"cpu",kernelFunc:gT},vT=aT(fl,(e=>Math.min(Math.max(0,e),6))),wT={kernelName:fl,backendName:"cpu",kernelFunc:vT},kT=(rT((e=>1/(1+Math.exp(-e)))),aT(El,(e=>1/(1+Math.exp(-e))))),xT={kernelName:El,backendName:"cpu",kernelFunc:kT};function ST(e,t,n,o,r){if("linear"===n)return cT({inputs:{x:t},backend:e});if("relu"===n)return gT({inputs:{x:t},backend:e});if("elu"===n)return sT({inputs:{x:t},backend:e});if("relu6"===n)return vT({inputs:{x:t},backend:e});if("prelu"===n)return hT({inputs:{x:t,alpha:o},backend:e});if("leakyrelu"===n)return pT({inputs:{x:t},backend:e,attrs:{alpha:r}});if("sigmoid"===n)return kT({inputs:{x:t},backend:e});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}function _T(e){const{inputs:t,backend:n}=e,{real:o,imag:r}=t,a=n.data.get(o.dataId).values,i=n.data.get(r.dataId).values,s=n.makeTensorInfo(o.shape,"complex64");return n.data.get(s.dataId).complexTensorInfos={real:n.makeTensorInfo(o.shape,"float32",a),imag:n.makeTensorInfo(r.shape,"float32",i)},s}const IT={kernelName:Ii,backendName:"cpu",kernelFunc:_T};function TT(e,t,n="float32"){if("complex64"===n){return _T({inputs:{real:TT(e,t,"float32"),imag:TT(e,t,"float32")},backend:e})}const o=La(Sa(t),n);return e.makeTensorInfo(t,n,o)}function ET(e){const{inputs:t,backend:n}=e,{input:o}=t,r=n.data.get(o.dataId).complexTensorInfos.real,a=n.data.get(r.dataId).values;return n.makeTensorInfo(r.shape,r.dtype,a)}const NT={kernelName:il,backendName:"cpu",kernelFunc:ET};function CT(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{dtype:a}=o;if("complex64"===a){if("complex64"===r.dtype)return cT({inputs:{x:r},backend:n});const e=TT(n,r.shape,r.dtype),t=CT({inputs:{x:r},backend:n,attrs:{dtype:"float32"}}),o=_T({inputs:{real:t,imag:e},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),o}if("complex64"===r.dtype){const e=ET({inputs:{input:r},backend:n}),t=CT({inputs:{x:e},backend:n,attrs:{dtype:a}});return n.disposeIntermediateTensorInfo(e),t}if(i=r.dtype,"complex64"===(s=a)||"float32"===s&&"complex64"!==i||"int32"===s&&"float32"!==i&&"complex64"!==i||"bool"===s&&"bool"===i){const e=cT({inputs:{x:r},backend:n});return{dataId:e.dataId,shape:e.shape,dtype:a}}var i,s;const l=n.data.get(r.dataId).values,[c,u,p]=function(e,t,n,o){if("int32"===o)return[t,"int32",Int32Array.from(e)];if("bool"===o){const o=Dc([0],n),[r,a]=mT(((e,t)=>e!==t?1:0))(t,[],e,o,"bool");return[a,"bool",r]}throw new Error(`Error in Cast: failed to cast ${n} to ${o}`)}(l,r.shape,r.dtype,a);return n.makeTensorInfo(c,u,p)}const AT={kernelName:xi,backendName:"cpu",kernelFunc:CT};function MT(e,t,n,o){return null==n?({inputs:n,backend:r})=>{const{a,b:i}=n,s=r;Nk([a,i],e);const l=s.data.get(a.dataId).values,c=s.data.get(i.dataId).values,u="string"===a.dtype?Ub(l):l,p="string"===a.dtype?Ub(c):c,d=o||a.dtype,[m,f]=t(a.shape,i.shape,u,p,d);return s.makeTensorInfo(f,d,m)}:({inputs:e,backend:r})=>{const{a,b:i}=e,s=r;if("complex64"===a.dtype||"complex64"===i.dtype){const e=CT({inputs:{x:a},backend:s,attrs:{dtype:"complex64"}}),t=s.data.get(e.dataId),o=t.complexTensorInfos.real,r=t.complexTensorInfos.imag,l=s.data.get(o.dataId).values,c=s.data.get(r.dataId).values,u=CT({inputs:{x:i},backend:s,attrs:{dtype:"complex64"}}),p=s.data.get(u.dataId),d=p.complexTensorInfos.real,m=p.complexTensorInfos.imag,f=s.data.get(d.dataId).values,h=s.data.get(m.dataId).values,[y,g,b]=n(a.shape,i.shape,l,c,f,h),v=s.makeTensorInfo(b,"float32",y),w=s.makeTensorInfo(b,"float32",g),k=_T({inputs:{real:v,imag:w},backend:s});return s.disposeIntermediateTensorInfo(e),s.disposeIntermediateTensorInfo(u),s.disposeIntermediateTensorInfo(v),s.disposeIntermediateTensorInfo(w),k}{const e=s.data.get(a.dataId).values,n=s.data.get(i.dataId).values,r=o||a.dtype,[l,c]=t(a.shape,i.shape,e,n,r);return s.makeTensorInfo(c,r,l)}}}function OT(e){return(t,n,o,r,a,i)=>{const s=sd(t,n),l=Sa(s),c=s.length,u=Fa(s),p=Ca("float32",l),d=Ca("float32",l),m=id(t,s),f=id(n,s),h=kb(o,r),y=kb(a,i),g=t.length,b=Fa(t),v=n.length,w=Fa(n);if(m.length+f.length===0)for(let t=0;t<p.length;t++){const n=t%h.length,o=t%y.length,r=e(h[2*n],h[2*n+1],y[2*o],y[2*o+1]);p[t]=r.real,d[t]=r.imag}else for(let t=0;t<p.length;t++){const n=Ua(t,c,u),o=n.slice(-g);m.forEach((e=>o[e]=0));const r=Wa(o,g,b),a=n.slice(-v);f.forEach((e=>a[e]=0));const i=Wa(a,v,w),s=e(h[2*r],h[2*r+1],y[2*i],y[2*i+1]);p[t]=s.real,d[t]=s.imag}return[p,d,s]}}const DT=mT(((e,t)=>e+t)),RT=OT(((e,t,n,o)=>({real:e+n,imag:t+o}))),FT=MT(ni,DT,RT),zT={kernelName:ni,backendName:"cpu",kernelFunc:FT};function PT(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{shape:a}=o,i=Sa(r.shape),s=Ea(a,i),l=Sa(s);wa(i===l,(()=>`The new shape (${s}) has ${l} elements and the old shape (${r.shape}) has ${i} elements. The new shape and old shape must have the same number of elements.`)),n.incRef(r.dataId);const c=n.data.get(r.dataId);if(null!=c.complexTensorInfos){const e=c.complexTensorInfos.real,t=c.complexTensorInfos.imag;e.shape=s,t.shape=s}return{dataId:r.dataId,shape:s,dtype:r.dtype}}const $T={kernelName:cl,backendName:"cpu",kernelFunc:PT};function LT(e){const{inputs:t,backend:n,attrs:o}=e,{a:r,b:a}=t,{transposeA:i,transposeB:s}=o;Nk([r,a],"matMul");const l=r.shape.length,c=a.shape.length,u=i?r.shape[l-2]:r.shape[l-1],p=s?a.shape[c-1]:a.shape[c-2],d=i?r.shape[l-1]:r.shape[l-2],m=s?a.shape[c-2]:a.shape[c-1],f=r.shape.slice(0,-2),h=a.shape.slice(0,-2),y=Sa(f),g=Sa(h),b=sd(r.shape.slice(0,-2),a.shape.slice(0,-2)).concat([d,m]);wa(u===p,(()=>`Error in matMul: inner shapes (${u}) and (${p}) of Tensors with shapes ${r.shape} and ${a.shape} and transposeA=${i} and transposeB=${s} must match.`));const v=s?[g,m,p]:[g,p,m],w=PT({inputs:{x:r},backend:n,attrs:{shape:i?[y,u,d]:[y,d,u]}}),k=PT({inputs:{x:a},backend:n,attrs:{shape:v}}),x=i?w.shape[1]:w.shape[2],S=i?w.shape[2]:w.shape[1],_=s?k.shape[1]:k.shape[2],I=Math.max(y,g),T=n.data.get(w.dataId).values,E=n.data.get(k.dataId).values,N=Fa(w.shape),C=Fa(k.shape),[A,M,O]=i?[N[0],1,N[1]]:[N[0],N[1],1],[D,R,F]=s?[1,C[1],C[0]]:[C[1],1,C[0]],z=S*_,P=Mp([I,S,_],w.dtype),$=P.values,L=n.blockSize;for(let e=0;e<I;e++){const t=e%y,n=e%g;for(let o=0;o<S;o+=L){const r=Math.min(o+L,S);for(let a=0;a<_;a+=L){const i=Math.min(a+L,_);for(let s=0;s<x;s+=L){const l=Math.min(s+L,x);for(let c=o;c<r;c++)for(let o=a;o<i;o++){let r=0;for(let e=s;e<l;e++){r+=T[t*A+c*M+e*O]*E[e*D+o*R+n*F]}$[e*z+(c*_+o)]+=r}}}}}return n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(k),n.makeTensorInfo(b,P.dtype,P.values)}const BT={kernelName:gi,backendName:"cpu",kernelFunc:LT};const jT={kernelName:ic,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{a:r,b:a,bias:i,preluActivationWeights:s}=t,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:p}=o;let d,m,f;const h=[];d=LT({inputs:{a:r,b:a},attrs:{transposeA:l,transposeB:c},backend:n}),i&&(m=FT({inputs:{a:d,b:i},backend:n}),h.push(d),d=m),u&&(f=ST(n,d,u,s,p),h.push(d),d=f);for(const e of h)n.disposeIntermediateTensorInfo(e);return d}};const WT={kernelName:Qa,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend;Nk(t,"abs");let o=new Float32Array(Sa(t.shape));return o=function(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}(n.data.get(t.dataId).values),n.makeOutput(o,t.shape,t.dtype)}},UT=aT(ei,(e=>Math.acos(e))),HT={kernelName:ei,backendName:"cpu",kernelFunc:UT},VT=aT(ti,(e=>Math.acosh(e))),qT={kernelName:ti,backendName:"cpu",kernelFunc:VT};const GT={kernelName:oi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,o=t;Nk(t,"addN");const r=o.map((e=>n.data.get(e.dataId).values)),a=Mp(o[0].shape,o[0].dtype),i=a.values;for(let e=0;e<o.length;e++){const t=r[e];for(let e=0;e<i.length;e++)i[e]+=t[e]}return n.makeTensorInfo(a.shape,a.dtype,a.values)}};function KT(e,t,n,o,r){const a=t.length,i=Sa(t),s=Fa(t),l=Fa(r),c=Ca(n,Sa(r));for(let t=0;t<i;++t){const n=Ua(t,a,s),r=new Array(n.length);for(let e=0;e<r.length;e++)r[e]=n[o[e]];c[Wa(r,a,l)]=e[t]}return c}function YT(e){const{inputs:t,attrs:n,backend:o}=e,{x:r}=t,{perm:a}=n;Nk(r,"transpose");const i=r.shape.length,s=new Array(i);for(let e=0;e<s.length;e++)s[e]=r.shape[a[e]];const l=KT(o.data.get(r.dataId).values,r.shape,r.dtype,a,s);return{dataId:o.write(l,s,r.dtype),shape:s,dtype:r.dtype}}const XT={kernelName:Zl,backendName:"cpu",kernelFunc:YT};const JT={kernelName:ri,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{axis:a,keepDims:i}=o;Nk(r,"all");const s=Na(a,r.shape);let l=s;const c=kf(l,r.shape.length);let u=r;null!=c&&(u=YT({inputs:{x:r},backend:n,attrs:{perm:c}}),l=Sf(l.length,r.shape.length)),wf("all",l,u.shape.length);const[p,d]=bf(u.shape,l),m=Sa(d),f=La(Sa(p),u.dtype),h=n.data.get(u.dataId).values;for(let e=0;e<f.length;++e){const t=e*m;let n=h[t];for(let e=0;e<m;++e){const o=h[t+e];n=n&&o}f[e]=n}null!=c&&n.disposeIntermediateTensorInfo(u);const y=n.makeTensorInfo(p,u.dtype,f);if(i){const e=PT({inputs:{x:y},backend:n,attrs:{shape:vf(p,s)}});return n.disposeIntermediateTensorInfo(y),e}return y}};const ZT={kernelName:ai,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{axis:a,keepDims:i}=o;Nk(r,"any");const s=Na(a,r.shape);let l=s;const c=kf(l,r.shape.length);let u=r;null!=c&&(u=YT({inputs:{x:r},backend:n,attrs:{perm:c}}),l=Sf(l.length,r.shape.length)),wf("any",l,u.shape.length);const[p,d]=bf(u.shape,l),m=Sa(d),f=La(Sa(p),u.dtype),h=n.data.get(u.dataId).values;for(let e=0;e<f.length;++e){const t=e*m;let n=h[t];for(let e=0;e<m;++e){const o=h[t+e];n=n||o}f[e]=n}null!=c&&n.disposeIntermediateTensorInfo(u);const y=n.makeTensorInfo(p,u.dtype,f);if(i){const e=PT({inputs:{x:y},backend:n,attrs:{shape:vf(p,s)}});return n.disposeIntermediateTensorInfo(y),e}return y}};const QT={kernelName:ii,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{axis:a}=o;Nk(r,"argMax");let i=Na(a,r.shape);const s=kf(i,r.shape.length);let l=r;const c=[];null!=s&&(l=YT({inputs:{x:r},backend:n,attrs:{perm:s}}),c.push(l),i=Sf(i.length,l.shape.length)),i=[i[0]],wf("argMax",i,l.shape.length);const[u,p]=bf(l.shape,i),d=La(Sa(u),"int32"),m=Sa(p),f=n.data.get(l.dataId).values;for(let e=0;e<d.length;++e){const t=e*m;let n=f[t],o=0;for(let e=0;e<m;++e){const r=f[t+e];r>n&&(n=r,o=e)}d[e]=o}return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(u,"int32",d)}};const eE={kernelName:si,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{axis:a}=o;Nk(r,"argMin");let i=Na(a,r.shape);const s=kf(i,r.shape.length);let l=r;const c=[];null!=s&&(l=YT({inputs:{x:r},backend:n,attrs:{perm:s}}),c.push(l),i=Sf(i.length,l.shape.length)),i=[i[0]],wf("argMin",i,l.shape.length);const[u,p]=bf(l.shape,i),d=La(Sa(u),"int32"),m=Sa(p),f=n.data.get(l.dataId).values;for(let e=0;e<d.length;++e){const t=e*m;let n=f[t],o=0;for(let e=0;e<m;++e){const r=f[t+e];r<n&&(n=r,o=e)}d[e]=o}return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(u,"int32",d)}},tE=aT(li,(e=>Math.asin(e))),nE={kernelName:li,backendName:"cpu",kernelFunc:tE},oE=aT(ci,(e=>Math.asinh(e))),rE={kernelName:ci,backendName:"cpu",kernelFunc:oE},aE=aT(ui,(e=>Math.atan(e))),iE={kernelName:ui,backendName:"cpu",kernelFunc:aE},sE=mT(((e,t)=>Math.atan2(e,t))),lE=MT(di,sE),cE={kernelName:di,backendName:"cpu",kernelFunc:lE},uE=aT(pi,(e=>Math.atanh(e))),pE={kernelName:pi,backendName:"cpu",kernelFunc:uE};function dE(e,t,n,o,r,a){const i=r.strideHeight,s=r.strideWidth,l=r.dilationHeight,c=r.dilationWidth,u=r.effectiveFilterHeight,p=r.effectiveFilterWidth,d=r.padInfo.top,m=r.padInfo.left,f="max"===a?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,h=Mp(r.outShape,n),y=h.values,g=r.outShape[1]*r.outShape[2]*r.outShape[3],b=r.outShape[2]*r.outShape[3],v=r.outShape[3];for(let t=0;t<r.batchSize;++t){const n=t*g,h=t*o[0];for(let t=0;t<r.inChannels;++t)for(let g=0;g<r.outHeight;++g){const w=g*i-d,k=Math.max(0,w),x=Math.min(r.inHeight,u+w),S=n+g*b;for(let n=0;n<r.outWidth;++n){const i=n*s-m,u=Math.max(0,i),d=Math.min(r.inWidth,p+i);let g=f,b=0,w=0;for(let n=k;n<x;n+=l){const r=h+n*o[1];for(let n=u;n<d;n+=c){const i=e[r+n*o[2]+t];"max"===a&&i>g?g=i:"avg"===a&&(b+=i,w++)}if(isNaN(g))break}y[S+n*v+t]="avg"===a?b/w:g}}}return h}function mE(e,t,n,o,r=!1,a=!1){const i=Mp(o.outShape,"int32"),s=o.strideHeight,l=o.strideWidth,c=o.dilationHeight,u=o.dilationWidth,p=o.effectiveFilterHeight,d=o.effectiveFilterWidth,m=o.padInfo.top,f=o.padInfo.left,h=Mp(t,n,e);for(let e=0;e<o.batchSize;++e)for(let t=0;t<o.inChannels;++t)for(let n=0;n<o.outHeight;++n){const y=n*s-m;let g=y;for(;g<0;)g+=c;const b=Math.min(o.inHeight,p+y);for(let s=0;s<o.outWidth;++s){const p=s*l-f;let m=p;for(;m<0;)m+=u;const v=Math.min(o.inWidth,d+p);let w=Number.NEGATIVE_INFINITY,k=-1;for(let n=g;n<b;n+=c){const i=n-y;for(let s=m;s<v;s+=u){const l=s-p,c=h.get(e,n,s,t);c>w&&(w=c,k=r?a?((e*o.inHeight+n)*o.inWidth+s)*o.inChannels+t:(n*o.inWidth+s)*o.inChannels+t:i*d+l)}}i.set(k,e,n,s,t)}}return i}function fE(e,t,n,o,r,a){const i=r.strideDepth,s=r.strideHeight,l=r.strideWidth,c=r.dilationDepth,u=r.dilationHeight,p=r.dilationWidth,d=r.effectiveFilterDepth,m=r.effectiveFilterHeight,f=r.effectiveFilterWidth,h=r.padInfo.front,y=r.padInfo.top,g=r.padInfo.left,b="max"===a?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,v=Mp(r.outShape,n),w=v.values,k=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],x=r.outShape[2]*r.outShape[3]*r.outShape[4],S=r.outShape[3]*r.outShape[4],_=r.outShape[4];for(let t=0;t<r.batchSize;++t){const n=t*k,v=t*o[0];for(let t=0;t<r.inChannels;++t)for(let k=0;k<r.outDepth;++k){const I=k*i-h;let T=I;for(;T<0;)T+=c;const E=Math.min(r.inDepth,d+I),N=n+k*x;for(let n=0;n<r.outHeight;++n){const i=n*s-y;let d=i;for(;d<0;)d+=u;const h=Math.min(r.inHeight,m+i),k=N+n*S;for(let n=0;n<r.outWidth;++n){const i=n*l-g;let s=i;for(;s<0;)s+=p;const m=Math.min(r.inWidth,f+i),y=k+n*_;let x=b,S=0,I=0;for(let n=T;n<E;n+=c){const r=v+n*o[1];for(let n=d;n<h;n+=u){const i=r+n*o[2];for(let n=s;n<m;n+=p){const r=e[i+n*o[3]+t];if("max"===a&&r>x?x=r:"avg"===a&&(S+=r,I++),isNaN(x))break}if(isNaN(x))break}if(isNaN(x))break}w[y+t]="avg"===a?S/Math.max(I,1):x}}}}return v}const hE={kernelName:mi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t;Nk(r,"avgPool");const{filterSize:a,strides:i,pad:s,dimRoundingMode:l}=o;wa(bm(i,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${i} and dilations '1'`));const c=lm(r.shape,a,i,1,s,l);let u;if(1===c.filterWidth&&1===c.filterHeight&&_a(c.inShape,c.outShape))u=cT({inputs:{x:r},backend:n});else{const e=n.data.get(r.dataId).values,t=Fa(r.shape),o=dE(e,r.shape,r.dtype,t,c,"avg");u=n.makeTensorInfo(c.outShape,r.dtype,o.values)}return u}};const yE={kernelName:hi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{filterSize:a,strides:i,pad:s,dimRoundingMode:l,dataFormat:c}=o;Nk(r,"avgPool3d");const u=cm(r.shape,a,i,1,s,l,c),p=fE(n.data.get(r.dataId).values,r.shape,r.dtype,Fa(r.shape),u,"avg");return n.makeTensorInfo(p.shape,"float32",p.values)}};const gE={kernelName:yi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{dy:r,input:a}=t,{filterSize:i,strides:s,pad:l,dimRoundingMode:c}=o;Nk([r,a],"avgPool3DGrad");const u=cm(a.shape,i,s,1,l,c),p=u.strideDepth,d=u.strideHeight,m=u.strideWidth,f=u.filterDepth,h=u.filterHeight,y=u.filterWidth,g=u.dilationDepth,b=u.dilationHeight,v=u.dilationWidth,w=u.effectiveFilterDepth,k=u.effectiveFilterHeight,x=u.effectiveFilterWidth,S=w-1-u.padInfo.front,_=x-1-u.padInfo.left,I=k-1-u.padInfo.top,T=Mp(a.shape,"float32"),E=1/(f*h*y),N=n.bufferSync(r);for(let e=0;e<u.batchSize;++e)for(let t=0;t<u.inChannels;++t)for(let n=0;n<u.inDepth;++n)for(let o=0;o<u.inHeight;++o)for(let r=0;r<u.inWidth;++r){const a=n-S,i=o-I,s=r-_;let l=0;for(let n=0;n<w;n+=g){const o=(a+n)/p;if(!(o<0||o>=u.outDepth||Math.floor(o)!==o))for(let n=0;n<k;n+=b){const r=(i+n)/d;if(!(r<0||r>=u.outHeight||Math.floor(r)!==r))for(let n=0;n<x;n+=v){const a=(s+n)/m;if(a<0||a>=u.outWidth||Math.floor(a)!==a)continue;l+=N.get(e,o,r,a,t)}}}T.set(l*E,e,n,o,r,t)}return n.makeTensorInfo(T.shape,T.dtype,T.values)}};const bE={kernelName:fi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{dy:r,input:a}=t,i=a;Nk([r,a],"avgPoolGrad");const{filterSize:s,strides:l,pad:c}=o,u=lm(i.shape,s,l,1,c),p=u.strideHeight,d=u.strideWidth,m=u.filterHeight,f=u.filterWidth,h=u.dilationHeight,y=u.dilationWidth,g=u.effectiveFilterHeight,b=u.effectiveFilterWidth,v=b-1-u.padInfo.left,w=g-1-u.padInfo.top,k=Mp(i.shape,"float32"),x=1/(m*f),S=n.data.get(r.dataId).values,_=Mp(r.shape,"float32",S);for(let e=0;e<u.batchSize;++e)for(let t=0;t<u.inChannels;++t)for(let n=0;n<u.inHeight;++n)for(let o=0;o<u.inWidth;++o){const r=n-w,a=o-v;let i=0;for(let n=0;n<g;n+=h){const o=(r+n)/p;if(!(o<0||o>=u.outHeight||Math.floor(o)!==o))for(let n=0;n<b;n+=y){const r=(a+n)/d;if(r<0||r>=u.outWidth||Math.floor(r)!==r)continue;i+=_.get(e,o,r,t)}}k.set(i*x,e,n,o,t)}return n.makeTensorInfo(k.shape,k.dtype,k.values)}};const vE={kernelName:ls,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r,scale:a,offset:i,mean:s,variance:l}=t;wa(s.shape.length===l.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),wa(null==i||s.shape.length===i.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),wa(null==a||s.shape.length===a.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks.")),Nk([r,s,l,a,i],"batchNorm");let{varianceEpsilon:c}=o;null==c&&(c=.001);const u=n.data.get(r.dataId).values,p=n.data.get(s.dataId).values,d=n.data.get(l.dataId).values,m=a?n.data.get(a.dataId).values:new Float32Array([1]),f=i?n.data.get(i.dataId).values:new Float32Array([0]),h=new Float32Array(u.length),y=f.length,g=m.length,b=d.length,v=p.length;let w=0,k=0,x=0,S=0;for(let e=0;e<u.length;++e)h[e]=f[w++]+(u[e]-p[k++])*m[x++]/Math.sqrt(d[S++]+c),w>=y&&(w=0),k>=v&&(k=0),x>=g&&(x=0),S>=b&&(S=0);return n.makeTensorInfo(r.shape,r.dtype,h)}};const wE={kernelName:bi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{blockShape:a,crops:i}=o;Nk([r],"batchToSpaceND");const s=a.reduce(((e,t)=>e*t)),l=yb(r.shape,a,s),c=gb(l.length,a.length),u=bb(r.shape,a,s),p=vb(i,a.length),d=wb(u,i,a.length),m=PT({inputs:{x:r},backend:n,attrs:{shape:l}}),f=YT({inputs:{x:m},backend:n,attrs:{perm:c}}),h=PT({inputs:{x:f},backend:n,attrs:{shape:u}}),y=Ak({inputs:{x:h},backend:n,attrs:{begin:p,size:d}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),y}};function kE(e,t,n,o,r){const a=Sa(o),i=La(r,n);for(let n=0;n<e.length;n++){const o=e[n];if(o<0)throw new Error("Input x must be non-negative!");o>=r||(i[o]+=a>0?t[n]:1)}return i}const xE={kernelName:vi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r,weights:a}=t,{size:i}=o,s=kE(n.data.get(r.dataId).values,n.data.get(a.dataId).values,a.dtype,a.shape,i);return n.makeTensorInfo([i],a.dtype,s)}},SE=mT(((e,t)=>e&t)),_E=MT(wi,SE),IE={kernelName:wi,backendName:"cpu",kernelFunc:_E};const TE={kernelName:ki,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:o,s1:r}=t,a=n.data.get(o.dataId).values,i=n.data.get(r.dataId).values,s=sd(Array.from(a),Array.from(i));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},EE=rT((e=>Math.ceil(e))),NE=iT(Si,EE),CE={kernelName:Si,backendName:"cpu",kernelFunc:NE},AE=aT(_i,((e,t)=>{const n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),ME={kernelName:_i,backendName:"cpu",kernelFunc:AE},OE={kernelName:Ti,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend,o=new Float32Array(Sa(t.shape)),r=n.data.get(t.dataId),a=r.complexTensorInfos.real,i=r.complexTensorInfos.imag,s=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values;for(let e=0;e<s.length;e++){const t=s[e],n=l[e];o[e]=Math.hypot(t,n)}return n.makeOutput(o,t.shape,"float32")}};function DE(e){const{inputs:t,backend:n}=e,{input:o}=t,r=n.data.get(o.dataId).complexTensorInfos.imag,a=n.data.get(r.dataId).values;return n.makeTensorInfo(r.shape,r.dtype,a)}const RE={kernelName:hs,backendName:"cpu",kernelFunc:DE};function FE(e){const{inputs:t,backend:n,attrs:o}=e,{axis:r}=o,a=Na(r,t[0].shape)[0],i=t.map((e=>e.shape));db(i,a);let s=mb(t.map((e=>e.shape)),a);if(0===Sa(s))return n.makeTensorInfo(s,t[0].dtype,[]);const l=t.filter((e=>Sa(e.shape)>0));if(1===l.length)return cT({inputs:{x:l[0]},backend:n});if("complex64"===l[0].dtype){const e=l.map((e=>ET({inputs:{input:e},backend:n}))),t=l.map((e=>DE({inputs:{input:e},backend:n}))),o=FE({inputs:e,backend:n,attrs:{axis:a}}),r=FE({inputs:t,backend:n,attrs:{axis:a}}),i=_T({inputs:{real:o,imag:r},backend:n});return e.forEach((e=>n.disposeIntermediateTensorInfo(e))),t.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(r),i}const c=l.map((e=>{const t=Sa(e.shape.slice(a));return PT({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),u=c.map((e=>({vals:n.data.get(e.dataId).values,shape:e.shape})));s=mb(c.map((e=>e.shape)),1);const p=1===c[0].shape[0],d=Hk(u,s,t[0].dtype,p),m=mb(l.map((e=>e.shape)),a),f=n.makeTensorInfo(m,t[0].dtype,d);return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),f}const zE={kernelName:Ei,backendName:"cpu",kernelFunc:FE};function PE(e){const{inputs:t,backend:n,attrs:o}=e,{x:r,filter:a}=t,{strides:i,pad:s,dataFormat:l,dilations:c,dimRoundingMode:u}=o;Nk([r,a],"conv2d");const p=wm(l),d=um(r.shape,a.shape,i,c,s,u,!1,p),m=d.filterHeight,f=d.filterWidth,h=d.dilationHeight,y=d.dilationWidth,g=d.padInfo.left,b=d.padInfo.top,v="channelsLast"===d.dataFormat,w=new Xc(d.outShape,r.dtype),k=Fa(r.shape),x=Fa(a.shape),S=k[0],_=v?k[1]:k[2],I=v?k[2]:1,T=v?1:k[1],E=w.strides[0],N=v?w.strides[1]:w.strides[2],C=v?w.strides[2]:1,A=v?1:w.strides[1],M=n.data.get(r.dataId).values,O=n.data.get(a.dataId).values,D=w.values;for(let e=0;e<d.batchSize;++e){const t=e*S,n=e*E;for(let e=0;e<d.outHeight;++e){const o=n+e*N,r=e*d.strideHeight-b;for(let e=0;e<m;++e){const n=r+e*h;if(n<0||n>=d.inHeight)continue;const a=e*x[0],i=t+n*_;for(let e=0;e<d.outWidth;++e){const t=o+e*C,n=e*d.strideWidth-g;for(let e=0;e<f;++e){const o=n+e*y;if(o<0||o>=d.inWidth)continue;const r=i+o*I;let s=a+e*x[1];for(let e=0;e<d.inChannels;++e){const n=M[r+e*T];for(let e=0;e<d.outChannels;++e)D[t+e*A]+=n*O[s+e];s+=d.outChannels}}}}}}return n.makeTensorInfo(w.shape,w.dtype,D)}const $E={kernelName:Ni,backendName:"cpu",kernelFunc:PE};const LE={kernelName:Ci,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r,dy:a}=t,{strides:i,pad:s,dataFormat:l,dimRoundingMode:c,filterShape:u}=o;Nk([r,a],"conv2dBackpropFilter");const p=wm(l),d=um(r.shape,u,i,1,s,c,!1,p),{strideHeight:m,strideWidth:f,filterHeight:h,filterWidth:y}=d,g="channelsLast"===d.dataFormat,b=new Xc(d.filterShape,"float32"),v=d.padInfo.left,w=d.padInfo.top,k=n.data.get(r.dataId).values,x=n.data.get(a.dataId).values,S=new Xc(r.shape,r.dtype,k),_=new Xc(a.shape,a.dtype,x);for(let e=0;e<h;++e){const t=Math.max(0,Math.ceil((w-e)/m)),n=Math.min(d.outHeight,(d.inHeight+w-e)/m);for(let o=0;o<y;++o){const r=Math.max(0,Math.ceil((v-o)/f)),a=Math.min(d.outWidth,(d.inWidth+v-o)/f);for(let i=0;i<d.inChannels;++i)for(let s=0;s<d.outChannels;++s){let l=0;for(let c=0;c<d.batchSize;++c)for(let u=t;u<n;++u){const t=e+u*m-w;for(let e=r;e<a;++e){const n=o+e*f-v;l+=g?S.get(c,t,n,i)*_.get(c,u,e,s):S.get(c,i,t,n)*_.get(c,s,u,e)}}b.set(l,e,o,i,s)}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};const BE={kernelName:Ai,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{dy:r,filter:a}=t,{inputShape:i,strides:s,pad:l,dataFormat:c,dimRoundingMode:u}=o;Nk([r,a],"conv2dBackpropInput");const p=Fa(a.shape),d=Fa(r.shape);let m=wm(c);const f=um(i,a.shape,s,1,l,u,!1,m),h=new Xc(f.inShape,"float32"),y=h.values,g=n.data.get(r.dataId).values,b=n.data.get(a.dataId).values,[v,w,k]=p,{batchSize:x,filterHeight:S,filterWidth:_,inChannels:I,inHeight:T,inWidth:E,outChannels:N,outHeight:C,outWidth:A,strideHeight:M,strideWidth:O}=f;m=f.dataFormat;const D=S-1-f.padInfo.top,R=_-1-f.padInfo.left,F="channelsLast"===m,z=h.strides[0],P=F?h.strides[1]:h.strides[2],$=F?h.strides[2]:1,L=F?1:h.strides[1],B=d[0],j=F?d[1]:d[2],W=F?d[2]:1,U=F?1:d[1];for(let e=0;e<x;++e)for(let t=0;t<I;++t)for(let n=0;n<T;++n){const o=n-D,r=Math.max(0,Math.ceil(o/M)),a=Math.min(C,(S+o)/M);for(let i=0;i<E;++i){const s=i-R,l=Math.max(0,Math.ceil(s/O)),c=Math.min(A,(_+s)/O);let u=0;for(let n=r;n<a;++n){const r=n*M-o;for(let o=l;o<c;++o){const a=B*e+j*n+W*o,i=v*(S-1-r)+w*(_-1-(o*O-s))+k*t;for(let e=0;e<N;++e){u+=g[a+U*e]*b[i+e]}}}y[z*e+P*n+$*i+L*t]=u}}return n.makeTensorInfo(h.shape,h.dtype,h.values)}};const jE={kernelName:Mi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r,filter:a}=t,{strides:i,pad:s,dilations:l}=o;Nk([r,a],"conv3d");const c=pm(r.shape,a.shape,i,l,s),{filterDepth:u,filterHeight:p,filterWidth:d,dilationDepth:m,dilationHeight:f,dilationWidth:h,padInfo:y}=c,g=y.front,b=y.left,v=y.top,w=new Xc(c.outShape,r.dtype),k=n.data.get(r.dataId).values,x=n.data.get(a.dataId).values,S=w.values,_=Fa(r.shape),I=Fa(a.shape);for(let e=0;e<c.batchSize;++e){const t=e*_[0],n=e*w.strides[0];for(let e=0;e<c.outDepth;++e){const o=n+e*w.strides[1],r=e*c.strideDepth-g;for(let e=0;e<u;++e){const n=r+e*m;if(n<0||n>=c.inDepth)continue;const a=e*I[0],i=t+n*_[1];for(let e=0;e<c.outHeight;++e){const t=o+e*w.strides[2],n=e*c.strideHeight-v;for(let e=0;e<p;++e){const o=n+e*f;if(o<0||o>=c.inHeight)continue;const r=a+e*I[1],s=i+o*_[2];for(let e=0;e<c.outWidth;++e){const n=t+e*c.outChannels,o=e*c.strideWidth-b;for(let e=0;e<d;++e){const t=o+e*h;if(t<0||t>=c.inWidth)continue;const a=r+e*I[2],i=s+t*c.inChannels;let l=a;for(let e=0;e<c.inChannels;++e){const t=k[i+e];for(let e=0;e<c.outChannels;++e)S[n+e]+=t*x[l+e];l+=c.outChannels}}}}}}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};const WE={kernelName:Oi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r,dy:a}=t,{strides:i,pad:s,filterShape:l}=o;Nk([r,a],"conv3dBackpropFilterV2");const c=Fa(r.shape),u=Fa(a.shape),p=pm(r.shape,l,i,1,s),d=p.strideDepth,m=p.strideHeight,f=p.strideWidth,h=p.filterDepth,y=p.filterHeight,g=p.filterWidth,b=new Xc(p.filterShape,"float32"),v=b.values,[w,k,x,S]=b.strides,_=n.data.get(a.dataId).values,[I,T,E,N]=u,C=n.data.get(r.dataId).values,[A,M,O,D]=c,R=p.padInfo.front,F=p.padInfo.left,z=p.padInfo.top;for(let e=0;e<h;++e){const t=Math.max(0,Math.ceil((R-e)/d)),n=Math.min(p.outDepth,(p.inDepth+R-e)/d),o=e*w;for(let r=0;r<y;++r){const a=Math.max(0,Math.ceil((z-r)/m)),i=Math.min(p.outHeight,(p.inHeight+z-r)/m),s=r*k+o;for(let o=0;o<g;++o){const l=Math.max(0,Math.ceil((F-o)/f)),c=Math.min(p.outWidth,(p.inWidth+F-o)/f),u=o*x+s;for(let s=0;s<p.inChannels;++s){const h=s*S+u;for(let u=0;u<p.outChannels;++u){let y=0;for(let h=0;h<p.batchSize;++h){const p=h*A,g=h*I;for(let h=t;h<n;++h){const t=(e+h*d-R)*M+p,n=h*T+g;for(let e=a;e<i;++e){const a=(r+e*m-z)*O+t,i=e*E+n;for(let e=l;e<c;++e){const t=e*N+i;y+=C[(o+e*f-F)*D+a+s]*_[t+u]}}}}v[h+u]=y}}}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};const UE={kernelName:Di,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{dy:r,filter:a}=t,{pad:i,strides:s,inputShape:l}=o;Nk([r],"conv3dBackpropInputV2");const c=Fa(r.shape),u=Fa(a.shape),p=pm(l,a.shape,s,1,i),d=new Xc(p.inShape,"float32"),m=d.values,[f,h,y,g]=d.strides,b=n.data.get(r.dataId).values,[v,w,k,x]=c,S=n.data.get(a.dataId).values,[_,I,T,E]=u,{batchSize:N,filterDepth:C,filterHeight:A,filterWidth:M,inChannels:O,inDepth:D,inHeight:R,inWidth:F,outChannels:z,outDepth:P,outHeight:$,outWidth:L,strideDepth:B,strideHeight:j,strideWidth:W}=p,U=C-1-p.padInfo.front,H=A-1-p.padInfo.top,V=M-1-p.padInfo.left;for(let e=0;e<N;++e)for(let t=0;t<O;++t)for(let n=0;n<D;++n){const o=n-U,r=Math.max(0,Math.ceil(o/B)),a=Math.min(P,(C+o)/B);for(let i=0;i<R;++i){const s=i-H,l=Math.max(0,Math.ceil(s/j)),c=Math.min($,(A+s)/j);for(let u=0;u<F;++u){const p=u-V,d=Math.max(0,Math.ceil(p/W)),N=Math.min(L,(M+p)/W);let O=0;for(let n=r;n<a;++n){const r=n*B-o;for(let o=l;o<c;++o){const a=o*j-s;for(let i=d;i<N;++i){const s=v*e+w*n+k*o+x*i,l=_*(C-1-r)+I*(A-1-a)+T*(M-1-(i*W-p))+E*t;for(let e=0;e<z;++e){O+=b[s+e]*S[l+e]}}}}m[f*e+h*n+y*i+g*u+t]=O}}}return n.makeTensorInfo(d.shape,d.dtype,d.values)}},HE=aT(Ri,(e=>Math.cos(e))),VE={kernelName:Ri,backendName:"cpu",kernelFunc:HE},qE=aT(Fi,(e=>Math.cosh(e))),GE={kernelName:Fi,backendName:"cpu",kernelFunc:qE};const KE={kernelName:$i,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{image:r,boxes:a,boxInd:i}=t,{cropSize:s,method:l,extrapolationValue:c}=o,[u,p,d,m]=r.shape,f=a.shape[0],[h,y]=s,g=Mp([f,h,y,m],"float32"),b=n.data.get(a.dataId).values,v=n.data.get(i.dataId).values,w=n.data.get(r.dataId).values,k=Fa(r.shape),x=Fa(g.shape);for(let e=0;e<f;e++){const t=4*e,n=b[t],o=b[t+1],r=b[t+2],a=b[t+3],i=v[e];if(i>=u)continue;const s=h>1?(r-n)*(p-1)/(h-1):0,f=y>1?(a-o)*(d-1)/(y-1):0;for(let t=0;t<h;t++){const u=h>1?n*(p-1)+t*s:.5*(n+r)*(p-1);if(u<0||u>p-1)for(let n=0;n<y;n++)for(let o=0;o<m;o++){const r=o+n*x[2]+t*x[1]+e*x[0];g.values[r]=c}else if("bilinear"===l){const n=Math.floor(u),r=Math.ceil(u),s=u-n;for(let l=0;l<y;l++){const u=y>1?o*(d-1)+l*f:.5*(o+a)*(d-1);if(u<0||u>d-1){for(let n=0;n<m;n++){const o=n+l*x[2]+t*x[1]+e*x[0];g.values[o]=c}continue}const p=Math.floor(u),h=Math.ceil(u),b=u-p;for(let o=0;o<m;o++){let a=o+p*k[2]+n*k[1]+i*k[0];const c=w[a];a=o+h*k[2]+n*k[1]+i*k[0];const u=w[a];a=o+p*k[2]+r*k[1]+i*k[0];const d=w[a];a=o+h*k[2]+r*k[1]+i*k[0];const m=c+(u-c)*b,f=d+(w[a]-d)*b;a=o+l*x[2]+t*x[1]+e*x[0],g.values[a]=m+(f-m)*s}}}else for(let n=0;n<y;++n){const r=y>1?o*(d-1)+n*f:.5*(o+a)*(d-1);if(r<0||r>d-1){for(let o=0;o<m;o++){const r=o+n*x[2]+t*x[1]+e*x[0];g.values[r]=c}continue}const s=Math.round(r),l=Math.round(u);for(let o=0;o<m;o++){const r=o+s*k[2]+l*k[1]+i*k[0],a=o+n*x[2]+t*x[1]+e*x[0];g.values[a]=w[r]}}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};const YE={kernelName:zi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{axis:a,exclusive:i,reverse:s}=o;Nk(r,"cumprod");const l=kf([a],r.shape.length);let c=r;null!=l&&(c=YT({inputs:{x:r},backend:n,attrs:{perm:l}}));const u=Sf(1,r.shape.length)[0];if(u!==c.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${c.shape.length-1} but got axis=${u}`);const p=lu(c.dtype,"int32"),d=$a(Sa(c.shape),p),m=n.data.get(c.dataId).values,f=c.shape[c.shape.length-1],h=s?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let e=0;e<m.length;e+=f)for(let t=0;t<f;t++){const n=h(e,t);if(0===t)d[n]=i?1:m[n];else{const o=h(e,t-1);d[n]=i?m[o]*d[o]:m[n]*d[o]}}const y=n.makeTensorInfo(c.shape,p,d);if(null!=l){const e=YT({inputs:{x:y},backend:n,attrs:{perm:xf(l)}});return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(c),e}return y}};const XE={kernelName:Pi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{axis:a,exclusive:i,reverse:s}=o;Nk(r,"cumsum");const l=kf([a],r.shape.length);let c=r;null!=l&&(c=YT({inputs:{x:r},backend:n,attrs:{perm:l}}));const u=Sf(1,r.shape.length)[0];if(u!==c.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${c.shape.length-1} but got axis=${u}`);const p=lu(c.dtype,"int32"),d=La(Sa(c.shape),p),m=n.data.get(c.dataId).values,f=c.shape[c.shape.length-1],h=s?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let e=0;e<m.length;e+=f)for(let t=0;t<f;t++){const n=h(e,t);if(0===t)d[n]=i?0:m[n];else{const o=h(e,t-1);d[n]=i?m[o]+d[o]:m[n]+d[o]}}const y=n.makeTensorInfo(c.shape,p,d);if(null!=l){const e=YT({inputs:{x:y},backend:n,attrs:{perm:xf(l)}});return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(c),e}return y}};const JE={kernelName:Li,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r,weights:a}=t,{size:i,binaryOutput:s}=o;if(1===r.shape.length){const e=kE(n.data.get(r.dataId).values,n.data.get(a.dataId).values,a.dtype,a.shape,i);return n.makeTensorInfo([i],a.dtype,e)}if(2===r.shape.length){const e=function(e,t,n,o=!1){const r=e.shape[0],a=e.shape[1],i=Mp([r,n],t.dtype);for(let s=0;s<r;s++)for(let r=0;r<a;r++){const a=e.get(s,r);if(a<0)throw new Error("Input x must be non-negative!");a>=n||(o?i.set(1,s,a):t.size>0?i.set(i.get(s,a)+t.get(s,r),s,a):i.set(i.get(s,a)+1,s,a))}return i}(n.bufferSync(r),n.bufferSync(a),i,s);return n.makeTensorInfo(e.shape,a.dtype,e.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${r.shape.length}.`)}};const ZE={kernelName:Bi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{blockSize:a,dataFormat:i}=o;wa("NHWC"===i,(()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${i}`));const s=r.shape[0],l=r.shape[1],c=r.shape[2],u=r.shape[3],p=l*a,d=c*a,m=u/(a*a),f=n.data.get(r.dataId).values,h=new Float32Array(s*p*d*m);let y=0;for(let e=0;e<s;++e)for(let t=0;t<p;++t){const n=Math.floor(t/a),o=t%a;for(let t=0;t<d;++t){const r=Math.floor(t/a),i=(o*a+t%a)*m;for(let t=0;t<m;++t){const o=t+i+u*(r+c*(n+l*e));h[y++]=f[o]}}}return n.makeTensorInfo([s,p,d,m],r.dtype,h)}};function QE(e){const{inputs:t,backend:n,attrs:o}=e,{x:r,filter:a}=t,{strides:i,pad:s,dilations:l,dimRoundingMode:c}=o;Nk([r,a],"depthwiseConv2DNative");const u=Fa(r.shape),p=Fa(a.shape);let d=l;null==d&&(d=[1,1]),wa(bm(i,d),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${i} and dilations '${d}'`));const m=um(r.shape,a.shape,i,d,s,c,!0),{filterHeight:f,filterWidth:h,dilationHeight:y,dilationWidth:g,padInfo:b}=m,v=b.left,w=b.top,k=m.outChannels/m.inChannels,x=new Xc(m.outShape,r.dtype),S=n.data.get(r.dataId).values,_=n.data.get(a.dataId).values,I=x.values;for(let e=0;e<m.batchSize;++e){const t=e*u[0],n=e*x.strides[0];for(let e=0;e<m.outHeight;++e){const o=n+e*x.strides[1],r=e*m.strideHeight-w;for(let e=0;e<f;++e){const n=r+e*y;if(n<0||n>=m.inHeight)continue;const a=e*p[0],i=t+n*u[1];for(let e=0;e<m.outWidth;++e){const t=o+e*x.strides[2],n=e*m.strideWidth-v;for(let e=0;e<h;++e){const o=n+e*g;if(o<0||o>=m.inWidth)continue;const r=a+e*p[1],s=i+o*m.inChannels;let l=t,c=r;for(let e=0;e<m.inChannels;++e){const t=S[s+e];for(let e=0;e<k;++e)I[l+e]+=t*_[c+e];l+=k,c+=k}}}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}const eN={kernelName:ji,backendName:"cpu",kernelFunc:QE};const tN={kernelName:Wi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r,dy:a}=t,{strides:i,dilations:s,pad:l,dimRoundingMode:c,filterShape:u}=o;Nk([r,a],"depthwiseConv2dNativeBackpropFilter");const p=um(r.shape,u,i,s,l,c,!0),{strideHeight:d,strideWidth:m,filterHeight:f,filterWidth:h}=p,y=new Xc(p.filterShape,"float32"),g=p.padInfo.left,b=p.padInfo.top,v=p.outChannels/p.inChannels,w=n.data.get(r.dataId).values,k=new Xc(r.shape,r.dtype,w),x=n.data.get(a.dataId).values,S=new Xc(a.shape,a.dtype,x);for(let e=0;e<f;++e){const t=Math.max(0,Math.ceil((b-e)/d)),n=Math.min(p.outHeight,(p.inHeight+b-e)/d);for(let o=0;o<h;++o){const r=Math.max(0,Math.ceil((g-o)/m)),a=Math.min(p.outWidth,(p.inWidth+g-o)/m);for(let i=0;i<p.outChannels;++i){const s=Math.trunc(i/v),l=i%v;let c=0;for(let l=0;l<p.batchSize;++l)for(let u=t;u<n;++u){const t=e+u*d-b;for(let e=r;e<a;++e){const n=o+e*m-g;c+=k.get(l,t,n,s)*S.get(l,u,e,i)}}y.set(c,e,o,s,l)}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};const nN={kernelName:Ui,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{dy:r,filter:a}=t,{strides:i,dilations:s,pad:l,dimRoundingMode:c,inputShape:u}=o;Nk([r,a],"depthwiseConv2DNativeBackpropInput");const p=Fa(r.shape),d=Fa(a.shape),m=um(u,a.shape,i,s,l,c,!0),f=new Xc(m.inShape,"float32"),h=f.values,[y,g,b]=f.strides,v=n.data.get(r.dataId).values,[w,k,x]=p,S=n.data.get(a.dataId).values,[_,I,T]=d,{batchSize:E,filterHeight:N,filterWidth:C,inChannels:A,inHeight:M,inWidth:O,outChannels:D,outHeight:R,outWidth:F,strideHeight:z,strideWidth:P}=m,$=N-1-m.padInfo.top,L=C-1-m.padInfo.left,B=D/A;for(let e=0;e<E;++e)for(let t=0;t<A;++t)for(let n=0;n<M;++n){const o=n-$,r=Math.max(0,Math.ceil(o/z)),a=Math.min(R,(N+o)/z);for(let i=0;i<O;++i){const s=i-L,l=Math.max(0,Math.ceil(s/P)),c=Math.min(F,(C+s)/P);let u=0;for(let n=r;n<a;++n){const r=n*z-o;for(let o=l;o<c;++o){const a=w*e+k*n+x*o,i=_*(N-1-r)+I*(C-1-(o*P-s))+T*t;for(let e=0;e<B;++e){u+=v[a+(t*B+e)]*S[i+e]}}}h[y*e+g*n+b*i+t]=u}}return n.makeTensorInfo(f.shape,f.dtype,f.values)}};const oN={kernelName:Hi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:o}=t,r=Sa(o.shape),a=n.data.get(o.dataId).values,i=Mp([r,r],o.dtype),s=i.values;for(let e=0;e<a.length;e++)s[e*r+e]=a[e];const l=[...o.shape,...o.shape];return n.makeTensorInfo(l,i.dtype,i.values)}},rN={kernelName:Vi,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:o,filter:r}=e,{strides:a,pad:i,dilations:s}=n,l=t,c=l.data.get(o.dataId).values,u=o.shape.length,p=l.data.get(r.dataId).values,d=r.shape.length,{batchSize:m,inHeight:f,inWidth:h,inChannels:y,outHeight:g,outWidth:b,padInfo:v,strideHeight:w,strideWidth:k,filterHeight:x,filterWidth:S,dilationHeight:_,dilationWidth:I,outShape:T}=sm(o.shape,r.shape,a,i,"NHWC",s),E=Sa(T),N=T.length,C=Aa(o.dtype,E);for(let e=0;e<m;++e)for(let t=0;t<g;++t){const n=t*w-v.top;for(let a=0;a<b;++a){const i=a*k-v.left;for(let s=0;s<y;++s){let l=Number.MIN_SAFE_INTEGER;for(let t=0;t<x;++t){const a=n+t*_;if(a>=0&&a<f)for(let n=0;n<S;++n){const m=i+n*I;if(m>=0&&m<h){const i=Wa([e,a,m,s],u,Fa(o.shape)),f=Wa([t,n,s],d,Fa(r.shape)),h=c[i]+p[f];h>l&&(l=h)}}}C[Wa([e,t,a,s],N,Fa(T))]=l}}}return{dataId:l.write(Dc(C,o.dtype),T,o.dtype),shape:T,dtype:o.dtype}}},aN={kernelName:Gi,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:o,filter:r,dy:a}=e,{strides:i,pad:s,dilations:l}=n,c=t,u=Pa(o.shape,c.data.get(o.dataId).values),p=Pa(r.shape,c.data.get(r.dataId).values),{batchSize:d,inHeight:m,inWidth:f,inChannels:h,outHeight:y,outWidth:g,padInfo:b,strideHeight:v,strideWidth:w,filterHeight:k,filterWidth:x,dilationHeight:S,dilationWidth:_,outShape:I}=sm(o.shape,r.shape,i,s,"NHWC",l);wa(a.rank===I.length,(()=>`Error in ${Gi}, dy must have the same rank as output ${I.length}, but got ${a.rank}`));const T=Pa(I,c.data.get(a.dataId).values),E=Ba(r.shape,r.dtype);for(let e=0;e<d;++e)for(let t=0;t<y;++t){const n=t*v-b.top;for(let o=0;o<g;++o){const r=o*w-b.left;for(let a=0;a<h;++a){let i=Number.MIN_SAFE_INTEGER,s=0,l=0;for(let t=0;t<k;++t){const o=n+t*S;if(o>=0&&o<m)for(let n=0;n<x;++n){const c=r+n*_;if(c>=0&&c<f){const r=u[e][o][c][a]+p[t][n][a];r>i&&(i=r,s=t,l=n)}}}E[s][l][a]+=T[e][t][o][a]}}}return{dataId:c.write(Dc(E,o.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},iN={kernelName:qi,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:o,filter:r,dy:a}=e,{strides:i,pad:s,dilations:l}=n,c=t,u=Pa(o.shape,c.data.get(o.dataId).values),p=Pa(r.shape,c.data.get(r.dataId).values),{batchSize:d,inHeight:m,inWidth:f,inChannels:h,outHeight:y,outWidth:g,padInfo:b,strideHeight:v,strideWidth:w,filterHeight:k,filterWidth:x,dilationHeight:S,dilationWidth:_,outShape:I}=sm(o.shape,r.shape,i,s,"NHWC",l);wa(a.rank===I.length,(()=>`Error in ${qi}, dy must have the same rank as output ${I.length}, but got ${a.rank}`));const T=Pa(I,c.data.get(a.dataId).values),E=Ba(o.shape,o.dtype);for(let e=0;e<d;++e)for(let t=0;t<y;++t){const n=t*v-b.top;for(let o=0;o<g;++o){const r=o*w-b.left;for(let a=0;a<h;++a){let i=Number.MIN_SAFE_INTEGER,s=n<0?0:n,l=r<0?0:r;for(let t=0;t<k;++t){const o=n+t*S;if(o>=0&&o<m)for(let n=0;n<x;++n){const c=r+n*_;if(c>=0&&c<f){const r=u[e][o][c][a]+p[t][n][a];r>i&&(i=r,s=o,l=c)}}}E[e][s][l][a]+=T[e][t][o][a]}}}return{dataId:c.write(Dc(E,o.dtype),o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}};const sN={kernelName:Ki,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{image:r}=t,{canvas:a,options:i}=o,{contextOptions:s,imageOptions:l}=i||{},c=(null==l?void 0:l.alpha)||1,u=(null==s?void 0:s.contextType)||"2d";if("2d"!==u)throw new Error(`Context type ${s.contextType} is not supported by the CPU backend.`);const p=a.getContext(u,(null==s?void 0:s.contextAttributes)||{});if(null==p)throw new Error(`Could not get the context with ${u} type.`);const[d,m]=r.shape.slice(0,2),f=2===r.shape.length?1:r.shape[2],h=n.data.get(r.dataId).values,y="float32"===r.dtype?255:1,g=new Uint8ClampedArray(m*d*4);for(let e=0;e<d*m;++e){const t=[0,0,0,255*c];for(let n=0;n<f;n++){const o=h[e*f+n];if("float32"===r.dtype){if(o<0||o>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${o}.`)}else if("int32"===r.dtype&&(o<0||o>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${o}.`);1===f?(t[0]=o*y,t[1]=o*y,t[2]=o*y):t[n]=o*y}const n=4*e;g[n+0]=Math.round(t[0]),g[n+1]=Math.round(t[1]),g[n+2]=Math.round(t[2]),g[n+3]=Math.round(t[3])}a.width=m,a.height=d;const b=new ImageData(g,m,d);return p.putImageData(b,0,0),r}},lN=mT(((e,t)=>e*t)),cN=OT(((e,t,n,o)=>({real:e*n-t*o,imag:e*o+t*n}))),uN=MT(Us,lN,cN),pN={kernelName:Us,backendName:"cpu",kernelFunc:uN};function dN(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{axis:a,keepDims:i}=o;let s;Nk(r,"sum"),s="bool"===r.dtype?CT({inputs:{x:r},backend:n,attrs:{dtype:"int32"}}):cT({inputs:{x:r},backend:n});const l=s.shape.length,c=Na(a,s.shape),u=kf(c,l);let p=c,d=s;null!=u&&(d=YT({inputs:{x:s},backend:n,attrs:{perm:u}}),p=Sf(p.length,l)),wf("sum",p,d.shape.length);const[m,f]=bf(d.shape,p);let h=TT(n,m,lu(d.dtype,"int32"));const y=Sa(f),g=n.data.get(h.dataId).values,b=n.data.get(d.dataId).values;for(let e=0;e<g.length;++e){const t=e*y;let n=0;for(let e=0;e<y;++e)n+=b[t+e];g[e]=n}if(i){const e=h;h=PT({inputs:{x:h},backend:n,attrs:{shape:vf(h.shape,c)}}),n.disposeIntermediateTensorInfo(e)}return n.disposeIntermediateTensorInfo(s),null!=u&&n.disposeIntermediateTensorInfo(d),h}const mN={kernelName:Al,backendName:"cpu",kernelFunc:dN};const fN={kernelName:Xi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{equation:r}=o,a=t,{allDims:i,summedDims:s,idDims:l}=function(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(Tb,"").length)/Ib.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${Ib}").`);const[o,r]=e.split(Ib);wa(-1===o.indexOf(Nb),(()=>`The ellipsis notation ("${Nb}") is not supported yet.`));const a=o.split(Eb),i=a.length;if(t!==i)throw new Error(`Expected ${i} input tensors, received ${t}`);if(i>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const s=[];for(let e=0;e<r.length;++e){const t=r[e];if(!a.some((e=>-1!==e.indexOf(t))))throw new Error(`Output subscripts contain the label ${t} not present in the input subscripts.`);-1===s.indexOf(t)&&s.push(t)}for(let e=0;e<o.length;++e){const t=o[e];-1===s.indexOf(t)&&t!==Eb&&s.push(t)}const l=new Array(a.length);for(let e=0;e<i;++e){if(new Set(a[e].split("")).size!==a[e].length)throw new Error(`Found duplicate axes in input component ${a[e]}. Support for duplicate axes in input is not implemented yet.`);l[e]=[];for(let t=0;t<a[e].length;++t)l[e].push(s.indexOf(a[e][t]))}const c=s.length,u=[];for(let e=r.length;e<c;++e)u.push(e);return{allDims:s,summedDims:u,idDims:l}}(r,a.length);!function(e,t,n){const o=new Array(e);for(let e=0;e<n.length;++e){const r=n[e].shape;for(let n=0;n<t[e].length;++n)void 0===o[t[e][n]]?o[t[e][n]]=r[n]:wa(o[t[e][n]]===r[n],(()=>`Expected dimension ${o[t[e][n]]} at axis ${n} of input shaped ${JSON.stringify(r)}, but got dimension ${r[n]}`))}}(i.length,l,a);const{path:c,steps:u}=function(e,t){const n=e,o=[];let r=0;0===e.length&&n.push(-1),r=e.length+1;for(let e=0;e<r;++e)o.push([]);const a=[];for(let e=0;e<n.length;++e){const r=Mb(t,n[e]);for(const t of r)-1===a.indexOf(t)&&(o[e].push(t),a.push(t))}return{path:n,steps:o}}(s,l),p=u.length;let d=null,m=i.length;const f=[];for(let e=0;e<p;++e){for(const t of u[e]){const{permutationIndices:e,expandDims:o}=Cb(m,l[t]);let r;Ab(e)?r=a[t]:(r=YT({inputs:{x:a[t]},backend:n,attrs:{perm:e}}),f.push(r));const i=r.shape.slice();for(let e=0;e<o.length;++e)i.splice(o[e],0,1);_a(r.shape,i)||(r=PT({inputs:{x:r},backend:n,attrs:{shape:i}}),f.push(r)),null===d?d=r:(d=uN({inputs:{a:r,b:d},backend:n}),f.push(d))}e<p-1&&(c[e]>=0&&(d=dN({inputs:{x:d},backend:n,attrs:{axis:c[e]-(i.length-m),keepDims:!1}}),f.push(d)),m--)}for(const e of f)e!==d&&n.disposeIntermediateTensorInfo(e);return d}};const hN={kernelName:Zi,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{dy:o,y:r}=t;Nk([o,r],"eluGrad");const a=new Float32Array(Sa(r.shape)),i=n.data.get(r.dataId).values,s=n.data.get(o.dataId).values;for(let e=0;e<i.length;++e){const t=i[e];a[e]=t>=0?s[e]:s[e]*(t+1)}return n.makeTensorInfo(r.shape,"float32",a)}},yN=mT(((e,t)=>e===t?1:0)),gN=MT(es,yN,null,"bool"),bN={kernelName:es,backendName:"cpu",kernelFunc:gN},vN=aT(Qi,(e=>{const t=Math.sign(e),n=Math.abs(e),o=1/(1+.3275911*n);return t*(1-((((1.061405429*o-1.453152027)*o+1.421413741)*o-.284496736)*o+.254829592)*o*Math.exp(-n*n))})),wN={kernelName:Qi,backendName:"cpu",kernelFunc:vN},kN=rT((e=>Math.exp(e))),xN=iT(ts,kN,"float32"),SN={kernelName:ts,backendName:"cpu",kernelFunc:xN};function _N(e){const{inputs:t,backend:n,attrs:o}=e,{input:r}=t,{dim:a}=o,i=r.shape.length,s=r.shape.slice();let l=a;return a<0&&(wa(-(i+1)<=a,(()=>`Axis must be in the interval [${-(i+1)}, ${i}]`)),l=i+a+1),s.splice(l,0,1),PT({inputs:{x:r},backend:n,attrs:{shape:s}})}const IN={kernelName:ns,backendName:"cpu",kernelFunc:_N},TN=rT((e=>Math.expm1(e))),EN=iT(os,TN),NN={kernelName:os,backendName:"cpu",kernelFunc:EN},CN=mT(((e,t)=>e/t)),AN=MT(Yi,CN),MN={kernelName:Yi,backendName:"cpu",kernelFunc:AN},ON=mT(((e,t)=>e-t)),DN=OT(((e,t,n,o)=>({real:e-n,imag:t-o}))),RN=MT(ql,ON,DN),FN={kernelName:ql,backendName:"cpu",kernelFunc:RN};function zN(e,t,n){const o=e.shape,r=o[0],a=o[1],i=n.data.get(e.dataId),s=i.complexTensorInfos.real,l=i.complexTensorInfos.imag,c=[r,a],u=Sa(c),p=Ca("float32",u),d=Ca("float32",u);for(let e=0;e<r;e++){const o=Ak({inputs:{x:s},backend:n,attrs:{begin:[e,0],size:[1,a]}}),r=Ak({inputs:{x:l},backend:n,attrs:{begin:[e,0],size:[1,a]}}),i=_T({inputs:{real:o,imag:r},backend:n}),{real:c,imag:u}=PN(i,t,n),m=kb(c,u);for(let t=0;t<a;t++){const n=xb(m,t);p[e*a+t]=n.real,d[e*a+t]=n.imag}n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(i)}const m=n.makeTensorInfo(c,"float32",p),f=n.makeTensorInfo(c,"float32",d),h=_T({inputs:{real:m,imag:f},backend:n});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(f),h}function PN(e,t,n){const o=Sa(e.shape),r=n.data.get(e.dataId),a=n.data.get(r.complexTensorInfos.real.dataId).values,i=n.data.get(r.complexTensorInfos.imag.dataId).values;if((s=o)&s-1){const e=function(e,t,n){const o=new Float32Array(2*t);for(let r=0;r<t;r++){let a=0,i=0;for(let o=0;o<t;o++){const s=_b(r*o,t,n),l=xb(e,o);a+=l.real*s.real-l.imag*s.imag,i+=l.real*s.imag+l.imag*s.real}n&&(a/=t,i/=t),Sb(o,a,i,r)}return o}(kb(a,i),o,t);return function(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let o=0;o<e.length;o+=2)t[o/2]=e[o],n[o/2]=e[o+1];return{real:t,imag:n}}(e)}{const r=$N(a,i,o,t,n),s=[e.shape[0],e.shape[1]];if(t){const e=n.makeTensorInfo(s,"float32",r.real),t=n.makeTensorInfo(s,"float32",r.imag),a=n.makeTensorInfo([],"float32",Oc(o,"float32")),i=cT({inputs:{x:a},backend:n}),l=MN.kernelFunc({inputs:{a:e,b:a},backend:n}),c=MN.kernelFunc({inputs:{a:t,b:i},backend:n}),u=n.data.get(l.dataId).values,p=n.data.get(c.dataId).values;return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(c),{real:u,imag:p}}return r}var s}function $N(e,t,n,o,r){if(1===n)return{real:e,imag:t};const a=kb(e,t),i=n/2,s=function(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),o=new Float32Array(t);for(let t=0;t<e.length;t+=4)n[Math.floor(t/4)]=e[t],o[Math.floor(t/4)]=e[t+1];return{real:n,imag:o}}(a),l=s.real,c=s.imag,u=[l.length],p=r.makeTensorInfo(u,"float32",l),d=r.makeTensorInfo(u,"float32",c),m=_T({inputs:{real:p,imag:d},backend:r}),f=function(e){const t=Math.floor(e.length/4),n=new Float32Array(t),o=new Float32Array(t);for(let t=2;t<e.length;t+=4)n[Math.floor(t/4)]=e[t],o[Math.floor(t/4)]=e[t+1];return{real:n,imag:o}}(a),h=f.real,y=f.imag,g=[h.length],b=r.makeTensorInfo(g,"float32",h),v=r.makeTensorInfo(g,"float32",y),w=_T({inputs:{real:b,imag:v},backend:r}),k=$N(l,c,i,o,r),x=k.real,S=k.imag,_=[x.length],I=r.makeTensorInfo(_,"float32",x),T=r.makeTensorInfo(_,"float32",S),E=_T({inputs:{real:I,imag:T},backend:r}),N=$N(h,y,i,o,r),C=N.real,A=N.imag,M=[C.length],O=r.makeTensorInfo(M,"float32",C),D=r.makeTensorInfo(M,"float32",A),R=_T({inputs:{real:O,imag:D},backend:r}),F=function(e,t){const n=new Float32Array(e/2),o=new Float32Array(e/2);for(let r=0;r<Math.ceil(e/2);r++){const a=(t?2:-2)*Math.PI*(r/e);n[r]=Math.cos(a),o[r]=Math.sin(a)}return{real:n,imag:o}}(n,o),z=[F.real.length],P=r.makeTensorInfo(z,"float32",F.real),$=r.makeTensorInfo(z,"float32",F.imag),L=_T({inputs:{real:P,imag:$},backend:r}),B=uN({inputs:{a:L,b:R},backend:r}),j=FT({inputs:{a:E,b:B},backend:r}),W=RN({inputs:{a:E,b:B},backend:r}),U=ET({inputs:{input:j},backend:r}),H=ET({inputs:{input:W},backend:r}),V=DE({inputs:{input:j},backend:r}),q=DE({inputs:{input:W},backend:r}),G=FE({inputs:[U,H],backend:r,attrs:{axis:0}}),K=FE({inputs:[V,q],backend:r,attrs:{axis:0}}),Y=r.data.get(G.dataId).values,X=r.data.get(K.dataId).values;return r.disposeIntermediateTensorInfo(p),r.disposeIntermediateTensorInfo(d),r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(b),r.disposeIntermediateTensorInfo(v),r.disposeIntermediateTensorInfo(w),r.disposeIntermediateTensorInfo(I),r.disposeIntermediateTensorInfo(T),r.disposeIntermediateTensorInfo(E),r.disposeIntermediateTensorInfo(O),r.disposeIntermediateTensorInfo(D),r.disposeIntermediateTensorInfo(R),r.disposeIntermediateTensorInfo(P),r.disposeIntermediateTensorInfo($),r.disposeIntermediateTensorInfo(L),r.disposeIntermediateTensorInfo(B),r.disposeIntermediateTensorInfo(j),r.disposeIntermediateTensorInfo(W),r.disposeIntermediateTensorInfo(U),r.disposeIntermediateTensorInfo(V),r.disposeIntermediateTensorInfo(H),r.disposeIntermediateTensorInfo(q),r.disposeIntermediateTensorInfo(G),r.disposeIntermediateTensorInfo(K),{real:Y,imag:X}}const LN={kernelName:"FFT",backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:o}=t,r=Sa(o.shape),a=o.shape[o.shape.length-1],i=PT({inputs:{x:o},backend:n,attrs:{shape:[r/a,a]}}),s=zN(i,!1,n),l=PT({inputs:{x:s},backend:n,attrs:{shape:o.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),l}};function BN(e){const{backend:t,attrs:n}=e,{shape:o,value:r,dtype:a}=n,i=a||Da(r),s=Aa(i,Sa(o));return function(e,t){e.fill(t)}(s,r),t.makeTensorInfo(o,i,s)}const jN={kernelName:rs,backendName:"cpu",kernelFunc:BN};const WN={kernelName:as,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:o}=e,r=n,a=Ca(o.dtype,Sa(o.shape)),[i,s,l,c]=o.shape,u=r.data.get(o.dataId).values;for(let e=0;e<i;e++){const t=e*l*s*c;for(let e=0;e<s;e++){const n=e*(l*c);for(let e=0;e<l;e++){const o=e*c;for(let r=0;r<c;r++){const i=Math.round(l-e-1),s=t+n+o+r;let p=u[s];if(i>=0&&i<l){p=u[t+n+i*c+r]}a[s]=p}}}}return{dataId:r.write(a,o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}},UN=rT((e=>Math.floor(e))),HN=iT(is,UN),VN={kernelName:is,backendName:"cpu",kernelFunc:HN},qN=mT(((e,t)=>Math.floor(e/t))),GN=MT(ss,qN,null,"int32"),KN={kernelName:ss,backendName:"cpu",kernelFunc:GN};const YN={kernelName:sc,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r,filter:a,bias:i,preluActivationWeights:s}=t,{strides:l,pad:c,dataFormat:u,dilations:p,dimRoundingMode:d,activation:m,leakyreluAlpha:f}=o;let h=PE({inputs:{x:r,filter:a},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:p,dimRoundingMode:d}});if(i){const e=h;if("NCHW"===u&&1===i.shape.length&&1!==i.shape[0]){const e=PT({inputs:{x:i},backend:n,attrs:{shape:[i.shape[0],1,1]}});h=FT({inputs:{a:h,b:e},backend:n}),n.disposeIntermediateTensorInfo(e)}else h=FT({inputs:{a:h,b:i},backend:n});n.disposeIntermediateTensorInfo(e)}if(m){const e=h;if("NCHW"===u&&"prelu"===m&&1===s.shape.length&&1!==s.shape[0]){const e=PT({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});h=ST(n,h,m,e,f),n.disposeIntermediateTensorInfo(e)}else h=ST(n,h,m,s,f);n.disposeIntermediateTensorInfo(e)}return h}};const XN={kernelName:lc,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r,filter:a,bias:i,preluActivationWeights:s}=t,{strides:l,pad:c,dataFormat:u,dilations:p,dimRoundingMode:d,activation:m,leakyreluAlpha:f}=o;let h=QE({inputs:{x:r,filter:a},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:p,dimRoundingMode:d}});if(i){const e=h;h=FT({inputs:{a:h,b:i},backend:n}),n.disposeIntermediateTensorInfo(e)}if(m){const e=h;h=ST(n,h,m,s,f),n.disposeIntermediateTensorInfo(e)}return h}};const JN={kernelName:us,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:o,indices:r}=t,a=Sa(o.shape),i=r.shape,s=i[i.length-1],[l,c,u,p]=$d(o,r);if(0===c)return n.makeTensorInfo(l,o.dtype,[]);const d=function(e,t,n,o,r,a,i,s,l){const c=Mp([o,a],n);for(let n=0;n<o;n++){const o=[];let u=0;for(let t=0;t<r;t++){const a=e[n*r+t];u+=a*i[t],o.push(a)}if(u<0||u>=l/a)throw new Error(`Invalid indices: ${o} does not index into ${s}`);for(let e=0;e<a;e++)c.values[n*a+e]=t.get(...t.indexToLoc(u*a+e))}return c}(n.data.get(r.dataId).values,n.bufferSync(o),o.dtype,c,s,u,p,o.shape,a);return n.makeTensorInfo(l,o.dtype,d.values)}};const ZN={kernelName:cs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r,indices:a}=t,{axis:i,batchDims:s}=o;Nk([r,a],"gatherV2");const l=Na(i,r.shape)[0],c=n.data.get(a.dataId).values,u=r.shape[l];for(let e=0;e<c.length;++e){const t=c[e];wa(t<=u-1&&t>=0,(()=>`GatherV2: the index value ${t} is not in [0, ${u-1}]`))}let p=s;null==s&&(p=0);const d=Sa(a.shape),m=Wb(r,a,l,p),f=PT({inputs:{x:r},backend:n,attrs:{shape:[m.batchSize,m.outerSize,m.dimSize,m.sliceSize]}}),h=PT({inputs:{x:a},backend:n,attrs:{shape:[m.batchSize,d/m.batchSize]}}),y=[m.batchSize,m.outerSize,d/m.batchSize,m.sliceSize],g=n.bufferSync(h),b=function(e,t,n){const o=Mp(n,e.dtype);for(let n=0;n<o.size;++n){const r=o.indexToLoc(n).slice(),a=r[0],i=r[2],s=t.locToIndex([a,i]);r[2]=t.values[s];const l=e.locToIndex(r);0<=l&&l<e.values.length&&(o.values[n]=e.values[l])}return o}(n.bufferSync(f),g,y);return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),n.makeTensorInfo(m.outputShape,b.dtype,b.values)}},QN=mT(((e,t)=>e>t?1:0)),eC=MT(ps,QN,null,"bool"),tC={kernelName:ps,backendName:"cpu",kernelFunc:eC},nC=mT(((e,t)=>e>=t?1:0)),oC=MT(ds,nC,null,"bool"),rC={kernelName:ds,backendName:"cpu",kernelFunc:oC};const aC={kernelName:fs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:o}=t,r=Sa(o.shape),a=o.shape[o.shape.length-1],i=PT({inputs:{x:o},backend:n,attrs:{shape:[r/a,a]}}),s=zN(i,!0,n),l=PT({inputs:{x:s},backend:n,attrs:{shape:o.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),l}},iC=aT(ys,(e=>Number.isFinite(e)?1:0),"bool"),sC={kernelName:ys,backendName:"cpu",kernelFunc:iC},lC=aT(gs,(e=>Math.abs(e)===1/0?1:0),"bool"),cC={kernelName:gs,backendName:"cpu",kernelFunc:lC},uC=aT(bs,(e=>Number.isNaN(e)?1:0),"bool"),pC={kernelName:bs,backendName:"cpu",kernelFunc:uC},dC=mT(((e,t)=>e<t?1:0)),mC=MT(ws,dC,null,"bool"),fC={kernelName:ws,backendName:"cpu",kernelFunc:mC},hC=mT(((e,t)=>e<=t?1:0)),yC=MT(ks,hC,null,"bool"),gC={kernelName:ks,backendName:"cpu",kernelFunc:yC};const bC={kernelName:xs,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:o,stop:r,num:a}=n,i=function(e,t,n){const o=(t-e)/(n-1),r=La(n,"float32");r[0]=e;for(let e=1;e<r.length;e++)r[e]=r[e-1]+o;return r}(o,r,a);return t.makeTensorInfo([i.length],"float32",i)}},vC=rT((e=>Math.log(e))),wC=iT(Ss,vC),kC={kernelName:Ss,backendName:"cpu",kernelFunc:wC},xC=aT(_s,(e=>Math.log1p(e))),SC={kernelName:_s,backendName:"cpu",kernelFunc:xC},_C=mT(((e,t)=>e&&t)),IC=MT(Is,_C,null,"bool"),TC={kernelName:Is,backendName:"cpu",kernelFunc:IC},EC=aT(Ts,(e=>e?0:1),"bool"),NC={kernelName:Ts,backendName:"cpu",kernelFunc:EC},CC=mT(((e,t)=>e||t)),AC=MT(Es,CC,null,"bool"),MC={kernelName:Es,backendName:"cpu",kernelFunc:AC};const OC={kernelName:Ns,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{depthRadius:a,bias:i,alpha:s,beta:l}=o;Nk(r,"LRN");const c=r.shape[3],u=c-1,p=n.data.get(r.dataId).values,d=Sa(r.shape),m=new Float32Array(d);function f(e){const t=e%c;let n=e-t+Math.max(0,t-a);const o=e-t+Math.min(t+a,u);let r=0;for(;n<=o;n++){const e=p[n];r+=e*e}return r}for(let e=0;e<d;e++){const t=f(e),n=p[e]*Math.pow(i+s*t,-l);m[e]=n}return n.makeTensorInfo(r.shape,r.dtype,m)}};const DC={kernelName:Cs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r,y:a,dy:i}=t,{depthRadius:s,bias:l,alpha:c,beta:u}=o;Nk(i,"LRNGrad");const p=Sa(i.shape),d=i.shape[3],m=n.data.get(i.dataId).values,f=n.data.get(r.dataId).values,h=n.data.get(a.dataId).values,y=new Float32Array(p),g=p;for(let e=0;e<g;e++){const t=e%d,n=e-t+Math.max(0,t-s),o=e-t+Math.min(d,t+s+1);let r=0;for(let e=n;e<o;e++)r+=Math.pow(f[e],2);r=c*r+l;for(let t=n;t<o;t++){let n=-2*c*u*f[t]*h[e]/r;e===t&&(n+=Math.pow(r,-u)),n*=m[e],y[t]+=n}}return n.makeTensorInfo(i.shape,r.dtype,y)}};function RC(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{reductionIndices:a,keepDims:i}=o,s=n;let l=r.shape;const c=l.length,u=Na(a,l);let p=u;const d=kf(p,c);let m=s.data.get(r.dataId).values;if(null!=d){const e=new Array(c);for(let t=0;t<e.length;t++)e[t]=l[d[t]];m=KT(m,l,r.dtype,d,e),p=Sf(p.length,c),l=e}Nk(r,"max"),wf("max",p,c);const[f,h]=bf(l,p),y=function(e,t,n,o){const r=Ca(o,Sa(n));for(let n=0;n<r.length;++n){const o=n*t;let a=e[o];for(let n=0;n<t;++n){const t=e[o+n];(Number.isNaN(t)||t>a)&&(a=t)}r[n]=a}return r}(m,Sa(h),f,r.dtype),g=s.write(y,f,r.dtype);let b=f;if(i){b=vf(f,u)}return{dataId:g,shape:b,dtype:r.dtype}}const FC={kernelName:As,backendName:"cpu",kernelFunc:RC},zC=mT(((e,t)=>Math.max(e,t))),PC=MT(Ms,zC),$C={kernelName:Ms,backendName:"cpu",kernelFunc:PC};const LC={kernelName:Os,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t;Nk(r,"maxPool");const{filterSize:a,strides:i,pad:s,dimRoundingMode:l}=o;wa(bm(i,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '1'`));const c=lm(r.shape,a,i,1,s,l);let u;if(1===c.filterWidth&&1===c.filterHeight&&_a(c.inShape,c.outShape))u=cT({inputs:{x:r},backend:n});else{const e=n.data.get(r.dataId).values,t=Fa(r.shape),o=dE(e,r.shape,r.dtype,t,c,"max");u=n.makeTensorInfo(c.outShape,r.dtype,o.values)}return u}};const BC={kernelName:Rs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{filterSize:a,strides:i,pad:s,dimRoundingMode:l,dataFormat:c}=o;Nk(r,"maxPool3d");const u=cm(r.shape,a,i,1,s,l,c),p=fE(n.data.get(r.dataId).values,r.shape,r.dtype,Fa(r.shape),u,"max");return n.makeTensorInfo(p.shape,"float32",p.values)}};const jC={kernelName:Fs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{dy:r,input:a}=t,{filterSize:i,strides:s,pad:l,dimRoundingMode:c}=o;Nk([r,a],"maxPool3DGrad");const u=cm(a.shape,i,s,1,l,c),p=function(e,t){const n=Mp(t.outShape,"int32"),o=t.strideDepth,r=t.strideHeight,a=t.strideWidth,i=t.dilationDepth,s=t.dilationHeight,l=t.dilationWidth,c=t.effectiveFilterDepth,u=t.effectiveFilterHeight,p=t.effectiveFilterWidth,d=t.padInfo.front,m=t.padInfo.top,f=t.padInfo.left;for(let h=0;h<t.batchSize;++h)for(let y=0;y<t.inChannels;++y)for(let g=0;g<t.outDepth;++g){const b=g*o-d;let v=b;for(;v<0;)v+=i;const w=Math.min(t.inDepth,c+b);for(let o=0;o<t.outHeight;++o){const c=o*r-m;let d=c;for(;d<0;)d+=s;const k=Math.min(t.inHeight,u+c);for(let r=0;r<t.outWidth;++r){const m=r*a-f;let x=m;for(;x<0;)x+=l;const S=Math.min(t.inWidth,p+m);let _=Number.NEGATIVE_INFINITY,I=-1;for(let t=v;t<w;t+=i){const n=t-b;for(let o=d;o<k;o+=s){const r=o-c;for(let a=x;a<S;a+=l){const i=a-m,s=e.get(h,t,o,a,y);s>=_&&(_=s,I=n*u*p+r*u+i)}}}n.set(I,h,g,o,r,y)}}}return n}(n.bufferSync(a),u),d=u.strideDepth,m=u.strideHeight,f=u.strideWidth,h=u.dilationDepth,y=u.dilationHeight,g=u.dilationWidth,b=u.effectiveFilterDepth,v=u.effectiveFilterHeight,w=u.effectiveFilterWidth,k=b-1-u.padInfo.front,x=w-1-u.padInfo.left,S=v-1-u.padInfo.top,_=Mp(a.shape,"float32"),I=n.bufferSync(r);for(let e=0;e<u.batchSize;++e)for(let t=0;t<u.inChannels;++t)for(let n=0;n<u.inDepth;++n)for(let o=0;o<u.inHeight;++o)for(let r=0;r<u.inWidth;++r){const a=n-k,i=o-S,s=r-x;let l=0;for(let n=0;n<b;n+=h){const o=(a+n)/d;if(!(o<0||o>=u.outDepth||Math.floor(o)!==o))for(let r=0;r<v;r+=y){const a=(i+r)/m;if(!(a<0||a>=u.outHeight||Math.floor(a)!==a))for(let i=0;i<w;i+=g){const c=(s+i)/f;if(c<0||c>=u.outWidth||Math.floor(c)!==c)continue;const d=b*v*w-1-p.get(e,o,a,c,t)===n*v*w+r*w+i?1:0;if(0===d)continue;l+=I.get(e,o,a,c,t)*d}}}_.set(l,e,n,o,r,t)}return n.makeTensorInfo(_.shape,_.dtype,_.values)}};const WC={kernelName:Ds,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{dy:r,input:a,output:i}=t,s=a;Nk([a,i],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:p}=o,d=lm(s.shape,l,c,1,u,p),m=n.data.get(s.dataId).values,f=Mp(d.outShape,s.dtype,mE(m,s.shape,s.dtype,d).values),h=d.strideHeight,y=d.strideWidth,g=d.dilationHeight,b=d.dilationWidth,v=d.effectiveFilterHeight,w=d.effectiveFilterWidth,k=w-1-d.padInfo.left,x=v-1-d.padInfo.top,S=Mp(s.shape,"float32"),_=n.data.get(r.dataId).values,I=Mp(r.shape,"float32",_);for(let e=0;e<d.batchSize;++e)for(let t=0;t<d.inChannels;++t)for(let n=0;n<d.inHeight;++n)for(let o=0;o<d.inWidth;++o){const r=n-x,a=o-k;let i=0;for(let n=0;n<v;n+=g){const o=(r+n)/h;if(!(o<0||o>=d.outHeight||Math.floor(o)!==o))for(let r=0;r<w;r+=b){const s=(a+r)/y;if(s<0||s>=d.outWidth||Math.floor(s)!==s)continue;const l=v*w-1-f.get(e,o,s,t)===n*w+r?1:0;if(0===l)continue;i+=I.get(e,o,s,t)*l}}S.set(i,e,n,o,t)}return n.makeTensorInfo(S.shape,S.dtype,S.values)}};const UC={kernelName:zs,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:o}=e,{filterSize:r,strides:a,pad:i,includeBatchInIndex:s}=t,l=n;Nk(o,"MaxPoolWithArgmax");const c=l.data.get(o.dataId).values,u=lm(o.shape,r,a,[1,1],i),[p,d]=function(e,t,n,o,r){const a=dE(e,0,n,Fa(t),r,"max"),i=mE(e,t,n,r,!0,o);return[a.values,i.values]}(c,o.shape,o.dtype,s,u),m=l.write(p,u.outShape,o.dtype),f=l.write(d,u.outShape,o.dtype);return[{dataId:m,shape:u.outShape,dtype:o.dtype},{dataId:f,shape:u.outShape,dtype:"int32"}]}};const HC={kernelName:Ps,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{axis:a,keepDims:i}=o,s=Na(a,r.shape),l=Sa(bf(r.shape,s)[1]),c=[],u=n.makeTensorInfo([],"float32",new Float32Array([l]));c.push(u);const p=CT({inputs:{x:r},backend:n,attrs:{dtype:"float32"}});c.push(p);const d=AN({inputs:{a:p,b:u},backend:n});c.push(d);const m=dN({inputs:{x:d},backend:n,attrs:{axis:a,keepDims:i}});return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),m}};const VC={kernelName:$s,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{axis:a,keepDims:i}=o;Nk(r,"min");const s=Na(a,r.shape);let l=s;const c=kf(l,r.shape.length);let u=r;null!=c&&(u=YT({inputs:{x:r},backend:n,attrs:{perm:c}}),l=Sf(l.length,r.shape.length)),wf("min",l,u.shape.length);const[p,d]=bf(u.shape,l),m=Sa(d),f=La(Sa(p),u.dtype),h=n.data.get(u.dataId).values;for(let e=0;e<f.length;++e){const t=e*m;let n=h[t];for(let e=0;e<m;++e){const o=h[t+e];(Number.isNaN(o)||o<n)&&(n=o)}f[e]=n}null!=c&&n.disposeIntermediateTensorInfo(u);const y=n.makeTensorInfo(p,u.dtype,f);if(i){const e=PT({inputs:{x:y},backend:n,attrs:{shape:vf(p,s)}});return n.disposeIntermediateTensorInfo(y),e}return y}},qC=mT(((e,t)=>Math.min(e,t))),GC=MT(Ls,qC),KC={kernelName:Ls,backendName:"cpu",kernelFunc:GC};const YC={kernelName:Bs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{paddings:a,mode:i}=o;Nk(r,"mirrorPad");const s=a.map(((e,t)=>e[0]+r.shape[t]+e[1])),l=a.map((e=>e[0])),c=a.map(((e,t)=>e[0]+r.shape[t])),u="reflect"===i?0:1,p=n.data.get(r.dataId).values,d=r.shape.length,m=Fa(r.shape),f=Sa(s),h=s.length,y=Fa(s),g=Ca(r.dtype,f);for(let e=0;e<f;e++){let t=Ua(e,h,y);for(let e=0;e<h;e++)t[e]<l[e]?t[e]=2*l[e]-t[e]-u:t[e]>=c[e]&&(t[e]=2*(c[e]-1)-t[e]+u);t=t.map(((e,t)=>e-l[t]));const n=Wa(t,d,m);g[e]=p[n]}return{dataId:n.write(g,s,r.dtype),shape:s,dtype:r.dtype}}},XC=mT(((e,t)=>{const n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),JC=MT(js,XC),ZC={kernelName:js,backendName:"cpu",kernelFunc:JC};function QC(e){const{inputs:t,backend:n,attrs:o}=e,{logits:r}=t,{dim:a}=o,i=r.shape.length;let s=a;if(-1===s&&(s=i-1),s!==i-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${i} and dim was ${s}`);const l=Na([s],r.shape),c=RC({inputs:{x:r},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),u=vf(c.shape,l),p=PT({inputs:{x:c},backend:n,attrs:{shape:u}}),d=RN({inputs:{a:r,b:p},backend:n}),m=xN({inputs:{x:d},backend:n}),f=dN({inputs:{x:m},backend:n,attrs:{axis:l,keepDims:!1}}),h=PT({inputs:{x:f},backend:n,attrs:{shape:u}}),y=AN({inputs:{a:m,b:h},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),y}const eA={kernelName:Dl,backendName:"cpu",kernelFunc:QC};const tA={kernelName:Ws,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{logits:r}=t,{numSamples:a,seed:i,normalized:s}=o;Nk(r,"multinomial");const l=s?r:QC({inputs:{logits:r},backend:n,attrs:{dim:-1}}),c=l.shape[0],u=l.shape[1],p=n.data.get(l.dataId).values,d=[c,a],m=La(Sa(d),"int32");for(let e=0;e<c;++e){const t=e*u,n=new Float32Array(u-1);n[0]=p[t];for(let e=1;e<n.length;++e)n[e]=n[e-1]+p[t+e];const o=$h.alea(i.toString()),r=e*a;for(let e=0;e<a;++e){const t=o();m[r+e]=n.length;for(let o=0;o<n.length;o++)if(t<n[o]){m[r+e]=o;break}}}return s||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(d,"int32",m)}};const nA={kernelName:Hs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:o}=t;Nk(o,"neg");const r=n.data.get(o.dataId).values,[a,i]=function(e,t,n){const o=Oc(-1,n);return lN([],t,o,e,n)}(r,o.shape,o.dtype);return n.makeTensorInfo(i,o.dtype,a)}},oA=kg;const rA={kernelName:qs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{boxes:r,scores:a}=t,{maxOutputSize:i,iouThreshold:s,scoreThreshold:l}=o;Nk(r,"NonMaxSuppression");const c=n.data.get(r.dataId).values,u=n.data.get(a.dataId).values,{selectedIndices:p}=oA(c,u,i,s,l);return n.makeTensorInfo([p.length],"int32",new Int32Array(p))}},aA=xg;const iA={kernelName:Gs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{boxes:r,scores:a}=t,{maxOutputSize:i,iouThreshold:s,scoreThreshold:l,padToMaxOutputSize:c}=o;Nk(r,"NonMaxSuppressionPadded");const u=n.data.get(r.dataId).values,p=n.data.get(a.dataId).values,{selectedIndices:d,validOutputs:m}=aA(u,p,i,s,l,c);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([m]))]}},sA=Sg;const lA={kernelName:Ks,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{boxes:r,scores:a}=t,{maxOutputSize:i,iouThreshold:s,scoreThreshold:l,softNmsSigma:c}=o;Nk(r,"NonMaxSuppressionWithScore");const u=n.data.get(r.dataId).values,p=n.data.get(a.dataId).values,d=i,m=s,f=l,h=c,{selectedIndices:y,selectedScores:g}=sA(u,p,d,m,f,h);return[n.makeTensorInfo([y.length],"int32",new Int32Array(y)),n.makeTensorInfo([g.length],"float32",new Float32Array(g))]}},cA=mT(((e,t)=>e!==t?1:0)),uA=MT(Vs,cA,null,"bool"),pA={kernelName:Vs,backendName:"cpu",kernelFunc:uA};const dA={kernelName:Xs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{indices:r}=t,{dtype:a,depth:i,onValue:s,offValue:l}=o;Nk(r,"oneHot");const c=Sa(r.shape),u=new Float32Array(c*i);u.fill(l);const p=n.data.get(r.dataId).values;for(let e=0;e<c;++e)p[e]>=0&&p[e]<i&&(u[e*i+p[e]]=s);return n.makeTensorInfo([...r.shape,i],a,u)}};function mA(e){const{inputs:t,backend:n}=e,{x:o}=t;if("string"===o.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===o.dtype){const e=ET({inputs:{input:o},backend:n}),t=mA({inputs:{x:e},backend:n}),r=DE({inputs:{input:o},backend:n}),a=mA({inputs:{x:r},backend:n}),i=_T({inputs:{real:t,imag:a},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a),i}return BN({backend:n,attrs:{shape:o.shape,value:0,dtype:o.dtype}})}const fA={kernelName:nc,backendName:"cpu",kernelFunc:mA};const hA={kernelName:Ys,backendName:"cpu",kernelFunc:function e(t){const{inputs:n,backend:o}=t,{x:r}=n;if("string"===r.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===r.dtype){const t=ET({inputs:{input:r},backend:o}),n=e({inputs:{x:t},backend:o}),a=DE({inputs:{input:r},backend:o}),i=mA({inputs:{x:a},backend:o}),s=_T({inputs:{real:n,imag:i},backend:o});return o.disposeIntermediateTensorInfo(t),o.disposeIntermediateTensorInfo(n),o.disposeIntermediateTensorInfo(a),o.disposeIntermediateTensorInfo(i),s}return BN({backend:o,attrs:{shape:r.shape,value:1,dtype:r.dtype}})}};function yA(e){const{inputs:t,backend:n,attrs:o}=e,{axis:r}=o;if(1===t.length)return _N({inputs:{input:t[0]},backend:n,attrs:{dim:r}});const a=t[0].shape,i=t[0].dtype;t.forEach((e=>{ka(a,e.shape,"All tensors passed to stack must have matching shapes"),wa(i===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const s=[],l=t.map((e=>{const t=_N({inputs:{input:e},backend:n,attrs:{dim:r}});return s.push(t),t})),c=FE({inputs:l,backend:n,attrs:{axis:r}});return s.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}const gA={kernelName:Js,backendName:"cpu",kernelFunc:yA};const bA={kernelName:Zs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{paddings:a,constantValue:i}=o;Nk(r,"pad");const s=a.map(((e,t)=>e[0]+r.shape[t]+e[1])),l=a.map((e=>e[0])),c=n.data.get(r.dataId).values,u=Sa(r.shape),p=r.shape.length,d=Fa(r.shape),m=Sa(s),f=s.length,h=Fa(s),y=Ca(r.dtype,m);0!==i&&y.fill(i);for(let e=0;e<u;e++){const t=Ua(e,p,d).map(((e,t)=>e+l[t]));y[Wa(t,f,h)]=c[e]}return{dataId:n.write(y,s,r.dtype),shape:s,dtype:r.dtype}}},vA=mT(((e,t)=>Math.pow(e,t))),wA=MT(Qs,vA),kA={kernelName:Qs,backendName:"cpu",kernelFunc:wA};const xA={kernelName:tl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{axis:a,keepDims:i}=o;Nk(r,"prod");const s=r.shape.length,l=Na(a,r.shape),c=kf(l,s);let u=l,p=r;const d=[];null!=c&&(p=YT({inputs:{x:r},backend:n,attrs:{perm:c}}),d.push(p),u=Sf(u.length,s));const m=n.data.get(p.dataId).values,{outVals:f,outShape:h,outDtype:y}=function(e,t,n,o){const[r,a]=bf(e,o),i=lu(t,"int32"),s=La(Sa(r),i),l=Sa(a);for(let e=0;e<s.length;++e){const t=e*l;let o=1;for(let e=0;e<l;++e)o*=n[t+e];s[e]=o}return{outVals:s,outShape:r,outDtype:i}}(p.shape,p.dtype,m,u);let g=h;return i&&(g=vf(h,l)),d.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(g,y,f)}};function SA(e,t,n,o){const r=[];let a=0;const i=t.length-1+n.length,s=new Array(i).fill(null).map((()=>[0]));!function(e,t){for(let n=0;n<e.length;++n){const o=e[n],r=n===e.length-1?t:e[n+1].length;if(0===o.length)throw new Error("Ragged splits may not be empty");if(o[0]<0)throw new Error("Ragged splits must be non-negative");if(o[o.length-1]>r)throw new Error("Ragged splits must not point past values");for(let e=1;e<o.length;++e)if(o[e-1]>o[e])throw new Error("Ragged splits must be sorted in ascending order")}}(n,o);let l=1;for(let e=0;e<t.length-1;++e){l*=t[e];const n=t[e+1];for(let t=1;t<l+1;++t)s[e].push(t*n)}for(let o=0;o<e.length;++o){let i=e[o],l=e[o]+1;for(let e=0;e<n.length;++e){const o=n[e],r=e+t.length-1;if(r>=0){const e=s[r],t=e[e.length-1]-o[i];for(let e=i;e<l;++e)s[r].push(o[e+1]+t)}i=o[i],l=o[l]}l!==i&&(r.push([i,l]),a+=l-i)}return{outSplits:s,valueSlices:r,numValues:a}}function _A(e,t){const n=e.slice(0,t);for(;n.length<t;)n.push(1);for(let o=t;o<e.length;o++)n[t-1]*=e[o];return n}function IA(e,t,n,o,r){const a=t.slice();a[0]=r;const i=Aa(n,Sa(a)),s=e.length;return function(e,t,n,o,r,a){const i=_A(t,2)[1],s=_A(a,2)[1];let l=0;for(const t of n)for(let n=t[0];n<t[1];++n){for(let t=0;t<o;++t)r[l*s+t]=e[n*i+t];++l}}(e,t,o,0===s?0:s/t[0],i,a),[i,a]}function TA(e,t,n,o,r,a,i,s){if(0===e.length)throw new Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw new Error("Split tensors must not be scalars");if(function(e,t,n){e.forEach(((e,o)=>{if(e<0||e>=n){const r=Ua(o,t.length,Fa(t)).join(",");throw new Error(`indices[${r}] = ${e} is not in [0, ${n})`)}}))}(a,i,t[0][0]-1),0===o.length)throw new Error("params.rank must be nonzero");const l=o[0],{outSplits:c,valueSlices:u,numValues:p}=SA(a,i,e,l),d=function(e){const t=[];for(let n=0;n<e.length;++n){const o=Aa("int32",e[n].length);t.push(o),e[n].forEach(((e,t)=>o[t]=e))}return t}(c),m=IA(n,o,r,u,p);return[d,m[0],m[1]]}const EA={kernelName:nl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{paramsNestedSplits:r,paramsDenseValues:a,indices:i}=t,{outputRaggedRank:s}=o,l=r.map((e=>n.data.get(e.dataId).values)),c=r.map((e=>e.shape)),u=n.data.get(a.dataId).values,p=n.data.get(i.dataId).values,[d,m,f]=TA(l,c,u,a.shape,a.dtype,p,i.shape),h=d.map((e=>n.makeTensorInfo([e.length],"int32",e))),y=n.makeTensorInfo(f,a.dtype,m);return h.concat([y])}},NA=2147483647;const CA={kernelName:ol,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:o,limits:r,deltas:a}=t,i=n.data.get(o.dataId).values,s=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,[c,u]=function(e,t,n,o,r,a,i){if(t.length>1)throw new Error("starts must be a scalar or vector");if(r.length>1)throw new Error("limits must be a scalar or vector");if(i.length>1)throw new Error("deltas must be a scalar or vector");const s=0===t.length,l=0===r.length,c=0===i.length,u=[];s||u.push(t[0]),l||u.push(r[0]),c||u.push(i[0]);for(let e=1;e<u.length;++e)if(u[e]!==u[e-1])throw new Error("starts, limits, and deltas must have the same shape");const p=0===u.length?1:u[0],d=Aa("int32",p+1);d[0]=0;for(let t=0;t<p;++t){const n=s?e[0]:e[t],r=l?o[0]:o[t],i=c?a[0]:a[t];if(0===i)throw new Error("Requires delta != 0");let u;if(i>0&&r<n||i<0&&r>n)u=0;else if(u=Math.ceil(Math.abs((r-n)/i)),u>NA)throw new Error(`Requires ((limit - start) / delta) <= ${NA}`);d[t+1]=d[t]+u}const m=Aa(n,d[p]);let f=0;for(let t=0;t<p;++t){const n=d[t+1]-d[t];let o=s?e[0]:e[t];const r=c?a[0]:a[t];for(let e=0;e<n;++e)m[f++]=o,o+=r}return[d,m]}(i,o.shape,o.dtype,s,r.shape,l,a.shape);return[n.makeTensorInfo([c.length],"int32",c),n.makeTensorInfo([u.length],o.dtype,u)]}};var AA=fb;class MA{constructor(e,t,n,o,r,a,i,s,l,c){var u;this.shape=e,this.shapeShape=t,this.values=n,this.valuesShape=o,this.valuesDType=r,this.defaultValue=a,this.defaultValueShape=i,this.rowPartitionValues=s,this.rowPartitionValuesShapes=l,this.rowPartitionTypes=function(e){const t={FIRST_DIM_SIZE:fb.FIRST_DIM_SIZE,VALUE_ROWIDS:fb.VALUE_ROWIDS,ROW_LENGTHS:fb.ROW_LENGTHS,ROW_SPLITS:fb.ROW_SPLITS,ROW_LIMITS:fb.ROW_LIMITS,ROW_STARTS:fb.ROW_STARTS},n=[];for(const o of e){if(!(o in t))break;n.push(t[o])}return n}(c),this.raggedRank=0===(u=this.rowPartitionTypes).length?0:u[0]===fb.FIRST_DIM_SIZE?u.length-1:u.length}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===AA.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===AA.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const t=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case AA.VALUE_ROWIDS:return MA.getMaxWidthValueRowID(t);case AA.ROW_SPLITS:return MA.getMaxWidthRowSplit(t);default:throw new Error(`Cannot handle partition type ${AA[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const t=e.length;if(0===t||1===t)return 0;let n=0;for(let o=0;o<t-1;++o){const t=e[o+1]-e[o];t>n&&(n=t)}return n}static getMaxWidthValueRowID(e){const t=e.length;if(0===t)return 0;let n=0,o=e[0],r=0;for(let a=1;a<t;++a){const t=e[a];t!==o&&(o=t,r=Math.max(a-n,r),n=a)}return Math.max(t-n,r)}tensorShapeFromTensor(e,t,n=!0){if(0===t.length){if(-1===e[0])return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return DA(e,n)}calculateOutputSize(e){const t=this.valuesShape;!function(e,t){if(null==e||null==t)return;const n=e.length,o=t.length;if(n>=o)throw new Error(`defaultValue.shape=${e} and ragged tensor flatValues.shape=${t}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${o})`);for(let r=0;r<Math.min(n,o-1);++r){const n=e[r],o=t[r+1];if(n>=0&&o>=0&&1!==n&&n!==o)throw new Error(`defaultValue.shape=${e}, and ragged tensor input flatValues.shape=${t} are incompatible: defaultValue.shape[${r-e.length}] = ${n} but ragged tensor input.flatValues.shape[${r-e.length}] = ${o}`)}}(this.defaultValueShape,t);const n=this.tensorShapeFromTensor(this.shape,this.shapeShape),o=function(e,t,n){let o=new Array;if(null==n&&null==t)return o;if(null==t)for(;o.length<e+n.length;)o.push(-1);else o=t.slice();if(null==n)return o;if(e+n.length!==o.length)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.rank = ${e+n.length}, but shape.rank = ${o.length}`);for(let r=1;r<n.length;++r){const a=n[r],i=o[o.length-n.length+r],s=o[i];if(a>=0)if(s>=0){if(s!==a)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.shape[${r+e}] = ${a} but shape[${r+e}] = ${s}`)}else o[i]=a}return o}(this.raggedRank,n,t),r=o;r[0]<0&&(r[0]=e);for(let e=1;e<=this.raggedRank;++e)r[e]<0&&(r[e]=this.getMaxWidth(e));return r}calculateFirstParentOutputIndex(e,t,n){const o=Math.min(e,n),r=[];let a=0;for(let e=0;e<o;++e,a+=t)r.push(a);for(let t=o;t<e;++t)r.push(-1);return wa(r.length===e,(()=>"Final length of result must be equal to firstDimension.")),r}calculateOutputIndexRowSplit(e,t,n,o){const r=e.length,a=[];for(let i=0;i<r-1;++i){const r=e[i+1]-e[i];let s=Math.min(o,r),l=t[i];-1===l&&(s=0);for(let e=0;e<s;++e)a.push(l),l+=n;for(let e=0;e<r-s;++e)a.push(-1)}if(r>0&&a.length!==e[r-1])throw new Error("Invalid row split size.");return a}calculateOutputIndexValueRowID(e,t,n,o){const r=e.length,a=[];if(0===r)return[];let i=0,s=e[0];if(s>=t.length)throw new Error(`Got currentValueRowId=${s}, which is not less than ${t.length}`);let l=t[s];a.push(l);for(let c=1;c<r;++c){const r=e[c];if(r===s)l>=0&&(++i,i<o?l+=n:l=-1);else{if(i=0,s=r,r>=t.length)throw new Error(`Got nextValueRowId=${r} which is not less than ${t.length}`);l=t[r]}a.push(l)}if(a.length!==e.length)throw new Error("Invalid row ids.");return a}calculateOutputIndex(e,t,n,o){const r=this.getRowPartitionTensor(e),a=this.getRowPartitionTypeByDimension(e);switch(a){case AA.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(r,t,n,o);case AA.ROW_SPLITS:if(r.length-1>t.length)throw new Error(`Row partition size is greater than output size: ${r.length-1} > ${t.length}`);return this.calculateOutputIndexRowSplit(r,t,n,o);default:throw new Error(`Unsupported partition type: ${AA[a]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw new Error("No row_partition_types given.");const t=this.rowPartitionTypes[0];switch(t){case AA.FIRST_DIM_SIZE:return e[0];case AA.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case AA.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${AA[t]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const e=this.getFirstDimensionSize(),t=this.calculateOutputSize(e),n=new Array(this.raggedRank+1);n[n.length-1]=1;for(let e=n.length-2;e>=0;--e)n[e]=n[e+1]*t[e+1];const o=DA(t,!1),r=Aa(this.valuesDType,Sa(o));if(n[0]*t[0]>0){let a=this.calculateFirstParentOutputIndex(e,n[0],t[0]);for(let e=1;e<=this.raggedRank;++e){a=this.calculateOutputIndex(e-1,a,n[e],t[e])}this.setOutput(this.raggedRank,a,r,o)}return[o,r]}setOutput(e,t,n,o){if(0===n.length)return;const r=this.values,a=n;let i=o.slice();i=i.slice(e+1);const s=Sa(i),l=t.length;let c=this.defaultValue;if(c.length!==s&&1!==c.length){const e=this.defaultValueShape;zp((()=>{const t=xm(c,e),n=Lm(t,i);c=n.dataSync()}))}let u=0,p=0,d=0;for(let e=0;e<=l;++e){let o=e<l?t[e]:-1;if(o!==d){if(p<d){const e=r.subarray(u*s);OA(a.subarray(p*s),e,(d-p)*s)}if(e>=l){const e=n.length;o=Math.floor(e/s)}if(o>d)if(1===this.defaultValue.length)a.subarray(d*s,o*s).fill(this.defaultValue[0]),d=o;else for(;o>d;){OA(a.slice(d*s),c,s),++d}o<0?(u=e+1,p=d):(u=e,p=d,d=p+1)}else++d}}}function OA(e,t,n){for(let o=0;o<n;o++)e[o]=t[o]}function DA(e,t){const n=[];for(let o of e){if(o<0){if(!t)throw new Error(`Dimension ${o} must be >= 0`);if(o<-1)throw new Error(`Dimension ${o} must be >= -1`);o=-1}n.push(o)}return n}const RA={kernelName:rl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{shape:r,values:a,defaultValue:i,rowPartitionTensors:s}=t,{rowPartitionTypes:l}=o,c=n.data.get(r.dataId).values,u=n.data.get(a.dataId).values,p=n.data.get(i.dataId).values,d=s.map((e=>n.data.get(e.dataId).values)),m=s.map((e=>e.shape)),[f,h]=function(e,t,n,o,r,a,i,s,l,c){return new MA(e,t,n,o,r,a,i,s,l,c).compute()}(c,r.shape,u,a.shape,a.dtype,p,i.shape,d,m,l);return n.makeTensorInfo(f,a.dtype,h)}};const FA={kernelName:al,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:o,stop:r,dtype:a,step:i}=n,s=d_(o,r,i,a);return t.makeTensorInfo([s.length],a,s)}},zA=aT(sl,(e=>1/e)),PA={kernelName:sl,backendName:"cpu",kernelFunc:zA};const $A={kernelName:dl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{images:r}=t,{alignCorners:a,halfPixelCenters:i,size:s}=o;Nk(r,"resizeBilinear");const l=Fa(r.shape),[c,u]=s,[p,d,m,f]=r.shape,h=n.data.get(r.dataId).values,y=new Float32Array(Sa([p,c,u,f])),g=[a&&c>1?d-1:d,a&&u>1?m-1:m],b=[a&&c>1?c-1:c,a&&u>1?u-1:u];let v=0;const w=g[0]/b[0],k=g[1]/b[1];for(let e=0;e<p;e++)for(let t=0;t<c;t++){let n;n=i?w*(t+.5)-.5:w*t;const o=Math.max(0,Math.floor(n)),r=n-o,a=Math.min(d-1,Math.ceil(n)),s=e*l[0]+o*l[1],c=e*l[0]+a*l[1];for(let e=0;e<u;e++){let t;t=i?k*(e+.5)-.5:k*e;const n=Math.max(0,Math.floor(t)),o=t-n,a=Math.min(m-1,Math.ceil(t)),u=s+n*l[2],p=c+n*l[2],d=s+a*l[2],g=c+a*l[2];for(let e=0;e<f;e++){const t=h[u+e],n=h[p+e],a=t+(h[d+e]-t)*o,i=a+(n+(h[g+e]-n)*o-a)*r;y[v++]=i}}}return n.makeTensorInfo([p,c,u,f],"float32",y)}};const LA={kernelName:ml,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{images:r,dy:a}=t,{alignCorners:i}=o;Nk([a,r],"resizeBilinearGrad");const s=Fa(r.shape),[l,c,u,p]=r.shape,[,d,m]=a.shape,f=new Float32Array(l*c*u*p),h=[i&&d>1?c-1:c,i&&m>1?u-1:u],y=[i&&d>1?d-1:d,i&&m>1?m-1:m],g=h[0]/y[0],b=h[1]/y[1],v=n.data.get(a.dataId).values;let w=0;for(let e=0;e<l;e++){const t=e*s[0];for(let e=0;e<d;e++){const n=e*g,o=Math.floor(n),r=Math.min(Math.ceil(n),c-1),a=t+o*s[1],i=t+r*s[1],l=n-o,d=1-l;for(let e=0;e<m;e++){const t=e*b,n=Math.floor(t),o=Math.min(Math.ceil(t),u-1),r=t-n,c=1-r,m=a+n*s[2],h=a+o*s[2],y=i+n*s[2],g=i+o*s[2],k=d*c,x=d*r,S=l*c,_=l*r;for(let e=0;e<p;e++){const t=v[w++];f[m+e]+=t*k,f[h+e]+=t*x,f[y+e]+=t*S,f[g+e]+=t*_}}}}return n.makeTensorInfo([l,u,c,p],"float32",f)}};const BA={kernelName:ul,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{images:r}=t,{alignCorners:a,halfPixelCenters:i,size:s}=o;Nk(r,"resizeNearestNeighbor");const l=Fa(r.shape),[c,u]=s,[p,d,m,f]=r.shape,h=n.data.get(r.dataId).values,y=new Float32Array(p*c*u*f),g=[a&&c>1?d-1:d,a&&u>1?m-1:m],b=[a&&c>1?c-1:c,a&&u>1?u-1:u],v=g[0]/b[0],w=g[1]/b[1];let k=0;for(let e=0;e<p;e++){const t=e*l[0];for(let e=0;e<c;e++){const n=i?v*(e+.5):v*e;let o=Math.min(d-1,a?Math.round(n):Math.floor(n));i&&(o=Math.max(0,o));const r=t+o*l[1];for(let e=0;e<u;e++){const t=i?w*(e+.5):w*e;let n=Math.min(m-1,a?Math.round(t):Math.floor(t));i&&(n=Math.max(0,n));const o=r+n*l[2];for(let e=0;e<f;e++){const t=h[o+e];y[k++]=t}}}}return n.makeTensorInfo([p,c,u,f],r.dtype,y)}};const jA={kernelName:pl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{images:r,dy:a}=t,{alignCorners:i}=o;Nk([a,r],"resizeNearestNeighborGrad");const s=Fa(r.shape),l=Fa(a.shape),[c,u,p,d]=r.shape,[,m,f]=a.shape,h=new Float32Array(c*u*p*d),y=n.data.get(a.dataId).values,g=[i&&m>1?u-1:u,i&&f>1?p-1:p],b=[i&&m>1?m-1:m,i&&f>1?f-1:f],v=g[0]/b[0],w=g[1]/b[1],k=1/v,x=1/w,S=2*Math.ceil(k)+2,_=2*Math.ceil(x)+2;for(let e=0;e<c;e++){const t=e*s[0];for(let e=0;e<u;e++){const n=t+e*s[1],o=Math.floor(e*k),r=Math.floor(o-S/2);for(let o=0;o<p;o++){const a=n+o*s[2],c=Math.floor(o*x),g=Math.floor(c-_/2);for(let n=0;n<d;n++){let s=0;for(let a=0;a<S;a++){const c=a+r;if(c<0||c>=m)continue;const d=t+c*l[1],h=c*v;if(e===Math.min(u-1,i?Math.round(h):Math.floor(h)))for(let e=0;e<_;e++){const t=e+g;if(t<0||t>=f)continue;const r=d+t*l[2],a=t*w;o===Math.min(p-1,i?Math.round(a):Math.floor(a))&&(s+=y[r+n])}}h[a+n]=s}}}}return n.makeTensorInfo(r.shape,r.dtype,h)}};const WA={kernelName:hl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{dims:a}=o;Nk(r,"reverse");const i=r.shape.length,s=Na(a,r.shape);if(0===i)return cT({inputs:{x:r},backend:n});const l=new Xc(r.shape,r.dtype),c=n.bufferSync(r);for(let e=0;e<l.size;e++){const t=l.indexToLoc(e),n=t.slice();s.forEach((e=>n[e]=r.shape[e]-1-n[e])),l.set(c.get(...n),...t)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}},UA={kernelName:ac,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:o}=e,{radians:r,fillValue:a,center:i}=t,s=n,l=Ca(o.dtype,Sa(o.shape)),[c,u,p,d]=o.shape,[m,f]=hb(i,u,p),h=Math.sin(r),y=Math.cos(r),g=s.data.get(o.dataId).values;for(let e=0;e<c;e++){const t=e*p*u*d;for(let e=0;e<u;e++){const n=e*(p*d);for(let o=0;o<p;o++){const r=o*d;for(let i=0;i<d;i++){const s=[c,e,o,i],b=s[2],v=s[1];let w=(b-m)*y-(v-f)*h,k=(b-m)*h+(v-f)*y;w=Math.round(w+m),k=Math.round(k+f);let x=a;if("number"!=typeof a&&(x=3===i?255:a[i]),w>=0&&w<p&&k>=0&&k<u){x=g[t+k*(p*d)+w*d+i]}l[t+n+r+i]=x}}}}return{dataId:s.write(l,o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}},HA=aT(yl,(e=>{const t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2==0?t:t+1})),VA={kernelName:yl,backendName:"cpu",kernelFunc:HA},qA=rT((e=>1/Math.sqrt(e))),GA=iT(gl,qA),KA={kernelName:gl,backendName:"cpu",kernelFunc:GA};function YA(e,t,n,o,r,a,i,s,l,c){const u=[o/r,r],p=e.values,d=t.values;if(0===o)return Mp(n,t.dtype);const m=l instanceof Xc?l:Mp(u,t.dtype);"string"==typeof l||"number"==typeof l?m.values.fill(l):"boolean"==typeof l&&m.values.fill(+l);for(let e=0;e<a;e++){const a=[];let l=0;for(let t=0;t<i;t++){const n=p[e*i+t];a.push(n),l+=n*s[t]}if(l<0||l>=o/r)throw new Error(`Invalid indices: ${a} does not index into ${n}`);for(let n=0;n<r;n++)c?m.values[l*r+n]+=d[e*r+n]:m.values[l*r+n]=0===t.rank?d[0]:d[e*r+n]}return m}const XA={kernelName:bl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{indices:r,updates:a}=t,{shape:i}=o,{sliceRank:s,numUpdates:l,sliceSize:c,strides:u,outputSize:p}=Bd(0,r,i),d=YA(n.bufferSync(r),n.bufferSync(a),i,p,c,l,s,u,0,!0);return n.makeTensorInfo(i,d.dtype,d.values)}};function JA(e,t){let n=0,o=e.length,r=0;for(;n<o;)r=Math.floor((n+o)/2),e[r]<t?n=r+1:o=r;return o}function ZA(e,t){let n=0,o=e.length,r=0;for(;n<o;)r=Math.floor((n+o)/2),e[r]<=t?n=r+1:o=r;return o}const QA={kernelName:wl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{sortedSequence:r,values:a}=t,{side:i}=o,s=function(e,t,n,o,r,a){const i=Aa("int32",n*r);for(let s=0;s<n;++s){const n=e.slice(s*o,(s+1)*o),l=s*r;for(let e=0;e<r;++e)i[l+e]="left"===a?JA(n,t[e+l]):ZA(n,t[e+l])}return i}(n.data.get(r.dataId).values,n.data.get(a.dataId).values,r.shape[0],r.shape[1],a.shape[1],i);return n.makeTensorInfo(a.shape,"int32",s)}};const eM={kernelName:kl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:o,t:r,e:a}=t;Nk([o,r,a],"select");const i=o.shape.length,s=n.data.get(o.dataId).values,l=n.data.get(r.dataId).values,c=n.data.get(a.dataId).values,u=lu(r.dtype,a.dtype),p=La(Sa(r.shape),u);let d=0;const m=0===i||i>1||1===r.shape.length?1:Sa(r.shape.slice(1));for(let e=0;e<s.length;e++)for(let t=0;t<m;t++)1===s[e]?p[d++]=l[e]:p[d++]=c[e];return n.makeTensorInfo(r.shape,u,p)}},tM=aT(xl,(e=>e>=0?1.0507009873554805*e:1.7580993408473768*(Math.exp(e)-1))),nM={kernelName:xl,backendName:"cpu",kernelFunc:tM},oM=aT(Tl,(e=>e<0?-1:e>0?1:0)),rM={kernelName:Tl,backendName:"cpu",kernelFunc:oM},aM=aT(_l,(e=>Math.sin(e))),iM={kernelName:_l,backendName:"cpu",kernelFunc:aM},sM=aT(Il,(e=>Math.sinh(e))),lM={kernelName:Il,backendName:"cpu",kernelFunc:sM},cM=Math.log(1.1920928955078125e-7)+2,uM=aT(Nl,(e=>{const t=e>-cM,n=e<cM,o=Math.exp(e);let r;return r=n?o:t?e:Math.log(1+o),r})),pM={kernelName:Nl,backendName:"cpu",kernelFunc:uM};const dM={kernelName:Ml,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{blockShape:a,paddings:i}=o;Nk([r],"spaceToBatchND");const s=Sa(a),l=[[0,0]];l.push(...i);for(let e=1+a.length;e<r.shape.length;++e)l.push([0,0]);const c=bA.kernelFunc({inputs:{x:r},backend:n,attrs:{paddings:l,constantValue:0}}),u=yb(c.shape,a,s,!1),p=gb(u.length,a.length,!1),d=bb(c.shape,a,s,!1),m=PT({inputs:{x:c},backend:n,attrs:{shape:u}}),f=YT({inputs:{x:m},backend:n,attrs:{perm:p}}),h=PT({inputs:{x:f},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(f),h}};const mM={kernelName:Rl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:o,values:r,denseShape:a,defaultValue:i}=t;if(1!==a.shape.length)throw new Error(`Dense shape must be a vector, saw:\n        ${a.shape}`);if(2!==o.shape.length)throw new Error(`Indices must be a matrix, saw:\n        ${o.shape}`);if(1!==r.shape.length)throw new Error(`Values must be a vector, saw:\n        ${r.shape}`);if(0!==i.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${i.shape}`);const s=n.data.get(o.dataId).values,l=n.data.get(r.dataId).values,c=n.data.get(a.dataId).values,u=n.data.get(i.dataId).values[0],[p,d,m,f,h]=function(e,t,n,o,r,a,i){const s=t[0],l=a[0],c=new Array(l),u=new Array(s),p=t[1];if(0===l){if(0!==s)throw new Error(Db(s));return[Aa(n,0),[0,p],Aa(r,0),c,u]}let d=!0,m=0;const f=new Array(l).fill(0);for(let t=0;t<s;++t){const n=e[t*p];if(n<0)throw new Error(Rb(t,n));if(n>=l)throw new Error(Fb(t,n,l));++f[n],d=d&&n>=m,m=n}let h=!0;for(let e=0;e<l;++e){const t=0===f[e];c[e]=t,h=h&&!t,f[e]=Math.max(f[e],1),e>0&&(f[e]+=f[e-1])}if(h&&d){const t=e,n=o;for(let e=0;e<s;++e)u[e]=e;return[t,[s,p],n,c,u]}{const t=f[l-1],a=Aa(n,t*p),d=Aa(r,t),m=new Array(l).fill(0);for(let t=0;t<s;++t){const n=e[t*p],r=m[n],i=(0===n?0:f[n-1])+r;m[n]++;for(let n=0;n<p;++n)a[i*p+n]=e[t*p+n];d[i]=o[t],u[t]=i}for(let e=0;e<l;++e)if(0===m[e]){const t=0===e?0:f[e-1];a[t*p+0]=e;for(let e=1;e<p;++e)a[t*p+e]=0;d[t]=i}return[a,[t,p],d,c,u]}}(s,o.shape,o.dtype,l,r.dtype,c,u);return[n.makeTensorInfo(d,o.dtype,p),n.makeTensorInfo([d[0]],r.dtype,m),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map((e=>Number(e))))),n.makeTensorInfo([h.length],o.dtype,new Int32Array(h))]}};const fM={kernelName:Fl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:o,inputShape:r,newShape:a}=t;if(2!==o.shape.length)throw new Error(`Input indices should be a matrix but received shape\n        ${o.shape}`);if(1!==r.shape.length)throw new Error(`Input shape should be a vector but received shape\n        ${r.shape}`);if(1!==a.shape.length)throw new Error(`Target shape should be a vector but received shape ${a.shape}`);const i=Array.from(n.data.get(r.dataId).values),s=n.data.get(o.dataId).values,l=Array.from(n.data.get(a.dataId).values),[c,u,p]=function(e,t,n,o,r){const a=Sa(o),i=t[0],s=r.length,l=[];let c=1,u=-1;for(let e=0;e<s;++e){const t=r[e];if(-1===t){if(-1!==u)throw new Error(zb(u,e));u=e,l.push(1)}else{if(t<0)throw new Error(Pb(e,t));c*=t,l.push(t)}}if(-1!==u){if(c<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");const e=Math.trunc(a/c);if(c*e!==a)throw new Error($b(o,l));l[u]=e}if(Sa(l)!==a)throw new Error(Lb(o,l));const p=o.length,d=[];if(p>0){d[p-1]=1;for(let e=p-2;e>=0;--e)d[e]=d[e+1]*o[e+1]}const m=[];if(s>0){m[s-1]=1;for(let e=s-2;e>=0;--e)m[e]=m[e+1]*l[e+1]}const f=Aa(n,i*s);for(let t=0;t<i;++t){let n=0;for(let o=0;o<p;++o)n+=e[t*p+o]*d[o];for(let e=0;e<s;++e)f[t*s+e]=Math.trunc(n/m[e]),n%=m[e]}return[f,[i,s],l]}(s,o.shape,o.dtype,i,l);return[n.makeTensorInfo(u,o.dtype,c),n.makeTensorInfo([p.length],a.dtype,new Int32Array(p))]}};function hM(e,t,n,o,r,a=!1,i=0){const s=o.length,l=[t[0],e.length/t[0]],c=l[1],u=s>0?r[s-1]+1:0;if(u<0)throw new Error("segment ids must be >= 0");const p=t.slice();p[0]=u;const d=Aa(n,p.reduce(((e,t)=>e*t),1));if(0===s)return u>0&&d.fill(i),[d,p];if(u<=0)throw new Error("segment ids must be >= 0");let m=0,f=1,h=0,y=r[m];for(;;){let t=0;if(f<s){if(t=r[f],y===t){++f;continue}if(y>=t)throw new Error("segment ids are not increasing")}if(y<0||y>=u)throw new Error(Bb(y,u));y>h&&d.fill(i,h*c,y*c);for(let t=m;t<f;++t){const n=o[t];if(n<0||n>=l[0])throw new Error(jb(t,o[t],l[0]));for(let t=0;t<c;t++)d[y*c+t]+=e[n*c+t]}if(a)for(let e=0;e<c;e++)d[y*c+e]/=f-m;if(m=f,++f,h=y+1,y=t,f>s)break}return h<u&&d.fill(i,h*c,u*c),[d,p]}const yM={kernelName:zl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:o,indices:r,segmentIds:a}=t;if(o.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error(`Indices should be a vector but received shape\n          ${r.shape}`);if(1!==a.shape.length)throw new Error(`Segment ids should be a vector but received shape\n          ${a.shape}`);if(r.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");const i=n.data.get(o.dataId).values,s=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,[c,u]=hM(i,o.shape,o.dtype,s,l,!0);return n.makeTensorInfo(u,o.dtype,c)}};const gM={kernelName:Pl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:o,indices:r,segmentIds:a}=t;if(o.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error(`Indices should be a vector but received shape\n         ${r.shape}`);if(1!==a.shape.length)throw new Error(`Segment ids should be a vector but received shape\n         ${a.shape}`);if(r.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");const i=n.data.get(o.dataId).values,s=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,[c,u]=hM(i,o.shape,o.dtype,s,l);return n.makeTensorInfo(u,o.dtype,c)}};const bM={kernelName:$l,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{sparseIndices:r,sparseValues:a,defaultValue:i}=t,{outputShape:s}=o,{sliceRank:l,numUpdates:c,sliceSize:u,strides:p,outputSize:d}=Bd(0,r,s),m=!1,f=n.bufferSync(r);let h;switch(a.dtype){case"bool":h=YA(f,n.bufferSync(a),s,d,u,c,l,p,Boolean(n.data.get(i.dataId).values[0]),m);break;case"float32":h=YA(f,n.bufferSync(a),s,d,u,c,l,p,n.data.get(i.dataId).values[0],m);break;case"int32":h=YA(f,n.bufferSync(a),s,d,u,c,l,p,n.data.get(i.dataId).values[0],m);break;case"string":h=YA(f,n.bufferSync(a),s,d,u,c,l,p,zc(n.data.get(i.dataId).values[0]),m);break;default:throw new Error(`Unsupported type ${a.dtype}`)}return n.makeTensorInfo(s,h.dtype,h.values)}};const vM={kernelName:Ol,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{numOrSizeSplits:a,axis:i}=o,s=Na(i,r.shape)[0],l=Ob(r,a,s),c=new Array(r.shape.length).fill(0),u=r.shape.slice();return l.map((e=>{const t=[...u];t[s]=e;const o=Ak({inputs:{x:r},backend:n,attrs:{begin:c,size:t}});return c[s]+=e,o}))}},wM=(rT((e=>Math.sqrt(e))),aT(Cl,(e=>Math.sqrt(e)))),kM={kernelName:Cl,backendName:"cpu",kernelFunc:wM},xM={kernelName:Bl,backendName:"cpu",kernelFunc:({inputs:e,backend:t})=>{const{x:n}=e,o=t;Nk(n,"square");const r=o.data.get(n.dataId).values,a=new Float32Array(r.length);for(let e=0;e<r.length;++e){const t=r[e];a[e]=t*t}return{dataId:o.write(a,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}},SM=mT(((e,t)=>{const n=e-t;return n*n})),_M=MT(Ll,SM),IM={kernelName:Ll,backendName:"cpu",kernelFunc:_M},TM=rT(((e,t)=>{const{pattern:n,replaceGlobal:o,rewrite:r}=t;return e.replace(new RegExp(n,o?"g":""),r)})),EM=iT(jl,TM),NM={kernelName:jl,backendName:"cpu",kernelFunc:EM},CM=aT(oc,((e,t)=>{const n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),AM={kernelName:oc,backendName:"cpu",kernelFunc:CM};const MM={kernelName:Wl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{begin:a,end:i,strides:s,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:p,shrinkAxisMask:d}=o;Nk(r,"stridedSlice");const{finalShapeSparse:m,finalShape:f,isIdentity:h,sliceDim0:y,isSimpleSlice:g,begin:b,end:v,strides:w}=Gd(r.shape,a,i,s,l,c,u,p,d);let k;if(h)k=PT({inputs:{x:r},backend:n,attrs:{shape:f}});else if(y||g){wa(r.shape.length>=1,(()=>`Input must have rank at least 1, got: ${r.shape.length}`));const e=Ud(b,v,w),t=Ak({inputs:{x:r},backend:n,attrs:{begin:b,size:e}});k=PT({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{const e=function(e,t,n,o){const r=Mp(e,t.dtype);for(let e=0;e<r.size;e++){const a=r.indexToLoc(e),i=new Array(a.length);for(let e=0;e<i.length;e++)i[e]=a[e]*n[e]+o[e];r.set(t.get(...i),...a)}return r}(m,n.bufferSync(r),w,b);k=n.makeTensorInfo(f,e.dtype,e.values)}return k}};const OM={kernelName:Ul,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{separator:r,nGramWidths:a,leftPad:i,rightPad:s,padWidth:l,preserveShortSequences:c}=o,{data:u,dataSplits:p}=t,d=n.data.get(u.dataId).values,m=n.data.get(p.dataId).values,[f,h]=dI(d,m,r,a,i,s,l,c);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(p.shape,"int32",h)]}};const DM={kernelName:Hl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{skipEmpty:r}=o,{input:a,delimiter:i}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error(`Input must be a vector, got shape: ${a.shape}`);if(0!==i.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${i.shape}`);const s=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values[0],[c,u,p]=hI(s,l,r),d=u.length;return[n.makeTensorInfo([d,2],"int32",c),n.makeTensorInfo([d],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(p))]}};const RM={kernelName:Vl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{numBuckets:r}=o,{input:a}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const i=gI(n.data.get(a.dataId).values,r);return n.makeTensorInfo(a.shape,"int32",i)}},FM=aT(Gl,(e=>Math.tan(e))),zM={kernelName:Gl,backendName:"cpu",kernelFunc:FM},PM=aT(Kl,(e=>Math.tanh(e)));const $M={kernelName:vl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{tensor:o,indices:r,updates:a}=t,{sliceRank:i,numUpdates:s,sliceSize:l,strides:c,outputSize:u}=Bd(0,r,o.shape),p=n.bufferSync(r),d=n.bufferSync(a),m=n.bufferSync(o),f=YA(p,d,o.shape,u,l,s,i,c,m,!1);return n.makeTensorInfo(o.shape,f.dtype,f.values)}};const LM={kernelName:Yl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{reps:a}=o;Nk(r,"tile");const i=function(e,t){const n=new Array(e.rank);for(let o=0;o<n.length;o++)n[o]=e.shape[o]*t[o];const o=Mp(n,e.dtype);for(let t=0;t<o.values.length;++t){const n=o.indexToLoc(t),r=new Array(e.rank);for(let t=0;t<r.length;t++)r[t]=n[t]%e.shape[t];const a=e.locToIndex(r);o.values[t]=e.values[a]}return o}(n.bufferSync(r),a);return n.makeTensorInfo(i.shape,i.dtype,i.values)}},BM=(e,t)=>{const n=t.value-e.value;return 0===n?e.index-t.index:n};function jM(e,t,n=0,o=e.length-1){for(;o>n;){if(o-n>600){const r=o-n+1,a=t-n+1,i=Math.log(r),s=.5*Math.exp(2*i/3),l=.5*Math.sqrt(i*s*(r-s)/r)*Math.sign(a-r/2);jM(e,t,Math.max(n,Math.floor(t-a*s/r+l)),Math.min(o,Math.floor(t+(r-a)*s/r+l)))}const r=e[t];let a=n,i=o;for(va(e,n,t),BM(e[o],r)>0&&va(e,n,o);a<i;){for(va(e,a,i),a++,i--;BM(e[a],r)<0;)a+=1;for(;BM(e[i],r)>0;)i-=1}0===BM(e[n],r)?va(e,n,i):(i+=1,va(e,i,o)),i<=t&&(n=i+1),t<=i&&(o=i-1)}}const WM={kernelName:Xl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r}=t,{k:a,sorted:i}=o;Nk(r,"topk");const s=n.data.get(r.dataId).values,[l,c]=function(e,t,n,o,r){const a=t[t.length-1],[i,s]=[e.length/a,a],l=Ca(n,i*o),c=Ca("int32",i*o);for(let t=0;t<i;t++){const n=t*s,a=e.subarray(n,n+s);let i=new Array(a.length);a.forEach(((e,t)=>i[t]={value:e,index:t})),o<i.length&&(jM(i,o),i=i.slice(0,o)),r&&i.sort(BM);const u=t*o,p=l.subarray(u,u+o),d=c.subarray(u,u+o);for(let e=0;e<o;e++)p[e]=i[e].value,d[e]=i[e].index}const u=t.slice();return u[u.length-1]=o,[Mp(u,n,l),Mp(u,"int32",c)]}(s,r.shape,r.dtype,a,i);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(c.shape,c.dtype,c.values)]}};const UM={kernelName:Jl,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:o}=e,{image:r,transforms:a}=t,{interpolation:i,fillMode:s,fillValue:l,outputShape:c}=n,[u,p,d,m]=r.shape,[f,h]=null!=c?c:[p,d],y=[u,f,h,m],g=Fa(r.shape),b=g[0],v=g[1],w=g[2],k=Fa(y),x=k[0],S=k[1],_=k[2],I=Ca(r.dtype,Sa(y));I.fill(l);const T=o.data.get(r.dataId).values,E=o.data.get(a.dataId).values;for(let e=0;e<u;++e){const t=1===a.shape[0]?E:E.subarray(8*e,8*e+8);for(let n=0;n<f;++n)for(let o=0;o<h;++o)for(let r=0;r<m;++r){let a;const c=t[6]*o+t[7]*n+1;if(0===c)continue;const u=(t[0]*o+t[1]*n+t[2])/c,m=(t[3]*o+t[4]*n+t[5])/c,f=HM(u,d,s),h=HM(m,p,s);switch(i){case"nearest":a=qM(T,p,d,b,v,w,e,h,f,r,l);break;case"bilinear":a=GM(T,p,d,b,v,w,e,h,f,r,l);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${i}`)}I[e*x+n*S+o*_+r]=a}return o.makeTensorInfo(y,r.dtype,I)}return{dataId:o.write(I,y,r.dtype),shape:r.shape,dtype:r.dtype}}};function HM(e,t,n){switch(n){case"reflect":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=2*t;n<e&&(n=e*Math.trunc(-n/e)+n),n=n<-t?n+e:-n-1}else if(n>t-1)if(t<=1)n=0;else{const e=2*t;n-=e*Math.trunc(n/e),n>=t&&(n=e-n-1)}return ba(0,n,t-1)}(e,t);case"wrap":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=t-1;n+=t*(Math.trunc(-n/e)+1)}else if(n>t-1)if(t<=1)n=0;else{const e=t-1;n-=t*Math.trunc(n/e)}return ba(0,n,t-1)}(e,t);case"nearest":return function(e,t){return ba(0,e,t-1)}(e,t);default:return function(e){return e}(e)}}function VM(e,t,n,o,r,a,i,s,l,c,u){return 0<=s&&s<t&&0<=l&&l<n?e[i*o+s*r+l*a+c]:u}function qM(e,t,n,o,r,a,i,s,l,c,u){return VM(e,t,n,o,r,a,i,Math.round(s),Math.round(l),c,u)}function GM(e,t,n,o,r,a,i,s,l,c,u){const p=Math.floor(s),d=Math.floor(l),m=p+1,f=d+1;return(m-s)*((f-l)*VM(e,t,n,o,r,a,i,p,d,c,u)+(l-d)*VM(e,t,n,o,r,a,i,p,f,c,u))+(s-p)*((f-l)*VM(e,t,n,o,r,a,i,m,d,c,u)+(l-d)*VM(e,t,n,o,r,a,i,m,f,c,u))}const KM={kernelName:Ql,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:o}=e,{axis:r}=n,{x:a}=t;Nk(a,"unique");const i=o.data.get(a.dataId).values,{outputValues:s,outputShape:l,indices:c}=OI(i,r,a.shape,a.dtype);return[o.makeTensorInfo(l,a.dtype,s),o.makeTensorInfo([c.length],"int32",c)]}};const YM={kernelName:ec,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{value:r}=t;let{axis:a}=o;a<0&&(a+=r.shape.length);const i=r.shape.length,s=r.shape[a],l=new Array(i-1);let c=0;for(let e=0;e<i;e++)e!==a&&(l[c++]=r.shape[e]);const u=new Array(i).fill(0),p=r.shape.slice();p[a]=1;const d=new Array(s);for(let e=0;e<d.length;e++){u[a]=e;const t=Ak({inputs:{x:r},backend:n,attrs:{begin:u,size:p}});d[e]=PT({inputs:{x:t},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(t)}return d}};const XM={kernelName:tc,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:o}=e,{x:r,segmentIds:a}=t,{numSegments:i}=o;Nk(r,"unsortedSegmentSum");const s=[],l=[],c=r.shape.length-a.shape.length;let u=a;for(let e=0;e<c;++e){const t=_N({inputs:{input:u},backend:n,attrs:{dim:e+1}});u=t,l.push(t)}for(let e=0;e<i;++e){const t=Oc(e,"int32"),o=n.makeTensorInfo([],"int32",t),a=gN({inputs:{a:o,b:u},backend:n}),i=CT({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),c=uN({inputs:{a:i,b:r},backend:n}),p=dN({inputs:{x:c},backend:n,attrs:{axis:0,keepDims:!1}});s.push(p),l.push(o),l.push(a),l.push(i),l.push(c),l.push(p)}const p=yA({inputs:s,backend:n,attrs:{axis:0}});return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),p}},JM=[jT,WT,HT,qT,zT,GT,JT,ZT,QT,eE,nE,rE,iE,cE,pE,hE,yE,gE,bE,BT,vE,wE,xE,IE,TE,AT,CE,ME,IT,OE,zE,$E,LE,BE,jE,WE,UE,VE,GE,KE,YE,XE,JE,ZE,eN,tN,nN,oN,rN,aN,iN,sN,fN,lT,hN,bN,wN,SN,IN,NN,LN,jN,WN,VN,KN,YN,XN,JN,ZN,tC,rC,uT,aC,RE,sC,cC,pC,dT,fC,gC,bC,kC,SC,TC,NC,MC,OC,DC,FC,$C,LC,BC,jC,WC,UC,HC,VC,KC,YC,ZC,tA,pN,nA,rA,iA,lA,pA,dA,hA,gA,bA,kA,yT,xA,EA,CA,RA,FA,NT,MN,PA,bT,wT,$T,$A,LA,BA,jA,WA,UA,VA,KA,XA,QA,eM,nM,xT,rM,iM,lM,Mk,eA,pM,dM,mM,fM,yM,gM,bM,vM,kM,xM,IM,NM,AM,MM,OM,DM,RM,FN,mN,zM,{kernelName:Kl,backendName:"cpu",kernelFunc:PM},$M,LM,WM,UM,XT,KM,YM,XM,fA];for(const e of JM)hc(e);const ZM=new O("retryUtil");const QM=(e,t,n=3e5,o)=>async function(e,t,n,o){if("function"!=typeof e)throw Error("functionToRetry must be a function");return new Promise((async(r,a)=>{let i,s,l=0,c=!1,u=()=>{};for(o&&o.then((()=>{c=!0,clearTimeout(i),u()}));!c;){l++,ZM.debug(`${e.name} attempt #${l} with this vars: ${JSON.stringify(t)}`);try{return void r(await e(...t))}catch(o){if(s=o,ZM.debug(`error on ${e.name}`,o),(p=o)&&p.nonRetryable)return ZM.debug(`${e.name} non retryable error`,o),void a(o);const r=n(l,t,o);if(ZM.debug(`${e.name} retrying in ${r} ms`),!1===r||c)return void a(o);await new Promise((e=>{u=e,i=setTimeout(u,r)}))}}var p;a(s)}))}(e,t,Xe(n),o);class eO{triggerModelLoading(){this.modelLoadingPromise=this.loadModels()}}class tO extends eO{constructor(e,t){super(),this.faceModelUrl=t??"https://cdn.liveness.rekognition.amazonaws.com/face-detection/tensorflow-models/blazeface/1.0.2/model/model.json",this.binaryPath=e??"https://cdn.liveness.rekognition.amazonaws.com/face-detection/tensorflow/tfjs-backend-wasm/4.11.0/"}async loadModels(){!function(){try{return!(!window.WebAssembly||!window.WebAssembly.compile&&!window.WebAssembly.compileStreaming)}catch(e){return!1}}()?await this._loadCPUBackend():await this._loadWebAssemblyBackend();try{await bu.ready(),this._model=await function(e,t){return mw(this,void 0,void 0,(function(){var n,o;return fw(this,(function(r){if(e===Aw.MediaPipeFaceDetector){if(o=void 0,null!=(n=t)){if("tfjs"===n.runtime)return[2,jw(n)];if("mediapipe"===n.runtime)return[2,bw(n)];o=n.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' "+"or 'mediapipe', but got ".concat(o))}throw new Error("".concat(e," is not a supported model name."))}))}))}(Aw.MediaPipeFaceDetector,{runtime:"tfjs",detectorModelUrl:this.faceModelUrl})}catch(e){throw new Error("There was an error loading the blazeface model. If you are using a custom blazeface model url ensure that it is a fully qualified url that returns a json file.")}}async detectFaces(e){const t=await this._model.estimateFaces(e,{flipHorizontal:!0}),n=Date.now();return t.map((e=>{const{box:t,keypoints:o}=e,{xMin:r,yMin:a,width:i,height:s}=t,l=this._getCoordinate(o,"rightEye"),c=this._getCoordinate(o,"leftEye"),u=this._getCoordinate(o,"noseTip"),p=this._getCoordinate(o,"mouthCenter"),d=this._getCoordinate(o,"rightEarTragion"),m=this._getCoordinate(o,"leftEarTragion");return{top:a,left:r,width:i,height:s,timestampMs:n,probability:90,rightEye:l,leftEye:c,mouth:p,nose:u,rightEar:d,leftEar:m}}))}_getCoordinate(e,t){const n=e.find((e=>e.name===t));return[n.x,n.y]}async _loadWebAssemblyBackend(){try{!function(e,t=!1){if(ZI)throw new Error("The WASM backend was already initialized. Make sure you call `setWasmPaths()` before you call `tf.setBackend()` or `tf.ready()`");if("string"==typeof e)XI=e;else{JI=e;const t=KI.filter((e=>null==JI[e]));if(t.length>0)throw new Error(`There were no entries found for the following binaries: ${t.join(",")}. Please either call setWasmPaths with a map providing a path for each binary, or with a string indicating the directory where all the binaries can be found.`)}QI=t}(this.binaryPath),await QM((async()=>{if(!await Lp("wasm"))throw new Error("Initialization of backend wasm failed")}),[]),this.modelBackend="wasm"}catch(e){throw new Error('There was an error loading the TFJS WASM backend. If you are using a custom WASM path ensure that it ends with "/" and that it is not the full URL as @tensorflow/tfjs-backend-wasm will append the wasm binary file name. Read more: https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/src/backend_wasm.ts#L475.')}}async _loadCPUBackend(){await Lp("cpu"),this.modelBackend="cpu"}}var nO,oO,rO,aO;!function(e){e.HEADER="header",e.QUERY="query"}(nO||(nO={})),function(e){e.HEADER="header",e.QUERY="query"}(oO||(oO={})),function(e){e.HTTP="http",e.HTTPS="https"}(rO||(rO={})),function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"}(aO||(aO={}));var iO;!function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"}(iO||(iO={}));const sO="__smithy_context";var lO,cO;!function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"}(lO||(lO={})),function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(cO||(cO={}));class uO{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new uO({...e,headers:{...e.headers}});var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce(((e,t)=>{const o=n[t];return{...e,[t]:Array.isArray(o)?[...o]:o}}),{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){return uO.clone(this)}}const pO={tags:["EVENT_STREAM","SIGNATURE","HANDLE"],name:"eventStreamHandlingMiddleware",relation:"after",toMiddleware:"awsAuthMiddleware",override:!0},dO=e=>async t=>{const{request:n}=t;return uO.isInstance(n)?(n.headers={...n.headers,"content-type":"application/vnd.amazon.eventstream","x-amz-content-sha256":"STREAMING-AWS4-HMAC-SHA256-EVENTS"},e({...t,request:n})):e(t)},mO={step:"build",tags:["EVENT_STREAM","HEADER","CONTENT_TYPE","CONTENT_SHA256"],name:"eventStreamHeaderMiddleware",override:!0},fO=e=>({applyToStack:t=>{t.addRelativeTo((e=>(t,n)=>async o=>{const{request:r}=o;return uO.isInstance(r)?e.eventStreamPayloadHandler.handle(t,o,n):t(o)})(e),pO),t.add(dO,mO)}});!function(){function e(){this.crc32=new hO}e.prototype.update=function(e){se(e)||this.crc32.update(ie(e))},e.prototype.digest=function(){return(0,Q.sH)(this,void 0,void 0,(function(){return(0,Q.YH)(this,(function(e){return[2,(t=this.crc32.digest(),new Uint8Array([(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))];var t}))}))},e.prototype.reset=function(){this.crc32=new hO}}();var hO=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,n;try{for(var o=(0,Q.Ju)(e),r=o.next();!r.done;r=o.next()){var a=r.value;this.checksum=this.checksum>>>8^yO[255&(this.checksum^a)]}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}(),yO=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);const gO={},bO={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),gO[e]=t,bO[t]=e}function vO(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const o=e.slice(n,n+2).toLowerCase();if(!(o in bO))throw new Error(`Cannot decode unrecognized sequence ${o} as hexadecimal`);t[n/2]=bO[o]}return t}function wO(e){let t="";for(let n=0;n<e.byteLength;n++)t+=gO[e[n]];return t}class kO{constructor(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const t=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(e));n>-1&&o>0;n--,o/=256)t[n]=o;return e<0&&xO(t),new kO(t)}valueOf(){const e=this.bytes.slice(0),t=128&e[0];return t&&xO(e),parseInt(wO(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function xO(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}class SO{constructor(e,t){this.toUtf8=e,this.fromUtf8=t}format(e){const t=[];for(const n of Object.keys(e)){const o=this.fromUtf8(n);t.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[n]))}const n=new Uint8Array(t.reduce(((e,t)=>e+t.byteLength),0));let o=0;for(const e of t)n.set(e,o),o+=e.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const o=new Uint8Array(9);return o[0]=5,o.set(e.value.bytes,1),o;case"binary":const r=new DataView(new ArrayBuffer(3+e.value.byteLength));r.setUint8(0,6),r.setUint16(1,e.value.byteLength,!1);const a=new Uint8Array(r.buffer);return a.set(e.value,3),a;case"string":const i=this.fromUtf8(e.value),s=new DataView(new ArrayBuffer(3+i.byteLength));s.setUint8(0,7),s.setUint16(1,i.byteLength,!1);const l=new Uint8Array(s.buffer);return l.set(i,3),l;case"timestamp":const c=new Uint8Array(9);return c[0]=8,c.set(kO.fromNumber(e.value.valueOf()).bytes,1),c;case"uuid":if(!RO.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const u=new Uint8Array(17);return u[0]=9,u.set(vO(e.value.replace(/\-/g,"")),1),u}}parse(e){const t={};let n=0;for(;n<e.byteLength;){const o=e.getUint8(n++),r=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,o));switch(n+=o,e.getUint8(n++)){case 0:t[r]={type:IO,value:!0};break;case 1:t[r]={type:IO,value:!1};break;case 2:t[r]={type:TO,value:e.getInt8(n++)};break;case 3:t[r]={type:EO,value:e.getInt16(n,!1)},n+=2;break;case 4:t[r]={type:NO,value:e.getInt32(n,!1)},n+=4;break;case 5:t[r]={type:CO,value:new kO(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:const o=e.getUint16(n,!1);n+=2,t[r]={type:AO,value:new Uint8Array(e.buffer,e.byteOffset+n,o)},n+=o;break;case 7:const a=e.getUint16(n,!1);n+=2,t[r]={type:MO,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,a))},n+=a;break;case 8:t[r]={type:OO,value:new Date(new kO(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const i=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,t[r]={type:DO,value:`${wO(i.subarray(0,4))}-${wO(i.subarray(4,6))}-${wO(i.subarray(6,8))}-${wO(i.subarray(8,10))}-${wO(i.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}}var _O;!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(_O||(_O={}));const IO="boolean",TO="byte",EO="short",NO="integer",CO="long",AO="binary",MO="string",OO="timestamp",DO="uuid",RO=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class FO{constructor(e,t){this.headerMarshaller=new SO(e,t),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){const e=this.messageBuffer.pop(),t=this.isEndOfStream;return{getMessage:()=>e,isEndOfStream:()=>t}}getAvailableMessages(){const e=this.messageBuffer;this.messageBuffer=[];const t=this.isEndOfStream;return{getMessages:()=>e,isEndOfStream:()=>t}}encode({headers:e,body:t}){const n=this.headerMarshaller.format(e),o=n.byteLength+t.byteLength+16,r=new Uint8Array(o),a=new DataView(r.buffer,r.byteOffset,r.byteLength),i=new hO;return a.setUint32(0,o,!1),a.setUint32(4,n.byteLength,!1),a.setUint32(8,i.update(r.subarray(0,8)).digest(),!1),r.set(n,12),r.set(t,n.byteLength+12),a.setUint32(o-4,i.update(r.subarray(8,o-4)).digest(),!1),r}decode(e){const{headers:t,body:n}=function({byteLength:e,byteOffset:t,buffer:n}){if(e<16)throw new Error("Provided message too short to accommodate event stream message overhead");const o=new DataView(n,t,e),r=o.getUint32(0,!1);if(e!==r)throw new Error("Reported message length does not match received message length");const a=o.getUint32(4,!1),i=o.getUint32(8,!1),s=o.getUint32(e-4,!1),l=(new hO).update(new Uint8Array(n,t,8));if(i!==l.digest())throw new Error(`The prelude checksum specified in the message (${i}) does not match the calculated CRC32 checksum (${l.digest()})`);if(l.update(new Uint8Array(n,t+8,e-12)),s!==l.digest())throw new Error(`The message checksum (${l.digest()}) did not match the expected value of ${s}`);return{headers:new DataView(n,t+8+4,a),body:new Uint8Array(n,t+8+4+a,r-a-16)}}(e);return{headers:this.headerMarshaller.parse(t),body:n}}formatHeaders(e){return this.headerMarshaller.format(e)}}class zO{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream){const t=this.options.decoder.decode(e);yield t}}}class PO{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream){const t=this.options.encoder.encode(e);yield t}this.options.includeEndFrame&&(yield new Uint8Array(0))}}class $O{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream){const t=await this.options.deserializer(e);void 0!==t&&(yield t)}}}class LO{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream){const t=this.options.serializer(e);yield t}}}class BO{constructor(e){this.messageSigner=e.messageSigner,this.eventStreamCodec=new FO(e.utf8Encoder,e.utf8Decoder),this.systemClockOffsetProvider=async()=>e.systemClockOffset??0}async handle(e,t,n={}){const o=t.request,{body:r,headers:a,query:i}=o;if(!(r instanceof ReadableStream))throw new Error("Eventstream payload must be a ReadableStream.");const s=new TransformStream;let l;o.body=s.readable;try{l=await e(t)}catch(e){throw o.body.cancel(),e}const c=((e,t,n,o)=>{let r=e;const a={start(){},async transform(e,a){try{const i=new Date(Date.now()+await o()),s={":date":{type:"timestamp",value:i}},l=await t.sign({message:{body:e,headers:s},priorSignature:r},{signingDate:i});r=l.signature;const c=n.encode({headers:{...s,":chunk-signature":{type:"binary",value:vO(l.signature)}},body:e});a.enqueue(c)}catch(e){a.error(e)}}};return new TransformStream({...a})})(((a.authorization||"").match(/Signature=([\w]+)$/)||[])[1]||i&&i["X-Amz-Signature"]||"",await this.messageSigner(),this.eventStreamCodec,this.systemClockOffsetProvider);return r.pipeThrough(c).pipeThrough(s),l}}const jO=e=>new BO(e),WO={step:"initialize",name:"injectSessionIdMiddleware",tags:["WEBSOCKET","EVENT_STREAM"],override:!0};class UO{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new UO({...e,headers:{...e.headers}});var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce(((e,t)=>{const o=n[t];return{...e,[t]:Array.isArray(o)?[...o]:o}}),{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){return UO.clone(this)}}class HO{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers}}const VO={name:"websocketEndpointMiddleware",tags:["WEBSOCKET","EVENT_STREAM"],relation:"after",toMiddleware:"eventStreamHeaderMiddleware",override:!0},qO=(e,t)=>({applyToStack:n=>{n.addRelativeTo(((e,t)=>n=>o=>{const{request:r}=o;if(UO.isInstance(r)&&e.requestHandler.metadata?.handlerProtocol?.toLowerCase().includes("websocket")){r.protocol="wss:",r.method="GET",r.path=`${r.path}-websocket`;const{headers:e}=r;delete e["content-type"],delete e["x-amz-content-sha256"];for(const n of Object.keys(e))if(0===n.indexOf(t.headerPrefix)){const o=n.replace(t.headerPrefix,"");r.query[o]=e[n]}e["x-amz-user-agent"]&&(r.query["user-agent"]=e["x-amz-user-agent"]),r.headers={host:e.host??r.hostname}}return n(o)})(e,t),VO),n.add((e=>async t=>{const n={...t.input},o=await e(t),r=o.output;return n.SessionId&&null==r.SessionId&&(r.SessionId=n.SessionId),o}),WO)}}),GO=e=>"ws:"===e.protocol||"wss:"===e.protocol;class KO{constructor(e){this.signer=e.signer}presign(e,t={}){return this.signer.presign(e,t)}async sign(e,t){if(UO.isInstance(e)&&GO(e)){return{...await this.signer.presign({...e,body:""},{...t,expiresIn:60,unsignableHeaders:new Set(Object.keys(e.headers).filter((e=>"host"!==e)))}),body:e.body}}return this.signer.sign(e,t)}}const YO=e=>!!e,XO=e=>encodeURIComponent(e).replace(/[!'()*]/g,JO),JO=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function ZO(e){const t=[];for(let n of Object.keys(e).sort()){const o=e[n];if(n=XO(n),Array.isArray(o))for(let e=0,r=o.length;e<r;e++)t.push(`${n}=${XO(o[e])}`);else{let e=n;(o||"string"==typeof o)&&(e+=`=${XO(o)}`),t.push(e)}}return t.join("&")}function QO(e){const{port:t,query:n}=e;let{protocol:o,path:r,hostname:a}=e;o&&":"!==o.slice(-1)&&(o+=":"),t&&(a+=`:${t}`),r&&"/"!==r.charAt(0)&&(r=`/${r}`);let i=n?ZO(n):"";i&&"?"!==i[0]&&(i=`?${i}`);let s="";if(null!=e.username||null!=e.password){s=`${e.username??""}:${e.password??""}@`}let l="";return e.fragment&&(l=`#${e.fragment}`),`${o}//${s}${a}${r}${i}${l}`}function eD(e=0){return new Promise(((t,n)=>{e&&setTimeout((()=>{const t=new Error(`Request did not complete within ${e} ms`);t.name="TimeoutError",n(t)}),e)}))}const tD={supported:void 0};class nD{static create(e){return"function"==typeof e?.handle?e:new nD(e)}constructor(e){"function"==typeof e?this.configProvider=e().then((e=>e||{})):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),void 0===tD.supported&&(tD.supported=Boolean("undefined"!=typeof Request&&"keepalive"in new Request("https://[::1]")))}destroy(){}async handle(e,{abortSignal:t}={}){this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout,o=!0===this.config.keepAlive,r=this.config.credentials;if(t?.aborted){const e=new Error("Request aborted");return e.name="AbortError",Promise.reject(e)}let a=e.path;const i=ZO(e.query||{});i&&(a+=`?${i}`),e.fragment&&(a+=`#${e.fragment}`);let s="";if(null!=e.username||null!=e.password){s=`${e.username??""}:${e.password??""}@`}const{port:l,method:c}=e,u=`${e.protocol}//${s}${e.hostname}${l?`:${l}`:""}${a}`,p="GET"===c||"HEAD"===c?void 0:e.body,d={body:p,headers:new Headers(e.headers),method:c,credentials:r};p&&(d.duplex="half"),"undefined"!=typeof AbortController&&(d.signal=t),tD.supported&&(d.keepalive=o);let m=()=>{};const f=new Request(u,d),h=[fetch(f).then((e=>{const t=e.headers,n={};for(const e of t.entries())n[e[0]]=e[1];return null!=e.body?{response:new HO({headers:n,reason:e.statusText,statusCode:e.status,body:e.body})}:e.blob().then((t=>({response:new HO({headers:n,reason:e.statusText,statusCode:e.status,body:t})})))})),eD(n)];return t&&h.push(new Promise(((e,n)=>{const o=()=>{const e=new Error("Request aborted");e.name="AbortError",n(e)};if("function"==typeof t.addEventListener){const e=t;e.addEventListener("abort",o,{once:!0}),m=()=>e.removeEventListener("abort",o)}else t.onabort=o}))),Promise.race(h).finally(m)}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then((n=>(n[e]=t,n)))}httpHandlerConfigs(){return this.config??{}}}const oD={},rD=new Array(64);for(let e=0,t="A".charCodeAt(0),n="Z".charCodeAt(0);e+t<=n;e++){const n=String.fromCharCode(e+t);oD[n]=e,rD[e]=n}for(let e=0,t="a".charCodeAt(0),n="z".charCodeAt(0);e+t<=n;e++){const n=String.fromCharCode(e+t),o=e+26;oD[n]=o,rD[o]=n}for(let e=0;e<10;e++){oD[e.toString(10)]=e+52;const t=e.toString(10),n=e+52;oD[t]=n,rD[n]=t}oD["+"]=62,rD[62]="+",oD["/"]=63,rD[63]="/";const aD=6,iD=8,sD=63,lD=e=>{let t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;const n=new ArrayBuffer(t),o=new DataView(n);for(let t=0;t<e.length;t+=4){let n=0,r=0;for(let o=t,a=t+3;o<=a;o++)if("="!==e[o]){if(!(e[o]in oD))throw new TypeError(`Invalid character ${e[o]} in base64 string.`);n|=oD[e[o]]<<(a-o)*aD,r+=aD}else n>>=aD;const a=t/4*3;n>>=r%iD;const i=Math.floor(r/iD);for(let e=0;e<i;e++){const t=(i-e-1)*iD;o.setUint8(a+e,(n&255<<t)>>t)}}return new Uint8Array(n)},cD=e=>(new TextEncoder).encode(e);function uD(e){let t;t="string"==typeof e?cD(e):e;const n="object"==typeof t&&"number"==typeof t.length,o="object"==typeof t&&"number"==typeof t.byteOffset&&"number"==typeof t.byteLength;if(!n&&!o)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let r="";for(let e=0;e<t.length;e+=3){let n=0,o=0;for(let r=e,a=Math.min(e+3,t.length);r<a;r++)n|=t[r]<<(a-r-1)*iD,o+=iD;const a=Math.ceil(o/aD);n<<=a*aD-o;for(let e=1;e<=a;e++){const t=(a-e)*aD;r+=rD[(n&sD<<t)>>t]}r+="==".slice(0,4-a)}return r}const pD=2e3;class dD{static create(e,t=new nD){return"function"==typeof e?.handle?e:new dD(e,t)}constructor(e,t=new nD){this.metadata={handlerProtocol:"websocket/h1.1"},this.sockets={},this.httpHandler=t,"function"==typeof e?(this.config={},this.configPromise=e().then((e=>this.config=e??{}))):(this.config=e??{},this.configPromise=Promise.resolve(this.config))}destroy(){for(const[e,t]of Object.entries(this.sockets)){for(const e of t)e.close(1e3,"Socket closed through destroy() call");delete this.sockets[e]}}async handle(e){if(!GO(e))return this.httpHandler.handle(e);const t=QO(e),n=new WebSocket(t);this.sockets[t]||(this.sockets[t]=[]),this.sockets[t].push(n),n.binaryType="arraybuffer",this.config=await this.configPromise;const{connectionTimeout:o=pD}=this.config;await this.waitForReady(n,o);const{body:r}=e,a=mD(r),i=this.connect(n,a),s=fD(i);return{response:new HO({statusCode:200,body:s})}}updateHttpClientConfig(e,t){this.configPromise=this.configPromise.then((n=>(n[e]=t,n)))}httpHandlerConfigs(){return this.config??{}}removeNotUsableSockets(e){this.sockets[e]=(this.sockets[e]??[]).filter((e=>![WebSocket.CLOSING,WebSocket.CLOSED].includes(e.readyState)))}waitForReady(e,t){return new Promise(((n,o)=>{const r=setTimeout((()=>{this.removeNotUsableSockets(e.url),o({$metadata:{httpStatusCode:500}})}),t);e.onopen=()=>{clearTimeout(r),n()}}))}connect(e,t){let n,o=!1,r=()=>{},a=()=>{};e.onmessage=e=>{a({done:!1,value:new Uint8Array(e.data)})},e.onerror=t=>{o=!0,e.close(),r(t)},e.onclose=()=>{this.removeNotUsableSockets(e.url),o||(n?r(n):a({done:!0,value:void 0}))};const i={[Symbol.asyncIterator]:()=>({next:()=>new Promise(((e,t)=>{a=e,r=t}))})};return(async()=>{try{for await(const n of t)e.send(n)}catch(e){n=e}finally{e.close(1e3)}})(),i}}const mD=e=>{return e[Symbol.asyncIterator]?e:hD(e)?(t=e,{[Symbol.asyncIterator]:async function*(){const e=t.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)return;yield n}}finally{e.releaseLock()}}}):{[Symbol.asyncIterator]:async function*(){yield e}};var t},fD=e=>"function"==typeof ReadableStream?(e=>{const t=e[Symbol.asyncIterator]();return new ReadableStream({async pull(e){const{done:n,value:o}=await t.next();if(n)return e.close();e.enqueue(o)}})})(e):e,hD=e=>"function"==typeof ReadableStream&&e instanceof ReadableStream,yD=e=>{if("function"==typeof e)return e;const t=Promise.resolve(e);return()=>t},gD=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,bD=/(\d+\.){3}\d+/,vD=/\.\./,wD=e=>gD.test(e)&&!bD.test(e)&&!vD.test(e),kD=e=>{const[t,n,o,,,r]=e.split(":"),a="arn"===t&&e.split(":").length>=6,i=Boolean(a&&n&&o&&r);if(a&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},xD=(e,t,n)=>{const o=async()=>{const o=n[e]??n[t];return"function"==typeof o?o():o};return"credentialScope"===e||"CredentialScope"===t?async()=>{const e="function"==typeof n.credentials?await n.credentials():n.credentials;return e?.credentialScope??e?.CredentialScope}:"accountId"===e||"AccountId"===t?async()=>{const e="function"==typeof n.credentials?await n.credentials():n.credentials;return e?.accountId??e?.AccountId}:"endpoint"===e||"endpoint"===t?async()=>{const e=await o();if(e&&"object"==typeof e){if("url"in e)return e.url.href;if("hostname"in e){const{protocol:t,hostname:n,port:o,path:r}=e;return`${t}//${n}${o?":"+o:""}${r}`}}return e}:o};const SD=e=>{if("string"==typeof e)return SD(new URL(e));const{hostname:t,pathname:n,port:o,protocol:r,search:a}=e;let i;return a&&(i=function(e){const t={};if(e=e.replace(/^\?/,""))for(const n of e.split("&")){let[e,o=null]=n.split("=");e=decodeURIComponent(e),o&&(o=decodeURIComponent(o)),e in t?Array.isArray(t[e])?t[e].push(o):t[e]=[t[e],o]:t[e]=o}return t}(a)),{hostname:t,port:o?parseInt(o):void 0,protocol:r,path:n,query:i}},_D=e=>"object"==typeof e?"url"in e?SD(e.url):e:SD(e),ID=async(e,t,n)=>{const o={},r=t?.getEndpointParameterInstructions?.()||{};for(const[t,a]of Object.entries(r))switch(a.type){case"staticContextParams":o[t]=a.value;break;case"contextParams":o[t]=e[a.name];break;case"clientContextParams":case"builtInParams":o[t]=await xD(a.name,t,n)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return 0===Object.keys(r).length&&Object.assign(o,n),"s3"===String(n.serviceId).toLowerCase()&&await(async e=>{const t=e?.Bucket||"";if("string"==typeof e.Bucket&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),kD(t)){if(!0===e.ForcePathStyle)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!wD(t)||-1!==t.indexOf(".")&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e})(o),o},TD=({config:e,instructions:t})=>(n,o)=>async r=>{const a=await(async(e,t,n,o)=>{if(!n.endpoint){const e=await(async()=>{})(n.serviceId);e&&(n.endpoint=()=>Promise.resolve(_D(e)))}const r=await ID(e,t,n);if("function"!=typeof n.endpointProvider)throw new Error("config.endpointProvider is not set.");return n.endpointProvider(r,o)})(r.input,{getEndpointParameterInstructions:()=>t},{...e},o);o.endpointV2=a,o.authSchemes=a.properties?.authSchemes;const i=o.authSchemes?.[0];if(i){o.signing_region=i.signingRegion,o.signing_service=i.signingName;const e=(e=>e[sO]||(e[sO]={}))(o),t=e?.selectedHttpAuthScheme?.httpAuthOption;t&&(t.signingProperties=Object.assign(t.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return n({...r})},ED={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},ND={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function CD(e,t,n){return{applyToStack:o=>{o.add(((e,t)=>n=>async o=>{const{response:r}=await n(o);try{return{response:r,output:await t(r,e)}}catch(e){if(Object.defineProperty(e,"$response",{value:r}),!("$metadata"in e)){const t="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";e.message+="\n  "+t,void 0!==e.$responseBodyText&&e.$response&&(e.$response.body=e.$responseBodyText)}throw e}})(e,n),ED),o.add(((e,t)=>(n,o)=>async r=>{const a=o.endpointV2?.url&&e.urlParser?async()=>e.urlParser(o.endpointV2.url):e.endpoint;if(!a)throw new Error("No valid endpoint provider available.");const i=await t(r.input,{...e,endpoint:a});return n({...r,request:i})})(e,t),ND)}}}const AD={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:ND.name},MD=(e,t)=>({applyToStack:n=>{n.addRelativeTo(TD({config:e,instructions:t}),AD)}});class OD{trace(){}debug(){}info(){}warn(){}error(){}}const DD=(e,t)=>{const n=[];if(e&&n.push(e),t)for(const e of t)n.push(e);return n},RD=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,FD=()=>{let e=[],t=[],n=!1;const o=new Set,r=n=>(e.forEach((e=>{n.add(e.middleware,{...e})})),t.forEach((e=>{n.addRelativeTo(e.middleware,{...e})})),n.identifyOnResolve?.(s.identifyOnResolve()),n),a=e=>{const t=[];return e.before.forEach((e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...a(e))})),t.push(e),e.after.reverse().forEach((e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...a(e))})),t},i=(n=!1)=>{const o=[],r=[],i={};e.forEach((e=>{const t={...e,before:[],after:[]};for(const e of DD(t.name,t.aliases))i[e]=t;o.push(t)})),t.forEach((e=>{const t={...e,before:[],after:[]};for(const e of DD(t.name,t.aliases))i[e]=t;r.push(t)})),r.forEach((e=>{if(e.toMiddleware){const t=i[e.toMiddleware];if(void 0===t){if(n)return;throw new Error(`${e.toMiddleware} is not found when adding ${RD(e.name,e.aliases)} middleware ${e.relation} ${e.toMiddleware}`)}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));const s=(l=o,l.sort(((e,t)=>zD[t.step]-zD[e.step]||PD[t.priority||"normal"]-PD[e.priority||"normal"]))).map(a).reduce(((e,t)=>(e.push(...t),e)),[]);var l;return s},s={add:(t,n={})=>{const{name:r,override:a,aliases:i}=n,s={step:"initialize",priority:"normal",middleware:t,...n},l=DD(r,i);if(l.length>0){if(l.some((e=>o.has(e)))){if(!a)throw new Error(`Duplicate middleware name '${RD(r,i)}'`);for(const t of l){const n=e.findIndex((e=>e.name===t||e.aliases?.some((e=>e===t))));if(-1===n)continue;const o=e[n];if(o.step!==s.step||s.priority!==o.priority)throw new Error(`"${RD(o.name,o.aliases)}" middleware with ${o.priority} priority in ${o.step} step cannot be overridden by "${RD(r,i)}" middleware with ${s.priority} priority in ${s.step} step.`);e.splice(n,1)}}for(const e of l)o.add(e)}e.push(s)},addRelativeTo:(e,n)=>{const{name:r,override:a,aliases:i}=n,s={middleware:e,...n},l=DD(r,i);if(l.length>0){if(l.some((e=>o.has(e)))){if(!a)throw new Error(`Duplicate middleware name '${RD(r,i)}'`);for(const e of l){const n=t.findIndex((t=>t.name===e||t.aliases?.some((t=>t===e))));if(-1===n)continue;const o=t[n];if(o.toMiddleware!==s.toMiddleware||o.relation!==s.relation)throw new Error(`"${RD(o.name,o.aliases)}" middleware ${o.relation} "${o.toMiddleware}" middleware cannot be overridden by "${RD(r,i)}" middleware ${s.relation} "${s.toMiddleware}" middleware.`);t.splice(n,1)}}for(const e of l)o.add(e)}t.push(s)},clone:()=>r(FD()),use:e=>{e.applyToStack(s)},remove:n=>"string"==typeof n?(n=>{let r=!1;const a=e=>{const t=DD(e.name,e.aliases);if(t.includes(n)){r=!0;for(const e of t)o.delete(e);return!1}return!0};return e=e.filter(a),t=t.filter(a),r})(n):(n=>{let r=!1;const a=e=>{if(e.middleware===n){r=!0;for(const t of DD(e.name,e.aliases))o.delete(t);return!1}return!0};return e=e.filter(a),t=t.filter(a),r})(n),removeByTag:n=>{let r=!1;const a=e=>{const{tags:t,name:a,aliases:i}=e;if(t&&t.includes(n)){const e=DD(a,i);for(const t of e)o.delete(t);return r=!0,!1}return!0};return e=e.filter(a),t=t.filter(a),r},concat:e=>{const t=r(FD());return t.use(e),t.identifyOnResolve(n||t.identifyOnResolve()||(e.identifyOnResolve?.()??!1)),t},applyToStack:r,identify:()=>i(!0).map((e=>{const t=e.step??e.relation+" "+e.toMiddleware;return RD(e.name,e.aliases)+" - "+t})),identifyOnResolve:e=>("boolean"==typeof e&&(n=e),n),resolve:(e,t)=>{for(const n of i().map((e=>e.middleware)).reverse())e=n(e,t);return n&&console.log(s.identify()),e}};return s},zD={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},PD={high:3,normal:2,low:1};class $D{constructor(e){this.middlewareStack=FD(),this.config=e}send(e,t,n){const o="function"!=typeof t?t:void 0,r="function"==typeof t?t:n,a=e.resolveMiddleware(this.middlewareStack,this.config,o);if(!r)return a(e).then((e=>e.output));a(e).then((e=>r(null,e.output)),(e=>r(e))).catch((()=>{}))}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}const LD=e=>{if("string"==typeof e)return e;if("object"!=typeof e||"number"!=typeof e.byteOffset||"number"!=typeof e.byteLength)throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)};class BD extends Uint8Array{static fromString(e,t="utf-8"){if("string"==typeof e)return function(e,t){return"base64"===t?BD.mutate(lD(e)):BD.mutate(cD(e))}(e,t);throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,BD.prototype),e}transformToString(e="utf-8"){return function(e,t="utf-8"){return"base64"===t?uD(e):LD(e)}(this,e)}}class jD{constructor(){this.middlewareStack=FD()}static classBuilder(){return new WD}resolveMiddlewareWithContext(e,t,n,{middlewareFn:o,clientName:r,commandName:a,inputFilterSensitiveLog:i,outputFilterSensitiveLog:s,smithyContext:l,additionalContext:c,CommandCtor:u}){for(const r of o.bind(this)(u,e,t,n))this.middlewareStack.use(r);const p=e.concat(this.middlewareStack),{logger:d}=t,m={logger:d,clientName:r,commandName:a,inputFilterSensitiveLog:i,outputFilterSensitiveLog:s,[sO]:{commandInstance:this,...l},...c},{requestHandler:f}=t;return p.resolve((e=>f.handle(e.request,n||{})),m)}}class WD{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,n={}){return this._smithyContext={service:e,operation:t,...n},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=e=>e,t=e=>e){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}build(){const e=this;let t;return t=class extends jD{static getEndpointParameterInstructions(){return e._ep}constructor(...[t]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=t??{},e._init(this)}resolveMiddleware(n,o,r){return this.resolveMiddlewareWithContext(n,o,r,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}}const UD=e=>{if(null!=e){if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&tR.warn(eR(`Expected number but observed string: ${e}`)),t}if("number"==typeof e)return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},HD=Math.ceil(2**127*(2-2**-23)),VD=e=>{const t=UD(e);if(void 0!==t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>HD)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},qD=e=>{if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},GD=e=>KD(e,32),KD=(e,t)=>{const n=qD(e);if(void 0!==n&&YD(n,t)!==n)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return n},YD=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},XD=e=>{if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return tR.warn(eR(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},JD=e=>{if(null==e)return;const t=(e=>{if(null==e)return;if("object"==typeof e&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)})(e),n=Object.entries(t).filter((([,e])=>null!=e)).map((([e])=>e));if(0===n.length)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(n.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${n} were not null.`);return t},ZD=e=>"string"==typeof e?QD(e):VD(e),QD=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},eR=e=>String(new TypeError(e).stack||e).split("\n").slice(0,5).filter((e=>!e.includes("stackTraceWarning"))).join("\n"),tR={warn:console.warn};class nR extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,nR.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}}const oR=(e,t={})=>{Object.entries(t).filter((([,e])=>void 0!==e)).forEach((([t,n])=>{null!=e[t]&&""!==e[t]||(e[t]=n)}));const n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},rR=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),aR=e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},iR=e=>{const t=[];for(const n in aO){const o=aO[n];void 0!==e[o]&&t.push({algorithmId:()=>o,checksumConstructor:()=>e[o]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(e){this._checksumAlgorithms.push(e)},checksumAlgorithms(){return this._checksumAlgorithms}}},sR=e=>{const t={};return e.checksumAlgorithms().forEach((e=>{t[e.algorithmId()]=e.checksumConstructor()})),t},lR=e=>{let t=e.retryStrategy;return{setRetryStrategy(e){t=e},retryStrategy:()=>t}},cR=e=>{const t={};return t.retryStrategy=e.retryStrategy(),t},uR=e=>({...iR(e),...lR(e)}),pR=function(){const e=Object.getPrototypeOf(this).constructor,t=new(Function.bind.apply(String,[null,...arguments]));return Object.setPrototypeOf(t,e.prototype),t};pR.prototype=Object.create(String.prototype,{constructor:{value:pR,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(pR,String);function dR(e,t,n){let o,r,a;if(void 0===t&&void 0===n)o={},a=e;else{if(o=e,"function"==typeof t)return r=t,a=n,fR(o,r,a);a=t}for(const e of Object.keys(a))Array.isArray(a[e])?hR(o,null,a,e):o[e]=a[e];return o}const mR=(e,t)=>{const n={};for(const o in t)hR(n,e,t,o);return n},fR=(e,t,n)=>dR(e,Object.entries(n).reduce(((e,[n,o])=>(Array.isArray(o)?e[n]=o:e[n]="function"==typeof o?[t,o()]:[t,o],e)),{})),hR=(e,t,n,o)=>{if(null!==t){let r=n[o];"function"==typeof r&&(r=[,r]);const[a=yR,i=gR,s=o]=r;return void(("function"==typeof a&&a(t[s])||"function"!=typeof a&&a)&&(e[o]=i(t[s])))}let[r,a]=n[o];if("function"==typeof a){let t;const n=void 0===r&&null!=(t=a()),i="function"==typeof r&&!!r(void 0)||"function"!=typeof r&&!!r;n?e[o]=t:i&&(e[o]=a())}else{const t=void 0===r&&null!=a,n="function"==typeof r&&!!r(a)||"function"!=typeof r&&!!r;(t||n)&&(e[o]=a)}},yR=e=>null!=e,gR=e=>e;function bR(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}const vR=e=>{if(e!=e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},wR=e=>{if(null==e)return{};if(Array.isArray(e))return e.filter((e=>null!=e)).map(wR);if("object"==typeof e){const t={};for(const n of Object.keys(e))null!=e[n]&&(t[n]=wR(e[n]));return t}return e},kR={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class xR extends nR{constructor(e){super(e),Object.setPrototypeOf(this,xR.prototype)}}class SR extends xR{constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,SR.prototype),this.Message=e.Message,this.Code=e.Code}}var _R;!function(e){e.visit=(e,t)=>void 0!==e.FaceMovementAndLightChallenge?t.FaceMovementAndLightChallenge(e.FaceMovementAndLightChallenge):t._(e.$unknown[0],e.$unknown[1])}(_R||(_R={}));class IR extends xR{constructor(e){super({name:"InternalServerException",$fault:"server",...e}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,IR.prototype),this.Message=e.Message,this.Code=e.Code}}var TR,ER,NR;!function(e){e.visit=(e,t)=>void 0!==e.VideoEvent?t.VideoEvent(e.VideoEvent):void 0!==e.ClientSessionInformationEvent?t.ClientSessionInformationEvent(e.ClientSessionInformationEvent):t._(e.$unknown[0],e.$unknown[1])}(TR||(TR={})),function(e){e.visit=(e,t)=>void 0!==e.FaceMovementAndLightChallenge?t.FaceMovementAndLightChallenge(e.FaceMovementAndLightChallenge):t._(e.$unknown[0],e.$unknown[1])}(ER||(ER={}));class CR extends xR{constructor(e){super({name:"ServiceQuotaExceededException",$fault:"client",...e}),this.name="ServiceQuotaExceededException",this.$fault="client",Object.setPrototypeOf(this,CR.prototype),this.Message=e.Message,this.Code=e.Code}}class AR extends xR{constructor(e){super({name:"ServiceUnavailableException",$fault:"server",...e}),this.name="ServiceUnavailableException",this.$fault="server",Object.setPrototypeOf(this,AR.prototype),this.Message=e.Message,this.Code=e.Code}}class MR extends xR{constructor(e){super({name:"ThrottlingException",$fault:"client",...e}),this.name="ThrottlingException",this.$fault="client",Object.setPrototypeOf(this,MR.prototype),this.Message=e.Message,this.Code=e.Code}}class OR extends xR{constructor(e){super({name:"ValidationException",$fault:"client",...e}),this.name="ValidationException",this.$fault="client",Object.setPrototypeOf(this,OR.prototype),this.Message=e.Message,this.Code=e.Code}}!function(e){e.visit=(e,t)=>void 0!==e.ServerSessionInformationEvent?t.ServerSessionInformationEvent(e.ServerSessionInformationEvent):void 0!==e.DisconnectionEvent?t.DisconnectionEvent(e.DisconnectionEvent):void 0!==e.ValidationException?t.ValidationException(e.ValidationException):void 0!==e.InternalServerException?t.InternalServerException(e.InternalServerException):void 0!==e.ThrottlingException?t.ThrottlingException(e.ThrottlingException):void 0!==e.ServiceQuotaExceededException?t.ServiceQuotaExceededException(e.ServiceQuotaExceededException):void 0!==e.ServiceUnavailableException?t.ServiceUnavailableException(e.ServiceUnavailableException):t._(e.$unknown[0],e.$unknown[1])}(NR||(NR={}));class DR extends xR{constructor(e){super({name:"SessionNotFoundException",$fault:"client",...e}),this.name="SessionNotFoundException",this.$fault="client",Object.setPrototypeOf(this,DR.prototype),this.Message=e.Message,this.Code=e.Code}}const RR=e=>({...e,...e.LivenessRequestStream&&{LivenessRequestStream:"STREAMING_CONTENT"}}),FR=e=>({...e,...e.LivenessResponseStream&&{LivenessResponseStream:"STREAMING_CONTENT"}}),zR=(e,t)=>(async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return BD.mutate(e);if(!e)return BD.mutate(new Uint8Array);const n=t.streamCollector(e);return BD.mutate(await n)})(e,t).then((e=>t.utf8Encoder(e))),PR=(e,t)=>zR(e,t).then((e=>{if(e.length)try{return JSON.parse(e)}catch(t){throw"SyntaxError"===t?.name&&Object.defineProperty(t,"$responseBodyText",{value:e}),t}return{}})),$R=async(e,t)=>{const n=await PR(e,t);return n.message=n.message??n.Message,n};class LR{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new LR({...e,headers:{...e.headers}});var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce(((e,t)=>{const o=n[t];return{...e,[t]:Array.isArray(o)?[...o]:o}}),{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){return LR.clone(this)}}var BR;!function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(BR||(BR={}));const jR=BR.STANDARD,WR=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],UR=["TimeoutError","RequestTimeout","RequestTimeoutException"],HR=[500,502,503,504],VR=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],qR=e=>429===e.$metadata?.httpStatusCode||WR.includes(e.name)||1==e.$retryable?.throttling,GR=e=>(e=>e.$metadata?.clockSkewCorrected)(e)||UR.includes(e.name)||VR.includes(e?.code||"")||HR.includes(e.$metadata?.httpStatusCode||0);class KR{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;const t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const t=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise((e=>setTimeout(e,t)))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp)return void(this.lastTimestamp=e);const t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}updateClientSendingRate(e){let t;if(this.updateMeasuredRate(),qR(e)){const e=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=e,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(e),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){const e=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(e*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(e){return parseFloat(e.toFixed(8))}}const YR=100,XR=2e4,JR="amz-sdk-invocation-id",ZR="amz-sdk-request",QR=({retryDelay:e,retryCount:t,retryCost:n})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(XR,e),getRetryCost:()=>n});class eF{constructor(e){this.maxAttempts=e,this.mode=BR.STANDARD,this.capacity=500,this.retryBackoffStrategy=(()=>{let e=YR;return{computeNextBackoffDelay:t=>Math.floor(Math.min(XR,Math.random()*2**t*e)),setDelayBase:t=>{e=t}}})(),this.maxAttemptsProvider="function"==typeof e?e:async()=>e}async acquireInitialRetryToken(e){return QR({retryDelay:YR,retryCount:0})}async refreshRetryTokenForRetry(e,t){const n=await this.getMaxAttempts();if(this.shouldRetry(e,t,n)){const n=t.errorType;this.retryBackoffStrategy.setDelayBase("THROTTLING"===n?500:YR);const o=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),r=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(n);return this.capacity-=a,QR({retryDelay:r,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(e){return console.warn("Max attempts provider could not resolve. Using default of 3"),3}}shouldRetry(e,t,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return"TRANSIENT"===e?10:5}isRetryableError(e){return"THROTTLING"===e||"TRANSIENT"===e}}class tF{constructor(e,t){this.maxAttemptsProvider=e,this.mode=BR.ADAPTIVE;const{rateLimiter:n}=t??{};this.rateLimiter=n??new KR,this.standardRetryStrategy=new eF(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}class nF{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new nF({...e,headers:{...e.headers}});var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce(((e,t)=>{const o=n[t];return{...e,[t]:Array.isArray(o)?[...o]:o}}),{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){return nF.clone(this)}}class oF{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers}}const rF={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let aF;const iF=new Uint8Array(16);function sF(){if(!aF&&(aF="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!aF))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return aF(iF)}const lF=[];for(let e=0;e<256;++e)lF.push((e+256).toString(16).slice(1));function cF(e,t=0){return lF[e[t+0]]+lF[e[t+1]]+lF[e[t+2]]+lF[e[t+3]]+"-"+lF[e[t+4]]+lF[e[t+5]]+"-"+lF[e[t+6]]+lF[e[t+7]]+"-"+lF[e[t+8]]+lF[e[t+9]]+"-"+lF[e[t+10]]+lF[e[t+11]]+lF[e[t+12]]+lF[e[t+13]]+lF[e[t+14]]+lF[e[t+15]]}const uF=function(e,t,n){if(rF.randomUUID&&!t&&!e)return rF.randomUUID();const o=(e=e||{}).random||(e.rng||sF)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=o[e];return t}return cF(o)},pF=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):"string"==typeof e?new Error(e):new Error(`AWS SDK error wrapper for ${e}`);const dF=e=>e?.body instanceof ReadableStream,mF=e=>void 0!==e.acquireInitialRetryToken&&void 0!==e.refreshRetryTokenForRetry&&void 0!==e.recordSuccess,fF=e=>{const t={error:e,errorType:hF(e)},n=bF(e.$response);return n&&(t.retryAfterHint=n),t},hF=e=>qR(e)?"THROTTLING":GR(e)?"TRANSIENT":(e=>{if(void 0!==e.$metadata?.httpStatusCode){const t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!GR(e)}return!1})(e)?"SERVER_ERROR":"CLIENT_ERROR",yF={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},gF=e=>({applyToStack:t=>{t.add((e=>(t,n)=>async o=>{let r=await e.retryStrategy();const a=await e.maxAttempts();if(!mF(r))return r?.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",r.mode]]),r.retry(t,o);{let e=await r.acquireInitialRetryToken(n.partition_id),i=new Error,s=0,l=0;const{request:c}=o,u=nF.isInstance(c);for(u&&(c.headers[JR]=uF());;)try{u&&(c.headers[ZR]=`attempt=${s+1}; max=${a}`);const{response:n,output:i}=await t(o);return r.recordSuccess(e),i.$metadata.attempts=s+1,i.$metadata.totalRetryDelay=l,{response:n,output:i}}catch(t){const o=fF(t);if(i=pF(t),u&&dF(c))throw(n.logger instanceof OD?console:n.logger)?.warn("An error was encountered in a non-retryable streaming request."),i;try{e=await r.refreshRetryTokenForRetry(e,o)}catch(e){throw i.$metadata||(i.$metadata={}),i.$metadata.attempts=s+1,i.$metadata.totalRetryDelay=l,i}s=e.getRetryCount();const a=e.getRetryDelay();l+=a,await new Promise((e=>setTimeout(e,a)))}}})(e),yF)}}),bF=e=>{if(!oF.isInstance(e))return;const t=Object.keys(e.headers).find((e=>"retry-after"===e.toLowerCase()));if(!t)return;const n=e.headers[t],o=Number(n);if(!Number.isNaN(o))return new Date(1e3*o);return new Date(n)};vF=3e5;var vF;const wF=e=>void 0!==e.expiration;class kF{constructor(e,t){this.input=e,this.context=t,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:e,protocol:t="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(const e of this.resolvePathStack)e(this.path);return new LR({protocol:t,hostname:this.hostname||e,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push((t=>{this.path=`${t?.endsWith("/")?t.slice(0,-1):t||""}`+e})),this}p(e,t,n,o){return this.resolvePathStack.push((r=>{this.path=((e,t,n,o,r,a)=>{if(null==t||void 0===t[n])throw new Error("No value provided for input HTTP label: "+n+".");{const t=o();if(t.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");e=e.replace(r,a?t.split("/").map((e=>bR(e))).join("/"):bR(t))}return e})(r,this.input,e,t,n,o)})),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}}const xF=async(e,t)=>{const n=function(e,t){return new kF(e,t)}(e,t),o=dR({},oz,{"content-type":"application/json",[cz]:e[az],[pz]:e[sz],[uz]:e[iz],[lz]:e[rz]});let r;return n.bp("/start-face-liveness-session"),void 0!==e.LivenessRequestStream&&(r=RF(e.LivenessRequestStream,t)),n.m("POST").h(o).b(r),n.build()},SF=async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return _F(e,t);const n=dR({$metadata:nz(e),[az]:[,e.headers[cz]]}),o=e.body;return n.LivenessResponseStream=PF(o,t),n},_F=async(e,t)=>{const n={...e,body:await $R(e.body,t)},o=((e,t)=>{const n=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(r=e.headers,a="x-amzn-errortype",Object.keys(r).find((e=>e.toLowerCase()===a.toLowerCase())));var r,a;return void 0!==o?n(e.headers[o]):void 0!==t.code?n(t.code):void 0!==t.__type?n(t.__type):void 0})(e,n.body);switch(o){case"AccessDeniedException":case"com.amazonaws.rekognitionstreaming#AccessDeniedException":throw await EF(n,t);case"InternalServerException":case"com.amazonaws.rekognitionstreaming#InternalServerException":throw await NF(n,t);case"ServiceQuotaExceededException":case"com.amazonaws.rekognitionstreaming#ServiceQuotaExceededException":throw await CF(n,t);case"ServiceUnavailableException":case"com.amazonaws.rekognitionstreaming#ServiceUnavailableException":throw await AF(n,t);case"SessionNotFoundException":case"com.amazonaws.rekognitionstreaming#SessionNotFoundException":throw await MF(n,t);case"ThrottlingException":case"com.amazonaws.rekognitionstreaming#ThrottlingException":throw await OF(n,t);case"ValidationException":case"com.amazonaws.rekognitionstreaming#ValidationException":throw await DF(n,t);default:const r=n.body;return IF({output:e,parsedBody:r,errorCode:o})}},IF=(TF=xR,({output:e,parsedBody:t,errorCode:n})=>{(({output:e,parsedBody:t,exceptionCtor:n,errorCode:o})=>{const r=rR(e),a=r.httpStatusCode?r.httpStatusCode+"":void 0,i=new n({name:t?.code||t?.Code||o||a||"UnknownError",$fault:"client",$metadata:r});throw oR(i,t)})({output:e,parsedBody:t,exceptionCtor:TF,errorCode:n})});var TF;const EF=async(e,t)=>{const n=dR({}),o=e.body,r=mR(o,{Code:XD,Message:XD});Object.assign(n,r);const a=new SR({$metadata:nz(e),...n});return oR(a,e.body)},NF=async(e,t)=>{const n=dR({}),o=e.body,r=mR(o,{Code:XD,Message:XD});Object.assign(n,r);const a=new IR({$metadata:nz(e),...n});return oR(a,e.body)},CF=async(e,t)=>{const n=dR({}),o=e.body,r=mR(o,{Code:XD,Message:XD});Object.assign(n,r);const a=new CR({$metadata:nz(e),...n});return oR(a,e.body)},AF=async(e,t)=>{const n=dR({}),o=e.body,r=mR(o,{Code:XD,Message:XD});Object.assign(n,r);const a=new AR({$metadata:nz(e),...n});return oR(a,e.body)},MF=async(e,t)=>{const n=dR({}),o=e.body,r=mR(o,{Code:XD,Message:XD});Object.assign(n,r);const a=new DR({$metadata:nz(e),...n});return oR(a,e.body)},OF=async(e,t)=>{const n=dR({}),o=e.body,r=mR(o,{Code:XD,Message:XD});Object.assign(n,r);const a=new MR({$metadata:nz(e),...n});return oR(a,e.body)},DF=async(e,t)=>{const n=dR({}),o=e.body,r=mR(o,{Code:XD,Message:XD});Object.assign(n,r);const a=new OR({$metadata:nz(e),...n});return oR(a,e.body)},RF=(e,t)=>t.eventStreamMarshaller.serialize(e,(e=>TR.visit(e,{VideoEvent:e=>zF(e,t),ClientSessionInformationEvent:e=>FF(e,t),_:e=>e}))),FF=(e,t)=>{let n=new Uint8Array;return n=qF(e,t),n=t.utf8Decoder(JSON.stringify(n)),{headers:{":event-type":{type:"string",value:"ClientSessionInformationEvent"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:"application/json"}},body:n}},zF=(e,t)=>{let n=new Uint8Array;return n=XF(e,t),n=t.utf8Decoder(JSON.stringify(n)),{headers:{":event-type":{type:"string",value:"VideoEvent"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:"application/json"}},body:n}},PF=(e,t)=>t.eventStreamMarshaller.deserialize(e,(async n=>null!=n.ServerSessionInformationEvent?{ServerSessionInformationEvent:await BF(n.ServerSessionInformationEvent,t)}:null!=n.DisconnectionEvent?{DisconnectionEvent:await $F(n.DisconnectionEvent,t)}:null!=n.ValidationException?{ValidationException:await HF(n.ValidationException,t)}:null!=n.InternalServerException?{InternalServerException:await LF(n.InternalServerException,t)}:null!=n.ThrottlingException?{ThrottlingException:await UF(n.ThrottlingException,t)}:null!=n.ServiceQuotaExceededException?{ServiceQuotaExceededException:await jF(n.ServiceQuotaExceededException,t)}:null!=n.ServiceUnavailableException?{ServiceUnavailableException:await WF(n.ServiceUnavailableException,t)}:{$unknown:e})),$F=async(e,t)=>{const n={},o=await PR(e.body,t);return Object.assign(n,wR(o)),n},LF=async(e,t)=>{const n={...e,body:await PR(e.body,t)};return NF(n,t)},BF=async(e,t)=>{const n={},o=await PR(e.body,t);return Object.assign(n,ez(o,t)),n},jF=async(e,t)=>{const n={...e,body:await PR(e.body,t)};return CF(n,t)},WF=async(e,t)=>{const n={...e,body:await PR(e.body,t)};return AF(n,t)},UF=async(e,t)=>{const n={...e,body:await PR(e.body,t)};return OF(n,t)},HF=async(e,t)=>{const n={...e,body:await PR(e.body,t)};return DF(n,t)},VF=(e,t)=>mR(e,{Height:vR,Left:vR,Top:vR,Width:vR}),qF=(e,t)=>mR(e,{Challenge:e=>((e,t)=>_R.visit(e,{FaceMovementAndLightChallenge:e=>({FaceMovementAndLightChallenge:GF(e,t)}),_:(e,t)=>({name:t})}))(e,t)}),GF=(e,t)=>mR(e,{ChallengeId:[],ColorDisplayed:wR,InitialFace:e=>KF(e,t),TargetFace:e=>YF(e,t),VideoEndTimestamp:[],VideoStartTimestamp:[]}),KF=(e,t)=>mR(e,{BoundingBox:e=>VF(e),InitialFaceDetectedTimestamp:[]}),YF=(e,t)=>mR(e,{BoundingBox:e=>VF(e),FaceDetectedInTargetPositionEndTimestamp:[],FaceDetectedInTargetPositionStartTimestamp:[]}),XF=(e,t)=>mR(e,{TimestampMillis:[],VideoChunk:t.base64Encoder}),JF=(e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>(e=>mR(e,{DownscrollDuration:ZD,FlatDisplayDuration:ZD,FreshnessColor:wR}))(e)));return n},ZF=(e,t)=>mR(e,{ChallengeConfig:e=>(e=>mR(e,{BlazeFaceDetectionThreshold:ZD,FaceDistanceThreshold:ZD,FaceDistanceThresholdMax:ZD,FaceDistanceThresholdMin:ZD,FaceIouHeightThreshold:ZD,FaceIouWidthThreshold:ZD,OvalFitTimeout:GD,OvalHeightWidthRatio:ZD,OvalIouHeightThreshold:ZD,OvalIouThreshold:ZD,OvalIouWidthThreshold:ZD}))(e),ColorSequences:e=>JF(e),LightChallengeType:XD,OvalParameters:e=>QF(e,t)}),QF=(e,t)=>mR(e,{CenterX:ZD,CenterY:ZD,Height:ZD,Width:ZD}),ez=(e,t)=>mR(e,{SessionInformation:e=>tz(e,t)}),tz=(e,t)=>mR(e,{Challenge:e=>((e,t)=>null!=e.FaceMovementAndLightChallenge?{FaceMovementAndLightChallenge:ZF(e.FaceMovementAndLightChallenge,t)}:{$unknown:Object.entries(e)[0]})((e=>{if(null!=e)return"object"==typeof e&&"__type"in e&&delete e.__type,JD(e)})(e),t)}),nz=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),oz=e=>!(null==e||""===e||Object.getOwnPropertyNames(e).includes("length")&&0==e.length||Object.getOwnPropertyNames(e).includes("size")&&0==e.size),rz="ChallengeVersions",az="SessionId",iz="VideoHeight",sz="VideoWidth",lz="x-amz-rekognition-streaming-liveness-challenge-versions",cz="x-amz-rekognition-streaming-liveness-session-id",uz="x-amz-rekognition-streaming-liveness-video-height",pz="x-amz-rekognition-streaming-liveness-video-width";class dz extends(jD.classBuilder().ep({...kR}).m((function(e,t,n,o){return[CD(n,this.serialize,this.deserialize),MD(n,e.getEndpointParameterInstructions()),fO(n),qO(n,{headerPrefix:"x-amz-rekognition-streaming-liveness-"})]})).s("RekognitionStreamingService","StartFaceLivenessSession",{eventStream:{input:!0,output:!0}}).n("RekognitionStreamingClient","StartFaceLivenessSessionCommand").f(RR,FR).ser(xF).de(SF).build()){}function mz(){return/Android|iPhone|iPad/i.test(navigator.userAgent)||/Macintosh/i.test(navigator.userAgent)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>1}function fz(){return window.matchMedia("(orientation: landscape)")}function hz(){const e=/Chrome\/125\.[0-9]+\.[0-9]+\.([0-9]+)/i.exec(navigator.userAgent);if(!e)return!1;const t=e[1];return/Android/i.test(navigator.userAgent)&&/Chrome\/125/i.test(navigator.userAgent)&&parseInt(t)<146}class yz{constructor(e){if("undefined"==typeof MediaRecorder)throw Error("MediaRecorder is not supported by this browser");this._stream=e,this._chunks=[],this._recorder=new MediaRecorder(e,{bitsPerSecond:1e6,mimeType:hz()?"video/x-matroska;codecs=vp8":void 0}),this._setupCallbacks()}getState(){return this._recorder.state}start(e){this.clearRecordedData(),this.recordingStartApiTimestamp=Date.now(),this._recorder.start(e)}async stop(){return"recording"===this.getState()&&this._recorder.stop(),this._recorderStopped}pause(){this._recorder.pause()}clearRecordedData(){this._chunks=[]}dispatch(e){this._recorder.dispatchEvent(e)}getVideoChunkSize(){return this._chunks.length}_setupCallbacks(){this.videoStream=new ReadableStream({start:e=>{this._recorder&&(this._recorder.ondataavailable=t=>{t.data&&t.data.size>0&&(0===this._chunks.length&&(this.firstChunkTimestamp=Date.now()),this._chunks.push(t.data),e.enqueue(t.data))},this._recorder.addEventListener("clientSesssionInfo",(t=>{e.enqueue(t.data.clientInfo)})),this._recorder.addEventListener("stopVideo",(()=>{e.enqueue("stopVideo")})),this._recorder.addEventListener("endStream",(()=>{e.close()})),this._recorder.addEventListener("endStreamWithCode",(t=>{e.enqueue({type:"endStreamWithCode",code:t.data.code})})))}}),this.recorderStarted=new Promise((e=>{this._recorder.onstart=()=>{this.recorderStartTimestamp=Date.now(),e()}})),this._recorderStopped=new Promise((e=>{this._recorder.onstop=()=>{this.recorderEndTimestamp=Date.now(),e()}})),this._recorder.onerror=()=>{"stopped"!==this.getState()&&this.stop()}}}class gz{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new gz({...e,headers:{...e.headers}});var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce(((e,t)=>{const o=n[t];return{...e,[t]:Array.isArray(o)?[...o]:o}}),{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){return gz.clone(this)}}const bz={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},vz=e=>({applyToStack:t=>{t.add((e=>t=>async n=>{if(!gz.isInstance(n.request))return t(n);const{request:o}=n,{handlerProtocol:r=""}=e.requestHandler.metadata||{};if(r.indexOf("h2")>=0&&!o.headers[":authority"])delete o.headers.host,o.headers[":authority"]=o.hostname+(o.port?":"+o.port:"");else if(!o.headers.host){let e=o.hostname;null!=o.port&&(e+=`:${o.port}`),o.headers.host=e}return t(n)})(e),bz)}}),wz={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0};class kz{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new kz({...e,headers:{...e.headers}});var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce(((e,t)=>{const o=n[t];return{...e,[t]:Array.isArray(o)?[...o]:o}}),{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){return kz.clone(this)}}const xz="X-Amzn-Trace-Id",Sz={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},_z=e=>({applyToStack:t=>{t.add((e=>t=>async n=>{const{request:o}=n;if(!kz.isInstance(o)||"node"!==e.runtime||o.headers.hasOwnProperty(xz))return t(n);const r=process.env.AWS_LAMBDA_FUNCTION_NAME,a=process.env._X_AMZN_TRACE_ID,i=e=>"string"==typeof e&&e.length>0;return i(r)&&i(a)&&(o.headers[xz]=a),t({...n,request:o})})(e),Sz)}});Error;const Iz=(e,t,n)=>{let o,r,a,i=!1;const s=async()=>{r||(r=e());try{o=await r,a=!0,i=!1}finally{r=void 0}return o};return void 0===t?async e=>(a&&!e?.forceRefresh||(o=await s()),o):async e=>(a&&!e?.forceRefresh||(o=await s()),i?o:n&&!n(o)?(i=!0,o):t(o)?(await s(),o):o)},Tz=e=>"string"==typeof e?cD(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),Ez="X-Amz-Date",Nz="X-Amz-Signature",Cz="X-Amz-Security-Token",Az="authorization",Mz=Ez.toLowerCase(),Oz=[Az,Mz,"date"],Dz=Nz.toLowerCase(),Rz="x-amz-content-sha256",Fz=Cz.toLowerCase(),zz={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Pz=/^proxy-/,$z=/^sec-/,Lz="AWS4-HMAC-SHA256",Bz="AWS4-HMAC-SHA256-PAYLOAD",jz="aws4_request",Wz={},Uz=[],Hz=(e,t,n)=>`${e}/${t}/${n}/${jz}`,Vz=(e,t,n)=>{const o=new e(t);return o.update(Tz(n)),o.digest()},qz=({headers:e},t,n)=>{const o={};for(const r of Object.keys(e).sort()){if(null==e[r])continue;const a=r.toLowerCase();(a in zz||t?.has(a)||Pz.test(a)||$z.test(a))&&(!n||n&&!n.has(a))||(o[a]=e[r].trim().replace(/\s+/g," "))}return o},Gz=async({headers:e,body:t},n)=>{for(const t of Object.keys(e))if(t.toLowerCase()===Rz)return e[t];if(null==t)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof t||ArrayBuffer.isView(t)||(o=t,"function"==typeof ArrayBuffer&&o instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(o))){const e=new n;return e.update(Tz(t)),wO(await e.digest())}var o;return"UNSIGNED-PAYLOAD"};class Kz{format(e){const t=[];for(const n of Object.keys(e)){const o=cD(n);t.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[n]))}const n=new Uint8Array(t.reduce(((e,t)=>e+t.byteLength),0));let o=0;for(const e of t)n.set(e,o),o+=e.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const o=new Uint8Array(9);return o[0]=5,o.set(e.value.bytes,1),o;case"binary":const r=new DataView(new ArrayBuffer(3+e.value.byteLength));r.setUint8(0,6),r.setUint16(1,e.value.byteLength,!1);const a=new Uint8Array(r.buffer);return a.set(e.value,3),a;case"string":const i=cD(e.value),s=new DataView(new ArrayBuffer(3+i.byteLength));s.setUint8(0,7),s.setUint16(1,i.byteLength,!1);const l=new Uint8Array(s.buffer);return l.set(i,3),l;case"timestamp":const c=new Uint8Array(9);return c[0]=8,c.set(Jz.fromNumber(e.value.valueOf()).bytes,1),c;case"uuid":if(!Xz.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const u=new Uint8Array(17);return u[0]=9,u.set(vO(e.value.replace(/\-/g,"")),1),u}}}var Yz;!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(Yz||(Yz={}));const Xz=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class Jz{constructor(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const t=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(e));n>-1&&o>0;n--,o/=256)t[n]=o;return e<0&&Zz(t),new Jz(t)}valueOf(){const e=this.bytes.slice(0),t=128&e[0];return t&&Zz(e),parseInt(wO(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function Zz(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}class Qz{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new Qz({...e,headers:{...e.headers}});var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce(((e,t)=>{const o=n[t];return{...e,[t]:Array.isArray(o)?[...o]:o}}),{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){return Qz.clone(this)}}class eP{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers}}const tP=e=>{e=Qz.clone(e);for(const t of Object.keys(e.headers))Oz.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},nP=e=>"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e;class oP{constructor({applyChecksum:e,credentials:t,region:n,service:o,sha256:r,uriEscapePath:a=!0}){this.headerFormatter=new Kz,this.service=o,this.sha256=r,this.uriEscapePath=a,this.applyChecksum="boolean"!=typeof e||e,this.regionProvider=yD(n),this.credentialProvider=yD(t)}async presign(e,t={}){const{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:r,unhoistableHeaders:a,signableHeaders:i,signingRegion:s,signingService:l}=t,c=await this.credentialProvider();this.validateResolvedCredentials(c);const u=s??await this.regionProvider(),{longDate:p,shortDate:d}=rP(n);if(o>604800)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const m=Hz(d,u,l??this.service),f=((e,t={})=>{const{headers:n,query:o={}}=Qz.clone(e);for(const e of Object.keys(n)){const r=e.toLowerCase();"x-amz-"!==r.slice(0,6)||t.unhoistableHeaders?.has(r)||(o[e]=n[e],delete n[e])}return{...e,headers:n,query:o}})(tP(e),{unhoistableHeaders:a});c.sessionToken&&(f.query[Cz]=c.sessionToken),f.query["X-Amz-Algorithm"]=Lz,f.query["X-Amz-Credential"]=`${c.accessKeyId}/${m}`,f.query[Ez]=p,f.query["X-Amz-Expires"]=o.toString(10);const h=qz(f,r,i);return f.query["X-Amz-SignedHeaders"]=aP(h),f.query[Nz]=await this.getSignature(p,m,this.getSigningKey(c,u,d,l),this.createCanonicalRequest(f,h,await Gz(e,this.sha256))),f}async sign(e,t){return"string"==typeof e?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:n=new Date,priorSignature:o,signingRegion:r,signingService:a}){const i=r??await this.regionProvider(),{shortDate:s,longDate:l}=rP(n),c=Hz(s,i,a??this.service),u=await Gz({headers:{},body:t},this.sha256),p=new this.sha256;p.update(e);const d=wO(await p.digest()),m=[Bz,l,c,o,d,u].join("\n");return this.signString(m,{signingDate:n,signingRegion:i,signingService:a})}async signMessage(e,{signingDate:t=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:n,signingService:o,priorSignature:e.priorSignature}).then((t=>({message:e.message,signature:t})))}async signString(e,{signingDate:t=new Date,signingRegion:n,signingService:o}={}){const r=await this.credentialProvider();this.validateResolvedCredentials(r);const a=n??await this.regionProvider(),{shortDate:i}=rP(t),s=new this.sha256(await this.getSigningKey(r,a,i,o));return s.update(Tz(e)),wO(await s.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:r,signingService:a}={}){const i=await this.credentialProvider();this.validateResolvedCredentials(i);const s=r??await this.regionProvider(),l=tP(e),{longDate:c,shortDate:u}=rP(t),p=Hz(u,s,a??this.service);l.headers[Mz]=c,i.sessionToken&&(l.headers[Fz]=i.sessionToken);const d=await Gz(l,this.sha256);!((e,t)=>{e=e.toLowerCase();for(const n of Object.keys(t))if(e===n.toLowerCase())return!0;return!1})(Rz,l.headers)&&this.applyChecksum&&(l.headers[Rz]=d);const m=qz(l,o,n),f=await this.getSignature(c,p,this.getSigningKey(i,s,u,a),this.createCanonicalRequest(l,m,d));return l.headers[Az]=`${Lz} Credential=${i.accessKeyId}/${p}, SignedHeaders=${aP(m)}, Signature=${f}`,l}createCanonicalRequest(e,t,n){const o=Object.keys(t).sort();return`${e.method}\n${this.getCanonicalPath(e)}\n${(({query:e={}})=>{const t=[],n={};for(const o of Object.keys(e).sort()){if(o.toLowerCase()===Dz)continue;t.push(o);const r=e[o];"string"==typeof r?n[o]=`${XO(o)}=${XO(r)}`:Array.isArray(r)&&(n[o]=r.slice(0).reduce(((e,t)=>e.concat([`${XO(o)}=${XO(t)}`])),[]).sort().join("&"))}return t.map((e=>n[e])).filter((e=>e)).join("&")})(e)}\n${o.map((e=>`${e}:${t[e]}`)).join("\n")}\n\n${o.join(";")}\n${n}`}async createStringToSign(e,t,n){const o=new this.sha256;o.update(Tz(n));const r=await o.digest();return`${Lz}\n${e}\n${t}\n${wO(r)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const t=[];for(const n of e.split("/"))0!==n?.length&&"."!==n&&(".."===n?t.pop():t.push(n));const n=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return XO(n).replace(/%2F/g,"/")}return e}async getSignature(e,t,n,o){const r=await this.createStringToSign(e,t,o),a=new this.sha256(await n);return a.update(Tz(r)),wO(await a.digest())}getSigningKey(e,t,n,o){return(async(e,t,n,o,r)=>{const a=`${n}:${o}:${r}:${wO(await Vz(e,t.secretAccessKey,t.accessKeyId))}:${t.sessionToken}`;if(a in Wz)return Wz[a];for(Uz.push(a);Uz.length>50;)delete Wz[Uz.shift()];let i=`AWS4${t.secretAccessKey}`;for(const t of[n,o,r,jz])i=await Vz(e,i,t);return Wz[a]=i})(this.sha256,e,n,t,o||this.service)}validateResolvedCredentials(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")}}const rP=e=>{const t=(e=>nP(e).toISOString().replace(/\.\d{3}Z$/,"Z"))(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},aP=e=>Object.keys(e).sort().join(";"),iP=e=>"function"==typeof e?Iz(e,(e=>void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5),(e=>void 0!==e.expiration)):yD(e),sP=e=>new Date(Date.now()+e),lP=(e,t)=>{const n=Date.parse(e);return((e,t)=>Math.abs(sP(t).getTime()-e)>=3e5)(n,t)?n-Date.now():t},cP=e=>eP.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,uP={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},pP=e=>({applyToStack:t=>{t.addRelativeTo((e=>(t,n)=>async function(o){if(!Qz.isInstance(o.request))return t(o);let r,a;const i=n.endpointV2?.properties?.authSchemes?.[0],s=n.endpointV2?.properties?.authSchemes?.[1];if("sigv4a"===i?.name&&s){a=await e.signer(r=i);const t=a;(()=>{if("function"==typeof t?.getSigv4aSigner){if("node"!==t?.signerOptions?.runtime)return!1;try{return t.getSigv4aSigner(),!0}catch(e){}}return!1})()||(a=await e.signer(r=s))}else a=await e.signer(r=i);let l;const c="sigv4a"===r?.name?r?.signingRegionSet?.join(","):void 0,u={signingDate:sP(e.systemClockOffset),signingRegion:c||n.signing_region,signingService:n.signing_service};if(n.s3ExpressIdentity){const e=a;if(l=await e.signWithCredentials(o.request,n.s3ExpressIdentity,u),l.headers["X-Amz-Security-Token"]||l.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.")}else l=await a.sign(o.request,u);const p=await t({...o,request:l}).catch((t=>{const n=t.ServerTime??cP(t.$response);throw n&&(e.systemClockOffset=lP(n,e.systemClockOffset)),t})),d=cP(p.response);return d&&(e.systemClockOffset=lP(d,e.systemClockOffset)),p})(e),uP)}});const dP=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),mP=e=>dP.test(e)||e.startsWith("[")&&e.endsWith("]"),fP=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),hP=(e,t=!1)=>{if(!t)return fP.test(e);const n=e.split(".");for(const e of n)if(!hP(e))return!1;return!0},yP={},gP="endpoints";function bP(e){return"object"!=typeof e||null==e?e:"ref"in e?`$${bP(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(bP).join(", ")})`:JSON.stringify(e,null,2)}class vP extends Error{constructor(e){super(e),this.name="EndpointError"}}const wP=(e,t)=>(e=>{const t=e.split("."),n=[];for(const o of t){const t=o.indexOf("[");if(-1!==t){if(o.indexOf("]")!==o.length-1)throw new vP(`Path: '${e}' does not end with ']'`);const r=o.slice(t+1,-1);if(Number.isNaN(parseInt(r)))throw new vP(`Invalid array index: '${r}' in path: '${e}'`);0!==t&&n.push(o.slice(0,t)),n.push(r)}else n.push(o)}return n})(t).reduce(((n,o)=>{if("object"!=typeof n)throw new vP(`Index '${o}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(n)?n[parseInt(o)]:n[o]}),e),kP={[rO.HTTP]:80,[rO.HTTPS]:443},xP={booleanEquals:(e,t)=>e===t,getAttr:wP,isSet:e=>null!=e,isValidHostLabel:hP,not:e=>!e,parseURL:e=>{const t=(()=>{try{if(e instanceof URL)return e;if("object"==typeof e&&"hostname"in e){const{hostname:t,port:n,protocol:o="",path:r="",query:a={}}=e,i=new URL(`${o}//${t}${n?`:${n}`:""}${r}`);return i.search=Object.entries(a).map((([e,t])=>`${e}=${t}`)).join("&"),i}return new URL(e)}catch(e){return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const n=t.href,{host:o,hostname:r,pathname:a,protocol:i,search:s}=t;if(s)return null;const l=i.slice(0,-1);if(!Object.values(rO).includes(l))return null;const c=mP(r);return{scheme:l,authority:`${o}${n.includes(`${o}:${kP[l]}`)||"string"==typeof e&&e.includes(`${o}:${kP[l]}`)?`:${kP[l]}`:""}`,path:a,normalizedPath:a.endsWith("/")?a:`${a}/`,isIp:c}},stringEquals:(e,t)=>e===t,substring:(e,t,n,o)=>t>=n||e.length<n?null:o?e.substring(e.length-n,e.length-t):e.substring(t,n),uriEncode:e=>encodeURIComponent(e).replace(/[!*'()]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},SP=(e,t)=>{const n=[],o={...t.endpointParams,...t.referenceRecord};let r=0;for(;r<e.length;){const t=e.indexOf("{",r);if(-1===t){n.push(e.slice(r));break}n.push(e.slice(r,t));const a=e.indexOf("}",t);if(-1===a){n.push(e.slice(t));break}"{"===e[t+1]&&"}"===e[a+1]&&(n.push(e.slice(t+1,a)),r=a+2);const i=e.substring(t+1,a);if(i.includes("#")){const[e,t]=i.split("#");n.push(wP(o[e],t))}else n.push(o[i]);r=a+1}return n.join("")},_P=(e,t,n)=>{if("string"==typeof e)return SP(e,n);if(e.fn)return IP(e,n);if(e.ref)return(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord}[e]))(e,n);throw new vP(`'${t}': ${String(e)} is not a string, function or reference.`)},IP=({fn:e,argv:t},n)=>{const o=t.map((e=>["boolean","number"].includes(typeof e)?e:_P(e,"arg",n))),r=e.split(".");return r[0]in yP&&null!=r[1]?yP[r[0]][r[1]](...o):xP[e](...o)},TP=({assign:e,...t},n)=>{if(e&&e in n.referenceRecord)throw new vP(`'${e}' is already defined in Reference Record.`);const o=IP(t,n);return n.logger?.debug?.(`${gP} evaluateCondition: ${bP(t)} = ${bP(o)}`),{result:""===o||!!o,...null!=e&&{toAssign:{name:e,value:o}}}},EP=(e=[],t)=>{const n={};for(const o of e){const{result:e,toAssign:r}=TP(o,{...t,referenceRecord:{...t.referenceRecord,...n}});if(!e)return{result:e};r&&(n[r.name]=r.value,t.logger?.debug?.(`${gP} assign: ${r.name} := ${bP(r.value)}`))}return{result:!0,referenceRecord:n}},NP=(e,t)=>Object.entries(e).reduce(((e,[n,o])=>({...e,[n]:o.map((e=>{const o=_P(e,"Header value entry",t);if("string"!=typeof o)throw new vP(`Header '${n}' value '${o}' is not a string`);return o}))})),{}),CP=(e,t)=>{if(Array.isArray(e))return e.map((e=>CP(e,t)));switch(typeof e){case"string":return SP(e,t);case"object":if(null===e)throw new vP(`Unexpected endpoint property: ${e}`);return AP(e,t);case"boolean":return e;default:throw new vP("Unexpected endpoint property type: "+typeof e)}},AP=(e,t)=>Object.entries(e).reduce(((e,[n,o])=>({...e,[n]:CP(o,t)})),{}),MP=(e,t)=>{const n=_P(e,"Endpoint URL",t);if("string"==typeof n)try{return new URL(n)}catch(e){throw console.error(`Failed to construct URL with ${n}`,e),e}throw new vP("Endpoint URL must be a string, got "+typeof n)},OP=(e,t)=>{const{conditions:n,endpoint:o}=e,{result:r,referenceRecord:a}=EP(n,t);if(!r)return;const i={...t,referenceRecord:{...t.referenceRecord,...a}},{url:s,properties:l,headers:c}=o;return t.logger?.debug?.(`${gP} Resolving endpoint from template: ${bP(o)}`),{...null!=c&&{headers:NP(c,i)},...null!=l&&{properties:AP(l,i)},url:MP(s,i)}},DP=(e,t)=>{const{conditions:n,error:o}=e,{result:r,referenceRecord:a}=EP(n,t);if(r)throw new vP(_P(o,"Error",{...t,referenceRecord:{...t.referenceRecord,...a}}))},RP=(e,t)=>{const{conditions:n,rules:o}=e,{result:r,referenceRecord:a}=EP(n,t);if(r)return FP(o,{...t,referenceRecord:{...t.referenceRecord,...a}})},FP=(e,t)=>{for(const n of e)if("endpoint"===n.type){const e=OP(n,t);if(e)return e}else if("error"===n.type)DP(n,t);else{if("tree"!==n.type)throw new vP(`Unknown endpoint rule: ${n}`);{const e=RP(n,t);if(e)return e}}throw new vP("Rules evaluation failed")},zP=(e,t=!1)=>{if(t){for(const t of e.split("."))if(!zP(t))return!1;return!0}return!!hP(e)&&(!(e.length<3||e.length>63)&&(e===e.toLowerCase()&&!mP(e)))};let PP=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"ca-west-1":{"description":"Canada West (Calgary)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"cloud.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{"eu-isoe-west-1":{"description":"EU ISOE West"}}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"csp.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{}}],"version":"1.1"}'),$P="";const LP={isVirtualHostableS3Bucket:zP,parseArn:e=>{const t=e.split(":");if(t.length<6)return null;const[n,o,r,a,i,...s]=t;return"arn"!==n||""===o||""===r||""===s[0]?null:{partition:o,service:r,region:a,accountId:i,resourceId:s[0].includes("/")?s[0].split("/"):s}},partition:e=>{const{partitions:t}=PP;for(const n of t){const{regions:t,outputs:o}=n;for(const[n,r]of Object.entries(t))if(n===e)return{...o,...r}}for(const n of t){const{regionRegex:t,outputs:o}=n;if(new RegExp(t).test(e))return{...o}}const n=t.find((e=>"aws"===e.id));if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...n.outputs}}};yP.aws=LP;class BP{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new BP({...e,headers:{...e.headers}});var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce(((e,t)=>{const o=n[t];return{...e,[t]:Array.isArray(o)?[...o]:o}}),{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){return BP.clone(this)}}const jP="user-agent",WP="x-amz-user-agent",UP=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,HP=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,VP=e=>(t,n)=>async o=>{const{request:r}=o;if(!BP.isInstance(r))return t(o);const{headers:a}=r,i=n?.userAgent?.map(qP)||[],s=(await e.defaultUserAgentProvider()).map(qP),l=e?.customUserAgent?.map(qP)||[],c=($P?[$P]:[]).concat([...s,...i,...l]).join(" "),u=[...s.filter((e=>e.startsWith("aws-sdk-"))),...l].join(" ");return"browser"!==e.runtime?(u&&(a[WP]=a[WP]?`${a[jP]} ${u}`:u),a[jP]=c):a[WP]=c,t({...o,request:r})},qP=e=>{const t=e[0].split("/").map((e=>e.replace(UP,"-"))).join("/"),n=e[1]?.replace(HP,"-"),o=t.indexOf("/"),r=t.substring(0,o);let a=t.substring(o+1);return"api"===r&&(a=a.toLowerCase()),[r,a,n].filter((e=>e&&e.length>0)).reduce(((e,t,n)=>{switch(n){case 0:return t;case 1:return`${e}/${t}`;default:return`${e}#${t}`}}),"")},GP={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0};var KP;!function(e){e.ENV="env",e.CONFIG="shared config entry"}(KP||(KP={}));const YP=e=>"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),XP=e=>YP(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e;class JP{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new JP({...e,headers:{...e.headers}});var n;return t.query&&(t.query=(n=t.query,Object.keys(n).reduce(((e,t)=>{const o=n[t];return{...e,[t]:Array.isArray(o)?[...o]:o}}),{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){return JP.clone(this)}}const ZP="content-length";const QP={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},e$=e=>({applyToStack:t=>{var n;t.add((n=e.bodyLengthChecker,e=>async t=>{const o=t.request;if(JP.isInstance(o)){const{body:e,headers:t}=o;if(e&&-1===Object.keys(t).map((e=>e.toLowerCase())).indexOf(ZP))try{const t=n(e);o.headers={...o.headers,[ZP]:String(t)}}catch(e){}}return e({...t,request:o})}),QP)}}),t$="3.621.0";var n$={name:"SHA-256"},o$={name:"HMAC",hash:n$},r$=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]);const a$={};function i$(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:a$}var s$=function(){function e(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return e.prototype.update=function(e){if(!se(e)){var t=ie(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return i$().crypto.subtle.sign(o$,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):se(this.toHash)?Promise.resolve(r$):Promise.resolve().then((function(){return i$().crypto.subtle.digest(n$,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&void 0!==this.secret&&(this.key=new Promise((function(t,n){i$().crypto.subtle.importKey("raw",ie(e.secret),o$,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))},e}(),l$=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function c$(e){return e&&l$.every((function(t){return"function"==typeof e[t]}))}var u$=function(){function e(e){!function(e){return!(!function(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}(e)||"object"!=typeof e.crypto.subtle)&&c$(e.crypto.subtle)}(i$())?this.hash=new le(e):this.hash=new s$(e)}return e.prototype.update=function(e,t){this.hash.update(ie(e))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}();const p$={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},d$={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},m$={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},f$={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},h$={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class y${static getFirstMatch(e,t){const n=t.match(e);return n&&n.length>0&&n[1]||""}static getSecondMatch(e,t){const n=t.match(e);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(e,t,n){if(e.test(t))return n}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const t=e.split(".").splice(0,2).map((e=>parseInt(e,10)||0));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const t=e.split(".").splice(0,2).map((e=>parseInt(e,10)||0));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,t,n=!1){const o=y$.getVersionPrecision(e),r=y$.getVersionPrecision(t);let a=Math.max(o,r),i=0;const s=y$.map([e,t],(e=>{const t=a-y$.getVersionPrecision(e),n=e+new Array(t+1).join(".0");return y$.map(n.split("."),(e=>new Array(20-e.length).join("0")+e)).reverse()}));for(n&&(i=a-Math.min(o,r)),a-=1;a>=i;){if(s[0][a]>s[1][a])return 1;if(s[0][a]===s[1][a]){if(a===i)return 0;a-=1}else if(s[0][a]<s[1][a])return-1}}static map(e,t){const n=[];let o;if(Array.prototype.map)return Array.prototype.map.call(e,t);for(o=0;o<e.length;o+=1)n.push(t(e[o]));return n}static find(e,t){let n,o;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,o=e.length;n<o;n+=1){const o=e[n];if(t(o,n))return o}}static assign(e,...t){const n=e;let o,r;if(Object.assign)return Object.assign(e,...t);for(o=0,r=t.length;o<r;o+=1){const e=t[o];if("object"==typeof e&&null!==e){Object.keys(e).forEach((t=>{n[t]=e[t]}))}}return e}static getBrowserAlias(e){return p$[e]}static getBrowserTypeByAlias(e){return d$[e]||""}}const g$=/version\/(\d+(\.?_?\d+)+)/i,b$=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},n=y$.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||y$.getFirstMatch(g$,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},n=y$.getFirstMatch(g$,e)||y$.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},n=y$.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||y$.getFirstMatch(g$,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},n=y$.getFirstMatch(g$,e)||y$.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},n=y$.getFirstMatch(g$,e)||y$.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},n=y$.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||y$.getFirstMatch(g$,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},n=y$.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||y$.getFirstMatch(g$,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},n=y$.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||y$.getFirstMatch(g$,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},n=y$.getFirstMatch(g$,e)||y$.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},n=y$.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||y$.getFirstMatch(g$,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},n=y$.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||y$.getFirstMatch(g$,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},n=y$.getFirstMatch(g$,e)||y$.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},n=y$.getFirstMatch(g$,e)||y$.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},n=y$.getFirstMatch(g$,e)||y$.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},n=y$.getFirstMatch(g$,e)||y$.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},n=y$.getFirstMatch(g$,e)||y$.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},n=y$.getFirstMatch(g$,e)||y$.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},n=y$.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||y$.getFirstMatch(g$,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=y$.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||y$.getFirstMatch(g$,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},n=y$.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},n=y$.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},n=y$.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},n=y$.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},n=y$.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},n=y$.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},n=y$.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},n=y$.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},n=y$.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},n=y$.getFirstMatch(g$,e)||y$.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},n=y$.getFirstMatch(g$,e)||y$.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},n=y$.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},n=y$.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||y$.getFirstMatch(g$,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},n=y$.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||y$.getFirstMatch(g$,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},n=y$.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},n=y$.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},n=y$.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},n=y$.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||y$.getFirstMatch(g$,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},n=y$.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},n=y$.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:"Android Browser"},n=y$.getFirstMatch(g$,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},n=y$.getFirstMatch(g$,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},n=y$.getFirstMatch(g$,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:y$.getFirstMatch(t,e),version:y$.getSecondMatch(t,e)}}}],v$=b$,w$=[{test:[/Roku\/DVP/],describe(e){const t=y$.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:f$.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=y$.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:f$.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=y$.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=y$.getWindowsVersionName(t);return{name:f$.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:f$.iOS},n=y$.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=y$.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=y$.getMacOSVersionName(t),o={name:f$.MacOS,version:t};return n&&(o.versionName=n),o}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=y$.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:f$.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=y$.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=y$.getAndroidVersionName(t),o={name:f$.Android,version:t};return n&&(o.versionName=n),o}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=y$.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:f$.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=y$.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||y$.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||y$.getFirstMatch(/\bbb(\d+)/i,e);return{name:f$.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=y$.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:f$.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=y$.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:f$.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:f$.Linux})},{test:[/CrOS/],describe:()=>({name:f$.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=y$.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:f$.PlayStation4,version:t}}}],k$=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=y$.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:m$.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:m$.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:m$.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:m$.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:m$.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:m$.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:m$.tablet})},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=y$.getFirstMatch(/(ipod|iphone)/i,e);return{type:m$.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:m$.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:m$.mobile})},{test:e=>"blackberry"===e.getBrowserName(!0),describe:()=>({type:m$.mobile,vendor:"BlackBerry"})},{test:e=>"bada"===e.getBrowserName(!0),describe:()=>({type:m$.mobile})},{test:e=>"windows phone"===e.getBrowserName(),describe:()=>({type:m$.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:()=>({type:m$.tablet})},{test:e=>"android"===e.getOSName(!0),describe:()=>({type:m$.mobile})},{test:e=>"macos"===e.getOSName(!0),describe:()=>({type:m$.desktop,vendor:"Apple"})},{test:e=>"windows"===e.getOSName(!0),describe:()=>({type:m$.desktop})},{test:e=>"linux"===e.getOSName(!0),describe:()=>({type:m$.desktop})},{test:e=>"playstation 4"===e.getOSName(!0),describe:()=>({type:m$.tv})},{test:e=>"roku"===e.getOSName(!0),describe:()=>({type:m$.tv})}],x$=[{test:e=>"microsoft edge"===e.getBrowserName(!0),describe(e){if(/\sedg\//i.test(e))return{name:h$.Blink};const t=y$.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:h$.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:h$.Trident},n=y$.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:h$.Presto},n=y$.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:h$.Gecko},n=y$.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:h$.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:h$.WebKit},n=y$.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];const S$=class{constructor(e,t=!1){if(null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=y$.find(v$,(e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=y$.find(w$,(e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:t}=this.getOS();return e?String(t).toLowerCase()||"":t||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:t}=this.getPlatform();return e?String(t).toLowerCase()||"":t||""}parsePlatform(){this.parsedResult.platform={};const e=y$.find(k$,(e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=y$.find(x$,(e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return y$.assign({},this.parsedResult)}satisfies(e){const t={};let n=0;const o={};let r=0;if(Object.keys(e).forEach((a=>{const i=e[a];"string"==typeof i?(o[a]=i,r+=1):"object"==typeof i&&(t[a]=i,n+=1)})),n>0){const e=Object.keys(t),n=y$.find(e,(e=>this.isOS(e)));if(n){const e=this.satisfies(t[n]);if(void 0!==e)return e}const o=y$.find(e,(e=>this.isPlatform(e)));if(o){const e=this.satisfies(t[o]);if(void 0!==e)return e}}if(r>0){const e=Object.keys(o),t=y$.find(e,(e=>this.isBrowser(e,!0)));if(void 0!==t)return this.compareVersion(o[t])}}isBrowser(e,t=!1){const n=this.getBrowserName().toLowerCase();let o=e.toLowerCase();const r=y$.getBrowserTypeByAlias(o);return t&&r&&(o=r.toLowerCase()),o===n}compareVersion(e){let t=[0],n=e,o=!1;const r=this.getBrowserVersion();if("string"==typeof r)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(o=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(o=!0,n=e.substr(1)),t.indexOf(y$.compareVersions(r,n,o))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,t=!1){return this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some((e=>this.is(e)))}};const _$=class{static getParser(e,t=!1){if("string"!=typeof e)throw new Error("UserAgent should be a string");return new S$(e,t)}static parse(e){return new S$(e).getResult()}static get BROWSER_MAP(){return d$}static get ENGINE_MAP(){return h$}static get OS_MAP(){return f$}static get PLATFORMS_MAP(){return m$}},I$=({serviceId:e,clientVersion:t})=>async()=>{const n="undefined"!=typeof window&&window?.navigator?.userAgent?_$.parse(window.navigator.userAgent):void 0,o=[["aws-sdk-js",t],["ua","2.0"],[`os/${n?.os?.name||"other"}`,n?.os?.version],["lang/js"],["md/browser",`${n?.browser?.name??"unknown"}_${n?.browser?.version??"unknown"}`]];return e&&o.push([`api/${e}`,t]),o};function T$(e,t){return async function(n){const{value:o}=n.headers[":message-type"];if("error"===o){const e=new Error(n.headers[":error-message"].value||"UnknownError");throw e.name=n.headers[":error-code"].value,e}if("exception"===o){const o=n.headers[":exception-type"].value,r={[o]:n},a=await e(r);if(a.$unknown){const e=new Error(t(n.body));throw e.name=o,e}throw a[o]}if("event"===o){const t={[n.headers[":event-type"].value]:n},o=await e(t);if(o.$unknown)return;return o}throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)}}class E${constructor({utf8Encoder:e,utf8Decoder:t}){this.eventStreamCodec=new FO(e,t),this.utfEncoder=e}deserialize(e,t){const n=function(e){let t=0,n=0,o=null,r=null;const a=e=>{if("number"!=typeof e)throw new Error("Attempted to allocate an event message where size was not a number: "+e);t=e,n=4,o=new Uint8Array(e),new DataView(o.buffer).setUint32(0,e,!1)};return{[Symbol.asyncIterator]:async function*(){const i=e[Symbol.asyncIterator]();for(;;){const{value:e,done:s}=await i.next();if(s){if(!t)return;if(t!==n)throw new Error("Truncated event message received.");return void(yield o)}const l=e.length;let c=0;for(;c<l;){if(!o){const t=l-c;r||(r=new Uint8Array(4));const o=Math.min(4-n,t);if(r.set(e.slice(c,c+o),n),n+=o,c+=o,n<4)break;a(new DataView(r.buffer).getUint32(0,!1)),r=null}const i=Math.min(t-n,l-c);o.set(e.slice(c,c+i),n),n+=i,c+=i,t&&t===n&&(yield o,o=null,t=0,n=0)}}}}}(e);return new $O({messageStream:new zO({inputStream:n,decoder:this.eventStreamCodec}),deserializer:T$(t,this.utfEncoder)})}serialize(e,t){return new PO({messageStream:new LO({inputStream:e,serializer:t}),encoder:this.eventStreamCodec,includeEndFrame:!0})}}class N${constructor({utf8Encoder:e,utf8Decoder:t}){this.universalMarshaller=new E$({utf8Decoder:t,utf8Encoder:e})}deserialize(e,t){const n=C$(e)?(o=e,{[Symbol.asyncIterator]:async function*(){const e=o.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)return;yield n}}finally{e.releaseLock()}}}):e;var o;return this.universalMarshaller.deserialize(n,t)}serialize(e,t){const n=this.universalMarshaller.serialize(e,t);return"function"==typeof ReadableStream?(e=>{const t=e[Symbol.asyncIterator]();return new ReadableStream({async pull(e){const{done:n,value:o}=await t.next();if(n)return e.close();e.enqueue(o)}})})(n):n}}const C$=e=>"function"==typeof ReadableStream&&e instanceof ReadableStream,A$=e=>new N$(e),M$=e=>{let t=e.httpHandler;return{setHttpHandler(e){t=e},httpHandler:()=>t,updateHttpClientConfig(e,n){t.updateHttpClientConfig(e,n)},httpHandlerConfigs:()=>t.httpHandlerConfigs()}};class O${constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers}}function D$(e=0){return new Promise(((t,n)=>{e&&setTimeout((()=>{const t=new Error(`Request did not complete within ${e} ms`);t.name="TimeoutError",n(t)}),e)}))}const R$={supported:void 0};class F${static create(e){return"function"==typeof e?.handle?e:new F$(e)}constructor(e){"function"==typeof e?this.configProvider=e().then((e=>e||{})):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),void 0===R$.supported&&(R$.supported=Boolean("undefined"!=typeof Request&&"keepalive"in new Request("https://[::1]")))}destroy(){}async handle(e,{abortSignal:t}={}){this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout,o=!0===this.config.keepAlive,r=this.config.credentials;if(t?.aborted){const e=new Error("Request aborted");return e.name="AbortError",Promise.reject(e)}let a=e.path;const i=ZO(e.query||{});i&&(a+=`?${i}`),e.fragment&&(a+=`#${e.fragment}`);let s="";if(null!=e.username||null!=e.password){s=`${e.username??""}:${e.password??""}@`}const{port:l,method:c}=e,u=`${e.protocol}//${s}${e.hostname}${l?`:${l}`:""}${a}`,p="GET"===c||"HEAD"===c?void 0:e.body,d={body:p,headers:new Headers(e.headers),method:c,credentials:r};p&&(d.duplex="half"),"undefined"!=typeof AbortController&&(d.signal=t),R$.supported&&(d.keepalive=o);let m=()=>{};const f=new Request(u,d),h=[fetch(f).then((e=>{const t=e.headers,n={};for(const e of t.entries())n[e[0]]=e[1];return null!=e.body?{response:new O$({headers:n,reason:e.statusText,statusCode:e.status,body:e.body})}:e.blob().then((t=>({response:new O$({headers:n,reason:e.statusText,statusCode:e.status,body:t})})))})),D$(n)];return t&&h.push(new Promise(((e,n)=>{const o=()=>{const e=new Error("Request aborted");e.name="AbortError",n(e)};if("function"==typeof t.addEventListener){const e=t;e.addEventListener("abort",o,{once:!0}),m=()=>e.removeEventListener("abort",o)}else t.onabort=o}))),Promise.race(h).finally(m)}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then((n=>(n[e]=t,n)))}httpHandlerConfigs(){return this.config??{}}}const z$=e=>"function"==typeof Blob&&e instanceof Blob?async function(e){const t=await function(e){return new Promise(((t,n)=>{const o=new FileReader;o.onloadend=()=>{if(2!==o.readyState)return n(new Error("Reader aborted too early"));const e=o.result??"",r=e.indexOf(","),a=r>-1?r+1:e.length;t(e.substring(a))},o.onabort=()=>n(new Error("Read aborted")),o.onerror=()=>n(o.error),o.readAsDataURL(e)}))}(e),n=lD(t);return new Uint8Array(n)}(e):async function(e){const t=[],n=e.getReader();let o=!1,r=0;for(;!o;){const{done:e,value:a}=await n.read();a&&(t.push(a),r+=a.length),o=e}const a=new Uint8Array(r);let i=0;for(const e of t)a.set(e,i),i+=e.length;return a}(e);const P$=e=>()=>Promise.reject(e),$$="function"==typeof TextEncoder?new TextEncoder:null,L$=e=>{if("string"==typeof e){if($$)return $$.encode(e).byteLength;let t=e.length;for(let n=t-1;n>=0;n--){const o=e.charCodeAt(n);o>127&&o<=2047?t++:o>2047&&o<=65535&&(t+=2),o>=56320&&o<=57343&&n--}return t}if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;throw new Error(`Body Length computation failed for ${e}`)},B$="required",j$="fn",W$="argv",U$="ref",H$="isSet",V$="tree",q$="error",G$="endpoint",K$="PartitionResult",Y$={[B$]:!1,type:"String"},X$={[B$]:!0,default:!1,type:"Boolean"},J$={[U$]:"Endpoint"},Z$={[j$]:"booleanEquals",[W$]:[{[U$]:"UseFIPS"},!0]},Q$={[j$]:"booleanEquals",[W$]:[{[U$]:"UseDualStack"},!0]},eL={},tL={[j$]:"booleanEquals",[W$]:[!0,{[j$]:"getAttr",[W$]:[{[U$]:K$},"supportsFIPS"]}]},nL={[j$]:"booleanEquals",[W$]:[!0,{[j$]:"getAttr",[W$]:[{[U$]:K$},"supportsDualStack"]}]},oL=[Z$],rL=[Q$],aL=[{[U$]:"Region"}],iL={version:"1.0",parameters:{Region:Y$,UseDualStack:X$,UseFIPS:X$,Endpoint:Y$},rules:[{conditions:[{[j$]:H$,[W$]:[J$]}],type:V$,rules:[{conditions:oL,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:q$},{type:V$,rules:[{conditions:rL,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:q$},{endpoint:{url:J$,properties:eL,headers:eL},type:G$}]}]},{type:V$,rules:[{conditions:[{[j$]:H$,[W$]:aL}],type:V$,rules:[{conditions:[{[j$]:"aws.partition",[W$]:aL,assign:K$}],type:V$,rules:[{conditions:[Z$,Q$],type:V$,rules:[{conditions:[tL,nL],type:V$,rules:[{type:V$,rules:[{endpoint:{url:"https://streaming-rekognition-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:eL,headers:eL},type:G$}]}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:q$}]},{conditions:oL,type:V$,rules:[{conditions:[tL],type:V$,rules:[{type:V$,rules:[{endpoint:{url:"https://streaming-rekognition-fips.{Region}.{PartitionResult#dnsSuffix}",properties:eL,headers:eL},type:G$}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:q$}]},{conditions:rL,type:V$,rules:[{conditions:[nL],type:V$,rules:[{type:V$,rules:[{endpoint:{url:"https://streaming-rekognition.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:eL,headers:eL},type:G$}]}]},{error:"DualStack is enabled but this partition does not support DualStack",type:q$}]},{type:V$,rules:[{endpoint:{url:"https://streaming-rekognition.{Region}.{PartitionResult#dnsSuffix}",properties:eL,headers:eL},type:G$}]}]}]},{error:"Invalid Configuration: Missing Region",type:q$}]}]},sL=(e,t={})=>((e,t)=>{const{endpointParams:n,logger:o}=t,{parameters:r,rules:a}=e;t.logger?.debug?.(`${gP} Initial EndpointParams: ${bP(n)}`);const i=Object.entries(r).filter((([,e])=>null!=e.default)).map((([e,t])=>[e,t.default]));if(i.length>0)for(const[e,t]of i)n[e]=n[e]??t;const s=Object.entries(r).filter((([,e])=>e.required)).map((([e])=>e));for(const e of s)if(null==n[e])throw new vP(`Missing required parameter: '${e}'`);const l=FP(a,{endpointParams:n,logger:o,referenceRecord:{}});if(t.endpointParams?.Endpoint)try{const e=new URL(t.endpointParams.Endpoint),{protocol:n,port:o}=e;l.url.protocol=n,l.url.port=o}catch(e){}return t.logger?.debug?.(`${gP} Resolved endpoint: ${bP(l)}`),l})(iL,{endpointParams:e,logger:t.logger});yP.aws=LP;const lL=["in-region","cross-region","mobile","standard","legacy"],cL=()=>{const e="undefined"!=typeof window&&window?.navigator?.userAgent?_$.parse(window.navigator.userAgent):void 0,t=e?.platform?.type;return"tablet"===t||"mobile"===t},uL=e=>{const t=(({defaultsMode:e}={})=>Iz((async()=>{const t="function"==typeof e?await e():e;switch(t?.toLowerCase()){case"auto":return Promise.resolve(cL()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(t?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${lL.join(", ")}, got ${t}`)}})))(e),n=()=>t().then(aR),o=(e=>({apiVersion:"2022-05-30",base64Decoder:e?.base64Decoder??lD,base64Encoder:e?.base64Encoder??uD,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??sL,extensions:e?.extensions??[],logger:e?.logger??new OD,serviceId:e?.serviceId??"RekognitionStreaming",urlParser:e?.urlParser??SD,utf8Decoder:e?.utf8Decoder??cD,utf8Encoder:e?.utf8Encoder??LD}))(e);return{...o,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??L$,credentialDefaultProvider:e?.credentialDefaultProvider??(e=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:e?.defaultUserAgentProvider??I$({serviceId:o.serviceId,clientVersion:t$}),eventStreamPayloadHandlerProvider:e?.eventStreamPayloadHandlerProvider??jO,eventStreamSerdeProvider:e?.eventStreamSerdeProvider??A$,maxAttempts:e?.maxAttempts??3,region:e?.region??P$("Region is missing"),requestHandler:dD.create(e?.requestHandler??n,F$.create(n)),retryMode:e?.retryMode??(async()=>(await n()).retryMode||jR),sha256:e?.sha256??u$,streamCollector:e?.streamCollector??z$,useDualstackEndpoint:e?.useDualstackEndpoint??(()=>Promise.resolve(false)),useFipsEndpoint:e?.useFipsEndpoint??(()=>Promise.resolve(false))}},pL=e=>{let t=async()=>{if(void 0===e.region)throw new Error("Region is missing from runtimeConfig");const t=e.region;return"string"==typeof t?t:t()};return{setRegion(e){t=e},region:()=>t}};class dL extends $D{constructor(...[e]){const t=(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"rekognition"}))(uL(e||{})),n=(e=>{const{region:t,useFipsEndpoint:n}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if("string"==typeof t)return XP(t);const e=await t();return XP(e)},useFipsEndpoint:async()=>{const e="string"==typeof t?t:await t();return!!YP(e)||("function"!=typeof n?Promise.resolve(!!n):n())}}})(t),o=(e=>{const t=e.tls??!0,{endpoint:n}=e,o=null!=n?async()=>_D(await yD(n)()):void 0,r=!!n;return{...e,endpoint:o,tls:t,isCustomEndpoint:r,useDualstackEndpoint:yD(e.useDualstackEndpoint??!1),useFipsEndpoint:yD(e.useFipsEndpoint??!1)}})(n),r=(e=>{const t=e.credentials?iP(e.credentials):e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e})),{signingEscapePath:n=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:r}=e;let a;return a=e.signer?yD(e.signer):e.regionInfoProvider?()=>yD(e.region)().then((async t=>[await e.regionInfoProvider(t,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},t])).then((([o,a])=>{const{signingRegion:i,signingService:s}=o;e.signingRegion=e.signingRegion||i||a,e.signingName=e.signingName||s||e.serviceId;const l={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:r,uriEscapePath:n};return new(e.signerConstructor||oP)(l)})):async o=>{o=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await yD(e.region)(),properties:{}},o);const a="sigv4a"===o?.name,i=o.signingRegion,s=o.signingName;let l;a?l=e.signingRegion||i:(e.signingRegion=e.signingRegion||i,l=e.signingRegion),e.signingName=e.signingName||s||e.serviceId;const c={...e,credentials:t,region:l,service:e.signingName,sha256:r,uriEscapePath:n};return new(e.signerConstructor||oP)(c)},{...e,systemClockOffset:o,signingEscapePath:n,credentials:t,signer:a}})(o),a=function(e){const t=e.signer,n=e.signer,o=e.eventStreamPayloadHandlerProvider({...e,messageSigner:n});return{...e,eventSigner:t,eventStreamPayloadHandler:o}}(r),i=(e=>({...e,signer:async t=>{const n=await e.signer(t);if(YO(n))return new KO({signer:n});throw new Error("Expected WebsocketSignatureV4 signer, please check the client constructor.")}}))(a),s=function(e){return{...e,customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent}}(i),l=(e=>{const{retryStrategy:t}=e,n=yD(e.maxAttempts??3);return{...e,maxAttempts:n,retryStrategy:async()=>t||(await yD(e.retryMode)()===BR.ADAPTIVE?new tF(n):new eF(n))}})(s),c=(e=>({...e,eventStreamMarshaller:e.eventStreamSerdeProvider(e)}))(l),u=((e,t)=>{const n={...pL(e),...uR(e),...M$(e)};return t.forEach((e=>e.configure(n))),{...e,...(a=n,{region:a.region()}),...(r=n,{...sR(r),...cR(r)}),...(o=n,{httpHandler:o.httpHandler()})};var o,r,a})(c,e?.extensions||[]);var p;super(u),this.config=u,this.middlewareStack.use(vz(this.config)),this.middlewareStack.use((this.config,{applyToStack:e=>{e.add(((e,t)=>async n=>{try{const o=await e(n),{clientName:r,commandName:a,logger:i,dynamoDbDocumentClientOptions:s={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:c}=s,u=l??t.inputFilterSensitiveLog,p=c??t.outputFilterSensitiveLog,{$metadata:d,...m}=o.output;return i?.info?.({clientName:r,commandName:a,input:u(n.input),output:p(m),metadata:d}),o}catch(e){const{clientName:o,commandName:r,logger:a,dynamoDbDocumentClientOptions:i={}}=t,{overrideInputFilterSensitiveLog:s}=i,l=s??t.inputFilterSensitiveLog;throw a?.error?.({clientName:o,commandName:r,input:l(n.input),error:e,metadata:e.$metadata}),e}}),wz)}})),this.middlewareStack.use(_z(this.config)),this.middlewareStack.use(pP(this.config)),this.middlewareStack.use((p=this.config,{applyToStack:e=>{e.add(VP(p),GP)}})),this.middlewareStack.use(gF(this.config)),this.middlewareStack.use(e$(this.config))}destroy(){super.destroy()}}i(536);const mL={},fL={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),mL[e]=t,fL[t]=e}var hL;!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(hL||(hL={}));Symbol.asyncIterator;Symbol.asyncIterator;Symbol.asyncIterator;Symbol.asyncIterator;var yL,gL,bL,vL;!function(e){e.HEADER="header",e.QUERY="query"}(yL||(yL={})),function(e){e.HEADER="header",e.QUERY="query"}(gL||(gL={})),function(e){e.HTTP="http",e.HTTPS="https"}(bL||(bL={})),function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"}(vL||(vL={}));var wL,kL,xL;!function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"}(wL||(wL={})),function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"}(kL||(kL={})),function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(xL||(xL={}));class SL{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers}}const _L=e=>encodeURIComponent(e).replace(/[!'()*]/g,IL),IL=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function TL(e=0){return new Promise(((t,n)=>{e&&setTimeout((()=>{const t=new Error(`Request did not complete within ${e} ms`);t.name="TimeoutError",n(t)}),e)}))}const EL=Boolean("undefined"!=typeof Request&&"keepalive"in new Request("https://[::1]"));class NL{static create(e){return"function"==typeof e?.handle?e:new NL(e)}constructor(e){"function"==typeof e?this.configProvider=e().then((e=>e||{})):(this.config=e??{},this.configProvider=Promise.resolve(this.config))}destroy(){}async handle(e,{abortSignal:t}={}){this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout,o=!0===this.config.keepAlive;if(t?.aborted){const e=new Error("Request aborted");return e.name="AbortError",Promise.reject(e)}let r=e.path;const a=function(e){const t=[];for(let n of Object.keys(e).sort()){const o=e[n];if(n=_L(n),Array.isArray(o))for(let e=0,r=o.length;e<r;e++)t.push(`${n}=${_L(o[e])}`);else{let e=n;(o||"string"==typeof o)&&(e+=`=${_L(o)}`),t.push(e)}}return t.join("&")}(e.query||{});a&&(r+=`?${a}`),e.fragment&&(r+=`#${e.fragment}`);let i="";if(null!=e.username||null!=e.password){i=`${e.username??""}:${e.password??""}@`}const{port:s,method:l}=e,c=`${e.protocol}//${i}${e.hostname}${s?`:${s}`:""}${r}`,u={body:"GET"===l||"HEAD"===l?void 0:e.body,headers:new Headers(e.headers),method:l};"undefined"!=typeof AbortController&&(u.signal=t),EL&&(u.keepalive=o);const p=new Request(c,u),d=[fetch(p).then((e=>{const t=e.headers,n={};for(const e of t.entries())n[e[0]]=e[1];return null!=e.body?{response:new SL({headers:n,reason:e.statusText,statusCode:e.status,body:e.body})}:e.blob().then((t=>({response:new SL({headers:n,reason:e.statusText,statusCode:e.status,body:t})})))})),TL(n)];return t&&d.push(new Promise(((e,n)=>{t.onabort=()=>{const e=new Error("Request aborted");e.name="AbortError",n(e)}}))),Promise.race(d)}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then((n=>(n[e]=t,n)))}httpHandlerConfigs(){return this.config??{}}}const CL={},AL=new Array(64);for(let e=0,t="A".charCodeAt(0),n="Z".charCodeAt(0);e+t<=n;e++){const n=String.fromCharCode(e+t);CL[n]=e,AL[e]=n}for(let e=0,t="a".charCodeAt(0),n="z".charCodeAt(0);e+t<=n;e++){const n=String.fromCharCode(e+t),o=e+26;CL[n]=o,AL[o]=n}for(let e=0;e<10;e++){CL[e.toString(10)]=e+52;const t=e.toString(10),n=e+52;CL[t]=n,AL[n]=t}CL["+"]=62,AL[62]="+",CL["/"]=63,AL[63]="/";const ML=2e3,OL="Websocket connection timeout",DL=e=>{return e[Symbol.asyncIterator]?e:(n=e,"function"==typeof ReadableStream&&n instanceof ReadableStream?(t=e,{[Symbol.asyncIterator]:async function*(){const e=t.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)return;yield n}}finally{e.releaseLock()}}}):{[Symbol.asyncIterator]:async function*(){yield e}});var t,n},RL=e=>"function"==typeof ReadableStream?(e=>{const t=e[Symbol.asyncIterator]();return new ReadableStream({async pull(e){const{done:n,value:o}=await t.next();if(n)return e.close();e.enqueue(o)}})})(e):e;class FL{constructor(e,t=new NL){this.metadata={handlerProtocol:"websocket/h1.1"},this.sockets={},this.utf8decoder=new TextDecoder,this.httpHandler=t,"function"==typeof e?(this.config={},this.configPromise=e().then((e=>this.config=e??{}))):(this.config=e??{},this.configPromise=Promise.resolve(this.config))}destroy(){for(const[e,t]of Object.entries(this.sockets)){for(const e of t)e.close(1e3,"Socket closed through destroy() call");delete this.sockets[e]}}async handle(e){if(!(e=>"ws:"===e.protocol||"wss:"===e.protocol)(e))return this.httpHandler.handle(e);const t=QO(e),n=new WebSocket(t);this.sockets[t]||(this.sockets[t]=[]),this.sockets[t].push(n),n.binaryType="arraybuffer";const{connectionTimeout:o=ML}=await this.configPromise;await this.waitForReady(n,o);const{body:r}=e,a=DL(r),i=this.connect(n,a),s=RL(i);return{response:new SL({statusCode:200,body:s})}}updateHttpClientConfig(e,t){this.configPromise=this.configPromise.then((n=>({...n,[e]:t})))}httpHandlerConfigs(){return this.config??{}}removeNotUsableSockets(e){this.sockets[e]=(this.sockets[e]??[]).filter((e=>!(e.readyState===WebSocket.CLOSING||e.readyState===WebSocket.CLOSED)))}waitForReady(e,t){return new Promise(((n,o)=>{const r=setTimeout((()=>{this.removeNotUsableSockets(e.url),o(new Error(OL))}),t);e.onopen=()=>{clearTimeout(r),n()}}))}connect(e,t){let n,o=!1,r=()=>{},a=()=>{};e.onmessage=e=>{a({done:!1,value:new Uint8Array(e.data)})},e.onerror=t=>{o=!0,e.close(),r(t)},e.onclose=()=>{this.removeNotUsableSockets(e.url),o||(n?r(n):a({done:!0,value:void 0}))};const i={[Symbol.asyncIterator]:()=>({next:()=>new Promise(((e,t)=>{a=e,r=t}))})};return(async()=>{try{for await(const n of t){const t=this.utf8decoder.decode(n);if(t.includes("closeCode")){const n=t.match(/"closeCode":([0-9]*)/);if(n){const t=n[1];e.close(parseInt(t))}}else e.send(n)}}catch(e){e instanceof Error&&(n=e)}finally{e.close(Yr)}})(),i}}const zL=e=>((e,t)=>e.Auth.fetchAuthSession(t))(pe,e),PL=e=>"function"==typeof e,$L=e=>!(!e?.accessKeyId||!e?.secretAccessKey);i(5569);const LL={},BL={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),LL[e]=t,BL[t]=e}function jL(e){let t="";for(let n=0;n<e.byteLength;n++)t+=LL[e[n]];return t}class WL{constructor(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const t=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(e));n>-1&&o>0;n--,o/=256)t[n]=o;return e<0&&UL(t),new WL(t)}valueOf(){const e=this.bytes.slice(0),t=128&e[0];return t&&UL(e),parseInt(jL(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function UL(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}class HL{constructor(e,t){this.toUtf8=e,this.fromUtf8=t}format(e){const t=[];for(const n of Object.keys(e)){const o=this.fromUtf8(n);t.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[n]))}const n=new Uint8Array(t.reduce(((e,t)=>e+t.byteLength),0));let o=0;for(const e of t)n.set(e,o),o+=e.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const o=new Uint8Array(9);return o[0]=5,o.set(e.value.bytes,1),o;case"binary":const r=new DataView(new ArrayBuffer(3+e.value.byteLength));r.setUint8(0,6),r.setUint16(1,e.value.byteLength,!1);const a=new Uint8Array(r.buffer);return a.set(e.value,3),a;case"string":const i=this.fromUtf8(e.value),s=new DataView(new ArrayBuffer(3+i.byteLength));s.setUint8(0,7),s.setUint16(1,i.byteLength,!1);const l=new Uint8Array(s.buffer);return l.set(i,3),l;case"timestamp":const c=new Uint8Array(9);return c[0]=8,c.set(WL.fromNumber(e.value.valueOf()).bytes,1),c;case"uuid":if(!tB.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const u=new Uint8Array(17);return u[0]=9,u.set(function(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const o=e.slice(n,n+2).toLowerCase();if(!(o in BL))throw new Error(`Cannot decode unrecognized sequence ${o} as hexadecimal`);t[n/2]=BL[o]}return t}(e.value.replace(/\-/g,"")),1),u}}parse(e){const t={};let n=0;for(;n<e.byteLength;){const o=e.getUint8(n++),r=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,o));switch(n+=o,e.getUint8(n++)){case 0:t[r]={type:qL,value:!0};break;case 1:t[r]={type:qL,value:!1};break;case 2:t[r]={type:GL,value:e.getInt8(n++)};break;case 3:t[r]={type:KL,value:e.getInt16(n,!1)},n+=2;break;case 4:t[r]={type:YL,value:e.getInt32(n,!1)},n+=4;break;case 5:t[r]={type:XL,value:new WL(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:const o=e.getUint16(n,!1);n+=2,t[r]={type:JL,value:new Uint8Array(e.buffer,e.byteOffset+n,o)},n+=o;break;case 7:const a=e.getUint16(n,!1);n+=2,t[r]={type:ZL,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,a))},n+=a;break;case 8:t[r]={type:QL,value:new Date(new WL(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const i=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,t[r]={type:eB,value:`${jL(i.subarray(0,4))}-${jL(i.subarray(4,6))}-${jL(i.subarray(6,8))}-${jL(i.subarray(8,10))}-${jL(i.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}}var VL;!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(VL||(VL={}));const qL="boolean",GL="byte",KL="short",YL="integer",XL="long",JL="binary",ZL="string",QL="timestamp",eB="uuid",tB=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;Symbol.asyncIterator;Symbol.asyncIterator;Symbol.asyncIterator;Symbol.asyncIterator;var nB,oB,rB,aB;!function(e){e.HEADER="header",e.QUERY="query"}(nB||(nB={})),function(e){e.HEADER="header",e.QUERY="query"}(oB||(oB={})),function(e){e.HTTP="http",e.HTTPS="https"}(rB||(rB={})),function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"}(aB||(aB={}));var iB,sB,lB;!function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"}(iB||(iB={})),function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"}(sB||(sB={})),function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(lB||(lB={}));const cB=e=>{if("function"==typeof e)return e;const t=Promise.resolve(e);return()=>t},uB=e=>{if("string"==typeof e)return e;if("object"!=typeof e||"number"!=typeof e.byteOffset||"number"!=typeof e.byteLength)throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)},pB=e=>(new TextEncoder).encode(e),dB=e=>"string"==typeof e?pB(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),mB="X-Amz-Date",fB="X-Amz-Signature",hB="X-Amz-Security-Token",yB="authorization",gB=mB.toLowerCase(),bB=[yB,gB,"date"],vB=fB.toLowerCase(),wB="x-amz-content-sha256",kB=hB.toLowerCase(),xB={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},SB=/^proxy-/,_B=/^sec-/,IB="AWS4-HMAC-SHA256",TB="AWS4-HMAC-SHA256-PAYLOAD",EB="aws4_request",NB={},CB=[],AB=(e,t,n)=>`${e}/${t}/${n}/${EB}`,MB=(e,t,n)=>{const o=new e(t);return o.update(dB(n)),o.digest()},OB=({headers:e},t,n)=>{const o={};for(const r of Object.keys(e).sort()){if(null==e[r])continue;const a=r.toLowerCase();(a in xB||t?.has(a)||SB.test(a)||_B.test(a))&&(!n||n&&!n.has(a))||(o[a]=e[r].trim().replace(/\s+/g," "))}return o},DB=e=>encodeURIComponent(e).replace(/[!'()*]/g,RB),RB=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,FB=async({headers:e,body:t},n)=>{for(const t of Object.keys(e))if(t.toLowerCase()===wB)return e[t];if(null==t)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof t||ArrayBuffer.isView(t)||(o=t,"function"==typeof ArrayBuffer&&o instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(o))){const e=new n;return e.update(dB(t)),jL(await e.digest())}var o;return"UNSIGNED-PAYLOAD"},zB=({headers:e,query:t,...n})=>({...n,headers:{...e},query:t?PB(t):void 0}),PB=e=>Object.keys(e).reduce(((t,n)=>{const o=e[n];return{...t,[n]:Array.isArray(o)?[...o]:o}}),{}),$B=e=>{e="function"==typeof e.clone?e.clone():zB(e);for(const t of Object.keys(e.headers))bB.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},LB=e=>"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e;class BB{constructor({applyChecksum:e,credentials:t,region:n,service:o,sha256:r,uriEscapePath:a=!0}){this.headerMarshaller=new HL(uB,pB),this.service=o,this.sha256=r,this.uriEscapePath=a,this.applyChecksum="boolean"!=typeof e||e,this.regionProvider=cB(n),this.credentialProvider=cB(t)}async presign(e,t={}){const{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:r,unhoistableHeaders:a,signableHeaders:i,signingRegion:s,signingService:l}=t,c=await this.credentialProvider();this.validateResolvedCredentials(c);const u=s??await this.regionProvider(),{longDate:p,shortDate:d}=jB(n);if(o>604800)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const m=AB(d,u,l??this.service),f=((e,t={})=>{const{headers:n,query:o={}}="function"==typeof e.clone?e.clone():zB(e);for(const e of Object.keys(n)){const r=e.toLowerCase();"x-amz-"!==r.slice(0,6)||t.unhoistableHeaders?.has(r)||(o[e]=n[e],delete n[e])}return{...e,headers:n,query:o}})($B(e),{unhoistableHeaders:a});c.sessionToken&&(f.query[hB]=c.sessionToken),f.query["X-Amz-Algorithm"]=IB,f.query["X-Amz-Credential"]=`${c.accessKeyId}/${m}`,f.query[mB]=p,f.query["X-Amz-Expires"]=o.toString(10);const h=OB(f,r,i);return f.query["X-Amz-SignedHeaders"]=WB(h),f.query[fB]=await this.getSignature(p,m,this.getSigningKey(c,u,d,l),this.createCanonicalRequest(f,h,await FB(e,this.sha256))),f}async sign(e,t){return"string"==typeof e?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:n=new Date,priorSignature:o,signingRegion:r,signingService:a}){const i=r??await this.regionProvider(),{shortDate:s,longDate:l}=jB(n),c=AB(s,i,a??this.service),u=await FB({headers:{},body:t},this.sha256),p=new this.sha256;p.update(e);const d=jL(await p.digest()),m=[TB,l,c,o,d,u].join("\n");return this.signString(m,{signingDate:n,signingRegion:i,signingService:a})}async signMessage(e,{signingDate:t=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerMarshaller.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:n,signingService:o,priorSignature:e.priorSignature}).then((t=>({message:e.message,signature:t})))}async signString(e,{signingDate:t=new Date,signingRegion:n,signingService:o}={}){const r=await this.credentialProvider();this.validateResolvedCredentials(r);const a=n??await this.regionProvider(),{shortDate:i}=jB(t),s=new this.sha256(await this.getSigningKey(r,a,i,o));return s.update(dB(e)),jL(await s.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:r,signingService:a}={}){const i=await this.credentialProvider();this.validateResolvedCredentials(i);const s=r??await this.regionProvider(),l=$B(e),{longDate:c,shortDate:u}=jB(t),p=AB(u,s,a??this.service);l.headers[gB]=c,i.sessionToken&&(l.headers[kB]=i.sessionToken);const d=await FB(l,this.sha256);!((e,t)=>{e=e.toLowerCase();for(const n of Object.keys(t))if(e===n.toLowerCase())return!0;return!1})(wB,l.headers)&&this.applyChecksum&&(l.headers[wB]=d);const m=OB(l,o,n),f=await this.getSignature(c,p,this.getSigningKey(i,s,u,a),this.createCanonicalRequest(l,m,d));return l.headers[yB]=`${IB} Credential=${i.accessKeyId}/${p}, SignedHeaders=${WB(m)}, Signature=${f}`,l}createCanonicalRequest(e,t,n){const o=Object.keys(t).sort();return`${e.method}\n${this.getCanonicalPath(e)}\n${(({query:e={}})=>{const t=[],n={};for(const o of Object.keys(e).sort()){if(o.toLowerCase()===vB)continue;t.push(o);const r=e[o];"string"==typeof r?n[o]=`${DB(o)}=${DB(r)}`:Array.isArray(r)&&(n[o]=r.slice(0).reduce(((e,t)=>e.concat([`${DB(o)}=${DB(t)}`])),[]).sort().join("&"))}return t.map((e=>n[e])).filter((e=>e)).join("&")})(e)}\n${o.map((e=>`${e}:${t[e]}`)).join("\n")}\n\n${o.join(";")}\n${n}`}async createStringToSign(e,t,n){const o=new this.sha256;o.update(dB(n));const r=await o.digest();return`${IB}\n${e}\n${t}\n${jL(r)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const t=[];for(const n of e.split("/"))0!==n?.length&&"."!==n&&(".."===n?t.pop():t.push(n));const n=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return e}async getSignature(e,t,n,o){const r=await this.createStringToSign(e,t,o),a=new this.sha256(await n);return a.update(dB(r)),jL(await a.digest())}getSigningKey(e,t,n,o){return(async(e,t,n,o,r)=>{const a=`${n}:${o}:${r}:${jL(await MB(e,t.secretAccessKey,t.accessKeyId))}:${t.sessionToken}`;if(a in NB)return NB[a];for(CB.push(a);CB.length>50;)delete NB[CB.shift()];let i=`AWS4${t.secretAccessKey}`;for(const t of[n,o,r,EB])i=await MB(e,i,t);return NB[a]=i})(this.sha256,e,n,t,o||this.service)}validateResolvedCredentials(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")}}const jB=e=>{const t=(e=>LB(e).toISOString().replace(/\.\d{3}Z$/,"Z"))(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},WB=e=>Object.keys(e).sort().join(";");class UB extends BB{presign(e,t){return super.presign(e,{...t,expiresIn:299,unsignableHeaders:new Set(Object.keys(e.headers).filter((e=>"host"!==e)))})}}const HB=`${Ct()} ui-react-liveness/3.1.3`;async function VB({credentialsProvider:e,endpointOverride:t,region:n,systemClockOffset:o}){const r=await async function(e){const t=PL(e);if(t)return e;if(e&&!t)throw new Error("Invalid credentialsProvider");try{const e=(await zL()).credentials;if($L(e))return e;throw new Error("Missing credentials")}catch(e){const{message:t}=e;throw new Error(`Invalid credentials: ${t}`)}}(e),a={credentials:r,customUserAgent:HB,region:n,requestHandler:new FL({connectionTimeout:1e4}),signerConstructor:UB,systemClockOffset:o};return t&&(a.endpointProvider=()=>({url:new URL(t)})),new dL(a)}function qB(e){return void 0!==e.Challenge}function GB(e){return void 0!==e.code}class KB{constructor({sessionId:e,region:t,stream:n,videoEl:o,credentialProvider:r,endpointOverride:a,systemClockOffset:i}){this.sessionId=e,this.region=t,this._stream=n,this.videoEl=o,this.videoRecorder=new yz(n),this.credentialProvider=r,this.endpointOverride=a,this.systemClockOffset=i,this.initPromise=this.init()}async getResponseStream(){return await this.initPromise,this.responseStream}startRecordingLivenessVideo(){this.videoRecorder.start(1e3)}sendClientInfo(e){this.videoRecorder.dispatch(new MessageEvent("clientSesssionInfo",{data:{clientInfo:e}}))}async stopVideo(){await this.videoRecorder.stop()}dispatchStopVideoEvent(){this.videoRecorder.dispatch(new Event("stopVideo"))}async endStreamWithCode(e){"recording"===this.videoRecorder.getState()&&await this.stopVideo(),this.videoRecorder.dispatch(new MessageEvent("endStreamWithCode",{data:{code:e}}))}async init(){this._client=await VB({credentialsProvider:this.credentialProvider,endpointOverride:this.endpointOverride,region:this.region,systemClockOffset:this.systemClockOffset}),this.responseStream=await this.startLivenessVideoConnection()}getAsyncGeneratorFromReadableStream(e){const t=this;return this._reader=e.getReader(),async function*(){for(;;){const{done:e,value:n}=await t._reader.read();if(e)return;if("stopVideo"===n)yield{VideoEvent:{VideoChunk:new Uint8Array([]),TimestampMillis:Date.now()}};else if(void 0!==n.arrayBuffer){const e=await n.arrayBuffer(),t=new Uint8Array(e);t.length>0&&(yield{VideoEvent:{VideoChunk:t,TimestampMillis:Date.now()}})}else qB(n)?yield{ClientSessionInformationEvent:{Challenge:n.Challenge}}:GB(n)&&(yield{VideoEvent:{VideoChunk:new Uint8Array([]),TimestampMillis:{closeCode:n.code}}})}}}async startLivenessVideoConnection(){const e=this.getAsyncGeneratorFromReadableStream(this.videoRecorder.videoStream)();return(await this._client.send(new dz({ChallengeVersions:"FaceMovementAndLightChallenge_1.0.0",SessionId:this.sessionId,LivenessRequestStream:e,VideoWidth:this.videoEl.videoWidth.toString(),VideoHeight:this.videoEl.videoHeight.toString()}))).LivenessResponseStream}}var YB;!function(e){e.SCROLLING="SCROLLING",e.FLAT="FLAT"}(YB||(YB={}));class XB{constructor(e,t){this.context=e,this.freshnessColorsSequence=t,this.isFirstTick=!0}async displayColorTick(){return new Promise(((e,t)=>{setTimeout((()=>{this.displayNextColorTick(e,t)}),Math.min(10))}))}init(){this.stageIndex=0,this.currColorIndex=0,this.currColorSequence=this.freshnessColorsSequence[0],this.prevColorSequence=this.freshnessColorsSequence[0],this.stage=YB.FLAT,this.timeLastFlatOrScrollChange=Date.now(),this.timeLastFaceMatchChecked=Date.now()}displayNextColorTick(e,t){const{freshnessColorEl:n}=this.context.freshnessColorAssociatedParams,{ovalDetails:o,scaleFactor:r}=this.context.ovalAssociatedParams,{videoEl:a}=this.context.videoAssociatedParams,i=Date.now();this.isFirstTick&&(this.init(),this.isFirstTick=!1,this.sendColorStartTime({tickStartTime:i,currColor:this.currColorSequence.color,prevColor:this.currColorSequence.color,currColorIndex:this.stageIndex}));let s=i-this.timeLastFlatOrScrollChange;if(n.style.display="block",(this.stage===YB.FLAT&&s>=this.currColorSequence.flatDisplayDuration||this.stage===YB.SCROLLING&&s>=this.currColorSequence.downscrollDuration)&&(this.incrementStageIndex(i),s=0),this.currColorIndex<this.freshnessColorsSequence.length){const t=s/(this.stage===YB.SCROLLING?this.currColorSequence.downscrollDuration:this.currColorSequence.flatDisplayDuration);!function({overlayCanvas:e,prevColor:t,nextColor:n,videoEl:o,ovalDetails:r,heightFraction:a,scaleFactor:i}){const{x:s,y:l}=o.getBoundingClientRect(),{flippedCenterX:c,centerY:u,width:p,height:d}=r,m=c*i+s,f=u*i+l,h=e.width,y=e.height,g=e.getContext("2d");if(!g)throw new Error("Cannot find Overlay Canvas.");g.canvas.width=window.innerWidth,g.canvas.height=window.innerHeight,g.clearRect(0,0,h,y),ua({ctx:g,prevColor:t,nextColor:n,fraction:a}),g.save(),g.beginPath(),g.rect(0,0,h,y),g.clip(),g.clearRect(0,0,h,y),g.globalAlpha=.9,ua({ctx:g,prevColor:t,nextColor:n,fraction:a}),g.beginPath(),g.ellipse(m,f,p*i/2,d*i/2,0,0,2*Math.PI),g.strokeStyle="white",g.lineWidth=8,g.stroke(),g.clip(),g.clearRect(0,0,h,y),g.globalAlpha=.75,ua({ctx:g,prevColor:t,nextColor:n,fraction:a}),g.restore()}({overlayCanvas:n,prevColor:this.prevColorSequence.color,nextColor:this.currColorSequence.color,videoEl:a,ovalDetails:o,heightFraction:t,scaleFactor:r}),e(!1)}else n.style.display="none",e(!0)}incrementStageIndex(e){if(this.stageIndex+=1,this.prevColorSequence=this.freshnessColorsSequence[this.currColorIndex],this.stage===YB.FLAT)this.currColorIndex+=1,this.stage=YB.SCROLLING;else if(this.stage===YB.SCROLLING){this.freshnessColorsSequence[this.currColorIndex].flatDisplayDuration>0?this.stage=YB.FLAT:(this.stage=YB.SCROLLING,this.currColorIndex+=1)}this.currColorSequence=this.freshnessColorsSequence[this.currColorIndex],this.timeLastFlatOrScrollChange=Date.now(),this.currColorSequence&&this.sendColorStartTime({tickStartTime:e,currColor:this.currColorSequence.color,prevColor:this.prevColorSequence.color,currColorIndex:this.stageIndex})}sendColorStartTime({tickStartTime:e,currColor:t,prevColor:n,currColorIndex:o}){const{livenessStreamProvider:r,challengeId:a}=this.context;r.sendClientInfo({Challenge:{FaceMovementAndLightChallenge:{ChallengeId:a,ColorDisplayed:{CurrentColor:{RGB:da(t)},PreviousColor:{RGB:da(n)},SequenceNumber:o,CurrentColorStartTimestamp:e}}}})}}const JB=e=>{const{message:t}=e;return t.includes(OL)},ZB=e=>!!e?.DisconnectionEvent,QB=e=>!!e?.ValidationException,ej=e=>!!e?.InternalServerException,tj=e=>!!e?.ThrottlingException,nj=e=>!!e?.ServiceQuotaExceededException,oj={width:{min:320,ideal:640},height:{min:240,ideal:480},frameRate:{min:15,ideal:30,max:30},facingMode:"user"},rj="AmplifyLivenessCameraId";let aj;const ij=async e=>{try{const n=await aj;for await(const o of n)t=o,t?.ServerSessionInformationEvent?e({type:"SET_SESSION_INFO",data:{sessionInfo:o.ServerSessionInformationEvent.SessionInformation}}):ZB(o)?e({type:"DISCONNECT_EVENT"}):QB(o)?e({type:"SERVER_ERROR",data:{error:{...o.ValidationException}}}):ej(o)?e({type:"SERVER_ERROR",data:{error:{...o.InternalServerException}}}):tj(o)?e({type:"SERVER_ERROR",data:{error:{...o.ThrottlingException}}}):nj(o)&&e({type:"SERVER_ERROR",data:{error:{...o.ServiceQuotaExceededException}}})}catch(t){(e=>{const{message:t,name:n}=e;return"InvalidSignatureException"===n&&t.includes("valid region")})(t)?e({type:"SERVER_ERROR",data:{error:new Error("Invalid region in FaceLivenessDetector or credentials are scoped to the wrong region.")}}):t instanceof Error&&e({type:JB(t)?"CONNECTION_TIMEOUT":"SERVER_ERROR",data:{error:t}})}var t};function sj(e){localStorage.setItem(rj,e)}const lj=function(e,t){return Xn||"predictableActionArguments"in e||Rr||(Rr=!0,console.warn("It is highly recommended to set `predictableActionArguments` to `true` when using `createMachine`. https://xstate.js.org/docs/guides/actions.html")),new Dr(e,t)}({id:"livenessMachine",initial:"cameraCheck",predictableActionArguments:!0,context:{challengeId:Tr(),maxFailedAttempts:0,failedAttempts:0,componentProps:void 0,serverSessionInformation:void 0,videoAssociatedParams:{videoConstraints:oj,selectableDevices:[]},ovalAssociatedParams:void 0,faceMatchAssociatedParams:{illuminationState:void 0,faceMatchState:void 0,faceMatchPercentage:25,currentDetectedFace:void 0,startFace:void 0,endFace:void 0},freshnessColorAssociatedParams:{freshnessColorEl:void 0,freshnessColors:[],freshnessColorsComplete:!1,freshnessColorDisplay:void 0},errorState:void 0,livenessStreamProvider:void 0,responseStreamActorRef:void 0,shouldDisconnect:!1,faceMatchStateBeforeStart:void 0,isFaceFarEnoughBeforeRecording:void 0,isRecordingStopped:!1},on:{CANCEL:"userCancel",TIMEOUT:{target:"retryableTimeout",actions:"updateErrorStateForTimeout"},SET_SESSION_INFO:{internal:!0,actions:"updateSessionInfo"},DISCONNECT_EVENT:{internal:!0,actions:"updateShouldDisconnect"},SET_DOM_AND_CAMERA_DETAILS:{actions:"setDOMAndCameraDetails"},UPDATE_DEVICE_AND_STREAM:{actions:"updateDeviceAndStream"},SERVER_ERROR:{target:"error",actions:"updateErrorStateForServer"},CONNECTION_TIMEOUT:{target:"error",actions:"updateErrorStateForConnectionTimeout"},RUNTIME_ERROR:{target:"error",actions:"updateErrorStateForRuntime"},MOBILE_LANDSCAPE_WARNING:{target:"mobileLandscapeWarning",actions:"updateErrorStateForServer"}},states:{cameraCheck:{entry:"resetErrorState",invoke:{src:"checkVirtualCameraAndGetStream",onDone:{target:"waitForDOMAndCameraDetails",actions:"updateVideoMediaStream"},onError:{target:"permissionDenied"}}},waitForDOMAndCameraDetails:{after:{0:{target:"start",cond:"hasDOMAndCameraDetails"},10:{target:"waitForDOMAndCameraDetails"}}},start:{entry:["drawStaticOval","initializeFaceDetector"],always:[{target:"detectFaceBeforeStart",cond:"shouldSkipStartScreen"}],on:{BEGIN:"detectFaceBeforeStart"}},detectFaceBeforeStart:{invoke:{src:"detectFace",onDone:{target:"checkFaceDetectedBeforeStart",actions:"updateFaceMatchBeforeStartDetails"}}},checkFaceDetectedBeforeStart:{after:{0:{target:"detectFaceDistanceBeforeRecording",cond:"hasSingleFaceBeforeStart"},100:{target:"detectFaceBeforeStart"}}},detectFaceDistanceBeforeRecording:{invoke:{src:"detectFaceDistance",onDone:{target:"checkFaceDistanceBeforeRecording",actions:"updateFaceDistanceBeforeRecording"}}},checkFaceDistanceBeforeRecording:{after:{0:{target:"initializeLivenessStream",cond:"hasEnoughFaceDistanceBeforeRecording"},100:{target:"detectFaceDistanceBeforeRecording"}}},initializeLivenessStream:{invoke:{src:"openLivenessStreamConnection",onDone:{target:"notRecording",actions:["updateLivenessStreamProvider","spawnResponseStreamActor"]}}},notRecording:{initial:"waitForSessionInfo",states:{waitForSessionInfo:{after:{0:{target:"#livenessMachine.recording",cond:"hasServerSessionInfo"},100:{target:"waitForSessionInfo"}}}}},recording:{entry:["clearErrorState","startRecording","sendTimeoutAfterOvalDrawingDelay"],initial:"ovalDrawing",states:{ovalDrawing:{invoke:{src:"detectInitialFaceAndDrawOval",onDone:{target:"checkFaceDetected",actions:["updateOvalAndFaceDetailsPostDraw","sendTimeoutAfterOvalMatchDelay"]},onError:{target:"#livenessMachine.error",actions:"updateErrorStateForRuntime"}}},checkFaceDetected:{after:{0:{target:"cancelOvalDrawingTimeout",cond:"hasSingleFace"},100:{target:"ovalDrawing"}}},cancelOvalDrawingTimeout:{entry:["cancelOvalDrawingTimeout","sendTimeoutAfterRecordingDelay"],after:{0:{target:"checkRecordingStarted"}}},checkRecordingStarted:{after:{0:{target:"ovalMatching",cond:"hasRecordingStarted",actions:"updateRecordingStartTimestampMs"},100:{target:"checkRecordingStarted"}}},ovalMatching:{entry:"cancelRecordingTimeout",invoke:{src:"detectFaceAndMatchOval",onDone:{target:"checkMatch",actions:"updateFaceDetailsPostMatch"}}},checkMatch:{after:{0:{target:"delayBeforeFlash",cond:"hasFaceMatchedInOval",actions:["setFaceMatchTimeAndStartFace","updateEndFaceMatch","setupFlashFreshnessColors","cancelOvalMatchTimeout","cancelOvalDrawingTimeout"]},1:{target:"ovalMatching"}}},delayBeforeFlash:{after:{1e3:"flashFreshnessColors"}},flashFreshnessColors:{invoke:{src:"flashColors",onDone:[{target:"success",cond:"hasFreshnessColorShown"},{target:"flashFreshnessColors",actions:"updateFreshnessDetails"}]}},success:{entry:"stopRecording",type:"final"}},onDone:"uploading"},uploading:{initial:"pending",states:{pending:{entry:["pauseVideoStream"],invoke:{src:"stopVideo",onDone:"waitForDisconnectEvent",onError:{target:"#livenessMachine.error",actions:"updateErrorStateForRuntime"}}},waitForDisconnectEvent:{after:{0:{target:"getLivenessResult",cond:"getShouldDisconnect"},100:{target:"waitForDisconnectEvent"}}},getLivenessResult:{entry:["freezeStream"],invoke:{src:"getLiveness",onError:{target:"#livenessMachine.error",actions:"updateErrorStateForServer"}}}}},retryableTimeout:{entry:"updateFailedAttempts",always:[{target:"timeout",cond:"shouldTimeoutOnFailedAttempts"},{target:"notRecording"}]},permissionDenied:{entry:"callUserPermissionDeniedCallback",on:{RETRY_CAMERA_CHECK:"cameraCheck"}},mobileLandscapeWarning:{entry:"callMobileLandscapeWarningCallback",always:{target:"error"}},timeout:{entry:["cleanUpResources","callUserTimeoutCallback","freezeStream"]},error:{entry:["cleanUpResources","callErrorCallback","cancelOvalDrawingTimeout","cancelOvalMatchTimeout","cancelRecordingTimeout","freezeStream"]},userCancel:{entry:["cleanUpResources","callUserCancelCallback","resetContext"],always:{target:"cameraCheck"}}}},{actions:{spawnResponseStreamActor:Pr({responseStreamActorRef:()=>vr(ij)}),updateFailedAttempts:Pr({failedAttempts:e=>e.failedAttempts+1}),updateVideoMediaStream:Pr({videoAssociatedParams:(e,t)=>({...e.videoAssociatedParams,videoMediaStream:t.data?.stream,selectedDeviceId:t.data?.selectedDeviceId,selectableDevices:t.data?.selectableDevices})}),initializeFaceDetector:Pr({ovalAssociatedParams:e=>{const{componentProps:t}=e,{faceModelUrl:n,binaryPath:o}=t.config,r=new tO(o,n);return r.triggerModelLoading(),{...e.ovalAssociatedParams,faceDetector:r}}}),updateLivenessStreamProvider:Pr({livenessStreamProvider:(e,t)=>t.data?.livenessStreamProvider}),setDOMAndCameraDetails:Pr({videoAssociatedParams:(e,t)=>({...e.videoAssociatedParams,videoEl:t.data?.videoEl,canvasEl:t.data?.canvasEl,isMobile:t.data?.isMobile}),freshnessColorAssociatedParams:(e,t)=>({...e.freshnessColorAssociatedParams,freshnessColorEl:t.data?.freshnessColorEl})}),updateDeviceAndStream:Pr({videoAssociatedParams:(e,t)=>(sj(t.data?.newDeviceId),{...e.videoAssociatedParams,selectedDeviceId:t.data?.newDeviceId,videoMediaStream:t.data?.newStream})}),drawStaticOval:e=>{const{canvasEl:t,videoEl:n,videoMediaStream:o}=e.videoAssociatedParams;ia(t,n,o)},updateRecordingStartTimestampMs:Pr({videoAssociatedParams:e=>{const{challengeId:t,videoAssociatedParams:n,ovalAssociatedParams:o,livenessStreamProvider:r}=e,{recordingStartApiTimestamp:a,recorderStartTimestamp:i}=r.videoRecorder,{videoMediaStream:s}=n,{initialFace:l}=o,c=Math.round(.73*(i-a)+a),{width:u,height:p}=s.getTracks()[0].getSettings(),d=u-l.left-l.width;return e.livenessStreamProvider.sendClientInfo({Challenge:{FaceMovementAndLightChallenge:{ChallengeId:t,VideoStartTimestamp:c,InitialFace:{InitialFaceDetectedTimestamp:l.timestampMs,BoundingBox:fa({deviceHeight:p,deviceWidth:u,height:l.height,width:l.width,top:l.top,left:d})}}}}),{...e.videoAssociatedParams,recordingStartTimestampMs:c}}}),startRecording:Pr({videoAssociatedParams:e=>{if(!e.serverSessionInformation)throw new Error("Session information was not received from response stream");return e.livenessStreamProvider.videoRecorder&&"recording"!==e.livenessStreamProvider.videoRecorder.getState()&&e.livenessStreamProvider.startRecordingLivenessVideo(),{...e.videoAssociatedParams}}}),stopRecording:()=>{},updateFaceMatchBeforeStartDetails:Pr({faceMatchStateBeforeStart:(e,t)=>t.data.faceMatchState}),updateFaceDistanceBeforeRecording:Pr({isFaceFarEnoughBeforeRecording:(e,t)=>!!t.data.isFaceFarEnoughBeforeRecording}),updateFaceDistanceWhileLoading:Pr({isFaceFarEnoughBeforeRecording:(e,t)=>!!t.data.isFaceFarEnoughBeforeRecording,errorState:(e,t)=>t.data?.error}),updateOvalAndFaceDetailsPostDraw:Pr({ovalAssociatedParams:(e,t)=>({...e.ovalAssociatedParams,initialFace:t.data.initialFace,ovalDetails:t.data.ovalDetails,scaleFactor:t.data.scaleFactor}),faceMatchAssociatedParams:(e,t)=>({...e.faceMatchAssociatedParams,faceMatchState:t.data.faceMatchState,illuminationState:t.data.illuminationState})}),updateFaceDetailsPostMatch:Pr({faceMatchAssociatedParams:(e,t)=>({...e.faceMatchAssociatedParams,faceMatchState:t.data.faceMatchState,faceMatchPercentage:t.data.faceMatchPercentage,illuminationState:t.data.illuminationState,currentDetectedFace:t.data.detectedFace})}),updateEndFaceMatch:Pr({faceMatchAssociatedParams:e=>({...e.faceMatchAssociatedParams,endFace:e.faceMatchAssociatedParams.currentDetectedFace})}),setFaceMatchTimeAndStartFace:Pr({faceMatchAssociatedParams:e=>({...e.faceMatchAssociatedParams,startFace:void 0===e.faceMatchAssociatedParams.startFace?e.faceMatchAssociatedParams.currentDetectedFace:e.faceMatchAssociatedParams.startFace})}),resetErrorState:Pr({errorState:e=>{}}),updateErrorStateForConnectionTimeout:Pr({errorState:e=>$r}),updateErrorStateForTimeout:Pr({errorState:(e,t)=>t.data?.errorState||Lr,errorMessage:(e,t)=>t.data?.message}),updateErrorStateForRuntime:Pr({errorState:(e,t)=>t.data?.errorState||Br}),updateErrorStateForServer:Pr({errorState:e=>jr}),clearErrorState:Pr({errorState:e=>{}}),updateSessionInfo:Pr({serverSessionInformation:(e,t)=>t.data.sessionInfo}),updateShouldDisconnect:Pr({shouldDisconnect:()=>!0}),updateFreshnessDetails:Pr({freshnessColorAssociatedParams:(e,t)=>({...e.freshnessColorAssociatedParams,freshnessColorsComplete:t.data.freshnessColorsComplete})}),setupFlashFreshnessColors:Pr({freshnessColorAssociatedParams:e=>{const{serverSessionInformation:t}=e,n=(t.Challenge.FaceMovementAndLightChallenge.ColorSequences??[]).map((({FreshnessColor:e,DownscrollDuration:t,FlatDisplayDuration:n})=>{const o=e.RGB,r=`rgb(${o[0]},${o[1]},${o[2]})`;return void 0!==r&&void 0!==t&&void 0!==n?{color:r,downscrollDuration:t,flatDisplayDuration:n}:void 0})).filter(pa);const o=new XB(e,n);return{...e.freshnessColorAssociatedParams,freshnessColorDisplay:o}}}),sendTimeoutAfterOvalDrawingDelay:qo({type:"RUNTIME_ERROR",data:{message:"Client failed to draw oval."}},{delay:5e3,id:"ovalDrawingTimeout"}),cancelOvalDrawingTimeout:Go("ovalDrawingTimeout"),sendTimeoutAfterRecordingDelay:qo({type:"RUNTIME_ERROR",data:{message:"Client failed to start recording."}},{delay:5e3,id:"recordingTimeout"}),cancelRecordingTimeout:Go("recordingTimeout"),sendTimeoutAfterOvalMatchDelay:qo({type:"TIMEOUT",data:{message:"Client timed out waiting for face to match oval."}},{delay:e=>e.serverSessionInformation?.Challenge?.FaceMovementAndLightChallenge?.ChallengeConfig?.OvalFitTimeout??7e3,id:"ovalMatchTimeout"}),cancelOvalMatchTimeout:Go("ovalMatchTimeout"),callUserPermissionDeniedCallback:Pr({errorState:(e,t)=>{let n;n=t.data.message.includes("15 fps")?Wr:Ur;const o=t.data.message||t.data.Message,r={state:n,error:new Error(o)};return e.componentProps.onError?.(r),n}}),callMobileLandscapeWarningCallback:Pr({errorState:()=>Vr}),callUserCancelCallback:e=>{e.componentProps.onUserCancel?.()},callUserTimeoutCallback:e=>{const t=new Error(e.errorMessage??"Client Timeout");t.name=e.errorState;const n={state:e.errorState,error:t};e.componentProps.onError?.(n)},callErrorCallback:(e,t)=>{const n={state:e.errorState,error:t.data?.error||t.data};e.componentProps.onError?.(n)},cleanUpResources:e=>{const{freshnessColorEl:t}=e.freshnessColorAssociatedParams;t&&(t.style.display="none");let n=Xr;e.errorState===Lr?n=Jr:e.errorState===Br?n=Qr:e.errorState===Hr||e.errorState===qr?n=ea:void 0===e.errorState&&(n=Zr),e.livenessStreamProvider?.endStreamWithCode(n)},freezeStream:e=>{const{videoMediaStream:t,videoEl:n}=e.videoAssociatedParams;e.isRecordingStopped=!0,n?.pause(),t?.getTracks().forEach((function(e){e.stop()}))},pauseVideoStream:e=>{const{videoEl:t}=e.videoAssociatedParams;e.isRecordingStopped=!0,t.pause()},resetContext:Pr({challengeId:Tr(),maxFailedAttempts:0,failedAttempts:0,componentProps:e=>e.componentProps,serverSessionInformation:e=>{},videoAssociatedParams:e=>({videoConstraints:oj}),ovalAssociatedParams:e=>{},errorState:e=>{},livenessStreamProvider:e=>{},responseStreamActorRef:e=>{},shouldDisconnect:!1,faceMatchStateBeforeStart:e=>{},isFaceFarEnoughBeforeRecording:e=>{},isRecordingStopped:!1})},guards:{shouldTimeoutOnFailedAttempts:e=>e.failedAttempts>=e.maxFailedAttempts,hasFaceMatchedInOval:e=>e.faceMatchAssociatedParams.faceMatchState===zr.MATCHED,hasSingleFace:e=>e.faceMatchAssociatedParams.faceMatchState===zr.FACE_IDENTIFIED,hasSingleFaceBeforeStart:e=>e.faceMatchStateBeforeStart===zr.FACE_IDENTIFIED,hasEnoughFaceDistanceBeforeRecording:e=>e.isFaceFarEnoughBeforeRecording,hasNotEnoughFaceDistanceBeforeRecording:e=>!e.isFaceFarEnoughBeforeRecording,hasFreshnessColorShown:e=>e.freshnessColorAssociatedParams.freshnessColorsComplete,hasServerSessionInfo:e=>void 0!==e.serverSessionInformation,hasDOMAndCameraDetails:e=>void 0!==e.videoAssociatedParams.videoEl&&void 0!==e.videoAssociatedParams.canvasEl&&void 0!==e.freshnessColorAssociatedParams.freshnessColorEl,getShouldDisconnect:e=>!!e.shouldDisconnect,hasRecordingStarted:e=>void 0!==e.livenessStreamProvider.videoRecorder.firstChunkTimestamp,shouldSkipStartScreen:e=>!!e.componentProps?.disableStartScreen},services:{async checkVirtualCameraAndGetStream(e){const{videoConstraints:t}=e.videoAssociatedParams,n=localStorage.getItem(rj),o=await navigator.mediaDevices.getUserMedia({video:{...t,...n?{deviceId:n}:{}},audio:!1}),r=(await navigator.mediaDevices.enumerateDevices()).filter((e=>"videoinput"===e.kind)).filter((e=>!function(e){return e.label.toLowerCase().includes("virtual")}(e)));if(!r.length)throw new Error("No real video devices found");const a=o.getTracks().filter((e=>e.getSettings().frameRate>=15));if(a.length<1)throw new Error("No camera found with more than 15 fps");const i=a[0].getSettings().deviceId,s=r.some((e=>e.deviceId===i)),l=s?i:r[0].deviceId;let c=o;return s||(c=await navigator.mediaDevices.getUserMedia({video:{...t,deviceId:{exact:l}},audio:!1})),sj(l),{stream:c,selectedDeviceId:i,selectableDevices:r}},async openLivenessStreamConnection(e){const{config:t}=e.componentProps,{credentialProvider:n,endpointOverride:o,systemClockOffset:r}=t,a=new KB({sessionId:e.componentProps.sessionId,region:e.componentProps.region,systemClockOffset:r,stream:e.videoAssociatedParams.videoMediaStream,videoEl:e.videoAssociatedParams.videoEl,credentialProvider:n,endpointOverride:o});return aj=a.getResponseStream(),{livenessStreamProvider:a}},async detectFace(e){const{videoEl:t}=e.videoAssociatedParams,{faceDetector:n}=e.ovalAssociatedParams;try{await n.modelLoadingPromise}catch(e){console.log({err:e})}const o=await async function(e,t){let n;switch((await e.detectFaces(t)).length){case 0:n=zr.CANT_IDENTIFY;break;case 1:n=zr.FACE_IDENTIFIED;break;default:n=zr.TOO_MANY}return n}(n,t);return{faceMatchState:o}},async detectFaceDistance(e){const{isFaceFarEnoughBeforeRecording:t}=e,{videoEl:n,videoMediaStream:o,isMobile:r}=e.videoAssociatedParams,{faceDetector:a}=e.ovalAssociatedParams,{width:i,height:s}=o.getTracks()[0].getSettings(),l=ra({width:i,height:s}),{isDistanceBelowThreshold:c}=await ma({faceDetector:a,videoEl:n,ovalDetails:l,reduceThreshold:t,isMobile:r});return{isFaceFarEnoughBeforeRecording:c}},async detectFaceDistanceWhileLoading(e){const{isFaceFarEnoughBeforeRecording:t}=e,{videoEl:n,videoMediaStream:o,isMobile:r}=e.videoAssociatedParams,{faceDetector:a}=e.ovalAssociatedParams,{width:i,height:s}=o.getTracks()[0].getSettings(),l=ra({width:i,height:s}),{isDistanceBelowThreshold:c,error:u}=await ma({faceDetector:a,isMobile:r,ovalDetails:l,videoEl:n,reduceThreshold:t});return{isFaceFarEnoughBeforeRecording:c,error:u}},async detectInitialFaceAndDrawOval(e){const{serverSessionInformation:t,livenessStreamProvider:n}=e,{videoEl:o,canvasEl:r,isMobile:a}=e.videoAssociatedParams,{faceDetector:i}=e.ovalAssociatedParams;try{await i.modelLoadingPromise,await n.videoRecorder.recorderStarted}catch(e){console.log({err:e})}const s=await i.detectFaces(o);let l,c,u;switch(s.length){case 0:c=zr.CANT_IDENTIFY,u=ca(o);break;case 1:c=zr.FACE_IDENTIFIED,l=s[0];break;default:c=zr.TOO_MANY}if(!l)return{faceMatchState:c,illuminationState:u};const{width:p,height:d}=o.getBoundingClientRect();a?(r.width=window.innerWidth,r.height=window.innerHeight):(r.width=p,r.height=d);const m=p/o.videoWidth,f=function({sessionInformation:e,videoWidth:t}){const n=e?.Challenge?.FaceMovementAndLightChallenge?.OvalParameters;if(!(n&&n.CenterX&&n.CenterY&&n.Width&&n.Height))throw new Error("Oval parameters not returned from session information.");return{flippedCenterX:t-n.CenterX,centerX:n.CenterX,centerY:n.CenterY,width:n.Width,height:n.Height}}({sessionInformation:t,videoWidth:o.width}),h=la(l,f,o.videoHeight);return l.top=h.top,l.left=h.left,l.height=h.bottom-h.top,l.width=h.right-h.left,aa({canvas:r,oval:f,scaleFactor:m,videoEl:o}),{faceMatchState:c,ovalDetails:f,scaleFactor:m,initialFace:l}},async detectFaceAndMatchOval(e){const{serverSessionInformation:t}=e,{videoEl:n}=e.videoAssociatedParams,{faceDetector:o,ovalDetails:r,initialFace:a}=e.ovalAssociatedParams,i=await o.detectFaces(n);let s,l,c,u=0;const p=la(a,r,n.videoHeight),{ovalBoundingBox:d}=na(r),m=oa(p,d);switch(i.length){case 0:s=zr.CANT_IDENTIFY,c=ca(n);break;case 1:{l=i[0];const{faceMatchState:e,faceMatchPercentage:o}=function({face:e,ovalDetails:t,initialFaceIntersection:n,sessionInformation:o,frameHeight:r}){let a;const i=o?.Challenge?.FaceMovementAndLightChallenge?.ChallengeConfig;if(!(i&&i.OvalIouThreshold&&i.OvalIouHeightThreshold&&i.OvalIouWidthThreshold&&i.FaceIouHeightThreshold&&i.FaceIouWidthThreshold))throw new Error("Challenge information not returned from session information.");const{OvalIouThreshold:s,FaceIouHeightThreshold:l,FaceIouWidthThreshold:c}=i,u=la(e,t,r),p=u.left,d=u.right,m=u.top,f=u.bottom,{ovalBoundingBox:h,minOvalX:y,minOvalY:g,maxOvalX:b,maxOvalY:v}=na(t),w=oa(u,h),k=s,x=t.width*c,S=t.height*l,_=100*Math.max(Math.min(1,.75*(w-n)/(k-n)+.25),0),I=y>p&&b>d,T=p>y&&d>b,E=g-m>S||f-v>S||y-p>x&&d-b>x;return a=w>k?zr.MATCHED:I||T?zr.OFF_CENTER:E?zr.MATCHED:zr.TOO_FAR,{faceMatchState:a,faceMatchPercentage:_}}({face:l,ovalDetails:r,initialFaceIntersection:m,sessionInformation:t,frameHeight:n.videoHeight});s=e,u=o;break}default:s=zr.TOO_MANY}return{faceMatchState:s,faceMatchPercentage:u,illuminationState:c,detectedFace:l}},async flashColors(e){const{freshnessColorsComplete:t,freshnessColorDisplay:n}=e.freshnessColorAssociatedParams;if(t)return;return{freshnessColorsComplete:await n.displayColorTick()}},async stopVideo(e){const{challengeId:t,livenessStreamProvider:n}=e,{videoMediaStream:o}=e.videoAssociatedParams,{initialFace:r,ovalDetails:a}=e.ovalAssociatedParams,{startFace:i,endFace:s}=e.faceMatchAssociatedParams,{width:l,height:c}=o.getTracks()[0].getSettings(),u=l-r.left-r.width;await n.stopVideo();const p={Challenge:{FaceMovementAndLightChallenge:{ChallengeId:t,InitialFace:{InitialFaceDetectedTimestamp:r.timestampMs,BoundingBox:fa({deviceHeight:c,deviceWidth:l,height:r.height,width:r.width,top:r.top,left:u})},TargetFace:{FaceDetectedInTargetPositionStartTimestamp:i.timestampMs,FaceDetectedInTargetPositionEndTimestamp:s.timestampMs,BoundingBox:fa({deviceHeight:c,deviceWidth:l,height:a.height,width:a.width,top:a.centerY-a.height/2,left:a.centerX-a.width/2})},VideoEndTimestamp:n.videoRecorder.recorderEndTimestamp}}};if(0===n.videoRecorder.getVideoChunkSize())throw new Error("Video chunks not recorded successfully.");n.sendClientInfo(p),n.dispatchStopVideoEvent()},async getLiveness(e){const{onAnalysisComplete:t}=e.componentProps;await t()}}});var cj=i(249),uj=i(2179);function pj(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function dj(e){return"string"==typeof e||"object"==typeof e&&"[object String]"===Object.prototype.toString.call(e)}function mj(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}const fj=(e,t)=>t?`${e}--${t}`:"",hj=(e,t,n)=>n?`${e}--${t}`:"";const yj="amplify",gj=["offsetX","offsetY","blurRadius","spreadRadius","color"];function bj(e){if(!e)return"";if(uj(e)){return`var(--${vj({path:e.replace(/\{|\}/g,"").replace(".value","").split(".")})})`}return e}function vj({path:e=[]}){return`${cj([yj,...e].join(" "))}`}function wj(e){return pj(e)&&mj(e,"value")}function kj(e){return pj(e)&&mj(e,"offsetX")}function xj({tokens:e,path:t=[],setupToken:n}){if(mj(e,"value"))return n({token:e,path:t});const o={};for(const r in e)if(mj(e,r)){const a=e[r],i=pj(a)?a:{value:a};o[r]=xj({tokens:i,path:t.concat(r),setupToken:n})}return o}const Sj={alignContent:"alignContent",alignItems:"alignItems",alignSelf:"alignSelf",area:"gridArea",aspectRatio:"aspectRatio",autoColumns:"gridAutoColumns",autoFlow:"gridAutoFlow",autoRows:"gridAutoRows",backgroundColor:"backgroundColor",backgroundImage:"backgroundImage",basis:"flexBasis",border:"border",borderRadius:"borderRadius",borderColor:"borderColor",borderWidth:"borderWidth",borderStyle:"borderStyle",bottom:"bottom",boxShadow:"boxShadow",color:"color",column:"gridColumn",columnEnd:"gridColumnEnd",columnGap:"columnGap",columnSpan:"gridColumn",columnStart:"gridColumnStart",direction:"flexDirection",display:"display",flex:"flex",fontFamily:"fontFamily",fontSize:"fontSize",fontStyle:"fontStyle",fontWeight:"fontWeight",gap:"gap",grow:"flexGrow",height:"height",justifyContent:"justifyContent",left:"left",letterSpacing:"letterSpacing",lineHeight:"lineHeight",margin:"margin",marginBlock:"marginBlock",marginBlockEnd:"marginBlockEnd",marginBlockStart:"marginBlockStart",marginBottom:"marginBlockEnd",marginInline:"marginInline",marginInlineEnd:"marginInlineEnd",marginInlineStart:"marginInlineStart",marginLeft:"marginInlineStart",marginRight:"marginInlineEnd",marginTop:"marginBlockStart",maxHeight:"maxHeight",maxWidth:"maxWidth",minHeight:"minHeight",minWidth:"minWidth",objectFit:"objectFit",objectPosition:"objectPosition",opacity:"opacity",order:"order",overflow:"overflow",padding:"padding",paddingBlock:"paddingBlock",paddingBlockEnd:"paddingBlockEnd",paddingBlockStart:"paddingBlockStart",paddingBottom:"paddingBlockEnd",paddingInline:"paddingInline",paddingInlineEnd:"paddingInlineEnd",paddingInlineStart:"paddingInlineStart",paddingLeft:"paddingInlineStart",paddingRight:"paddingInlineEnd",paddingTop:"paddingBlockStart",position:"position",resize:"resize",right:"right",row:"gridRow",rowEnd:"gridRowEnd",rowGap:"rowGap",rowSpan:"gridRow",rowStart:"gridRowStart",shrink:"flexShrink",templateAreas:"gridTemplateAreas",templateColumns:"gridTemplateColumns",templateRows:"gridTemplateRows",textAlign:"textAlign",textDecoration:"textDecoration",textTransform:"textTransform",top:"top",transform:"transform",transformOrigin:"transformOrigin",width:"width",whiteSpace:"whiteSpace",wrap:"flexWrap"},_j=(Object.keys(Sj),{small:{value:"1px"},medium:{value:"2px"},large:{value:"3px"}}),Ij={red:{10:{value:"hsl(0, 75%, 95%)"},20:{value:"hsl(0, 75%, 85%)"},40:{value:"hsl(0, 75%, 75%)"},60:{value:"hsl(0, 50%, 50%)"},80:{value:"hsl(0, 95%, 30%)"},90:{value:"hsl(0, 100%, 20%)"},100:{value:"hsl(0, 100%, 15%)"}},orange:{10:{value:"hsl(30, 75%, 95%)"},20:{value:"hsl(30, 75%, 85%)"},40:{value:"hsl(30, 75%, 75%)"},60:{value:"hsl(30, 50%, 50%)"},80:{value:"hsl(30, 95%, 30%)"},90:{value:"hsl(30, 100%, 20%)"},100:{value:"hsl(30, 100%, 15%)"}},yellow:{10:{value:"hsl(60, 75%, 95%)"},20:{value:"hsl(60, 75%, 85%)"},40:{value:"hsl(60, 75%, 75%)"},60:{value:"hsl(60, 50%, 50%)"},80:{value:"hsl(60, 95%, 30%)"},90:{value:"hsl(60, 100%, 20%)"},100:{value:"hsl(60, 100%, 15%)"}},green:{10:{value:"hsl(130, 60%, 95%)"},20:{value:"hsl(130, 60%, 90%)"},40:{value:"hsl(130, 44%, 63%)"},60:{value:"hsl(130, 43%, 46%)"},80:{value:"hsl(130, 33%, 37%)"},90:{value:"hsl(130, 27%, 29%)"},100:{value:"hsl(130, 22%, 23%)"}},teal:{10:{value:"hsl(190, 75%, 95%)"},20:{value:"hsl(190, 75%, 85%)"},40:{value:"hsl(190, 70%, 70%)"},60:{value:"hsl(190, 50%, 50%)"},80:{value:"hsl(190, 95%, 30%)"},90:{value:"hsl(190, 100%, 20%)"},100:{value:"hsl(190, 100%, 15%)"}},blue:{10:{value:"hsl(220, 95%, 95%)"},20:{value:"hsl(220, 85%, 85%)"},40:{value:"hsl(220, 70%, 70%)"},60:{value:"hsl(220, 50%, 50%)"},80:{value:"hsl(220, 95%, 30%)"},90:{value:"hsl(220, 100%, 20%)"},100:{value:"hsl(220, 100%, 15%)"}},purple:{10:{value:"hsl(300, 95%, 95%)"},20:{value:"hsl(300, 85%, 85%)"},40:{value:"hsl(300, 70%, 70%)"},60:{value:"hsl(300, 50%, 50%)"},80:{value:"hsl(300, 95%, 30%)"},90:{value:"hsl(300, 100%, 20%)"},100:{value:"hsl(300, 100%, 15%)"}},pink:{10:{value:"hsl(340, 95%, 95%)"},20:{value:"hsl(340, 90%, 85%)"},40:{value:"hsl(340, 70%, 70%)"},60:{value:"hsl(340, 50%, 50%)"},80:{value:"hsl(340, 95%, 30%)"},90:{value:"hsl(340, 100%, 20%)"},100:{value:"hsl(340, 100%, 15%)"}},neutral:{10:{value:"hsl(210, 5%, 98%)"},20:{value:"hsl(210, 5%, 94%)"},40:{value:"hsl(210, 5%, 87%)"},60:{value:"hsl(210, 10%, 58%)"},80:{value:"hsl(210, 10%, 40%)"},90:{value:"hsl(210, 25%, 25%)"},100:{value:"hsl(210, 50%, 10%)"}},primary:{10:{value:"{colors.teal.10.value}"},20:{value:"{colors.teal.20.value}"},40:{value:"{colors.teal.40.value}"},60:{value:"{colors.teal.60.value}"},80:{value:"{colors.teal.80.value}"},90:{value:"{colors.teal.90.value}"},100:{value:"{colors.teal.100.value}"}},secondary:{10:{value:"{colors.purple.10.value}"},20:{value:"{colors.purple.20.value}"},40:{value:"{colors.purple.40.value}"},60:{value:"{colors.purple.60.value}"},80:{value:"{colors.purple.80.value}"},90:{value:"{colors.purple.90.value}"},100:{value:"{colors.purple.100.value}"}},font:{primary:{value:"{colors.neutral.100.value}"},secondary:{value:"{colors.neutral.90.value}"},tertiary:{value:"{colors.neutral.80.value}"},disabled:{value:"{colors.neutral.60.value}"},inverse:{value:"{colors.white.value}"},interactive:{value:"{colors.primary.80.value}"},hover:{value:"{colors.primary.90.value}"},focus:{value:"{colors.primary.100.value}"},active:{value:"{colors.primary.100.value}"},info:{value:"{colors.blue.90.value}"},warning:{value:"{colors.orange.90.value}"},error:{value:"{colors.red.90.value}"},success:{value:"{colors.green.90.value}"}},background:{primary:{value:"{colors.white.value}"},secondary:{value:"{colors.neutral.10.value}"},tertiary:{value:"{colors.neutral.20.value}"},quaternary:{value:"{colors.neutral.60.value}"},disabled:{value:"{colors.background.tertiary.value}"},info:{value:"{colors.blue.10.value}"},warning:{value:"{colors.orange.10.value}"},error:{value:"{colors.red.10.value}"},success:{value:"{colors.green.10.value}"}},border:{primary:{value:"{colors.neutral.60.value}"},secondary:{value:"{colors.neutral.40.value}"},tertiary:{value:"{colors.neutral.20.value}"},disabled:{value:"{colors.border.tertiary.value}"},pressed:{value:"{colors.primary.100.value}"},focus:{value:"{colors.primary.100.value}"},error:{value:"{colors.red.80.value}"},info:{value:"{colors.blue.80.value}"},success:{value:"{colors.green.80.value}"},warning:{value:"{colors.orange.80.value}"}},shadow:{primary:{value:"hsla(210, 50%, 10%, 0.25)"},secondary:{value:"hsla(210, 50%, 10%, 0.15)"},tertiary:{value:"hsla(210, 50%, 10%, 0.05)"}},overlay:{5:{value:"hsla(0, 0%, 0%, 0.05)"},10:{value:"hsla(0, 0%, 0%, 0.1)"},20:{value:"hsla(0, 0%, 0%, 0.2)"},30:{value:"hsla(0, 0%, 0%, 0.3)"},40:{value:"hsla(0, 0%, 0%, 0.4)"},50:{value:"hsla(0, 0%, 0%, 0.5)"},60:{value:"hsla(0, 0%, 0%, 0.6)"},70:{value:"hsla(0, 0%, 0%, 0.7)"},80:{value:"hsla(0, 0%, 0%, 0.8)"},90:{value:"hsla(0, 0%, 0%, 0.9)"}},black:{value:"hsl(0, 0%, 0%)"},white:{value:"hsl(0, 0%, 100%)"},transparent:{value:"transparent"}},Tj={xxxs:{value:"0.375rem"},xxs:{value:"0.5rem"},xs:{value:"0.75rem"},small:{value:"0.875rem"},medium:{value:"1rem"},large:{value:"1.25rem"},xl:{value:"1.5rem"},xxl:{value:"2rem"},xxxl:{value:"2.5rem"},xxxxl:{value:"3rem"}},Ej={hairline:{value:100},thin:{value:200},light:{value:300},normal:{value:400},medium:{value:500},semibold:{value:600},bold:{value:700},extrabold:{value:800},black:{value:900}},Nj={0:{value:"0"},10:{value:"0.1"},20:{value:"0.2"},30:{value:"0.3"},40:{value:"0.4"},50:{value:"0.5"},60:{value:"0.6"},70:{value:"0.7"},80:{value:"0.8"},90:{value:"0.9"},100:{value:"1"}},Cj={xs:{value:"0.125rem"},small:{value:"0.25rem"},medium:{value:"0.5rem"},large:{value:"1rem"},xl:{value:"2rem"},xxl:{value:"4rem"},xxxl:{value:"8rem"}},Aj={zero:{value:"0"},xxxs:{value:"0.25rem"},xxs:{value:"0.375rem"},xs:{value:"0.5rem"},small:{value:"0.75rem"},medium:{value:"1rem"},large:{value:"1.5rem"},xl:{value:"2.0rem"},xxl:{value:"3.0rem"},xxxl:{value:"4.5rem"},relative:{xxxs:{value:"0.25em"},xxs:{value:"0.375em"},xs:{value:"0.5em"},small:{value:"0.75em"},medium:{value:"1em"},large:{value:"1.5em"},xl:{value:"2.0em"},xxl:{value:"3.0em"},xxxl:{value:"4.5em"},full:{value:"100%"}}},Mj={short:{value:"100ms"},medium:{value:"250ms"},long:{value:"500ms"}},Oj={tokens:{components:{accordion:{backgroundColor:{value:"{colors.background.primary.value}"},item:{borderColor:{value:"{colors.border.secondary.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderRadius:{value:"{radii.small.value}"},trigger:{alignItems:{value:"center"},backgroundColor:{value:"{colors.background.primary.value}"},color:{value:"inherit"},gap:{value:"{space.small.value}"},justifyContent:{value:"space-between"},paddingBlock:{value:"{space.xs.value}"},paddingInline:{value:"{space.small.value}"},_hover:{color:{value:"inherit"},backgroundColor:{value:"{colors.overlay.5.value}"}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:{offsetX:"0",offsetY:"0",blurRadius:"0",spreadRadius:"2px",color:"{colors.border.focus.value}"}}}},content:{color:{value:"inherit"},paddingInline:{value:"{space.small.value}"},paddingBlockEnd:{value:"{space.small.value}"},paddingBlockStart:{value:"{space.xxxs.value}"}},icon:{color:{value:"{colors.font.tertiary.value}"},transitionDuration:{value:"{time.medium.value}"},transitionTimingFunction:{value:"cubic-bezier(0.87, 0, 0.13, 1)"}}}},alert:{alignItems:{value:"center"},justifyContent:{value:"space-between"},color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.tertiary.value}"},paddingBlock:{value:"{space.small.value}"},paddingInline:{value:"{space.medium.value}"},icon:{size:{value:"{fontSizes.xl.value}"}},heading:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"}},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"}}},authenticator:{maxWidth:{value:"60rem"},modal:{width:{value:"{space.relative.full}"},height:{value:"{space.relative.full}"},backgroundColor:{value:"{colors.overlay.50.value}"},top:{value:"{space.zero}"},left:{value:"{space.zero}"}},container:{widthMax:{value:"30rem"}},router:{borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},boxShadow:{value:"{shadows.medium.value}"}},footer:{paddingBottom:{value:"{space.medium.value}"}},form:{padding:{value:"{space.xl.value}"}},state:{inactive:{backgroundColor:{value:"{colors.background.secondary.value}"}}},orContainer:{color:{value:"{colors.neutral.80.value}"},orLine:{backgroundColor:{value:"{colors.background.primary.value}"}}}},autocomplete:{menu:{width:{value:"100%"},marginBlockStart:{value:"{space.xxxs}"},backgroundColor:{value:"{colors.background.primary}"},borderColor:{value:"{colors.border.primary}"},borderWidth:{value:"{borderWidths.small}"},borderStyle:{value:"solid"},borderRadius:{value:"{radii.small}"},options:{display:{value:"flex"},flexDirection:{value:"column"},maxHeight:{value:"300px"}},option:{backgroundColor:{value:"{colors.background.primary}"},color:{value:"currentcolor"},cursor:{value:"pointer"},transitionDuration:{value:"{time.short}"},transitionProperty:{value:"background-color, color"},transitionTimingFunction:{value:"ease"},_active:{backgroundColor:{value:"{colors.primary.80}"},color:{value:"{colors.white}"}}},_empty:{display:{value:"flex"}},_loading:{alignItems:{value:"center"},display:{value:"flex"},gap:{value:"{space.xxxs}"}},spaceShared:{paddingBlock:{value:"{space.xs}"},paddingInline:{value:"{space.small}"}}}},badge:{color:{value:"{colors.font.primary.value}"},lineHeight:{value:1},fontWeight:{value:"{fontWeights.semibold.value}"},fontSize:{value:"{fontSizes.small.value}"},textAlign:{value:"center"},paddingVertical:{value:"{space.xs.value}"},paddingHorizontal:{value:"{space.small.value}"},backgroundColor:{value:"{colors.background.tertiary.value}"},borderRadius:{value:"{radii.xl.value}"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"}},small:{fontSize:{value:"{fontSizes.xs.value}"},paddingVertical:{value:"{space.xxs.value}"},paddingHorizontal:{value:"{space.xs.value}"}},large:{fontSize:{value:"{fontSizes.medium.value}"},paddingVertical:{value:"{space.small.value}"},paddingHorizontal:{value:"{space.medium.value}"}}},breadcrumbs:{flexDirection:{value:"row"},flexWrap:{value:"wrap"},gap:{value:"0"},color:{value:"{colors.font.tertiary}"},item:{flexDirection:{value:"row"},color:{value:"inherit"},fontSize:{value:"inherit"},alignItems:{value:"center"},lineHeight:{value:"1"}},separator:{color:{value:"inherit"},fontSize:{value:"inherit"},paddingInline:{value:"{space.xxs}"}},link:{color:{value:"{components.link.color}"},fontSize:{value:"inherit"},fontWeight:{value:"normal"},textDecoration:{value:"none"},paddingInline:{value:"{space.xs}"},paddingBlock:{value:"{space.xxs}"},current:{color:{value:"inherit"},fontSize:{value:"inherit"},fontWeight:{value:"normal"},textDecoration:{value:"none"}}}},button:{fontWeight:{value:"{fontWeights.bold.value}"},transitionDuration:{value:"{components.fieldcontrol.transitionDuration.value}"},fontSize:{value:"{components.fieldcontrol.fontSize.value}"},lineHeight:{value:"{components.fieldcontrol.lineHeight.value}"},paddingBlockStart:{value:"{components.fieldcontrol.paddingBlockStart.value}"},paddingBlockEnd:{value:"{components.fieldcontrol.paddingBlockEnd.value}"},paddingInlineStart:{value:"{components.fieldcontrol.paddingInlineStart.value}"},paddingInlineEnd:{value:"{components.fieldcontrol.paddingInlineEnd.value}"},backgroundColor:{value:"transparent"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},borderWidth:{value:"{components.fieldcontrol.borderWidth.value}"},borderStyle:{value:"{components.fieldcontrol.borderStyle.value}"},borderRadius:{value:"{components.fieldcontrol.borderRadius.value}"},color:{value:"{colors.font.primary.value}"},_hover:{color:{value:"{colors.font.focus.value}"},backgroundColor:{value:"{colors.primary.10.value}"},borderColor:{value:"{colors.primary.60.value}"}},_focus:{color:{value:"{colors.font.focus.value}"},backgroundColor:{value:"{colors.primary.10.value}"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_active:{color:{value:"{colors.font.active.value}"},backgroundColor:{value:"{colors.primary.20.value}"},borderColor:{value:"{colors.primary.100.value}"}},_loading:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.tertiary.value}"}},_disabled:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.tertiary.value}"}},outlined:{info:{borderColor:{value:"{colors.blue.60.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.blue.100}"},_hover:{borderColor:{value:"{colors.blue.60.value}"},backgroundColor:{value:"{colors.blue.10.value}"},color:{value:"{colors.blue.100.value}"}},_focus:{borderColor:{value:"{colors.blue.100.value}"},backgroundColor:{value:"{colors.blue.10.value}"},color:{value:"{colors.blue.100.value}"},boxShadow:{value:"{components.fieldcontrol.info._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.blue.100.value}"},backgroundColor:{value:"{colors.blue.20.value}"},color:{value:"{colors.blue.100.value}"}}},warning:{borderColor:{value:"{colors.orange.60.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.orange.100}"},_hover:{borderColor:{value:"{colors.orange.60.value}"},backgroundColor:{value:"{colors.orange.10.value}"},color:{value:"{colors.orange.100.value}"}},_focus:{borderColor:{value:"{colors.orange.100.value}"},backgroundColor:{value:"{colors.orange.10.value}"},color:{value:"{colors.orange.100.value}"},boxShadow:{value:"{components.fieldcontrol.warning._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.orange.100.value}"},backgroundColor:{value:"{colors.orange.20.value}"},color:{value:"{colors.orange.100.value}"}}},success:{borderColor:{value:"{colors.green.60.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.green.100}"},_hover:{borderColor:{value:"{colors.green.60.value}"},backgroundColor:{value:"{colors.green.10.value}"},color:{value:"{colors.green.100.value}"}},_focus:{borderColor:{value:"{colors.green.100.value}"},backgroundColor:{value:"{colors.green.10.value}"},color:{value:"{colors.green.100.value}"},boxShadow:{value:"{components.fieldcontrol.success._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.green.100.value}"},backgroundColor:{value:"{colors.green.20.value}"},color:{value:"{colors.green.100.value}"}}},error:{borderColor:{value:"{colors.red.80.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.red.100}"},_hover:{borderColor:{value:"{colors.red.80.value}"},backgroundColor:{value:"{colors.red.10.value}"},color:{value:"{colors.red.100.value}"}},_focus:{borderColor:{value:"{colors.red.100.value}"},backgroundColor:{value:"{colors.red.10.value}"},color:{value:"{colors.red.100.value}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.red.100.value}"},backgroundColor:{value:"{colors.red.20.value}"},color:{value:"{colors.red.100.value}"}}},overlay:{borderColor:{value:"{colors.overlay.60.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.primary.value}"},_hover:{borderColor:{value:"{colors.overlay.60.value}"},backgroundColor:{value:"{colors.overlay.5.value}"},color:{value:"{colors.neutral.90.value}"}},_focus:{borderColor:{value:"{colors.overlay.90.value}"},backgroundColor:{value:"{colors.overlay.5.value}"},color:{value:"{colors.neutral.90.value}"},boxShadow:{value:"{components.fieldcontrol.overlay._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.overlay.90.value}"},backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.neutral.100.value}"}}}},primary:{borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},backgroundColor:{value:"{colors.primary.80.value}"},color:{value:"{colors.font.inverse.value}"},_disabled:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_loading:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.100.value}"},color:{value:"{colors.font.inverse.value}"}},info:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.80}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol.info._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.100.value}"},color:{value:"{colors.font.inverse.value}"}}},warning:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.80}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol.overlay._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.100.value}"},color:{value:"{colors.font.inverse.value}"}}},error:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.80}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.100.value}"},color:{value:"{colors.font.inverse.value}"}}},success:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.80}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol.success._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.100.value}"},color:{value:"{colors.font.inverse.value}"}}},overlay:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.70}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol.overlay._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.90.value}"},color:{value:"{colors.font.inverse.value}"}}}},menu:{borderWidth:{value:"{space.zero.value}"},backgroundColor:{value:"transparent"},justifyContent:{value:"start"},_hover:{color:{value:"{colors.font.inverse.value}"},backgroundColor:{value:"{colors.primary.80.value}"}},_focus:{color:{value:"{colors.font.inverse.value}"},backgroundColor:{value:"{colors.primary.80.value}"}},_active:{color:{value:"{colors.font.inverse.value}"},backgroundColor:{value:"{colors.primary.90.value}"}},_disabled:{color:{value:"{colors.font.disabled.value}"}}},link:{backgroundColor:{value:"transparent"},borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small.value}"},color:{value:"{colors.font.interactive.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.10.value}"},color:{value:"{colors.font.hover.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.10.value}"},color:{value:"{colors.font.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.20.value}"},color:{value:"{colors.font.active.value}"}},_disabled:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled.value}"}},_loading:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled.value}"}},info:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.blue.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.10.value}"},color:{value:"{colors.blue.90.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.10.value}"},color:{value:"{colors.blue.100.value}"},boxShadow:{value:"{components.fieldcontrol.info._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.20.value}"},color:{value:"{colors.blue.100.value}"}}},warning:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.orange.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.10.value}"},color:{value:"{colors.orange.90.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.10.value}"},color:{value:"{colors.orange.100.value}"},boxShadow:{value:"{components.fieldcontrol.warning._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.20.value}"},color:{value:"{colors.orange.100.value}"}}},success:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.green.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.10.value}"},color:{value:"{colors.green.90.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.10.value}"},color:{value:"{colors.green.100.value}"},boxShadow:{value:"{components.fieldcontrol.success._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.20.value}"},color:{value:"{colors.green.100.value}"}}},error:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.red.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.10.value}"},color:{value:"{colors.red.90.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.10.value}"},color:{value:"{colors.red.100.value}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.20.value}"},color:{value:"{colors.red.100.value}"}}},overlay:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.neutral.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.5.value}"},color:{value:"{colors.overlay.80.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.5.value}"},color:{value:"{colors.overlay.90.value}"},boxShadow:{value:"{components.fieldcontrol.overlay._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.overlay.90.value}"}}}},warning:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.red.60}"},borderWidth:{value:"{borderWidths.small}"},color:{value:"{colors.red.60}"},_hover:{borderColor:{value:"{colors.red.80}"},backgroundColor:{value:"{colors.red.10}"},color:{value:"{colors.font.error}"}},_focus:{borderColor:{value:"{colors.red.80}"},backgroundColor:{value:"{colors.red.10}"},color:{value:"{colors.red.80}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow}"}},_active:{borderColor:{value:"{colors.red.100}"},backgroundColor:{value:"{colors.red.20}"},color:{value:"{colors.red.100}"}},_disabled:{borderColor:{value:"{colors.border.tertiary}"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled}"}},_loading:{borderColor:{value:"{colors.border.tertiary}"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled}"}}},destructive:{borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small}"},borderStyle:{value:"solid"},backgroundColor:{value:"{colors.red.60}"},color:{value:"{colors.font.inverse}"},_disabled:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled}"},color:{value:"{colors.font.disabled}"}},_loading:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled}"},color:{value:"{colors.font.disabled}"}},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.80}"},color:{value:"{colors.font.inverse}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.80}"},color:{value:"{colors.font.inverse}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.100}"},color:{value:"{colors.font.inverse}"}}},small:{fontSize:{value:"{components.fieldcontrol.small.fontSize.value}"},paddingBlockStart:{value:"{components.fieldcontrol.small.paddingBlockStart.value}"},paddingBlockEnd:{value:"{components.fieldcontrol.small.paddingBlockEnd.value}"},paddingInlineStart:{value:"{components.fieldcontrol.small.paddingInlineStart.value}"},paddingInlineEnd:{value:"{components.fieldcontrol.small.paddingInlineEnd.value}"}},large:{fontSize:{value:"{components.fieldcontrol.large.fontSize.value}"},paddingBlockStart:{value:"{components.fieldcontrol.large.paddingBlockStart.value}"},paddingBlockEnd:{value:"{components.fieldcontrol.large.paddingBlockEnd.value}"},paddingInlineStart:{value:"{components.fieldcontrol.large.paddingInlineStart.value}"},paddingInlineEnd:{value:"{components.fieldcontrol.large.paddingInlineEnd.value}"}},loaderWrapper:{alignItems:{value:"center"},gap:{value:"{space.xs.value}"}}},card:{backgroundColor:{value:"{colors.background.primary.value}"},borderRadius:{value:"{radii.xs.value}"},borderWidth:{value:"0"},borderStyle:{value:"solid"},borderColor:{value:"transparent"},boxShadow:{value:"none"},padding:{value:"{space.medium.value}"},outlined:{backgroundColor:{value:"{components.card.backgroundColor.value}"},borderRadius:{value:"{radii.xs.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},boxShadow:{value:"{components.card.boxShadow.value}"}},elevated:{backgroundColor:{value:"{components.card.backgroundColor.value}"},borderRadius:{value:"{radii.xs.value}"},borderWidth:{value:"0"},borderStyle:{value:"solid"},borderColor:{value:"transparent"},boxShadow:{value:"{shadows.medium.value}"}}},checkbox:{cursor:{value:"pointer"},alignItems:{value:"center"},_disabled:{cursor:{value:"not-allowed"}},button:{position:{value:"relative"},alignItems:{value:"center"},justifyContent:{value:"center"},color:{value:"{colors.font.inverse.value}"},before:{width:{value:"100%"},height:{value:"100%"},borderWidth:{value:"{borderWidths.medium.value}"},borderRadius:{value:"20%"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"}},_focus:{outlineColor:{value:"{colors.transparent.value}"},outlineStyle:{value:"solid"},outlineWidth:{value:"{outlineWidths.medium.value}"},outlineOffset:{value:"{outlineOffsets.medium.value}"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_disabled:{borderColor:{value:"{colors.border.disabled.value}"}},_error:{borderColor:{value:"{colors.border.error.value}"},_focus:{borderColor:{value:"{colors.border.error.value}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}}}},icon:{backgroundColor:{value:"{colors.primary.80.value}"},borderRadius:{value:"20%"},opacity:{value:"{opacities.0.value}"},transform:{value:"scale(0)"},transitionProperty:{value:"all"},transitionDuration:{value:"{time.short.value}"},transitionTimingFunction:{value:"ease-in-out"},_checked:{opacity:{value:"{opacities.100.value}"},transform:{value:"scale(1)"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"}}},_indeterminate:{opacity:{value:"{opacities.100.value}"},transform:{value:"scale(1)"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"}}}},label:{color:{value:"{components.text.color.value}"},_disabled:{color:{value:"{colors.font.disabled.value}"}}}},checkboxfield:{alignItems:{value:"flex-start"},alignContent:{value:"center"},flexDirection:{value:"column"},justifyContent:{value:"center"}},collection:{pagination:{current:{color:{value:"{components.pagination.current.color}"},backgroundColor:{value:"{components.pagination.current.backgroundColor}"}},button:{color:{value:"{components.pagination.button.color}"},_hover:{backgroundColor:{value:"{components.pagination.button.hover.backgroundColor}"},color:{value:"{components.pagination.button.hover.color}"}},_disabled:{color:{value:"{components.pagination.button.disabled.color}"}}}},search:{input:{color:{value:"{components.searchfield.color}"}},button:{color:{value:"{components.searchfield.button.color}"},_active:{backgroundColor:{value:"{components.searchfield.button._active.backgroundColor}"},borderColor:{value:"{components.searchfield.button._active.borderColor}"},color:{value:"{components.searchfield.button._active.color}"}},_disabled:{backgroundColor:{value:"{components.searchfield.button._disabled.backgroundColor}"},borderColor:{value:"{components.searchfield.button._disabled.borderColor}"},color:{value:"{components.searchfield.button._disabled.color}"}},_focus:{backgroundColor:{value:"{components.searchfield.button._focus.backgroundColor}"},borderColor:{value:"{components.searchfield.button._focus.borderColor}"},color:{value:"{components.searchfield.button._focus.color}"}},_hover:{backgroundColor:{value:"{components.searchfield.button._hover.backgroundColor}"},borderColor:{value:"{components.searchfield.button._hover.borderColor}"},color:{value:"{components.searchfield.button._hover.color}"}}}}},copy:{fontSize:{value:"{fontSizes.xs}"},gap:{value:"{space.relative.medium}"},svg:{path:{fill:{value:"{colors.font.primary}"}}},toolTip:{bottom:{value:"{space.large}"},color:{value:"{colors.teal.100}"},fontSize:{value:"{fontSizes.xxs}"}}},countrycodeselect:{height:{value:"{space.relative.full.value}"}},divider:{borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},borderWidth:{value:"{borderWidths.medium.value}"},label:{color:{value:"{colors.font.tertiary.value}"},paddingInline:{value:"{space.medium.value}"},fontSize:{value:"{fontSizes.small.value}"},backgroundColor:{value:"{colors.background.primary.value}"}},small:{borderWidth:{value:"{borderWidths.small.value}"}},large:{borderWidth:{value:"{borderWidths.large.value}"}},opacity:{value:"{opacities.60.value}"}},dropzone:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"dashed"},borderWidth:{value:"{borderWidths.small}"},color:{value:"{colors.font.primary}"},gap:{value:"{space.small}"},paddingBlock:{value:"{space.xl}"},paddingInline:{value:"{space.large}"},textAlign:{value:"center"},_active:{backgroundColor:{value:"{colors.primary.10}"},borderRadius:{value:"{components.dropzone.borderRadius}"},borderColor:{value:"{colors.border.pressed}"},borderStyle:{value:"{components.dropzone.borderStyle}"},borderWidth:{value:"{components.dropzone.borderWidth}"},color:{value:"{colors.font.primary}"}},_disabled:{backgroundColor:{value:"{colors.background.disabled}"},borderRadius:{value:"{components.dropzone.borderRadius}"},borderColor:{value:"{colors.border.disabled}"},borderStyle:{value:"{components.dropzone.borderStyle}"},borderWidth:{value:"{components.dropzone.borderWidth}"},color:{value:"{colors.font.disabled}"}},accepted:{backgroundColor:{value:"{colors.background.success}"},borderRadius:{value:"{components.dropzone.borderRadius}"},borderColor:{value:"{colors.border.success}"},borderStyle:{value:"{components.dropzone.borderStyle}"},borderWidth:{value:"{components.dropzone.borderWidth}"},color:{value:"{colors.font.success}"}},rejected:{backgroundColor:{value:"{colors.background.error}"},borderRadius:{value:"{components.dropzone.borderRadius}"},borderColor:{value:"{colors.border.pressed}"},borderStyle:{value:"{components.dropzone.borderStyle}"},borderWidth:{value:"{components.dropzone.borderWidth}"},color:{value:"{colors.font.error}"}}},field:{gap:{value:"{space.xs.value}"},fontSize:{value:"{fontSizes.medium.value}"},flexDirection:{value:"column"},small:{gap:{value:"{space.xxxs.value}"},fontSize:{value:"{fontSizes.small.value}"}},large:{gap:{value:"{space.small.value}"},fontSize:{value:"{fontSizes.large.value}"}},label:{color:{value:"{colors.font.secondary.value}"}}},fieldcontrol:{borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderRadius:{value:"{radii.small.value}"},color:{value:"{colors.font.primary.value}"},paddingBlockStart:{value:"{space.xs.value}"},paddingBlockEnd:{value:"{space.xs.value}"},paddingInlineStart:{value:"{space.medium.value}"},paddingInlineEnd:{value:"{space.medium.value}"},fontSize:{value:"{components.field.fontSize.value}"},lineHeight:{value:"{lineHeights.medium.value}"},transitionDuration:{value:"{time.medium.value}"},outlineColor:{value:"{colors.transparent.value}"},outlineStyle:{value:"solid"},outlineWidth:{value:"{outlineWidths.medium.value}"},outlineOffset:{value:"{outlineOffsets.medium.value}"},small:{fontSize:{value:"{components.field.small.fontSize.value}"},paddingBlockStart:{value:"{space.xxs.value}"},paddingBlockEnd:{value:"{space.xxs.value}"},paddingInlineStart:{value:"{space.small.value}"},paddingInlineEnd:{value:"{space.small.value}"}},large:{fontSize:{value:"{components.field.large.fontSize.value}"},paddingBlockStart:{value:"{space.xs.value}"},paddingBlockEnd:{value:"{space.xs.value}"},paddingInlineStart:{value:"{space.medium.value}"},paddingInlineEnd:{value:"{space.medium.value}"}},quiet:{borderStyle:{value:"none"},borderInlineStart:{value:"none"},borderInlineEnd:{value:"none"},borderBlockStart:{value:"none"},borderRadius:{value:"0"},_focus:{borderBlockEndColor:{value:"transparent"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_error:{borderBlockEndColor:{value:"{colors.border.error.value}"},_focus:{borderBlockEndColor:{value:"transparent"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}}}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.border.focus.value}"}}},_disabled:{color:{value:"{colors.font.disabled.value}"},cursor:{value:"not-allowed"},borderColor:{value:"{colors.transparent.value}"},backgroundColor:{value:"{colors.background.disabled.value}"}},_error:{borderColor:{value:"{colors.border.error.value}"},color:{value:"{colors.font.error.value}"},_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.border.error.value}"}}}},info:{_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.blue.100.value}"}}}},warning:{_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.orange.100.value}"}}}},success:{_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.green.100.value}"}}}},overlay:{_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.overlay.90.value}"}}}}},fieldgroup:{gap:{value:"{space.zero.value}"},vertical:{alignItems:{value:"center"}},outer:{alignItems:{value:"center"}}},fieldmessages:{error:{color:{value:"{colors.font.error.value}"},fontSize:{value:"{fontSizes.small.value}"}},description:{color:{value:"{colors.font.secondary.value}"},fontStyle:{value:"italic"},fontSize:{value:"{fontSizes.small.value}"}}},fieldset:{backgroundColor:{value:"transparent"},borderRadius:{value:"{radii.xs.value}"},flexDirection:{value:"column"},gap:{value:"{components.field.gap.value}"},legend:{color:{value:"{colors.font.primary.value}"},fontSize:{value:"{components.field.fontSize.value}"},fontWeight:{value:"{fontWeights.bold.value}"},lineHeight:{value:"{lineHeights.medium.value}"},small:{fontSize:"{components.field.small.fontSize.value}"},large:{fontSize:"{components.field.large.fontSize.value}"}},outlined:{padding:"{space.medium.value}",borderColor:"{colors.neutral.40.value}",borderWidth:"{borderWidths.small.value}",borderStyle:"solid",small:{padding:"{space.small.value}"},large:{padding:"{space.large.value}"}},small:{gap:"{components.field.small.gap.value}"},large:{gap:"{components.field.large.gap.value}"}},flex:{gap:{value:"{space.medium.value}"},justifyContent:{value:"normal"},alignItems:{value:"stretch"},alignContent:{value:"normal"},flexWrap:{value:"nowrap"}},heading:{color:{value:"{colors.font.primary.value}"},lineHeight:{value:"{lineHeights.small.value}"},1:{fontSize:{value:"{fontSizes.xxxxl.value}"},fontWeight:{value:"{fontWeights.light.value}"}},2:{fontSize:{value:"{fontSizes.xxxl.value}"},fontWeight:{value:"{fontWeights.normal.value}"}},3:{fontSize:{value:"{fontSizes.xxl.value}"},fontWeight:{value:"{fontWeights.medium.value}"}},4:{fontSize:{value:"{fontSizes.xl.value}"},fontWeight:{value:"{fontWeights.semibold.value}"}},5:{fontSize:{value:"{fontSizes.large.value}"},fontWeight:{value:"{fontWeights.bold.value}"}},6:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.extrabold.value}"}}},icon:{lineHeight:{value:1},height:{value:"1em"}},highlightmatch:{highlighted:{fontWeight:{value:"{fontWeights.bold}"}}},image:{maxWidth:{value:"100%"},height:{value:"auto"},objectFit:{value:"initial"},objectPosition:{value:"initial"}},inappmessaging:{banner:{height:{value:"150px "},width:{value:"400px "}},button:{backgroundColor:{value:"#e8e8e8"},borderRadius:{value:"5px"},color:{value:"black"}},dialog:{height:{value:"50vh"},minHeight:{value:"400px"},minWidth:{value:"400px"},width:{value:"30vw"}},header:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.extrabold.value}"}}},input:{color:{value:"{components.fieldcontrol.color.value}"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},fontSize:{value:"{components.fieldcontrol.fontSize.value}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor.value}"}}},link:{active:{color:{value:"{colors.font.active.value}"}},color:{value:"{colors.font.interactive.value}"},focus:{color:{value:"{colors.font.focus.value}"}},hover:{color:{value:"{colors.font.hover.value}"}},visited:{color:{value:"{colors.font.interactive.value}"}}},liveness:{cameraModule:{backgroundColor:{value:"{colors.background.primary.value}"}}},loader:{width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"},fontSize:{value:"{fontSizes.xs.value}"},strokeEmpty:{value:"{colors.neutral.20.value}"},strokeFilled:{value:"{colors.primary.80.value}"},strokeLinecap:{value:"round"},animationDuration:{value:"1s"},small:{width:{value:"{fontSizes.small.value}"},height:{value:"{fontSizes.small.value}"},fontSize:{value:"{fontSizes.xxs.value}"}},large:{width:{value:"{fontSizes.large.value}"},height:{value:"{fontSizes.large.value}"},fontSize:{value:"{fontSizes.small.value}"}},linear:{width:{value:"100%"},minWidth:{value:"5rem"},fontSize:{value:"{fontSizes.xxs.value}"},strokeWidth:{value:"{fontSizes.xxs.value}"},strokeFilled:{value:"{colors.primary.80.value}"},strokeEmpty:{value:"{colors.neutral.20.value}"},strokeLinecap:{value:"round"},animationDuration:{value:"1s"},small:{strokeWidth:{value:"{fontSizes.xxxs.value}"},fontSize:{value:"{fontSizes.xxxs.value}"}},large:{strokeWidth:{value:"{fontSizes.xs.value}"},fontSize:{value:"{fontSizes.xs.value}"}}},text:{fill:{value:"{colors.font.primary.value}"}}},menu:{backgroundColor:{value:"{colors.background.primary.value}"},borderRadius:{value:"{radii.medium.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},boxShadow:{value:"{shadows.large.value}"},flexDirection:{value:"column"},gap:{value:"{space.zero.value}"},maxWidth:{value:"30rem"},minWidth:{value:"14rem"},small:{width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"}},large:{width:{value:"{fontSizes.xxxl.value}"},height:{value:"{fontSizes.xxxl.value}"}},item:{minHeight:{value:"2.5rem"},paddingInlineStart:{value:"{space.medium.value}"},paddingInlineEnd:{value:"{space.medium.value}"}}},message:{alignItems:{value:"center"},backgroundColor:{value:"{colors.background.tertiary.value}"},borderColor:{value:"transparent"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small.value}"},borderRadius:{value:"{radii.xs.value}"},color:{value:"{colors.font.primary.value}"},justifyContent:{value:"flex-start"},paddingBlock:{value:"{space.small.value}"},paddingInline:{value:"{space.medium.value}"},lineHeight:{value:"{lineHeights.small.value}"},icon:{size:{value:"{fontSizes.xl.value}"}},heading:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"}},dismiss:{gap:{value:"{space.xxs.value}"}},plain:{color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"}}},outlined:{color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.primary.value}"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.info.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.error.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.success.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.warning.value}"}}},filled:{color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.secondary.value}"},borderColor:{value:"transparent"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"},borderColor:{value:"transparent"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"},borderColor:{value:"transparent"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"},borderColor:{value:"transparent"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"},borderColor:{value:"transparent"}}}},pagination:{current:{alignItems:{value:"center"},justifyContent:{value:"center"},color:{value:"{colors.font.inverse.value}"},fontSize:{value:"{fontSizes.small.value}"},backgroundColor:{value:"{colors.overlay.40.value}"}},button:{color:{value:"{colors.font.primary.value}"},paddingInlineStart:{value:"{space.xxs.value}"},paddingInlineEnd:{value:"{space.xxs.value}"},transitionProperty:{value:"background-color"},transitionDuration:{value:"{time.medium.value}"},hover:{backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.font.primary.value}"}},disabled:{color:{value:"{colors.font.disabled.value}"}}},ellipsis:{alignItems:{value:"baseline"},justifyContent:{value:"center"},paddingInlineStart:{value:"{space.xs.value}"},paddingInlineEnd:{value:"{space.xs.value}"}},itemContainer:{marginLeft:{value:"{space.xxxs.value}"},marginRight:{value:"{space.xxxs.value}"}},itemShared:{height:{value:"{fontSizes.xxl.value}"},minWidth:{value:"{fontSizes.xxl.value}"},borderRadius:{value:"{fontSizes.medium.value}"}}},passwordfield:{color:{value:"{components.fieldcontrol.color.value}"},button:{color:{value:"{components.button.color.value}"},_active:{backgroundColor:{value:"{components.button._active.backgroundColor.value}"},borderColor:{value:"{components.button._active.borderColor.value}"},color:{value:"{components.button._active.color.value}"}},_disabled:{backgroundColor:{value:"{components.button._disabled.backgroundColor.value}"},borderColor:{value:"{components.button._disabled.borderColor.value}"},color:{value:"{components.button._disabled.color.value}"}},_error:{color:{value:"{components.button.outlined.error.color.value}"},backgroundColor:{value:"{components.button.outlined.error.backgroundColor.value}"},borderColor:{value:"{components.button.outlined.error.borderColor.value}"},_active:{borderColor:{value:"{components.button.outlined.error._active.borderColor.value}"},backgroundColor:{value:"{components.button.outlined.error._active.backgroundColor.value}"},color:{value:"{components.button.outlined.error._active.color.value}"}},_focus:{borderColor:{value:"{components.button.outlined.error._focus.borderColor.value}"},backgroundColor:{value:"{components.button.outlined.error._focus.backgroundColor.value}"},color:{value:"{components.button.outlined.error._focus.color.value}"},boxShadow:{value:"{components.button.outlined.error._focus.boxShadow.value}"}},_hover:{borderColor:{value:"{components.button.outlined.error._hover.borderColor.value}"},backgroundColor:{value:"{components.button.outlined.error._hover.backgroundColor.value}"},color:{value:"{components.button.outlined.error._hover.color.value}"}}},_focus:{backgroundColor:{value:"{components.button._focus.backgroundColor.value}"},borderColor:{value:"{components.button._focus.borderColor.value}"},color:{value:"{components.button._focus.color.value}"}},_hover:{backgroundColor:{value:"{components.button._hover.backgroundColor.value}"},borderColor:{value:"{components.button._hover.borderColor.value}"},color:{value:"{components.button._hover.color.value}"}}}},phonenumberfield:{color:{value:"{components.fieldcontrol.color}"},borderColor:{value:"{components.fieldcontrol.borderColor}"},fontSize:{value:"{components.fieldcontrol.fontSize}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor}"}}},placeholder:{borderRadius:{value:"{radii.small.value}"},transitionDuration:{value:"{time.long.value}"},startColor:{value:"{colors.background.secondary.value}"},endColor:{value:"{colors.background.tertiary.value}"},small:{height:{value:"{space.small.value}"}},default:{height:{value:"{space.medium.value}"}},large:{height:{value:"{space.large.value}"}}},radio:{alignItems:{value:"center"},justifyContent:{value:"flex-start"},gap:{value:"inherit"},_disabled:{cursor:{value:"not-allowed"}},button:{alignItems:{value:"center"},justifyContent:{value:"center"},width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"},boxSizing:{value:"border-box"},borderWidth:{value:"{borderWidths.medium.value}"},borderStyle:{value:"solid"},borderRadius:{value:"50%"},borderColor:{value:"{colors.border.primary.value}"},color:{value:"{colors.background.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},transitionProperty:{value:"all"},transitionDuration:{value:"{time.medium.value}"},outlineColor:{value:"{colors.transparent.value}"},outlineStyle:{value:"solid"},outlineWidth:{value:"{outlineWidths.medium.value}"},outlineOffset:{value:"{outlineOffsets.medium.value}"},padding:{value:"{borderWidths.medium.value}"},small:{width:{value:"{fontSizes.small.value}"},height:{value:"{fontSizes.small.value}"}},large:{width:{value:"{fontSizes.large.value}"},height:{value:"{fontSizes.large.value}"}},_checked:{color:{value:"{colors.primary.80.value}"},_disabled:{color:{value:"{colors.background.disabled.value}"}}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_error:{borderColor:{value:"{colors.border.error.value}"},_focus:{boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}}},_disabled:{borderColor:{value:"{colors.border.disabled.value}"},backgroundColor:{value:"{colors.background.primary.value}"}}},label:{color:{value:"{components.text.color.value}"},_disabled:{color:{value:"{colors.font.disabled.value}"}}}},radiogroup:{radio:{borderWidth:{value:"{components.radio.button.borderWidth}"},borderColor:{value:"{components.radio.button.borderColor}"},backgroundColor:{value:"{components.radio.button.backgroundColor}"},_checked:{color:{value:"{components.radio.button._checked.color}"}},label:{color:{value:"{components.radio.label.color}"}}},legend:{color:{value:"{components.fieldset.legend.color}"},fontWeight:{value:"{fontWeights.normal}"}}},rating:{large:{size:{value:"{fontSizes.xxxl.value}"}},default:{size:{value:"{fontSizes.xl.value}"}},small:{size:{value:"{fontSizes.small.value}"}},filled:{color:{value:"{colors.secondary.80.value}"}},empty:{color:{value:"{colors.background.tertiary.value}"}}},searchfield:{color:{value:"{components.fieldcontrol.color.value}"},button:{color:{value:"{components.button.color.value}"},backgroundColor:{value:"{colors.background.primary.value}"},_active:{backgroundColor:{value:"{components.button._active.backgroundColor.value}"},borderColor:{value:"{components.button._active.borderColor.value}"},color:{value:"{components.button._active.color.value}"}},_disabled:{backgroundColor:{value:"{components.button._disabled.backgroundColor.value}"},borderColor:{value:"{components.button._disabled.borderColor.value}"},color:{value:"{components.button._disabled.color.value}"}},_focus:{backgroundColor:{value:"{components.button._focus.backgroundColor.value}"},borderColor:{value:"{components.button._focus.borderColor.value}"},color:{value:"{components.button._focus.color.value}"}},_hover:{backgroundColor:{value:"{components.button._hover.backgroundColor.value}"},borderColor:{value:"{components.button._hover.borderColor.value}"},color:{value:"{components.button._hover.color.value}"}}}},select:{color:{value:"{components.fieldcontrol.color}"},backgroundColor:{value:"{colors.background.primary.value}"},paddingInlineEnd:{value:"{space.xxl.value}"},_disabled:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"{colors.background.disabled.value}"}},wrapper:{flex:{value:"1"},display:{value:"block"},position:{value:"relative"},cursor:{value:"pointer"}},iconWrapper:{alignItems:{value:"center"},position:{value:"absolute"},top:{value:"50%"},right:{value:"{space.medium.value}"},transform:{value:"translateY(-50%)"},pointerEvents:{value:"none"},small:{right:{value:"{space.xs.value}"}},large:{right:{value:"{space.medium.value}"}}},option:{backgroundColor:{value:"transparent"},color:{value:"{colors.font.primary.value}"},_disabled:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"transparent"}}},whiteSpace:{value:"nowrap"},minWidth:{value:"6.5rem"},small:{minWidth:{value:"5.5rem"},paddingInlineEnd:{value:"{space.xl.value}"}},large:{minWidth:{value:"7.5rem"},paddingInlineEnd:{value:"{space.xxl.value}"}},expanded:{paddingBlock:{value:"{space.xs.value}"},paddingInline:{value:"{space.small.value}"},option:{paddingBlock:{value:"{space.xs.value}"},paddingInline:{value:"{space.small.value}"}}}},selectfield:{borderColor:{value:"{components.fieldcontrol.borderColor}"},color:{value:"{components.fieldcontrol.color}"},flexDirection:{value:"column"},fontSize:{value:"{components.fieldcontrol.fontSize}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor}"}},label:{color:{value:"{components.field.label.color}"}}},sliderfield:{paddingBlock:{value:"{space.xs.value}"},track:{backgroundColor:{value:"{colors.background.quaternary.value}"},borderRadius:{value:"9999px"},height:{value:"0.375rem"},minWidth:{value:"10rem"}},range:{backgroundColor:{value:"{colors.primary.80.value}"},borderRadius:{value:"9999px"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"}}},thumb:{width:{value:"1.25rem"},height:{value:"1.25rem"},backgroundColor:{value:"{colors.background.primary.value}"},boxShadow:{value:"{shadows.small.value}"},borderRadius:{value:"50%"},borderWidth:{value:"{borderWidths.medium.value}"},borderColor:{value:"{colors.border.primary.value}"},borderStyle:{value:"solid"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"},borderColor:{value:"transparent"},boxShadow:{value:"none"}},_hover:{backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.focus.value}"}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}}},small:{track:{height:{value:"0.25rem"}},thumb:{width:{value:"1rem"},height:{value:"1rem"}}},large:{track:{height:{value:"0.625rem"}},thumb:{width:{value:"1.5rem"},height:{value:"1.5rem"}}}},stepperfield:{borderColor:{value:"{components.fieldcontrol.borderColor}"},flexDirection:{value:"column"},input:{color:{value:"{components.fieldcontrol.color}"},fontSize:{value:"{components.fieldcontrol.fontSize}"},textAlign:{value:"center"}},button:{color:{value:"{components.button.color}"},backgroundColor:{value:"{colors.transparent}"},_active:{color:{value:"{components.button._active.color}"},backgroundColor:{value:"{components.button._active.backgroundColor}"}},_focus:{color:{value:"{components.button._focus.color}"},backgroundColor:{value:"{components.button._focus.backgroundColor}"}},_disabled:{color:{value:"{components.button._disabled.color}"},backgroundColor:{value:"{components.fieldcontrol._disabled.backgroundColor}"}},_hover:{color:{value:"{components.button._hover.color}"},backgroundColor:{value:"{components.button._hover.backgroundColor}"}}}},storagemanager:{dropzone:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"dashed"},borderWidth:{value:"{borderWidths.small}"},gap:{value:"{space.small}"},paddingBlock:{value:"{space.xl}"},paddingInline:{value:"{space.large}"},textAlign:{value:"center"},_active:{backgroundColor:{value:"{colors.primary.10}"},borderRadius:{value:"{components.storagemanager.dropzone.borderRadius}"},borderColor:{value:"{colors.border.pressed}"},borderStyle:{value:"{components.storagemanager.dropzone.borderStyle}"},borderWidth:{value:"{borderWidths.medium}"}},icon:{color:{value:"{colors.border.primary}"},fontSize:{value:"{fontSizes.xxl}"}},text:{color:{value:"{colors.font.tertiary}"},fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"}}},file:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small}"},paddingBlock:{value:"{space.xs}"},paddingInline:{value:"{space.small}"},gap:{value:"{space.small}"},alignItems:{value:"baseline"},name:{fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"},color:{value:"{colors.font.primary}"}},size:{fontSize:{value:"{fontSizes.small}"},fontWeight:{value:"{fontWeights.normal}"},color:{value:"{colors.font.tertiary}"}},image:{width:{value:"{space.xxl}"},height:{value:"{space.xxl}"},backgroundColor:{value:"{colors.background.secondary}"},color:{value:"{colors.font.tertiary}"},borderRadius:{value:"{radii.small}"}}},filelist:{flexDirection:{value:"column"},gap:{value:"{space.small}"}},loader:{strokeLinecap:{value:"round"},strokeEmpty:{value:"{colors.border.secondary}"},strokeFilled:{value:"{components.loader.strokeFilled}"},strokeWidth:{value:"{borderWidths.large}"}},previewer:{backgroundColor:{value:"{colors.background.primary}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small}"},borderRadius:{value:"{radii.small}"},paddingBlock:{value:"{space.zero}"},paddingInline:{value:"{space.zero}"},maxHeight:{value:"40rem"},maxWidth:{value:"auto"},text:{fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"},color:{value:"{colors.font.primary}"}},body:{paddingBlock:{value:"{space.medium}"},paddingInline:{value:"{space.medium}"},gap:{value:"{space.small}"}},footer:{justifyContent:{value:"flex-end"}}}},switchfield:{_disabled:{opacity:{value:"{opacities.60.value}"}},_focused:{shadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},fontSize:{value:"{fontSizes.medium.value}"},large:{fontSize:{value:"{fontSizes.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"}},label:{padding:{value:"{space.xs.value}"}},thumb:{backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderRadius:{value:"{radii.xxxl.value}"},checked:{transform:{value:"{transforms.slideX.medium.value}"}},transition:{duration:{value:"{time.medium.value}"}},width:{value:"{space.relative.medium.value}"}},track:{backgroundColor:{value:"{colors.background.quaternary.value}"},borderRadius:{value:"{radii.xxxl.value}"},checked:{backgroundColor:{value:"{colors.primary.80.value}"}},height:{value:"{space.relative.medium.value}"},padding:{value:"{outlineWidths.medium.value}"},transition:{duration:{value:"{time.short.value}"}},width:{value:"{space.relative.xl.value}"},_error:{backgroundColor:{value:"{colors.background.error.value}"}}}},table:{borderCollapse:{value:"collapse"},display:{value:"table"},width:{value:"100%"},head:{display:{value:"table-header-group"},verticalAlign:{value:"middle"}},body:{display:{value:"table-row-group"},verticalAlign:{value:"middle"}},foot:{display:{value:"table-footer-group"},verticalAlign:{value:"middle"}},row:{display:{value:"table-row"},verticalAlign:{value:"middle"},hover:{backgroundColor:{value:"{colors.background.tertiary.value}"}},striped:{backgroundColor:{value:"{colors.background.secondary.value}"}}},header:{borderColor:{value:"{colors.border.tertiary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small.value}"},color:{value:"{colors.font.primary.value}"},display:{value:"table-cell"},fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"},padding:{value:"{space.medium.value}"},verticalAlign:{value:"middle"},large:{fontSize:{value:"{fontSizes.large.value}"},padding:{value:"{space.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"},padding:{value:"{space.xs.value}"}}},data:{borderColor:{value:"{colors.border.tertiary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small.value}"},color:{value:"{colors.font.primary.value}"},display:{value:"table-cell"},fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.normal.value}"},padding:{value:"{space.medium.value}"},verticalAlign:{value:"middle"},large:{fontSize:{value:"{fontSizes.large.value}"},padding:{value:"{space.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"},padding:{value:"{space.xs.value}"}}},caption:{captionSide:{value:"bottom"},color:{value:"{colors.font.primary.value}"},display:{value:"table-caption"},fontSize:{value:"{fontSizes.medium.value}"},textAlign:{value:"center"},wordBreak:{value:"break-all"},large:{fontSize:{value:"{fontSizes.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"}}}},tabs:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.secondary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.medium.value}"},gap:{value:"0"},item:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.secondary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.medium.value}"},color:{value:"{colors.font.secondary.value}"},fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"},paddingVertical:{value:"{space.small.value}"},paddingHorizontal:{value:"{space.medium.value}"},textAlign:{value:"center"},transitionDuration:{value:"{time.medium.value}"},_hover:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"none"},color:{value:"{colors.font.hover.value}"}},_focus:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"{borderWidths.medium}",color:"{colors.border.focus.value}"}},color:{value:"{colors.font.focus.value}"}},_active:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.font.interactive.value}"},boxShadow:{value:"none"},color:{value:"{colors.font.interactive.value}"}},_disabled:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.tertiary.value}"},boxShadow:{value:"none"},color:{value:"{colors.font.disabled.value}"}}},panel:{backgroundColor:{value:"transparent"},paddingInline:{value:"0"},paddingBlock:{value:"{space.small.value}"}}},text:{color:{value:"{colors.font.primary.value}"},primary:{color:{value:"{colors.font.primary.value}"}},secondary:{color:{value:"{colors.font.secondary.value}"}},tertiary:{color:{value:"{colors.font.tertiary.value}"}},error:{color:{value:"{colors.font.error.value}"}},warning:{color:{value:"{colors.font.warning.value}"}},success:{color:{value:"{colors.font.success.value}"}},info:{color:{value:"{colors.font.info.value}"}}},textareafield:{color:{value:"{components.fieldcontrol.color.value}"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor.value}"}}},textfield:{color:{value:"{components.fieldcontrol.color.value}"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},fontSize:{value:"{components.fieldcontrol.fontSize.value}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor.value}"}}},togglebutton:{borderColor:{value:"{colors.border.primary.value}"},color:{value:"{colors.font.primary.value}"},_hover:{backgroundColor:{value:"{colors.overlay.10.value}"}},_focus:{borderColor:{value:"{colors.border.focus.value}"},color:{value:"{colors.font.primary.value}"}},_active:{backgroundColor:{value:"{colors.transparent.value}"}},_disabled:{backgroundColor:{value:"{colors.transparent.value}"},borderColor:{value:"{colors.border.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_pressed:{borderColor:{value:"{colors.border.pressed.value}"},color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.overlay.20.value}"},_hover:{backgroundColor:{value:"{colors.overlay.30.value}"}}},primary:{backgroundColor:{value:"{colors.transparent.value}"},borderWidth:{value:"{borderWidths.small.value}"},_focus:{borderColor:{value:"{colors.border.focus.value}"},backgroundColor:{value:"{colors.transparent.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"},color:{value:"{colors.font.primary.value}"}},_hover:{backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.font.primary.value}"}},_disabled:{borderColor:{value:"{colors.border.disabled.value}"},backgroundColor:{value:"{colors.background.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_pressed:{backgroundColor:{value:"{colors.primary.80.value}"},borderColor:{value:"{colors.primary.80.value}"},color:{value:"{colors.background.primary.value}"},_focus:{backgroundColor:{value:"{colors.border.focus.value}"},borderColor:{value:"{colors.border.focus.value}"},color:{value:"{colors.background.primary.value}"}},_hover:{borderColor:{value:"{colors.primary.60.value}"},backgroundColor:{value:"{colors.primary.60.value}"},boxShadow:{value:"{colors.primary.60.value}"},color:{value:"{colors.background.primary.value}"}}}},link:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.50.value}"},_hover:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.50.value}"}},_focus:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.50.value}"}},_disabled:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.font.disabled.value}"}},_pressed:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.90.value}"},_focus:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.90.value}"}},_hover:{color:{value:"{colors.overlay.90.value}"},backgroundColor:{value:"{colors.transparent.value}"}}}}},togglebuttongroup:{alignItems:{value:"center"},alignContent:{value:"center"},justifyContent:{value:"flex-start"}}},borderWidths:_j,colors:Ij,fonts:{default:{variable:{value:"'InterVariable', 'Inter var', 'Inter', -apple-system, BlinkMacSystemFont,\n        'Helvetica Neue', 'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans',\n        sans-serif"},static:{value:"'Inter', -apple-system, BlinkMacSystemFont, 'Helvetica Neue',\n        'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif"}}},fontSizes:Tj,fontWeights:Ej,lineHeights:{small:{value:"1.25"},medium:{value:"1.5"},large:{value:"2"}},opacities:Nj,outlineOffsets:{small:{value:"1px"},medium:{value:"2px"},large:{value:"3px"}},outlineWidths:{small:{value:"1px"},medium:{value:"2px"},large:{value:"3px"}},radii:Cj,shadows:{small:{value:{offsetX:"0px",offsetY:"2px",blurRadius:"4px",color:"{colors.shadow.tertiary.value}"}},medium:{value:{offsetX:"0px",offsetY:"2px",blurRadius:"6px",color:"{colors.shadow.secondary.value}"}},large:{value:{offsetX:"0px",offsetY:"4px",blurRadius:"12px",color:"{colors.shadow.primary.value}"}}},space:Aj,time:Mj,transforms:{slideX:{small:{value:"translateX(0.5em)"},medium:{value:"translateX(1em)"},large:{value:"translateX(2em)"}}}},breakpoints:{values:{base:0,small:480,medium:768,large:992,xl:1280,xxl:1536},defaultBreakpoint:"base"},name:"default-theme"},Dj={backgroundColor:"colors",borderColor:"colors",borderWidth:"borderWidths",color:"colors",borderRadius:"radii",fontSize:"fontSizes",fontWeight:"fontWeights",fontFamily:"fonts",lineHeight:"lineHeights",opacity:"opacities",boxShadow:"shadows",transform:"transforms",left:"space",right:"space",top:"space",bottom:"space",height:"space",width:"space",letterSpacing:"space",margin:"space",marginBlock:"space",marginBlockEnd:"space",marginBlockStart:"space",marginInline:"space",marginInlineEnd:"space",marginInlineStart:"space",marginLeft:"space",marginRight:"space",marginTop:"space",marginBottom:"space",maxHeight:"space",maxWidth:"space",minHeight:"space",minWidth:"space",padding:"space",paddingBlock:"space",paddingBlockEnd:"space",paddingBlockStart:"space",paddingInline:"space",paddingInlineEnd:"space",paddingInlineStart:"space",paddingLeft:"space",paddingRight:"space",paddingTop:"space",paddingBottom:"space",gap:"space",columnGap:"space",rowGap:"space"},Rj=e=>"string"==typeof e&&0===e.length,Fj=e=>null==e||Rj(e),zj=e=>Object.keys(e),Pj=(e,t,n)=>{if("string"!=typeof t)return t;if(t.includes(" "))return t.split(" ").map((t=>Pj(e,t,n))).join(" ");if(e in Dj){const o=t.split(".");let r=n[Dj[e]];for(let e=0;e<o.length&&r;e++)r=r[o[e]];return wj(r)?`var(--${vj({path:[Dj[e],...o]})})`:t}return t},$j=({breakpoint:e,breakpoints:t,values:n})=>{let o={};const r=zj(t).sort(((e,n)=>t[e]-t[n]));var a;return Array.isArray(n)?n.forEach(((e,t)=>{o[r[t]]=e})):"object"==typeof n&&(o=zj(a=n).reduce(((e,t)=>t in Oj.breakpoints.values?{...e,[t]:a[t]}:e),{})),(({breakpoint:e,breakpoints:t,values:n})=>{const o=n[e];if(void 0!==o)return o;const r=zj(t).sort(((e,n)=>t[n]-t[e])),a=r.slice(r.indexOf(e));for(const e of a){const t=n[e];if(void 0!==t)return t}return null})({breakpoint:e,breakpoints:t,values:o})},Lj="undefined"==typeof window?I.useEffect:I.useLayoutEffect,Bj=({breakpoints:e,defaultBreakpoint:t})=>{const n="undefined"!=typeof window&&void 0!==window.matchMedia?window.matchMedia:null,o=I.useMemo((()=>(({breakpoints:e})=>{const t=zj(e).sort(((t,n)=>e[n]-e[t]));return t.map(((n,o)=>{let r="";const a=e[n],i=t[o-1],s=i?e[i]-1:null;return a>=0&&(r=`(min-width: ${a}px)`),null!==s&&(r&&(r+=" and "),r+=`(max-width: ${s}px)`),{breakpoint:n,query:r,maxWidth:s,minWidth:a}}))})({breakpoints:e})),[e]),[r,a]=I.useState(t),i=I.useCallback(((e,t)=>{e&&a(t)}),[a]);return Lj((()=>{if(!n)return;const e=o.map((({query:e,breakpoint:t})=>{const o=n(e);i(o.matches,t);const r=e=>{e.matches&&a(t)};return o.addEventListener("change",r),()=>o.removeEventListener("change",r)}));return()=>{e.forEach((e=>e()))}}),[e,a,n,o]),I.useDebugValue(r,(e=>e)),r};var jj=i(1389),Wj=i(2568);const Uj=({token:e,path:t})=>{const n=`--${vj({path:t})}`,{value:o}=e,r=function(e){const{value:t}=e;return dj(t)?bj(t):kj(t)?gj.map((n=>bj(kj(e)?e[n]:t[n]))).join(" "):t}(e);return{name:n,original:o,path:t,value:r,toString:()=>`var(${n})`}};function Hj({keys:e,value:t}){return e.reduce(((e,n)=>({...e,[n]:{value:`{colors.${t}.${n}.value}`}})),{})}function Vj(e,t=Oj){const n=jj([{},t,e]),{primaryColor:o,secondaryColor:r}=n;dj(o)&&(n.tokens.colors.primary=Hj({keys:Object.keys(n.tokens.colors[o]),value:o})),dj(r)&&(n.tokens.colors.secondary=Hj({keys:Object.keys(n.tokens.colors[r]),value:r}));const a=xj({tokens:n.tokens,setupToken:Uj}),{breakpoints:i,name:s}=n;let l=`[data-amplify-theme="${s}"] {\n`+Wj(a).map((e=>`${e.name}: ${e.value};`)).join("\n")+"\n}\n",c=[];return n.overrides&&(c=n.overrides.map((e=>{const t=xj({tokens:e.tokens,setupToken:Uj}),o=Wj(t).map((e=>`${e.name}: ${e.value};`)).join("\n");if("selector"in e&&(l+=`\n${e.selector} {\n${o}\n}\n`),"mediaQuery"in e&&(l+=`\n@media (${e.mediaQuery}) {\n  [data-amplify-theme="${s}"] {\n    ${o}\n  }\n}\n`),"breakpoint"in e){const t=n.breakpoints.values[e.breakpoint];l+=`\n@media (min-width: ${t}px) {\n  [data-amplify-theme="${s}"] {\n    ${o}\n  }\n}\n`}return"colorMode"in e&&(l+=`\n@media (prefers-color-scheme: ${e.colorMode}) {\n          [data-amplify-theme="${s}"][data-amplify-color-mode="system"] {\n            ${o}\n            color-scheme: ${e.colorMode};\n          }\n        }\n`,l+=`\n[data-amplify-theme="${s}"][data-amplify-color-mode="${e.colorMode}"] {\n          ${o}\n          color-scheme: ${e.colorMode};\n        }\n`),{...e,tokens:t}}))),{tokens:a,breakpoints:i,name:s,cssText:l,overrides:c}}const qj=I.createContext({theme:Vj(),colorMode:void 0}),Gj=()=>(e=>void 0===e||void 0===e.theme?Vj():e.theme)(I.useContext(qj)),Kj=e=>"auto"===e?"auto":`span ${e}`,Yj=e=>(e=>"auto"===e||"number"==typeof e&&!isNaN(e)||"string"==typeof e&&!isNaN(parseFloat(e)))(e)?Kj(e):Array.isArray(e)?e.map((e=>Kj(e))):"object"==typeof e&&null!=e?Object.entries(e).reduce(((e,[t,n])=>({...e,[t]:Kj(n)})),{}):null,Xj=({props:e={},style:t={},breakpoint:n,breakpoints:o,tokens:r})=>{const a={};return Object.keys(e).filter((t=>null!==e[t])).forEach((i=>{if(i in Sj){const a=e[i];if(!a||Rj(a))return;const s=Sj[i];let l="";wj(a)?l=a.toString():"string"==typeof a?l=Pj(i,a,r):"number"==typeof a?l=a:"object"==typeof a&&(l=(({value:e,propKey:t,tokens:n})=>wj(e)?e.toString():dj(e)?dj(t)?Pj(t,e,n):e:null)({propKey:i,tokens:r,value:$j({values:a,breakpoint:n,breakpoints:o})})),t={...t,[s]:l}}else void 0!==e[i]&&(a[i]=e[i])})),{propStyles:t,nonStyleProps:a}},Jj=(e,t)=>{const{breakpoints:{values:n,defaultBreakpoint:o},tokens:r}=Gj(),a=Bj({breakpoints:n,defaultBreakpoint:o}),i=(e=>{const{rowSpan:t,columnSpan:n,row:o,column:r,...a}=e,{rowFromSpanValue:i,columnFromSpanValue:s}=I.useMemo((()=>({rowFromSpanValue:Yj(t),columnFromSpanValue:Yj(n)})),[t,n]);return{row:Fj(o)?i:o,column:Fj(r)?s:r,...a}})(e);return I.useMemo((()=>Xj({props:i,style:t,breakpoint:a,breakpoints:n,tokens:r})),[i,t,n,a,r])},Zj=e=>I.forwardRef(e),Qj=Zj((({as:e="div",children:t,testId:n,ariaLabel:o,isDisabled:r,style:a,inert:i,...s},l)=>{const{propStyles:c,nonStyleProps:u}=Jj(s,a);return I.createElement(e,{"aria-label":o,"data-testid":n,disabled:r,ref:l,inert:i?"":null,style:c,...u},t)}));Qj.displayName="View";const eW=(...e)=>{const t=[];for(const n of e)if(n)if(dj(n))t.push(n);else if("number"!=typeof n){if(Array.isArray(n))t.push(eW(...n));else if(pj(n)){if(n.toString!==Object.prototype.toString&&"[object Object]"!==n.toString()){t.push(n.toString());continue}for(const e in n)mj(n,e)&&n[e]&&t.push(e)}}else t.push(n.toString());return t.join(" ")},tW="amplify-alert",nW="amplify-alert__icon",oW="amplify-alert__heading",rW="amplify-alert__body",aW="amplify-button",iW="amplify-button__loader-wrapper",sW="amplify-field",lW="amplify-field__description",cW="amplify-field__error-message",uW="amplify-field-group__control",pW="amplify-flex",dW="amplify-icon",mW="amplify-label",fW="amplify-loader",hW="amplify-loader__label",yW="amplify-select",gW="amplify-selectfield",bW="amplify-select__wrapper",vW="amplify-select__icon",wW="amplify-text",kW="amplify-visually-hidden",xW=Zj((({className:e,children:t,...n},o)=>I.createElement(Qj,{className:eW(pW,e),ref:o,...n},t)));xW.displayName="Flex";const SW=I.createContext(null);function _W({children:e,...t}){return I.createElement(SW.Provider,{value:t},e)}function IW(){const e=I.useContext(SW);if(null===e)throw new Error("useFaceLivenessDetector must be used within a FaceLivenessDetectorProvider");return e}const TW=Zj((({as:e="p",className:t,children:n,isTruncated:o,variation:r,...a},i)=>{const s=eW(wW,fj(wW,r),hj(wW,"truncated",o),t);return I.createElement(Qj,{as:e,className:s,ref:i,...a},n)}));TW.displayName="Text";const EW=I.createContext({isFieldsetDisabled:!1}),NW=()=>I.useContext(EW),CW=84*Math.PI,AW=Zj((({className:e,filledColor:t,emptyColor:n,size:o,variation:r,isDeterminate:a=!1,isPercentageTextHidden:i=!1,percentage:s=0,...l},c)=>{s=Math.min(s,100);const u=`${s=Math.max(s,0)}%`,p=eW(fW,fj(fW,o),fj(fW,r),hj(fW,"determinate",a),e),d=I.createElement("g",null,I.createElement("line",{x1:"0",x2:"100%",y1:"50%",y2:"50%",style:{stroke:String(n)},"data-testid":"linear-empty"}),I.createElement("line",{x1:"0",x2:a?u:"100%",y1:"50%",y2:"50%",style:{stroke:a&&0===s?"none":t?String(t):void 0},"data-testid":"linear-filled"}),a?I.createElement("text",{"aria-live":"polite",className:eW(hW,i?kW:null),x:`${-1+s}%`,y:"200%"},u):null),m=I.createElement("g",null,I.createElement("circle",{cx:"50%",cy:"50%",r:"42%",strokeWidth:"8%",style:{stroke:String(n)},"data-testid":"circular-empty"}),I.createElement("circle",{cx:"50%",cy:"50%",r:"42%",strokeWidth:"8%",style:{stroke:String(t),strokeDasharray:a?`${CW}% ${CW}%`:void 0,strokeDashoffset:a?CW-CW*s/100+"%":void 0},"data-testid":"circular-filled"}),a?I.createElement("text",{"aria-live":"polite",className:eW(hW,i?kW:null),x:"130%",y:"80%"},u):null);return I.createElement(Qj,{as:"svg",className:p,ref:c,role:"img",...l},"linear"===r?d:m)}));AW.displayName="Loader";const MW=["link","primary",void 0],OW=Zj((({className:e,children:t,colorTheme:n,isFullWidth:o=!1,isDisabled:r,isLoading:a,loadingText:i="",size:s,type:l="button",variation:c,...u},p)=>{const d=MW.includes(c)&&n?`${c??"outlined"}--${n}`:void 0,{isFieldsetDisabled:m}=NW(),f=m||(r??a??u.disabled),h=eW(aW,uW,fj(aW,c),fj(aW,d),fj(aW,s),hj(aW,"disabled",f),hj(aW,"loading",a),hj(aW,"fullwidth",o),e);return I.createElement(Qj,{ref:p,as:"button",className:h,isDisabled:f,type:l,...u},a?I.createElement(xW,{as:"span",className:iW},I.createElement(AW,{size:s}),i||null):t)}));OW.displayName="Button";const DW=Zj((({children:e,className:t,visuallyHidden:n,...o},r)=>I.createElement(Qj,{as:"label",className:eW(mW,t,{[kW]:n}),ref:r,...o},e)));DW.displayName="Label";const RW=({descriptiveText:e,labelHidden:t,...n})=>e?I.createElement(TW,{"data-testid":"qa-field-description",className:eW(lW,{[kW]:t}),...n},e):null;RW.displayName="FieldDescription";const FW=({errorMessage:e,hasError:t,...n})=>t&&e?I.createElement(TW,{className:cW,...n},e):null;FW.displayName="FieldErrorMessage";const zW=I.createContext({});function PW(e){const t=I.useContext(zW);if(e&&t)return t[e]}const $W=e=>{const{className:t,...n}=e;return I.createElement(Qj,{as:"span",width:"1em",height:"1em",className:eW(dW,t),...n},I.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I.createElement("path",{d:"M16.59 8.58984L12 13.1698L7.41 8.58984L6 9.99984L12 15.9998L18 9.99984L16.59 8.58984Z",fill:"currentColor"})))},LW=Zj((({autoComplete:e,className:t,size:n,variation:o,value:r,defaultValue:a,hasError:i,icon:s,iconColor:l,children:c,placeholder:u,isDisabled:p,isRequired:d,isMultiple:m=!1,selectSize:f=1,...h},y)=>{const g=void 0===r&&void 0===a&&u,b=m||f>1,v=eW(yW,uW,fj(yW,n),fj(yW,o),hj(yW,"error",i),hj(yW,"expanded",b),t),w=PW("select"),{isFieldsetDisabled:k}=NW();return I.createElement(Qj,{className:bW},I.createElement(Qj,{"aria-invalid":i,as:"select",autoComplete:e,value:r,defaultValue:g?"":a,isDisabled:k||p,multiple:m,size:f,required:d,className:v,ref:y,...h},u&&I.createElement("option",{value:""},u),c),b?null:I.createElement(xW,{className:eW(vW,fj(vW,n)),color:l,"aria-hidden":"true"},s??w?.expand??I.createElement($W,null)))}));LW.displayName="Select";const BW=e=>{const t={styleProps:{},rest:{}};return Object.keys(e).forEach((n=>{(e=>e in Sj)(n)?t.styleProps={...t.styleProps,[n]:e[n]}:t.rest={...t.rest,[n]:e[n]}})),t},jW=globalThis?.document?I.useLayoutEffect:()=>{},WW=T["useId".toString()]||(()=>{});let UW=0;const HW=e=>{const[t,n]=I.useState(WW());return jW((()=>{e||n((e=>e??String(UW++)))}),[e]),e??(t?`amplify-id-${t}`:"")},VW=Zj(((e,t)=>{const{children:n,className:o,descriptiveText:r,errorMessage:a,hasError:i=!1,id:s,label:l,labelHidden:c=!1,options:u,size:p,testId:d,inputStyles:m,...f}=e,h=HW(s),y=HW(),g=r?y:void 0,{styleProps:b,rest:v}=BW(f);return I.createElement(xW,{className:eW(sW,fj(sW,p),gW,o),testId:d,...b},I.createElement(DW,{htmlFor:h,visuallyHidden:c},l),I.createElement(RW,{id:y,labelHidden:c,descriptiveText:r}),I.createElement(LW,{"aria-describedby":g,hasError:i,id:h,ref:t,size:p,...v,...m},(({children:e,options:t})=>e?(t?.length&&console.warn("Amplify UI: <SelectField> component  defaults to rendering children over `options`. When using the `options` prop, omit children."),e):t?.map(((e,t)=>I.createElement("option",{label:e,value:e,key:`${e}-${t}`},e))))({children:n,options:u})),I.createElement(FW,{hasError:i,errorMessage:a}))}));VW.displayName="SelectField";var qW=i(9242);function GW(e){return 0!==e.status?e.getSnapshot():e.machine.initialState}function KW(e){return"state"in e&&"machine"in e}function YW(e){return e}function XW(e){return"state"in e}function JW(e){return"getSnapshot"in e?KW(e)?GW(e):e.getSnapshot():XW(e)?e.state:void 0}function ZW(e,t){void 0===t&&(t=JW);var n=(0,I.useRef)(e),o=(0,I.useRef)([]),r=(0,I.useCallback)((function(t){return e.subscribe(t).unsubscribe}),[e]),a=(0,I.useCallback)((function(){return t(e)}),[e,t]),i=(0,I.useCallback)((function(t,n){return KW(e)?function(e,t,n){if(e.status===yr.NotStarted)return!0;var o=void 0===n.changed&&(Object.keys(n.children).length>0||"boolean"==typeof t.changed);return!(n.changed||o)}(e,t,n):t===n}),[e]),s=(0,qW.useSyncExternalStoreWithSelector)(r,a,a,YW,i),l=kr((function(){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0];var a=n.current;(function(e){return"deferred"in e})(a)&&a.deferred?o.current.push(r):a.send(r)}}));return _n((function(){for(n.current=e;o.current.length>0;){var t=o.current.shift();e.send(t)}}),[e]),[s,l]}function QW(){const{service:e}=IW();return ZW(e)}var eU,tU=function(e,t){return e===t},nU=function(e,t){if(KW(e)){if(0===e.status&&t.current)return t.current;var n=GW(e);return t.current=0===e.status?n:null,n}return XW(e)?e.state:void 0};function oU(e){const{service:t}=IW();return function(e,t,n,o){void 0===n&&(n=tU);var r=(0,I.useRef)(null),a=(0,I.useCallback)((function(t){return e.subscribe(t).unsubscribe}),[e]),i=(0,I.useCallback)((function(){return o?o(e):nU(e,r)}),[e,o]);return(0,qW.useSyncExternalStoreWithSelector)(a,i,i,t,n)}(t,e)}!function(e){e.CameraModule="amplify-liveness-camera-module",e.CancelContainer="amplify-liveness-cancel-container",e.CancelButton="amplify-liveness-cancel-button",e.CountdownContainer="amplify-liveness-countdown-container",e.DescriptionBullet="amplify-liveness-description-bullet",e.DescriptionBulletIndex="amplify-liveness-description-bullet__index",e.DescriptionBulletIndexText="amplify-liveness-description-bullet__index__text",e.DescriptionBulletMessage="amplify-liveness-description-bullet__message",e.ErrorModal="amplify-liveness-error-modal",e.ErrorModalHeading="amplify-liveness-error-modal__heading",e.FadeOut="amplify-liveness-fade-out",e.FreshnessCanvas="amplify-liveness-freshness-canvas",e.InstructionList="amplify-liveness-instruction-list",e.InstructionOverlay="amplify-liveness-instruction-overlay",e.Hint="amplify-liveness-hint",e.HintText="amplify-liveness-hint__text",e.LandscapeErrorModal="amplify-liveness-landscape-error-modal",e.LandscapeErrorModalButton="amplify-liveness-landscape-error-modal__button",e.LandscapeErrorModalHeader="amplify-liveness-landscape-error-modal__header",e.Loader="amplify-liveness-loader",e.MatchIndicator="amplify-liveness-match-indicator",e.OvalCanvas="amplify-liveness-oval-canvas",e.OpaqueOverlay="amplify-liveness-overlay-opaque",e.Overlay="amplify-liveness-overlay",e.Popover="amplify-liveness-popover",e.PopoverContainer="amplify-liveness-popover__container",e.PopoverAnchor="amplify-liveness-popover__anchor",e.PopoverAnchorSecondary="amplify-liveness-popover__anchor-secondary",e.RecordingIconContainer="amplify-liveness-recording-icon-container",e.RecordingIcon="amplify-liveness-recording-icon",e.StartScreenCameraSelect="amplify-liveness-start-screen-camera-select",e.StartScreenCameraSelectContainer="amplify-liveness-start-screen-camera-select__container",e.StartScreenCameraWaiting="amplify-liveness-start-screen-camera-waiting",e.StartScreenHeader="amplify-liveness-start-screen-header",e.StartScreenHeaderBody="amplify-liveness-start-screen-header__body",e.StartScreenHeaderHeading="amplify-liveness-start-screen-header__heading",e.StartScreenWarning="amplify-liveness-start-screen-warning",e.StartScreenInstructions="amplify-liveness-start-screen-instructions",e.StartScreenInstructionsHeading="amplify-liveness-start-screen-instructions__heading",e.Toast="amplify-liveness-toast",e.ToastContainer="amplify-liveness-toast__container",e.ToastMessage="amplify-liveness-toast__message",e.Video="amplify-liveness-video",e.VideoAnchor="amplify-liveness-video-anchor"}(eU||(eU={}));const rU=Zj((({as:e="span",children:t,className:n,...o},r)=>I.createElement(Qj,{as:e,className:eW(kW,n),ref:r,...o},t)));rU.displayName="VisuallyHidden";const aU=({variation:e="default",size:t="medium",children:n,isInitial:o=!1,...r})=>{const{tokens:a}=Gj();return I.createElement(Qj,{className:`${eU.Toast} ${eU.Toast}--${e} ${eU.Toast}--${t}`,...o&&{backgroundColor:a.colors.background.primary},...r},I.createElement(xW,{className:eU.ToastContainer},I.createElement(xW,{className:eU.ToastMessage,...o?{color:a.colors.font.primary}:{}},n)))},iU=({displayText:e})=>I.createElement(aU,{"aria-live":"polite"},I.createElement(xW,{className:eU.HintText},I.createElement(AW,null),I.createElement(Qj,null,e))),sU=e=>e.context.errorState,lU=e=>e.context.faceMatchAssociatedParams.faceMatchState,cU=e=>e.context.faceMatchAssociatedParams.illuminationState,uU=e=>e.context.isFaceFarEnoughBeforeRecording,pU=e=>e.context.faceMatchStateBeforeStart,dU=e=>e.context.faceMatchAssociatedParams?.faceMatchPercentage,mU=({text:e,isInitial:t=!1})=>I.createElement(aU,{size:"large",variation:"primary",isInitial:t},I.createElement(Qj,{"aria-live":"assertive"},e)),fU=({hintDisplayText:e})=>{const[t]=QW(),n=oU(sU),o=oU(lU),r=oU(cU),a=oU(pU),i=oU(uU),s=oU(dU),l=t.matches("checkFaceDetectedBeforeStart")||t.matches("detectFaceBeforeStart"),c=t.matches("checkFaceDistanceBeforeRecording")||t.matches("detectFaceDistanceBeforeRecording"),u=t.matches("start")||t.matches("userCancel"),p=t.matches("recording"),d=t.matches("notRecording"),m=t.matches("uploading"),f=t.matches("checkSucceeded"),h=t.matches("checkFailed"),y=t.matches({recording:"flashFreshnessColors"}),g={[zr.CANT_IDENTIFY]:e.hintCanNotIdentifyText,[zr.FACE_IDENTIFIED]:e.hintTooFarText,[zr.TOO_MANY]:e.hintTooManyFacesText,[zr.TOO_FAR]:e.hintTooFarText,[zr.MATCHED]:e.hintHoldFaceForFreshnessText,[zr.OFF_CENTER]:e.hintFaceOffCenterText},b={[Fr.BRIGHT]:e.hintIlluminationTooBrightText,[Fr.DARK]:e.hintIlluminationTooDarkText,[Fr.NORMAL]:e.hintIlluminationNormalText};if(u)return I.createElement(I.Fragment,null,I.createElement(rU,{role:"alert"},e.hintCenterFaceInstructionText),I.createElement(mU,{text:e.hintCenterFaceText,isInitial:!0}));if(n??(h||f))return null;if(!p){if(l)return a===zr.TOO_MANY?I.createElement(mU,{text:e.hintTooManyFacesText}):I.createElement(mU,{text:e.hintMoveFaceFrontOfCameraText});if(c&&!1===i)return I.createElement(mU,{text:e.hintTooCloseText});if(d)return I.createElement(iU,{displayText:e.hintConnectingText});if(m)return I.createElement(I.Fragment,null,I.createElement(rU,{"aria-live":"assertive"},e.hintCheckCompleteText),I.createElement(iU,{displayText:e.hintVerifyingText}));if(r&&r!==Fr.NORMAL)return I.createElement(mU,{text:b[r]})}if(y)return I.createElement(mU,{text:e.hintHoldFaceForFreshnessText});if(p&&!y){let t=g[zr.TOO_FAR];o===zr.MATCHED&&(t=g[o]);let n=t;return o===zr.OFF_CENTER?n=g[o]:o===zr.TOO_FAR&&s>50&&(n=e.hintMatchIndicatorText),I.createElement(aU,{size:"large",variation:"primary"},I.createElement(rU,{"aria-live":"assertive"},n),I.createElement(Qj,{"aria-label":n},t))}return null},hU=({children:e,horizontal:t="center",vertical:n="center",className:o,...r})=>I.createElement(xW,{className:`${eU.Overlay} ${o}`,alignItems:t,justifyContent:n,...r},e),yU=e=>{const{className:t,...n}=e;return I.createElement(Qj,{as:"span",width:"1em",height:"1em",className:eW(dW,t),...n},I.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z",fill:"currentColor"})))},gU=e=>{const{className:t,...n}=e;return I.createElement(Qj,{as:"span",width:"1em",height:"1em",className:eW(dW,t),...n},I.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V15H13V17ZM13 13H11V7H13V13Z",fill:"currentColor"})))},bU=e=>{const{className:t,...n}=e;return I.createElement(Qj,{as:"span",width:"1em",height:"1em",className:eW(dW,t),...n},I.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I.createElement("path",{d:"M11 7H13V9H11V7ZM11 11H13V17H11V11ZM12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z",fill:"currentColor"})))},vU=e=>{const{className:t,...n}=e;return I.createElement(Qj,{as:"span",width:"1em",height:"1em",className:eW(dW,t),...n},I.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I.createElement("path",{d:"M1 21H23L12 2L1 21ZM13 18H11V16H13V18ZM13 14H11V10H13V14Z",fill:"currentColor"})))},wU=({variation:e,ariaHidden:t,ariaLabel:n,role:o})=>{const r=PW("alert");let a;switch(e){case"info":a=r?.info??I.createElement(bU,{"aria-hidden":t,"aria-label":n,role:o});break;case"error":a=r?.error??I.createElement(gU,{"aria-hidden":t,"aria-label":n,role:o});break;case"warning":a=r?.warning??I.createElement(vU,{"aria-hidden":t,"aria-label":n,role:o});break;case"success":a=r?.success??I.createElement(yU,{"aria-hidden":t,"aria-label":n,role:o})}return a?I.createElement("span",{className:nW},a):null};wU.displayName="AlertIcon";const kU={errorLabelText:"Error",connectionTimeoutHeaderText:"Connection time out",connectionTimeoutMessageText:"Connection has timed out.",timeoutHeaderText:"Time out",timeoutMessageText:"Face didn't fit inside oval in time limit. Try again and completely fill the oval with face in it.",faceDistanceHeaderText:"Forward movement detected",faceDistanceMessageText:"Avoid moving closer when connecting.",multipleFacesHeaderText:"Multiple faces detected",multipleFacesMessageText:"Ensure only one face is present in front of the camera when connecting.",clientHeaderText:"Client error",clientMessageText:"Check failed due to client issue",serverHeaderText:"Server issue",serverMessageText:"Cannot complete check due to server issue",landscapeHeaderText:"Landscape orientation not supported",landscapeMessageText:"Rotate your device to portrait (vertical) orientation.",portraitMessageText:"Ensure your device remains in portrait (vertical) orientation for the checks duration.",tryAgainText:"Try again"},xU={cameraMinSpecificationsHeadingText:"Camera does not meet minimum specifications",cameraMinSpecificationsMessageText:"Camera must support at least 320*240 resolution and 15 frames per second.",cameraNotFoundHeadingText:"Camera is not accessible.",cameraNotFoundMessageText:"Check that a camera is connected and there is not another application using the camera. You may have to go into settings to grant camera permissions and close out all instances of your browser and retry.",a11yVideoLabelText:"Webcam for liveness check",cancelLivenessCheckText:"Cancel Liveness check",goodFitCaptionText:"Good fit",goodFitAltText:"Ilustration of a person's face, perfectly fitting inside of an oval.",hintCenterFaceText:"Center your face",hintCenterFaceInstructionText:"Instruction: Before starting the check, make sure your camera is at the center top of your screen and center your face to the camera. When the check starts an oval will show up in the center. You will be prompted to move forward into the oval and then prompted to hold still. After holding still for a few seconds, you should hear check complete.",hintFaceOffCenterText:"Face is not in the oval, center your face to the camera.",hintMoveFaceFrontOfCameraText:"Move face in front of camera",hintTooManyFacesText:"Ensure only one face is in front of camera",hintFaceDetectedText:"Face detected",hintCanNotIdentifyText:"Move face in front of camera",hintTooCloseText:"Move back",hintTooFarText:"Move closer",hintConnectingText:"Connecting...",hintVerifyingText:"Verifying...",hintCheckCompleteText:"Check complete",hintIlluminationTooBrightText:"Move to dimmer area",hintIlluminationTooDarkText:"Move to brighter area",hintIlluminationNormalText:"Lighting conditions normal",hintHoldFaceForFreshnessText:"Hold still",hintMatchIndicatorText:"50% completed. Keep moving closer.",photosensitivityWarningBodyText:"This check flashes different colors. Use caution if you are photosensitive.",photosensitivityWarningHeadingText:"Photosensitivity warning",photosensitivityWarningInfoText:"Some people may experience epileptic seizures when exposed to colored lights. Use caution if you, or anyone in your family, have an epileptic condition.",photosensitivityWarningLabelText:"More information about photosensitivity",photosensitivyWarningBodyText:"This check flashes different colors. Use caution if you are photosensitive.",photosensitivyWarningHeadingText:"Photosensitivity warning",photosensitivyWarningInfoText:"Some people may experience epileptic seizures when exposed to colored lights. Use caution if you, or anyone in your family, have an epileptic condition.",photosensitivyWarningLabelText:"More information about photosensitivity",retryCameraPermissionsText:"Retry",recordingIndicatorText:"Rec",startScreenBeginCheckText:"Start video check",tooFarCaptionText:"Too far",tooFarAltText:"Illustration of a person's face inside of an oval; there is a gap between the perimeter of the face and the boundaries of the oval.",waitingCameraPermissionText:"Waiting for you to allow camera permission.",...kU},SU=({errorState:e,overrideErrorDisplayText:t})=>{const n={...kU,...t};return e===Ur||e===Wr||e===Vr?null:(e=>{const{error:t,displayText:n}=e,{connectionTimeoutHeaderText:o,connectionTimeoutMessageText:r,errorLabelText:a,timeoutHeaderText:i,timeoutMessageText:s,faceDistanceHeaderText:l,faceDistanceMessageText:c,multipleFacesHeaderText:u,multipleFacesMessageText:p,clientHeaderText:d,clientMessageText:m,serverHeaderText:f,serverMessageText:h}=n;let y,g;switch(t){case $r:y=o,g=r;break;case Lr:y=i,g=s;break;case Hr:y=l,g=c;break;case qr:y=u,g=p;break;case Br:y=d,g=m;break;default:y=f,g=h}return I.createElement(I.Fragment,null,I.createElement(xW,{className:eU.ErrorModal},I.createElement(wU,{ariaLabel:a,role:"img",variation:"error"}),I.createElement(TW,{className:eU.ErrorModalHeading,id:"amplify-liveness-error-heading"},y)),I.createElement(TW,{id:"amplify-liveness-error-message"},g))})({error:e,displayText:n})},_U=e=>{const{children:t,onRetry:n,displayText:o}=e,r={...kU,...o},{tryAgainText:a}=r;return I.createElement(hU,{className:eU.OpaqueOverlay},I.createElement(aU,{"aria-labelledby":"amplify-liveness-error-heading","aria-describedby":"amplify-liveness-error-message",role:"alertdialog"},t,I.createElement(xW,{justifyContent:"center"},I.createElement(OW,{variation:"primary",type:"button",onClick:n},a))))},IU=e=>{const{className:t,size:n,...o}=e;return I.createElement(Qj,{as:"span",width:n??"1em",height:n??"1em",className:eW(dW,t),...o},I.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n?{width:n,height:n}:void 0},I.createElement("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"currentColor"})))},TU=({ariaLabel:e})=>{const[t,n]=QW();return t.done?null:I.createElement(OW,{autoFocus:!0,variation:"link",onClick:()=>{n({type:"CANCEL"})},size:"large",className:eU.CancelButton,"aria-label":e},I.createElement(IU,{"aria-hidden":"true","data-testid":"close-icon"}))},EU={minX:0,minY:0,width:24,height:24},NU=Zj((({className:e,as:t="svg",fill:n="currentColor",pathData:o,viewBox:r=EU,children:a,paths:i,...s},l)=>{const c=r.minX?r.minX:EU.minX,u=r.minY?r.minY:EU.minY,p=r.width?r.width:EU.width,d=r.height?r.height:EU.height;let m;return a&&(m=a),i&&(m=i.map(((e,t)=>I.createElement("path",{...e,key:t})))),o&&(m=I.createElement("path",{d:o,fill:n})),I.createElement(Qj,{as:t,className:eW(dW,e),ref:l,viewBox:`${c} ${u} ${p} ${d}`,...s},m)}));NU.displayName="Icon";const CU=({children:e})=>I.createElement(xW,{className:eU.RecordingIcon},I.createElement(xW,{"data-testid":"rec-icon",justifyContent:"center"},I.createElement(NU,{viewBox:{width:20,height:20},width:"20",height:"20"},I.createElement("circle",{cx:"10",cy:"10",r:"8",fill:"red"}))),I.createElement(TW,{as:"span",fontWeight:"bold"},e)),AU=({children:e,headingText:t,labelText:n})=>{const o=(()=>{const{breakpoints:{values:e,defaultBreakpoint:t}}=Gj();return Bj({breakpoints:e,defaultBreakpoint:t})})(),[r,a]=I.useState(!1),i=I.useRef(null),s="base"===o;return I.useEffect((()=>{function e(e){r&&i.current&&!i.current.contains(e.target)&&a(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[i,r]),I.createElement("div",{className:eU.Popover,ref:i},I.createElement(OW,{"aria-controls":"photosensitivity-description","aria-expanded":r,role:"alertdialog","aria-label":n,"aria-describedby":"photosensitivity-description",colorTheme:"info",id:"popover-button",onClick:()=>a(!r),testId:"popover-icon"},I.createElement(wU,{ariaHidden:!0,variation:"info"})),r&&I.createElement(I.Fragment,null,I.createElement(xW,{className:eU.PopoverAnchor}),I.createElement(xW,{className:eU.PopoverAnchorSecondary}),I.createElement(xW,{"aria-hidden":!r,"aria-label":t,className:eU.PopoverContainer,"data-testid":"popover-text",id:"photosensitivity-description",left:s?-190:-108,role:"alertdialog"},e)))};AU.displayName="LivenessIconWithPopover";const MU=({bodyText:e,headingText:t,infoText:n,labelText:o})=>I.createElement(xW,{className:`${tW} ${eU.StartScreenWarning}`,style:{zIndex:"3"}},I.createElement(Qj,{flex:"1"},I.createElement(Qj,{className:oW},t),I.createElement(Qj,{className:rW},e)),I.createElement(AU,{labelText:o,headingText:t},n)),OU=({recordingIndicatorText:e})=>I.createElement(Qj,{className:eU.RecordingIconContainer},I.createElement(CU,null,e)),DU=({cancelLivenessCheckText:e})=>I.createElement(Qj,{className:eU.CancelContainer},I.createElement(TU,{ariaLabel:e})),RU=e=>e.context.videoAssociatedParams?.videoConstraints,FU=e=>e.context.videoAssociatedParams?.videoMediaStream,zU=e=>e.context.faceMatchAssociatedParams?.faceMatchPercentage,PU=e=>e.context.faceMatchAssociatedParams?.faceMatchState,$U=e=>e.context.videoAssociatedParams?.selectedDeviceId,LU=e=>e.context.videoAssociatedParams?.selectableDevices,BU=I.createElement(AW,{size:"large",className:eU.Loader,"data-testid":"centered-loader"}),jU=[zr.TOO_FAR,zr.CANT_IDENTIFY,zr.FACE_IDENTIFIED,zr.OFF_CENTER],WU=I.memo((({percentage:e,initialPercentage:t=25,testId:n})=>{const[o,r]=I.useState(t);I.useEffect((()=>{r(e<0?0:e>100?100:e)}),[e]);const a={"--percentage":`${o}%`};return I.createElement("div",{className:eU.MatchIndicator,"data-testid":n},I.createElement("div",{className:`${eU.MatchIndicator}__bar`,style:a,role:"progressbar","aria-label":"MatchIndicator","aria-valuenow":e,"aria-valuetext":`${e}% face fit`}))})),UU=e=>{const{isMobileScreen:t,isRecordingStopped:n,instructionDisplayText:o,streamDisplayText:r,hintDisplayText:a,errorDisplayText:i,cameraDisplayText:s,components:l,testId:c}=e,{cancelLivenessCheckText:u,recordingIndicatorText:p}=r,{ErrorView:d=_U,PhotosensitiveWarning:m=MU}=l??{},[f,h]=QW(),y=oU(FU),g=oU(RU),b=oU($U),v=oU(LU),w=oU(zU),k=oU(PU),x=oU(sU),S=I.useContext(qj).colorMode,{videoRef:_,videoWidth:T,videoHeight:E}=function(e){const t=oj.height.ideal,n=oj.width.ideal,o=(0,I.useRef)(null),[r,a]=(0,I.useState)(t),[i,s]=(0,I.useState)(n);return(0,I.useEffect)((()=>{if(e){pj(o.current)&&(o.current.srcObject=e);const{height:t,width:n}=e.getTracks()[0].getSettings();a(t),s(n)}return()=>{e&&e.getTracks().forEach((t=>{e.removeTrack(t),t.stop()}))}}),[e]),{videoRef:o,videoHeight:r,videoWidth:i}}(y),N=(0,I.useRef)(null),C=(0,I.useRef)(null),[A,M]=(0,I.useState)(!1),O=f.matches("cameraCheck"),D=f.matches("waitForDOMAndCameraDetails"),R=f.matches("start")||f.matches("userCancel"),F=f.matches("detectFaceBeforeStart"),z=f.matches("recording"),P=f.matches("checkSucceeded"),$=f.matches({recording:"flashFreshnessColors"}),[L,B]=(0,I.useState)(T),[j,W]=(0,I.useState)(E),[U,H]=(0,I.useState)((()=>T&&E?T/E:0));I.useEffect((()=>{N?.current&&_?.current&&y&&R&&ia(N.current,_.current,y)}),[N,_,y,S,R]),I.useEffect((()=>{const e=e=>{e.matches&&N?.current&&_?.current&&y&&R&&ia(N.current,_.current,y)},t=window.matchMedia("(prefers-color-scheme: dark)"),n=window.matchMedia("(prefers-color-scheme: light)");return t.addEventListener("change",e),n.addEventListener("change",e),()=>{t.removeEventListener("change",e),n.addEventListener("change",e)}}),[N,_,y,R]),I.useLayoutEffect((()=>{A&&h({type:"SET_DOM_AND_CAMERA_DETAILS",data:{videoEl:_.current,canvasEl:N.current,freshnessColorEl:C.current,isMobile:t}}),_.current&&(B(_.current.videoWidth),W(_.current.videoHeight),H(_.current.videoWidth/_.current.videoHeight))}),[h,_,A,t]),I.useEffect((()=>{F&&function({canvas:e}){const t=e.getContext("2d");if(!t)throw new Error("Cannot find Canvas.");t.restore(),t.clearRect(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER)}({canvas:N.current})}),[F]);const V=I.useMemo((()=>I.createElement(Qj,{style:{visibility:R?"visible":"hidden"}},I.createElement(m,{bodyText:o.photosensitivityWarningBodyText,headingText:o.photosensitivityWarningHeadingText,infoText:o.photosensitivityWarningInfoText,labelText:o.photosensitivityWarningLabelText}))),[m,o,R]),q=I.useCallback((()=>{h({type:"BEGIN"})}),[h]),G=I.useCallback((e=>{const t=e.target.value;(async()=>{const e=await navigator.mediaDevices.getUserMedia({video:{...g,deviceId:{exact:t}},audio:!1});h({type:"UPDATE_DEVICE_AND_STREAM",data:{newDeviceId:t,newStream:e}})})()}),[g,h]);if(O)return I.createElement(xW,{justifyContent:"center",className:eU.StartScreenCameraWaiting},I.createElement(AW,{size:"large",className:eU.Loader,"data-testid":"centered-loader",position:"unset"}),I.createElement(TW,{fontSize:"large",fontWeight:"bold","data-testid":"waiting-camera-permission",className:`${eU.StartScreenCameraWaiting}__text`},s.waitingCameraPermissionText));const K=t&&!R&&!D;return I.createElement(I.Fragment,null,V,I.createElement(xW,{className:eW(eU.CameraModule,K&&`${eU.CameraModule}--mobile`),"data-testid":c,gap:"zero"},!A&&BU,I.createElement(hU,{horizontal:"center",vertical:z&&!$?"start":"space-between",className:eU.InstructionOverlay},z&&I.createElement(OU,{recordingIndicatorText:p}),!R&&!D&&!P&&I.createElement(DU,{cancelLivenessCheckText:u}),I.createElement(xW,{className:eW(eU.Hint,K&&`${eU.Hint}--mobile`)},I.createElement(fU,{hintDisplayText:a})),x&&I.createElement(d,{onRetry:()=>{h({type:"CANCEL"})},displayText:i},SU({errorState:x,overrideErrorDisplayText:i})),z&&!$&&jU.includes(k)?I.createElement(WU,{percentage:Math.ceil(w)}):null),I.createElement(Qj,{as:"canvas",ref:C,className:eU.FreshnessCanvas,hidden:!0}),I.createElement(Qj,{className:eU.VideoAnchor,style:{aspectRatio:`${U}`}},I.createElement("video",{ref:_,muted:!0,autoPlay:!0,playsInline:!0,width:L,height:j,onCanPlay:()=>{M(!0)},"data-testid":"video",className:eU.Video,"aria-label":s.a11yVideoLabelText}),I.createElement(xW,{className:eW(eU.OvalCanvas,K&&`${eU.OvalCanvas}--mobile`,n&&eU.FadeOut)},I.createElement(Qj,{as:"canvas",ref:N})),R&&!t&&v&&v.length>1&&I.createElement(xW,{className:eU.StartScreenCameraSelect},I.createElement(Qj,{className:eU.StartScreenCameraSelectContainer},I.createElement(DW,{htmlFor:"amplify-liveness-camera-select",className:`${eU.StartScreenCameraSelect}__label`},"Camera:"),I.createElement(VW,{id:"amplify-liveness-camera-select",label:"Camera",labelHidden:!0,value:b,onChange:G},v?.map((e=>I.createElement("option",{value:e.deviceId,key:e.deviceId},e.label)))))))),R&&I.createElement(xW,{justifyContent:"center"},I.createElement(OW,{variation:"primary",type:"button",onClick:q},o.startScreenBeginCheckText)))},HU=e=>{const{onRetry:t,header:n,portraitMessage:o,landscapeMessage:r,tryAgainText:a}=e,[i,s]=I.useState(!0);return I.useLayoutEffect((()=>{const e=fz();return s(e.matches),e.addEventListener("change",(e=>{s(e.matches)})),()=>{e.removeEventListener("change",(e=>s(e.matches)))}}),[]),I.createElement(xW,{className:eU.LandscapeErrorModal,height:i?"auto":480},I.createElement(TW,{className:eU.LandscapeErrorModalHeader},n),I.createElement(TW,null,i?r:o),i?null:I.createElement(xW,{className:eU.LandscapeErrorModalButton},I.createElement(OW,{variation:"primary",type:"button",onClick:t},a)))},VU="liveness-detector-check",qU=e=>e.context.isRecordingStopped,GU=({instructionDisplayText:e,hintDisplayText:t,cameraDisplayText:n,streamDisplayText:o,errorDisplayText:r,components:a})=>{const[i,s]=QW(),l=oU(sU),c=oU(qU),u=i.matches("permissionDenied"),p=mz(),d=()=>{s({type:"RETRY_CAMERA_CHECK"})},{cameraMinSpecificationsHeadingText:m,cameraMinSpecificationsMessageText:f,cameraNotFoundHeadingText:h,cameraNotFoundMessageText:y,retryCameraPermissionsText:g}=n,{cancelLivenessCheckText:b}=o;I.useLayoutEffect((()=>{if(p){const e=e=>{e&&s({type:"MOBILE_LANDSCAPE_WARNING"})},t=fz();return e(t.matches),t.addEventListener("change",(t=>{e(t.matches)})),()=>{t.removeEventListener("change",(t=>e(t.matches)))}}}),[p,s]);return I.createElement(xW,{direction:"column",position:"relative",testId:VU,className:VU,gap:"xl"},(()=>{if(l===Vr){const e={...kU,...r},{landscapeHeaderText:t,portraitMessageText:n,landscapeMessageText:o,tryAgainText:a}=e;return I.createElement(xW,{backgroundColor:"background.primary",direction:"column",textAlign:"center",alignItems:"center",justifyContent:"center",position:"absolute",width:"100%"},I.createElement(HU,{header:t,portraitMessage:n,landscapeMessage:o,tryAgainText:a,onRetry:()=>{s({type:"CANCEL"})}}))}return u?I.createElement(xW,{backgroundColor:"background.primary",direction:"column",textAlign:"center",alignItems:"center",justifyContent:"center",width:"100%",height:480},I.createElement(TW,{fontSize:"large",fontWeight:"bold"},l===Wr?m:h),I.createElement(TW,{maxWidth:420},l===Wr?f:y),I.createElement(OW,{variation:"primary",type:"button",onClick:d},g),I.createElement(Qj,{position:"absolute",top:"medium",right:"medium"},I.createElement(TU,{ariaLabel:b}))):I.createElement(UU,{isMobileScreen:p,isRecordingStopped:c,instructionDisplayText:e,streamDisplayText:o,hintDisplayText:t,errorDisplayText:r,cameraDisplayText:n,components:a})})())};function KU(e){const t=function(e){const t=(t,n)=>e[t]&&e[t]!==xU[t]?e[t]:e[n]&&e[n]!==xU[t]?e[n]:xU[t];return{photosensitivityWarningBodyText:t("photosensitivityWarningBodyText","photosensitivyWarningBodyText"),photosensitivityWarningHeadingText:t("photosensitivityWarningHeadingText","photosensitivyWarningHeadingText"),photosensitivityWarningInfoText:t("photosensitivityWarningInfoText","photosensitivyWarningInfoText"),photosensitivityWarningLabelText:t("photosensitivityWarningLabelText","photosensitivyWarningLabelText")}}(e??{}),n={...xU,...e,...t},{a11yVideoLabelText:o,cameraMinSpecificationsHeadingText:r,cameraMinSpecificationsMessageText:a,cameraNotFoundHeadingText:i,cameraNotFoundMessageText:s,cancelLivenessCheckText:l,connectionTimeoutHeaderText:c,connectionTimeoutMessageText:u,clientHeaderText:p,clientMessageText:d,errorLabelText:m,hintCanNotIdentifyText:f,hintCenterFaceText:h,hintCenterFaceInstructionText:y,hintFaceOffCenterText:g,hintConnectingText:b,hintFaceDetectedText:v,hintHoldFaceForFreshnessText:w,hintIlluminationNormalText:k,hintIlluminationTooBrightText:x,hintIlluminationTooDarkText:S,hintMoveFaceFrontOfCameraText:_,hintTooManyFacesText:I,hintTooCloseText:T,hintTooFarText:E,hintVerifyingText:N,hintCheckCompleteText:C,hintMatchIndicatorText:A,faceDistanceHeaderText:M,faceDistanceMessageText:O,goodFitCaptionText:D,goodFitAltText:R,landscapeHeaderText:F,landscapeMessageText:z,multipleFacesHeaderText:P,multipleFacesMessageText:$,photosensitivityWarningBodyText:L,photosensitivityWarningHeadingText:B,photosensitivityWarningInfoText:j,photosensitivityWarningLabelText:W,photosensitivyWarningBodyText:U,photosensitivyWarningHeadingText:H,photosensitivyWarningInfoText:V,photosensitivyWarningLabelText:q,portraitMessageText:G,retryCameraPermissionsText:K,recordingIndicatorText:Y,serverHeaderText:X,serverMessageText:J,startScreenBeginCheckText:Z,timeoutHeaderText:Q,timeoutMessageText:ee,tooFarCaptionText:te,tooFarAltText:ne,tryAgainText:oe,waitingCameraPermissionText:re}=n;return{hintDisplayText:{hintMoveFaceFrontOfCameraText:_,hintTooManyFacesText:I,hintFaceDetectedText:v,hintCanNotIdentifyText:f,hintTooCloseText:T,hintTooFarText:E,hintConnectingText:b,hintVerifyingText:N,hintCheckCompleteText:C,hintIlluminationTooBrightText:x,hintIlluminationTooDarkText:S,hintIlluminationNormalText:k,hintHoldFaceForFreshnessText:w,hintCenterFaceText:h,hintCenterFaceInstructionText:y,hintFaceOffCenterText:g,hintMatchIndicatorText:A},cameraDisplayText:{cameraMinSpecificationsHeadingText:r,cameraMinSpecificationsMessageText:a,cameraNotFoundHeadingText:i,cameraNotFoundMessageText:s,retryCameraPermissionsText:K,waitingCameraPermissionText:re,a11yVideoLabelText:o},instructionDisplayText:{photosensitivityWarningBodyText:L,photosensitivityWarningHeadingText:B,photosensitivityWarningInfoText:j,photosensitivityWarningLabelText:W,photosensitivyWarningBodyText:U,photosensitivyWarningHeadingText:H,photosensitivyWarningInfoText:V,photosensitivyWarningLabelText:q,goodFitCaptionText:D,goodFitAltText:R,tooFarCaptionText:te,tooFarAltText:ne,startScreenBeginCheckText:Z},streamDisplayText:{cancelLivenessCheckText:l,recordingIndicatorText:Y},errorDisplayText:{connectionTimeoutHeaderText:c,connectionTimeoutMessageText:u,errorLabelText:m,timeoutHeaderText:Q,timeoutMessageText:ee,faceDistanceHeaderText:M,faceDistanceMessageText:O,multipleFacesHeaderText:P,multipleFacesMessageText:$,clientHeaderText:p,clientMessageText:d,serverHeaderText:X,serverMessageText:J,landscapeHeaderText:F,landscapeMessageText:z,portraitMessageText:G,tryAgainText:oe}}}const YU="liveness-detector";function XU(e){const{components:t,config:n,displayText:o}=e,r=I.useRef(null),{hintDisplayText:a,cameraDisplayText:i,instructionDisplayText:s,streamDisplayText:l,errorDisplayText:c}=KU(o),u=Ir(lj,{devTools:!1,context:{componentProps:{...e,config:n??{}}}});return I.createElement(Qj,{className:YU,testId:YU},I.createElement(_W,{componentProps:e,service:u},I.createElement(xW,{direction:"column",ref:r},I.createElement(GU,{instructionDisplayText:s,hintDisplayText:a,cameraDisplayText:i,streamDisplayText:l,errorDisplayText:c,components:t}))))}var JU=i(5072),ZU=i.n(JU),QU=i(7825),eH=i.n(QU),tH=i(7659),nH=i.n(tH),oH=i(5056),rH=i.n(oH),aH=i(540),iH=i.n(aH),sH=i(1113),lH=i.n(sH),cH=i(158),uH={};uH.styleTagTransform=lH(),uH.setAttributes=rH(),uH.insert=nH().bind(null,"head"),uH.domAPI=eH(),uH.insertStyleElement=iH();ZU()(cH.A,uH);cH.A&&cH.A.locals&&cH.A.locals;const pH=(0,I.createContext)(void 0),dH=e=>{const{dir:t,children:n}=e;return(0,I.createElement)(pH.Provider,{value:t},n)};function mH(e){const t=(0,I.useContext)(pH);return e||t||"ltr"}const fH=dH,{DirectionProvider:hH}=(e=>{const t={default:void 0,...e};return t.default??t})(_);function yH({children:e,colorMode:t,direction:n="ltr",nonce:o,theme:r}){const a=I.useMemo((()=>({theme:Vj(r),colorMode:t})),[r,t]),{theme:{name:i,cssText:s}}=a;return I.createElement(qj.Provider,{value:a},I.createElement(hH,{dir:n},I.createElement("div",{"data-amplify-theme":i,"data-amplify-color-mode":t,dir:n},e),void 0===r||/<\/style/i.test(s)?null:I.createElement("style",{id:`amplify-theme-${i}`,dangerouslySetInnerHTML:{__html:s},nonce:o})))}function gH(e){var{sessionId:t,region:n,credentialProvider:o,onAnalysisComplete:r,onError:a,disableStartScreen:i,onUserCancel:s}=e.configuration,{components:l,displayText:c,theme:u}=e.customization;return console.log(o,{credentialProvider:o}),E().createElement(yH,{theme:u},E().createElement(XU,{sessionId:t,onAnalysisComplete:r,region:n,config:{credentialProvider:o},components:l,displayText:c,onError:a,disableStartScreen:i,onUserCancel:s}))}function bH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function vH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wH(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}Sn.configure({});var kH=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function i(e){wH(a,o,r,i,s,"next",e)}function s(e){wH(a,o,r,i,s,"throw",e)}i(void 0)}))}}((function*(){return Promise.resolve({accessKeyId:"ASIAW25I73GTSYZHLOE2",secretAccessKey:"1j6frbkiKooNOX/m54Ca8Zkv1PPCVn73wMcNIy3z",sessionToken:"IQoJb3JpZ2luX2VjEPH//////////wEaCmFwLXNvdXRoLTEiRzBFAiAQZCm1htckQ9WzrqNkEvnr8GTq2pHdBgLK8SqIs3aGWQIhAPsujtnQR6iNKWW+GKzXpSij6IHXtTyttCqKb5YEDZNRKroCCOr//////////wEQBRoMNDcwMTE2NDU2ODcxIgx/8oaEw4LjGJYrkjAqjgK4WOvxJnKGBPHNC2rsno22NMCGKzrcWLaXphmBjX0Z5IKolwOzUMuF0vxCRvt00vGGAKFo0DvAj2qwpEdpqEStl8oOcNmmnncKt3VeCBEzBYEpBJ51eoliES9QNj9l9QDfUEQIokfUKSig1f3/tqtdgKZhpfjaPOLBlWu3608nikd5KXRQSoCJ0PRUKM1Cyehjs93Qj+qYu7cTBoGbrrBXMadTM/q+wyp185t76sJkVapCNlAQRz88smIyR1WO9ynef6IEMl6hHur0WavDfbeHvfsOkY2E9hvohf92U0+XJ28muJGkt9npNKIpXE6OvYj42vlLMvGUqhXB6odH/fDs2Ge/iS7i9/YTsjcOVjgwj7P8tQY6nQEs6JTiI1pPWzeN8HccZ6rRjN621e11Ot55f2Qhc5UoRTw5L32XbNlYlGfxJHdgNDAz35dgItlq/gsum5w0wBd9X5nljdWJZ3tQ2E3NY8kw0I6tZjOuNszFq1T69jkN877Vd06gCvNBqkB4qWAPPGKmHOJMfvutnqisIiYQFf0LUXjcBgMNkgpTthIc141lTWMeLVryJxlHAk77sjp7"})}));return function(){return e.apply(this,arguments)}}(),xH={sessionId:"c64e59a6-a593-4ece-b8b3-6346f5cffd69",region:"ap-south-1",credentialProvider:kH,onError:e=>{console.log(e)},onUserCancel:()=>{console.log("User cancelled")},onAnalysisComplete:function(){throw new Error("Function not implemented.")}},SH={},_H=e=>{var{sessionId:t,credentialProvider:n}=e,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bH(Object(n),!0).forEach((function(t){vH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},xH);o.credentialProvider=n,o.sessionId=t,console.log("Calling with provided confiuration,",t,n),C().render(E().createElement(gH,{configuration:o,customization:SH}),document.getElementById("root"))};!function(global){global.shin=global.shin||{},global.shin.renderLiveness=_H,global.shin}("undefined"!=typeof window?window:void 0);const IH=_H})(),s=s.default})()));